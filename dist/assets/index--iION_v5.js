var W6=Object.defineProperty;var z6=(t,e,r)=>e in t?W6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zt=(t,e,r)=>z6(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var q6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var i3={exports:{}},V1={},a3={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=Symbol.for("react.element"),Y6=Symbol.for("react.portal"),J6=Symbol.for("react.fragment"),Z6=Symbol.for("react.strict_mode"),eI=Symbol.for("react.profiler"),tI=Symbol.for("react.provider"),rI=Symbol.for("react.context"),nI=Symbol.for("react.forward_ref"),iI=Symbol.for("react.suspense"),aI=Symbol.for("react.memo"),oI=Symbol.for("react.lazy"),nx=Symbol.iterator;function sI(t){return t===null||typeof t!="object"?null:(t=nx&&t[nx]||t["@@iterator"],typeof t=="function"?t:null)}var o3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s3=Object.assign,A3={};function qc(t,e,r){this.props=t,this.context=e,this.refs=A3,this.updater=r||o3}qc.prototype.isReactComponent={};qc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l3(){}l3.prototype=qc.prototype;function Mm(t,e,r){this.props=t,this.context=e,this.refs=A3,this.updater=r||o3}var Hm=Mm.prototype=new l3;Hm.constructor=Mm;s3(Hm,qc.prototype);Hm.isPureReactComponent=!0;var ix=Array.isArray,c3=Object.prototype.hasOwnProperty,Km={current:null},u3={key:!0,ref:!0,__self:!0,__source:!0};function f3(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)c3.call(e,n)&&!u3.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var A=Array(s),l=0;l<s;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:cd,type:t,key:a,ref:o,props:i,_owner:Km.current}}function AI(t,e){return{$$typeof:cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===cd}function lI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ax=/\/+/g;function og(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lI(""+t.key):e.toString(36)}function m0(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cd:case Y6:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+og(o,0):n,ix(i)?(r="",t!=null&&(r=t.replace(ax,"$&/")+"/"),m0(i,e,r,"",function(l){return l})):i!=null&&(Vm(i)&&(i=AI(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ax,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",ix(t))for(var s=0;s<t.length;s++){a=t[s];var A=n+og(a,s);o+=m0(a,e,r,A,i)}else if(A=sI(t),typeof A=="function")for(t=A.call(t),s=0;!(a=t.next()).done;)a=a.value,A=n+og(a,s++),o+=m0(a,e,r,A,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ah(t,e,r){if(t==null)return t;var n=[],i=0;return m0(t,n,"","",function(a){return e.call(r,a,i++)}),n}function cI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var di={current:null},w0={transition:null},uI={ReactCurrentDispatcher:di,ReactCurrentBatchConfig:w0,ReactCurrentOwner:Km};function d3(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:ah,forEach:function(t,e,r){ah(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ah(t,function(){e++}),e},toArray:function(t){return ah(t,function(e){return e})||[]},only:function(t){if(!Vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ft.Component=qc;Ft.Fragment=J6;Ft.Profiler=eI;Ft.PureComponent=Mm;Ft.StrictMode=Z6;Ft.Suspense=iI;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uI;Ft.act=d3;Ft.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=s3({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Km.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(A in e)c3.call(e,A)&&!u3.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&s!==void 0?s[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){s=Array(A);for(var l=0;l<A;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:cd,type:t.type,key:i,ref:a,props:n,_owner:o}};Ft.createContext=function(t){return t={$$typeof:rI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tI,_context:t},t.Consumer=t};Ft.createElement=f3;Ft.createFactory=function(t){var e=f3.bind(null,t);return e.type=t,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(t){return{$$typeof:nI,render:t}};Ft.isValidElement=Vm;Ft.lazy=function(t){return{$$typeof:oI,_payload:{_status:-1,_result:t},_init:cI}};Ft.memo=function(t,e){return{$$typeof:aI,type:t,compare:e===void 0?null:e}};Ft.startTransition=function(t){var e=w0.transition;w0.transition={};try{t()}finally{w0.transition=e}};Ft.unstable_act=d3;Ft.useCallback=function(t,e){return di.current.useCallback(t,e)};Ft.useContext=function(t){return di.current.useContext(t)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(t){return di.current.useDeferredValue(t)};Ft.useEffect=function(t,e){return di.current.useEffect(t,e)};Ft.useId=function(){return di.current.useId()};Ft.useImperativeHandle=function(t,e,r){return di.current.useImperativeHandle(t,e,r)};Ft.useInsertionEffect=function(t,e){return di.current.useInsertionEffect(t,e)};Ft.useLayoutEffect=function(t,e){return di.current.useLayoutEffect(t,e)};Ft.useMemo=function(t,e){return di.current.useMemo(t,e)};Ft.useReducer=function(t,e,r){return di.current.useReducer(t,e,r)};Ft.useRef=function(t){return di.current.useRef(t)};Ft.useState=function(t){return di.current.useState(t)};Ft.useSyncExternalStore=function(t,e,r){return di.current.useSyncExternalStore(t,e,r)};Ft.useTransition=function(){return di.current.useTransition()};Ft.version="18.3.1";a3.exports=Ft;var Y=a3.exports;const Ac=X6(Y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI=Y,dI=Symbol.for("react.element"),hI=Symbol.for("react.fragment"),pI=Object.prototype.hasOwnProperty,gI=fI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vI={key:!0,ref:!0,__self:!0,__source:!0};function h3(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)pI.call(e,n)&&!vI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:dI,type:t,key:a,ref:o,props:i,_owner:gI.current}}V1.Fragment=hI;V1.jsx=h3;V1.jsxs=h3;i3.exports=V1;var d=i3.exports,Q2={},p3={exports:{}},qi={},g3={exports:{}},v3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,ae){var ve=J.length;J.push(ae);e:for(;0<ve;){var pe=ve-1>>>1,k=J[pe];if(0<i(k,ae))J[pe]=ae,J[ve]=k,ve=pe;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ae=J[0],ve=J.pop();if(ve!==ae){J[0]=ve;e:for(var pe=0,k=J.length,W=k>>>1;pe<W;){var G=2*(pe+1)-1,Z=J[G],te=G+1,oe=J[te];if(0>i(Z,ve))te<k&&0>i(oe,Z)?(J[pe]=oe,J[te]=ve,pe=te):(J[pe]=Z,J[G]=ve,pe=G);else if(te<k&&0>i(oe,ve))J[pe]=oe,J[te]=ve,pe=te;else break e}}return ae}function i(J,ae){var ve=J.sortIndex-ae.sortIndex;return ve!==0?ve:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var A=[],l=[],c=1,u=null,h=3,f=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(J){for(var ae=r(l);ae!==null;){if(ae.callback===null)n(l);else if(ae.startTime<=J)n(l),ae.sortIndex=ae.expirationTime,e(A,ae);else break;ae=r(l)}}function _(J){if(y=!1,x(J),!g)if(r(A)!==null)g=!0,le(I);else{var ae=r(l);ae!==null&&ce(_,ae.startTime-J)}}function I(J,ae){g=!1,y&&(y=!1,m(D),D=-1),f=!0;var ve=h;try{for(x(ae),u=r(A);u!==null&&(!(u.expirationTime>ae)||J&&!S());){var pe=u.callback;if(typeof pe=="function"){u.callback=null,h=u.priorityLevel;var k=pe(u.expirationTime<=ae);ae=t.unstable_now(),typeof k=="function"?u.callback=k:u===r(A)&&n(A),x(ae)}else n(A);u=r(A)}if(u!==null)var W=!0;else{var G=r(l);G!==null&&ce(_,G.startTime-ae),W=!1}return W}finally{u=null,h=ve,f=!1}}var L=!1,U=null,D=-1,T=5,H=-1;function S(){return!(t.unstable_now()-H<T)}function O(){if(U!==null){var J=t.unstable_now();H=J;var ae=!0;try{ae=U(!0,J)}finally{ae?j():(L=!1,U=null)}}else L=!1}var j;if(typeof w=="function")j=function(){w(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=O,j=function(){ie.postMessage(null)}}else j=function(){b(O,0)};function le(J){U=J,L||(L=!0,j())}function ce(J,ae){D=b(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,le(I))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(J){switch(h){case 1:case 2:case 3:var ae=3;break;default:ae=h}var ve=h;h=ae;try{return J()}finally{h=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ve=h;h=J;try{return ae()}finally{h=ve}},t.unstable_scheduleCallback=function(J,ae,ve){var pe=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?pe+ve:pe):ve=pe,J){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ve+k,J={id:c++,callback:ae,priorityLevel:J,startTime:ve,expirationTime:k,sortIndex:-1},ve>pe?(J.sortIndex=ve,e(l,J),r(A)===null&&J===r(l)&&(y?(m(D),D=-1):y=!0,ce(_,ve-pe))):(J.sortIndex=k,e(A,J),g||f||(g=!0,le(I))),J},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(J){var ae=h;return function(){var ve=h;h=ae;try{return J.apply(this,arguments)}finally{h=ve}}}})(v3);g3.exports=v3;var mI=g3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI=Y,zi=mI;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m3=new Set,Df={};function yl(t,e){Pc(t,e),Pc(t+"Capture",e)}function Pc(t,e){for(Df[t]=e,t=0;t<e.length;t++)m3.add(e[t])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R2=Object.prototype.hasOwnProperty,yI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ox={},sx={};function xI(t){return R2.call(sx,t)?!0:R2.call(ox,t)?!1:yI.test(t)?sx[t]=!0:(ox[t]=!0,!1)}function BI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bI(t,e,r,n){if(e===null||typeof e>"u"||BI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hi(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gm=/[\-:]([a-z])/g;function $m(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gm,$m);Gn[e]=new hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gm,$m);Gn[e]=new hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gm,$m);Gn[e]=new hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new hi(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wm(t,e,r,n){var i=Gn.hasOwnProperty(e)?Gn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bI(e,r,i,n)&&(r=null),n||i===null?xI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ss=wI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oh=Symbol.for("react.element"),lc=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),zm=Symbol.for("react.strict_mode"),j2=Symbol.for("react.profiler"),w3=Symbol.for("react.provider"),y3=Symbol.for("react.context"),qm=Symbol.for("react.forward_ref"),M2=Symbol.for("react.suspense"),H2=Symbol.for("react.suspense_list"),Xm=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),x3=Symbol.for("react.offscreen"),Ax=Symbol.iterator;function Du(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var Pr=Object.assign,sg;function ef(t){if(sg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sg=e&&e[1]||""}return`
`+sg+t}var Ag=!1;function lg(t,e){if(!t||Ag)return"";Ag=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var A=`
`+i[o].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=o&&0<=s);break}}}finally{Ag=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ef(t):""}function CI(t){switch(t.tag){case 5:return ef(t.type);case 16:return ef("Lazy");case 13:return ef("Suspense");case 19:return ef("SuspenseList");case 0:case 2:case 15:return t=lg(t.type,!1),t;case 11:return t=lg(t.type.render,!1),t;case 1:return t=lg(t.type,!0),t;default:return""}}function K2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cc:return"Fragment";case lc:return"Portal";case j2:return"Profiler";case zm:return"StrictMode";case M2:return"Suspense";case H2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y3:return(t.displayName||"Context")+".Consumer";case w3:return(t._context.displayName||"Context")+".Provider";case qm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xm:return e=t.displayName||null,e!==null?e:K2(t.type)||"Memo";case Ds:e=t._payload,t=t._init;try{return K2(t(e))}catch{}}return null}function _I(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K2(e);case 8:return e===zm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sA(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EI(t){var e=B3(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sh(t){t._valueTracker||(t._valueTracker=EI(t))}function b3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=B3(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function V2(t,e){var r=e.checked;return Pr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function lx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=sA(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C3(t,e){e=e.checked,e!=null&&Wm(t,"checked",e,!1)}function G2(t,e){C3(t,e);var r=sA(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$2(t,e.type,r):e.hasOwnProperty("defaultValue")&&$2(t,e.type,sA(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $2(t,e,r){(e!=="number"||$0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var tf=Array.isArray;function _c(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+sA(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function W2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Pr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ux(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(tf(r)){if(1<r.length)throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:sA(r)}}function _3(t,e){var r=sA(e.value),n=sA(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function fx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ah,S3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ah=Ah||document.createElement("div"),Ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SI=["Webkit","ms","Moz","O"];Object.keys(vf).forEach(function(t){SI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vf[e]=vf[t]})});function I3(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||vf.hasOwnProperty(t)&&vf[t]?(""+e).trim():e+"px"}function F3(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=I3(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var II=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function q2(t,e){if(e){if(II[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function X2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y2=null;function Ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var J2=null,Ec=null,Sc=null;function dx(t){if(t=dd(t)){if(typeof J2!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=q1(e),J2(t.stateNode,t.type,e))}}function N3(t){Ec?Sc?Sc.push(t):Sc=[t]:Ec=t}function U3(){if(Ec){var t=Ec,e=Sc;if(Sc=Ec=null,dx(t),e)for(t=0;t<e.length;t++)dx(e[t])}}function T3(t,e){return t(e)}function L3(){}var cg=!1;function O3(t,e,r){if(cg)return t(e,r);cg=!0;try{return T3(t,e,r)}finally{cg=!1,(Ec!==null||Sc!==null)&&(L3(),U3())}}function Qf(t,e){var r=t.stateNode;if(r===null)return null;var n=q1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var Z2=!1;if(ts)try{var Pu={};Object.defineProperty(Pu,"passive",{get:function(){Z2=!0}}),window.addEventListener("test",Pu,Pu),window.removeEventListener("test",Pu,Pu)}catch{Z2=!1}function FI(t,e,r,n,i,a,o,s,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var mf=!1,W0=null,z0=!1,ev=null,NI={onError:function(t){mf=!0,W0=t}};function UI(t,e,r,n,i,a,o,s,A){mf=!1,W0=null,FI.apply(NI,arguments)}function TI(t,e,r,n,i,a,o,s,A){if(UI.apply(this,arguments),mf){if(mf){var l=W0;mf=!1,W0=null}else throw Error(Le(198));z0||(z0=!0,ev=l)}}function xl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function k3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hx(t){if(xl(t)!==t)throw Error(Le(188))}function LI(t){var e=t.alternate;if(!e){if(e=xl(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return hx(i),t;if(a===n)return hx(i),e;a=a.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function D3(t){return t=LI(t),t!==null?P3(t):null}function P3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P3(t);if(e!==null)return e;t=t.sibling}return null}var Q3=zi.unstable_scheduleCallback,px=zi.unstable_cancelCallback,OI=zi.unstable_shouldYield,kI=zi.unstable_requestPaint,Yr=zi.unstable_now,DI=zi.unstable_getCurrentPriorityLevel,Jm=zi.unstable_ImmediatePriority,R3=zi.unstable_UserBlockingPriority,q0=zi.unstable_NormalPriority,PI=zi.unstable_LowPriority,j3=zi.unstable_IdlePriority,G1=null,go=null;function QI(t){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(G1,t,void 0,(t.current.flags&128)===128)}catch{}}var Ha=Math.clz32?Math.clz32:MI,RI=Math.log,jI=Math.LN2;function MI(t){return t>>>=0,t===0?32:31-(RI(t)/jI|0)|0}var lh=64,ch=4194304;function rf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function X0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=rf(s):(a&=o,a!==0&&(n=rf(a)))}else o=r&~i,o!==0?n=rf(o):a!==0&&(n=rf(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ha(e),i=1<<r,n|=t[r],e&=~i;return n}function HI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Ha(a),s=1<<o,A=i[o];A===-1?(!(s&r)||s&n)&&(i[o]=HI(s,e)):A<=e&&(t.expiredLanes|=s),a&=~s}}function tv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M3(){var t=lh;return lh<<=1,!(lh&4194240)&&(lh=64),t}function ug(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ud(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ha(e),t[e]=r}function VI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ha(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Zm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ha(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var rr=0;function H3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K3,ew,V3,G3,$3,rv=!1,uh=[],qs=null,Xs=null,Ys=null,Rf=new Map,jf=new Map,js=[],GI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gx(t,e){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Rf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(e.pointerId)}}function Qu(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=dd(e),e!==null&&ew(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $I(t,e,r,n,i){switch(e){case"focusin":return qs=Qu(qs,t,e,r,n,i),!0;case"dragenter":return Xs=Qu(Xs,t,e,r,n,i),!0;case"mouseover":return Ys=Qu(Ys,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Rf.set(a,Qu(Rf.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,jf.set(a,Qu(jf.get(a)||null,t,e,r,n,i)),!0}return!1}function W3(t){var e=tl(t.target);if(e!==null){var r=xl(e);if(r!==null){if(e=r.tag,e===13){if(e=k3(r),e!==null){t.blockedOn=e,$3(t.priority,function(){V3(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function y0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Y2=n,r.target.dispatchEvent(n),Y2=null}else return e=dd(r),e!==null&&ew(e),t.blockedOn=r,!1;e.shift()}return!0}function vx(t,e,r){y0(t)&&r.delete(e)}function WI(){rv=!1,qs!==null&&y0(qs)&&(qs=null),Xs!==null&&y0(Xs)&&(Xs=null),Ys!==null&&y0(Ys)&&(Ys=null),Rf.forEach(vx),jf.forEach(vx)}function Ru(t,e){t.blockedOn===e&&(t.blockedOn=null,rv||(rv=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,WI)))}function Mf(t){function e(i){return Ru(i,t)}if(0<uh.length){Ru(uh[0],t);for(var r=1;r<uh.length;r++){var n=uh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qs!==null&&Ru(qs,t),Xs!==null&&Ru(Xs,t),Ys!==null&&Ru(Ys,t),Rf.forEach(e),jf.forEach(e),r=0;r<js.length;r++)n=js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<js.length&&(r=js[0],r.blockedOn===null);)W3(r),r.blockedOn===null&&js.shift()}var Ic=ss.ReactCurrentBatchConfig,Y0=!0;function zI(t,e,r,n){var i=rr,a=Ic.transition;Ic.transition=null;try{rr=1,tw(t,e,r,n)}finally{rr=i,Ic.transition=a}}function qI(t,e,r,n){var i=rr,a=Ic.transition;Ic.transition=null;try{rr=4,tw(t,e,r,n)}finally{rr=i,Ic.transition=a}}function tw(t,e,r,n){if(Y0){var i=nv(t,e,r,n);if(i===null)xg(t,e,n,J0,r),gx(t,n);else if($I(i,t,e,r,n))n.stopPropagation();else if(gx(t,n),e&4&&-1<GI.indexOf(t)){for(;i!==null;){var a=dd(i);if(a!==null&&K3(a),a=nv(t,e,r,n),a===null&&xg(t,e,n,J0,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else xg(t,e,n,null,r)}}var J0=null;function nv(t,e,r,n){if(J0=null,t=Ym(n),t=tl(t),t!==null)if(e=xl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=k3(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return J0=t,null}function z3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DI()){case Jm:return 1;case R3:return 4;case q0:case PI:return 16;case j3:return 536870912;default:return 16}default:return 16}}var Ks=null,rw=null,x0=null;function q3(){if(x0)return x0;var t,e=rw,r=e.length,n,i="value"in Ks?Ks.value:Ks.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return x0=i.slice(t,1<n?1-n:void 0)}function B0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fh(){return!0}function mx(){return!1}function Xi(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fh:mx,this.isPropagationStopped=mx,this}return Pr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fh)},persist:function(){},isPersistent:fh}),e}var Xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nw=Xi(Xc),fd=Pr({},Xc,{view:0,detail:0}),XI=Xi(fd),fg,dg,ju,$1=Pr({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ju&&(ju&&t.type==="mousemove"?(fg=t.screenX-ju.screenX,dg=t.screenY-ju.screenY):dg=fg=0,ju=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:dg}}),wx=Xi($1),YI=Pr({},$1,{dataTransfer:0}),JI=Xi(YI),ZI=Pr({},fd,{relatedTarget:0}),hg=Xi(ZI),eF=Pr({},Xc,{animationName:0,elapsedTime:0,pseudoElement:0}),tF=Xi(eF),rF=Pr({},Xc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nF=Xi(rF),iF=Pr({},Xc,{data:0}),yx=Xi(iF),aF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sF[t])?!!e[t]:!1}function iw(){return AF}var lF=Pr({},fd,{key:function(t){if(t.key){var e=aF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=B0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iw,charCode:function(t){return t.type==="keypress"?B0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?B0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cF=Xi(lF),uF=Pr({},$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=Xi(uF),fF=Pr({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iw}),dF=Xi(fF),hF=Pr({},Xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),pF=Xi(hF),gF=Pr({},$1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vF=Xi(gF),mF=[9,13,27,32],aw=ts&&"CompositionEvent"in window,wf=null;ts&&"documentMode"in document&&(wf=document.documentMode);var wF=ts&&"TextEvent"in window&&!wf,X3=ts&&(!aw||wf&&8<wf&&11>=wf),Bx=" ",bx=!1;function Y3(t,e){switch(t){case"keyup":return mF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uc=!1;function yF(t,e){switch(t){case"compositionend":return J3(e);case"keypress":return e.which!==32?null:(bx=!0,Bx);case"textInput":return t=e.data,t===Bx&&bx?null:t;default:return null}}function xF(t,e){if(uc)return t==="compositionend"||!aw&&Y3(t,e)?(t=q3(),x0=rw=Ks=null,uc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X3&&e.locale!=="ko"?null:e.data;default:return null}}var BF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BF[t.type]:e==="textarea"}function Z3(t,e,r,n){N3(n),e=Z0(e,"onChange"),0<e.length&&(r=new nw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yf=null,Hf=null;function bF(t){cC(t,0)}function W1(t){var e=hc(t);if(b3(e))return t}function CF(t,e){if(t==="change")return e}var eC=!1;if(ts){var pg;if(ts){var gg="oninput"in document;if(!gg){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),gg=typeof _x.oninput=="function"}pg=gg}else pg=!1;eC=pg&&(!document.documentMode||9<document.documentMode)}function Ex(){yf&&(yf.detachEvent("onpropertychange",tC),Hf=yf=null)}function tC(t){if(t.propertyName==="value"&&W1(Hf)){var e=[];Z3(e,Hf,t,Ym(t)),O3(bF,e)}}function _F(t,e,r){t==="focusin"?(Ex(),yf=e,Hf=r,yf.attachEvent("onpropertychange",tC)):t==="focusout"&&Ex()}function EF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return W1(Hf)}function SF(t,e){if(t==="click")return W1(e)}function IF(t,e){if(t==="input"||t==="change")return W1(e)}function FF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ga=typeof Object.is=="function"?Object.is:FF;function Kf(t,e){if(Ga(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!R2.call(e,i)||!Ga(t[i],e[i]))return!1}return!0}function Sx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ix(t,e){var r=Sx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sx(r)}}function rC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nC(){for(var t=window,e=$0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$0(t.document)}return e}function ow(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NF(t){var e=nC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rC(r.ownerDocument.documentElement,r)){if(n!==null&&ow(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Ix(r,a);var o=Ix(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UF=ts&&"documentMode"in document&&11>=document.documentMode,fc=null,iv=null,xf=null,av=!1;function Fx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;av||fc==null||fc!==$0(n)||(n=fc,"selectionStart"in n&&ow(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xf&&Kf(xf,n)||(xf=n,n=Z0(iv,"onSelect"),0<n.length&&(e=new nw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=fc)))}function dh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var dc={animationend:dh("Animation","AnimationEnd"),animationiteration:dh("Animation","AnimationIteration"),animationstart:dh("Animation","AnimationStart"),transitionend:dh("Transition","TransitionEnd")},vg={},iC={};ts&&(iC=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function z1(t){if(vg[t])return vg[t];if(!dc[t])return t;var e=dc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in iC)return vg[t]=e[r];return t}var aC=z1("animationend"),oC=z1("animationiteration"),sC=z1("animationstart"),AC=z1("transitionend"),lC=new Map,Nx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uA(t,e){lC.set(t,e),yl(e,[t])}for(var mg=0;mg<Nx.length;mg++){var wg=Nx[mg],TF=wg.toLowerCase(),LF=wg[0].toUpperCase()+wg.slice(1);uA(TF,"on"+LF)}uA(aC,"onAnimationEnd");uA(oC,"onAnimationIteration");uA(sC,"onAnimationStart");uA("dblclick","onDoubleClick");uA("focusin","onFocus");uA("focusout","onBlur");uA(AC,"onTransitionEnd");Pc("onMouseEnter",["mouseout","mouseover"]);Pc("onMouseLeave",["mouseout","mouseover"]);Pc("onPointerEnter",["pointerout","pointerover"]);Pc("onPointerLeave",["pointerout","pointerover"]);yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OF=new Set("cancel close invalid load scroll toggle".split(" ").concat(nf));function Ux(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,TI(n,e,void 0,t),t.currentTarget=null}function cC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],A=s.instance,l=s.currentTarget;if(s=s.listener,A!==a&&i.isPropagationStopped())break e;Ux(i,s,l),a=A}else for(o=0;o<n.length;o++){if(s=n[o],A=s.instance,l=s.currentTarget,s=s.listener,A!==a&&i.isPropagationStopped())break e;Ux(i,s,l),a=A}}}if(z0)throw t=ev,z0=!1,ev=null,t}function yr(t,e){var r=e[cv];r===void 0&&(r=e[cv]=new Set);var n=t+"__bubble";r.has(n)||(uC(e,t,2,!1),r.add(n))}function yg(t,e,r){var n=0;e&&(n|=4),uC(r,t,n,e)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Vf(t){if(!t[hh]){t[hh]=!0,m3.forEach(function(r){r!=="selectionchange"&&(OF.has(r)||yg(r,!1,t),yg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hh]||(e[hh]=!0,yg("selectionchange",!1,e))}}function uC(t,e,r,n){switch(z3(e)){case 1:var i=zI;break;case 4:i=qI;break;default:i=tw}r=i.bind(null,e,r,t),i=void 0,!Z2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function xg(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;o=o.return}for(;s!==null;){if(o=tl(s),o===null)return;if(A=o.tag,A===5||A===6){n=a=o;continue e}s=s.parentNode}}n=n.return}O3(function(){var l=a,c=Ym(r),u=[];e:{var h=lC.get(t);if(h!==void 0){var f=nw,g=t;switch(t){case"keypress":if(B0(r)===0)break e;case"keydown":case"keyup":f=cF;break;case"focusin":g="focus",f=hg;break;case"focusout":g="blur",f=hg;break;case"beforeblur":case"afterblur":f=hg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=JI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=dF;break;case aC:case oC:case sC:f=tF;break;case AC:f=pF;break;case"scroll":f=XI;break;case"wheel":f=vF;break;case"copy":case"cut":case"paste":f=nF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=xx}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var w=l,x;w!==null;){x=w;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,m!==null&&(_=Qf(w,m),_!=null&&y.push(Gf(w,_,x)))),b)break;w=w.return}0<y.length&&(h=new f(h,g,null,r,c),u.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==Y2&&(g=r.relatedTarget||r.fromElement)&&(tl(g)||g[rs]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=l,g=g?tl(g):null,g!==null&&(b=xl(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=l),f!==g)){if(y=wx,_="onMouseLeave",m="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=xx,_="onPointerLeave",m="onPointerEnter",w="pointer"),b=f==null?h:hc(f),x=g==null?h:hc(g),h=new y(_,w+"leave",f,r,c),h.target=b,h.relatedTarget=x,_=null,tl(c)===l&&(y=new y(m,w+"enter",g,r,c),y.target=x,y.relatedTarget=b,_=y),b=_,f&&g)t:{for(y=f,m=g,w=0,x=y;x;x=Rl(x))w++;for(x=0,_=m;_;_=Rl(_))x++;for(;0<w-x;)y=Rl(y),w--;for(;0<x-w;)m=Rl(m),x--;for(;w--;){if(y===m||m!==null&&y===m.alternate)break t;y=Rl(y),m=Rl(m)}y=null}else y=null;f!==null&&Tx(u,h,f,y,!1),g!==null&&b!==null&&Tx(u,b,g,y,!0)}}e:{if(h=l?hc(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=CF;else if(Cx(h))if(eC)I=IF;else{I=EF;var L=_F}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=SF);if(I&&(I=I(t,l))){Z3(u,I,r,c);break e}L&&L(t,h,l),t==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&$2(h,"number",h.value)}switch(L=l?hc(l):window,t){case"focusin":(Cx(L)||L.contentEditable==="true")&&(fc=L,iv=l,xf=null);break;case"focusout":xf=iv=fc=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,Fx(u,r,c);break;case"selectionchange":if(UF)break;case"keydown":case"keyup":Fx(u,r,c)}var U;if(aw)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else uc?Y3(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(X3&&r.locale!=="ko"&&(uc||D!=="onCompositionStart"?D==="onCompositionEnd"&&uc&&(U=q3()):(Ks=c,rw="value"in Ks?Ks.value:Ks.textContent,uc=!0)),L=Z0(l,D),0<L.length&&(D=new yx(D,t,null,r,c),u.push({event:D,listeners:L}),U?D.data=U:(U=J3(r),U!==null&&(D.data=U)))),(U=wF?yF(t,r):xF(t,r))&&(l=Z0(l,"onBeforeInput"),0<l.length&&(c=new yx("onBeforeInput","beforeinput",null,r,c),u.push({event:c,listeners:l}),c.data=U))}cC(u,e)})}function Gf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Z0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Qf(t,r),a!=null&&n.unshift(Gf(t,a,i)),a=Qf(t,e),a!=null&&n.push(Gf(t,a,i))),t=t.return}return n}function Rl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tx(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,A=s.alternate,l=s.stateNode;if(A!==null&&A===n)break;s.tag===5&&l!==null&&(s=l,i?(A=Qf(r,a),A!=null&&o.unshift(Gf(r,A,s))):i||(A=Qf(r,a),A!=null&&o.push(Gf(r,A,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var kF=/\r\n?/g,DF=/\u0000|\uFFFD/g;function Lx(t){return(typeof t=="string"?t:""+t).replace(kF,`
`).replace(DF,"")}function ph(t,e,r){if(e=Lx(e),Lx(t)!==e&&r)throw Error(Le(425))}function e1(){}var ov=null,sv=null;function Av(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lv=typeof setTimeout=="function"?setTimeout:void 0,PF=typeof clearTimeout=="function"?clearTimeout:void 0,Ox=typeof Promise=="function"?Promise:void 0,QF=typeof queueMicrotask=="function"?queueMicrotask:typeof Ox<"u"?function(t){return Ox.resolve(null).then(t).catch(RF)}:lv;function RF(t){setTimeout(function(){throw t})}function Bg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Mf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Mf(e)}function Js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Yc=Math.random().toString(36).slice(2),co="__reactFiber$"+Yc,$f="__reactProps$"+Yc,rs="__reactContainer$"+Yc,cv="__reactEvents$"+Yc,jF="__reactListeners$"+Yc,MF="__reactHandles$"+Yc;function tl(t){var e=t[co];if(e)return e;for(var r=t.parentNode;r;){if(e=r[rs]||r[co]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=kx(t);t!==null;){if(r=t[co])return r;t=kx(t)}return e}t=r,r=t.parentNode}return null}function dd(t){return t=t[co]||t[rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function q1(t){return t[$f]||null}var uv=[],pc=-1;function fA(t){return{current:t}}function _r(t){0>pc||(t.current=uv[pc],uv[pc]=null,pc--)}function vr(t,e){pc++,uv[pc]=t.current,t.current=e}var AA={},ii=fA(AA),Ci=fA(!1),dl=AA;function Qc(t,e){var r=t.type.contextTypes;if(!r)return AA;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _i(t){return t=t.childContextTypes,t!=null}function t1(){_r(Ci),_r(ii)}function Dx(t,e,r){if(ii.current!==AA)throw Error(Le(168));vr(ii,e),vr(Ci,r)}function fC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Le(108,_I(t)||"Unknown",i));return Pr({},r,n)}function r1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||AA,dl=ii.current,vr(ii,t),vr(Ci,Ci.current),!0}function Px(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=fC(t,e,dl),n.__reactInternalMemoizedMergedChildContext=t,_r(Ci),_r(ii),vr(ii,t)):_r(Ci),vr(Ci,r)}var Wo=null,X1=!1,bg=!1;function dC(t){Wo===null?Wo=[t]:Wo.push(t)}function HF(t){X1=!0,dC(t)}function dA(){if(!bg&&Wo!==null){bg=!0;var t=0,e=rr;try{var r=Wo;for(rr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Wo=null,X1=!1}catch(i){throw Wo!==null&&(Wo=Wo.slice(t+1)),Q3(Jm,dA),i}finally{rr=e,bg=!1}}return null}var gc=[],vc=0,n1=null,i1=0,ua=[],fa=0,hl=null,qo=1,Xo="";function $A(t,e){gc[vc++]=i1,gc[vc++]=n1,n1=t,i1=e}function hC(t,e,r){ua[fa++]=qo,ua[fa++]=Xo,ua[fa++]=hl,hl=t;var n=qo;t=Xo;var i=32-Ha(n)-1;n&=~(1<<i),r+=1;var a=32-Ha(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,qo=1<<32-Ha(e)+i|r<<i|n,Xo=a+t}else qo=1<<a|r<<i|n,Xo=t}function sw(t){t.return!==null&&($A(t,1),hC(t,1,0))}function Aw(t){for(;t===n1;)n1=gc[--vc],gc[vc]=null,i1=gc[--vc],gc[vc]=null;for(;t===hl;)hl=ua[--fa],ua[fa]=null,Xo=ua[--fa],ua[fa]=null,qo=ua[--fa],ua[fa]=null}var Wi=null,Gi=null,Fr=!1,Ra=null;function pC(t,e){var r=ha(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Qx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wi=t,Gi=Js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wi=t,Gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=hl!==null?{id:qo,overflow:Xo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ha(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wi=t,Gi=null,!0):!1;default:return!1}}function fv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dv(t){if(Fr){var e=Gi;if(e){var r=e;if(!Qx(t,e)){if(fv(t))throw Error(Le(418));e=Js(r.nextSibling);var n=Wi;e&&Qx(t,e)?pC(n,r):(t.flags=t.flags&-4097|2,Fr=!1,Wi=t)}}else{if(fv(t))throw Error(Le(418));t.flags=t.flags&-4097|2,Fr=!1,Wi=t}}}function Rx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wi=t}function gh(t){if(t!==Wi)return!1;if(!Fr)return Rx(t),Fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Av(t.type,t.memoizedProps)),e&&(e=Gi)){if(fv(t))throw gC(),Error(Le(418));for(;e;)pC(t,e),e=Js(e.nextSibling)}if(Rx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Gi=Js(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Gi=null}}else Gi=Wi?Js(t.stateNode.nextSibling):null;return!0}function gC(){for(var t=Gi;t;)t=Js(t.nextSibling)}function Rc(){Gi=Wi=null,Fr=!1}function lw(t){Ra===null?Ra=[t]:Ra.push(t)}var KF=ss.ReactCurrentBatchConfig;function Mu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function vh(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jx(t){var e=t._init;return e(t._payload)}function vC(t){function e(m,w){if(t){var x=m.deletions;x===null?(m.deletions=[w],m.flags|=16):x.push(w)}}function r(m,w){if(!t)return null;for(;w!==null;)e(m,w),w=w.sibling;return null}function n(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function i(m,w){return m=rA(m,w),m.index=0,m.sibling=null,m}function a(m,w,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<w?(m.flags|=2,w):x):(m.flags|=2,w)):(m.flags|=1048576,w)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function s(m,w,x,_){return w===null||w.tag!==6?(w=Ng(x,m.mode,_),w.return=m,w):(w=i(w,x),w.return=m,w)}function A(m,w,x,_){var I=x.type;return I===cc?c(m,w,x.props.children,_,x.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ds&&jx(I)===w.type)?(_=i(w,x.props),_.ref=Mu(m,w,x),_.return=m,_):(_=F0(x.type,x.key,x.props,null,m.mode,_),_.ref=Mu(m,w,x),_.return=m,_)}function l(m,w,x,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Ug(x,m.mode,_),w.return=m,w):(w=i(w,x.children||[]),w.return=m,w)}function c(m,w,x,_,I){return w===null||w.tag!==7?(w=Al(x,m.mode,_,I),w.return=m,w):(w=i(w,x),w.return=m,w)}function u(m,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ng(""+w,m.mode,x),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oh:return x=F0(w.type,w.key,w.props,null,m.mode,x),x.ref=Mu(m,null,w),x.return=m,x;case lc:return w=Ug(w,m.mode,x),w.return=m,w;case Ds:var _=w._init;return u(m,_(w._payload),x)}if(tf(w)||Du(w))return w=Al(w,m.mode,x,null),w.return=m,w;vh(m,w)}return null}function h(m,w,x,_){var I=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:s(m,w,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oh:return x.key===I?A(m,w,x,_):null;case lc:return x.key===I?l(m,w,x,_):null;case Ds:return I=x._init,h(m,w,I(x._payload),_)}if(tf(x)||Du(x))return I!==null?null:c(m,w,x,_,null);vh(m,x)}return null}function f(m,w,x,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(x)||null,s(w,m,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case oh:return m=m.get(_.key===null?x:_.key)||null,A(w,m,_,I);case lc:return m=m.get(_.key===null?x:_.key)||null,l(w,m,_,I);case Ds:var L=_._init;return f(m,w,x,L(_._payload),I)}if(tf(_)||Du(_))return m=m.get(x)||null,c(w,m,_,I,null);vh(w,_)}return null}function g(m,w,x,_){for(var I=null,L=null,U=w,D=w=0,T=null;U!==null&&D<x.length;D++){U.index>D?(T=U,U=null):T=U.sibling;var H=h(m,U,x[D],_);if(H===null){U===null&&(U=T);break}t&&U&&H.alternate===null&&e(m,U),w=a(H,w,D),L===null?I=H:L.sibling=H,L=H,U=T}if(D===x.length)return r(m,U),Fr&&$A(m,D),I;if(U===null){for(;D<x.length;D++)U=u(m,x[D],_),U!==null&&(w=a(U,w,D),L===null?I=U:L.sibling=U,L=U);return Fr&&$A(m,D),I}for(U=n(m,U);D<x.length;D++)T=f(U,m,D,x[D],_),T!==null&&(t&&T.alternate!==null&&U.delete(T.key===null?D:T.key),w=a(T,w,D),L===null?I=T:L.sibling=T,L=T);return t&&U.forEach(function(S){return e(m,S)}),Fr&&$A(m,D),I}function y(m,w,x,_){var I=Du(x);if(typeof I!="function")throw Error(Le(150));if(x=I.call(x),x==null)throw Error(Le(151));for(var L=I=null,U=w,D=w=0,T=null,H=x.next();U!==null&&!H.done;D++,H=x.next()){U.index>D?(T=U,U=null):T=U.sibling;var S=h(m,U,H.value,_);if(S===null){U===null&&(U=T);break}t&&U&&S.alternate===null&&e(m,U),w=a(S,w,D),L===null?I=S:L.sibling=S,L=S,U=T}if(H.done)return r(m,U),Fr&&$A(m,D),I;if(U===null){for(;!H.done;D++,H=x.next())H=u(m,H.value,_),H!==null&&(w=a(H,w,D),L===null?I=H:L.sibling=H,L=H);return Fr&&$A(m,D),I}for(U=n(m,U);!H.done;D++,H=x.next())H=f(U,m,D,H.value,_),H!==null&&(t&&H.alternate!==null&&U.delete(H.key===null?D:H.key),w=a(H,w,D),L===null?I=H:L.sibling=H,L=H);return t&&U.forEach(function(O){return e(m,O)}),Fr&&$A(m,D),I}function b(m,w,x,_){if(typeof x=="object"&&x!==null&&x.type===cc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case oh:e:{for(var I=x.key,L=w;L!==null;){if(L.key===I){if(I=x.type,I===cc){if(L.tag===7){r(m,L.sibling),w=i(L,x.props.children),w.return=m,m=w;break e}}else if(L.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ds&&jx(I)===L.type){r(m,L.sibling),w=i(L,x.props),w.ref=Mu(m,L,x),w.return=m,m=w;break e}r(m,L);break}else e(m,L);L=L.sibling}x.type===cc?(w=Al(x.props.children,m.mode,_,x.key),w.return=m,m=w):(_=F0(x.type,x.key,x.props,null,m.mode,_),_.ref=Mu(m,w,x),_.return=m,m=_)}return o(m);case lc:e:{for(L=x.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){r(m,w.sibling),w=i(w,x.children||[]),w.return=m,m=w;break e}else{r(m,w);break}else e(m,w);w=w.sibling}w=Ug(x,m.mode,_),w.return=m,m=w}return o(m);case Ds:return L=x._init,b(m,w,L(x._payload),_)}if(tf(x))return g(m,w,x,_);if(Du(x))return y(m,w,x,_);vh(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(r(m,w.sibling),w=i(w,x),w.return=m,m=w):(r(m,w),w=Ng(x,m.mode,_),w.return=m,m=w),o(m)):r(m,w)}return b}var jc=vC(!0),mC=vC(!1),a1=fA(null),o1=null,mc=null,cw=null;function uw(){cw=mc=o1=null}function fw(t){var e=a1.current;_r(a1),t._currentValue=e}function hv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Fc(t,e){o1=t,cw=mc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bi=!0),t.firstContext=null)}function wa(t){var e=t._currentValue;if(cw!==t)if(t={context:t,memoizedValue:e,next:null},mc===null){if(o1===null)throw Error(Le(308));mc=t,o1.dependencies={lanes:0,firstContext:t}}else mc=mc.next=t;return e}var rl=null;function dw(t){rl===null?rl=[t]:rl.push(t)}function wC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,dw(e)):(r.next=i.next,i.next=r),e.interleaved=r,ns(t,n)}function ns(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ps=!1;function hw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ns(t,r)}return i=n.interleaved,i===null?(e.next=e,dw(n)):(e.next=i.next,i.next=e),n.interleaved=e,ns(t,r)}function b0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zm(t,r)}}function Mx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function s1(t,e,r,n){var i=t.updateQueue;Ps=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var A=s,l=A.next;A.next=null,o===null?a=l:o.next=l,o=A;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=A))}if(a!==null){var u=i.baseState;o=0,c=l=A=null,s=a;do{var h=s.lane,f=s.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,f=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){u=g.call(f,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(f,u,h):g,h==null)break e;u=Pr({},u,h);break e;case 2:Ps=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=f,A=u):c=c.next=f,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(A=u),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);gl|=o,t.lanes=o,t.memoizedState=u}}function Hx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var hd={},vo=fA(hd),Wf=fA(hd),zf=fA(hd);function nl(t){if(t===hd)throw Error(Le(174));return t}function pw(t,e){switch(vr(zf,e),vr(Wf,t),vr(vo,hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:z2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=z2(e,t)}_r(vo),vr(vo,e)}function Mc(){_r(vo),_r(Wf),_r(zf)}function xC(t){nl(zf.current);var e=nl(vo.current),r=z2(e,t.type);e!==r&&(vr(Wf,t),vr(vo,r))}function gw(t){Wf.current===t&&(_r(vo),_r(Wf))}var Or=fA(0);function A1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cg=[];function vw(){for(var t=0;t<Cg.length;t++)Cg[t]._workInProgressVersionPrimary=null;Cg.length=0}var C0=ss.ReactCurrentDispatcher,_g=ss.ReactCurrentBatchConfig,pl=0,Dr=null,mn=null,En=null,l1=!1,Bf=!1,qf=0,VF=0;function qn(){throw Error(Le(321))}function mw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ga(t[r],e[r]))return!1;return!0}function ww(t,e,r,n,i,a){if(pl=a,Dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,C0.current=t===null||t.memoizedState===null?zF:qF,t=r(n,i),Bf){a=0;do{if(Bf=!1,qf=0,25<=a)throw Error(Le(301));a+=1,En=mn=null,e.updateQueue=null,C0.current=XF,t=r(n,i)}while(Bf)}if(C0.current=c1,e=mn!==null&&mn.next!==null,pl=0,En=mn=Dr=null,l1=!1,e)throw Error(Le(300));return t}function yw(){var t=qf!==0;return qf=0,t}function lo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Dr.memoizedState=En=t:En=En.next=t,En}function ya(){if(mn===null){var t=Dr.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=En===null?Dr.memoizedState:En.next;if(e!==null)En=e,mn=t;else{if(t===null)throw Error(Le(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},En===null?Dr.memoizedState=En=t:En=En.next=t}return En}function Xf(t,e){return typeof e=="function"?e(t):e}function Eg(t){var e=ya(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=mn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,A=null,l=a;do{var c=l.lane;if((pl&c)===c)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var u={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(s=A=u,o=n):A=A.next=u,Dr.lanes|=c,gl|=c}l=l.next}while(l!==null&&l!==a);A===null?o=n:A.next=s,Ga(n,e.memoizedState)||(bi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Dr.lanes|=a,gl|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Sg(t){var e=ya(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ga(a,e.memoizedState)||(bi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function BC(){}function bC(t,e){var r=Dr,n=ya(),i=e(),a=!Ga(n.memoizedState,i);if(a&&(n.memoizedState=i,bi=!0),n=n.queue,xw(EC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||En!==null&&En.memoizedState.tag&1){if(r.flags|=2048,Yf(9,_C.bind(null,r,n,i,e),void 0,null),Fn===null)throw Error(Le(349));pl&30||CC(r,e,i)}return i}function CC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Dr.updateQueue,e===null?(e={lastEffect:null,stores:null},Dr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _C(t,e,r,n){e.value=r,e.getSnapshot=n,SC(e)&&IC(t)}function EC(t,e,r){return r(function(){SC(e)&&IC(t)})}function SC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ga(t,r)}catch{return!0}}function IC(t){var e=ns(t,1);e!==null&&Ka(e,t,1,-1)}function Kx(t){var e=lo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:t},e.queue=t,t=t.dispatch=WF.bind(null,Dr,t),[e.memoizedState,t]}function Yf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Dr.updateQueue,e===null?(e={lastEffect:null,stores:null},Dr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function FC(){return ya().memoizedState}function _0(t,e,r,n){var i=lo();Dr.flags|=t,i.memoizedState=Yf(1|e,r,void 0,n===void 0?null:n)}function Y1(t,e,r,n){var i=ya();n=n===void 0?null:n;var a=void 0;if(mn!==null){var o=mn.memoizedState;if(a=o.destroy,n!==null&&mw(n,o.deps)){i.memoizedState=Yf(e,r,a,n);return}}Dr.flags|=t,i.memoizedState=Yf(1|e,r,a,n)}function Vx(t,e){return _0(8390656,8,t,e)}function xw(t,e){return Y1(2048,8,t,e)}function NC(t,e){return Y1(4,2,t,e)}function UC(t,e){return Y1(4,4,t,e)}function TC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LC(t,e,r){return r=r!=null?r.concat([t]):null,Y1(4,4,TC.bind(null,e,t),r)}function Bw(){}function OC(t,e){var r=ya();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function kC(t,e){var r=ya();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function DC(t,e,r){return pl&21?(Ga(r,e)||(r=M3(),Dr.lanes|=r,gl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bi=!0),t.memoizedState=r)}function GF(t,e){var r=rr;rr=r!==0&&4>r?r:4,t(!0);var n=_g.transition;_g.transition={};try{t(!1),e()}finally{rr=r,_g.transition=n}}function PC(){return ya().memoizedState}function $F(t,e,r){var n=tA(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},QC(t))RC(e,r);else if(r=wC(t,e,r,n),r!==null){var i=fi();Ka(r,t,n,i),jC(r,e,n)}}function WF(t,e,r){var n=tA(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(QC(t))RC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Ga(s,o)){var A=e.interleaved;A===null?(i.next=i,dw(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=wC(t,e,i,n),r!==null&&(i=fi(),Ka(r,t,n,i),jC(r,e,n))}}function QC(t){var e=t.alternate;return t===Dr||e!==null&&e===Dr}function RC(t,e){Bf=l1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Zm(t,r)}}var c1={readContext:wa,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},zF={readContext:wa,useCallback:function(t,e){return lo().memoizedState=[t,e===void 0?null:e],t},useContext:wa,useEffect:Vx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,_0(4194308,4,TC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return _0(4194308,4,t,e)},useInsertionEffect:function(t,e){return _0(4,2,t,e)},useMemo:function(t,e){var r=lo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=lo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$F.bind(null,Dr,t),[n.memoizedState,t]},useRef:function(t){var e=lo();return t={current:t},e.memoizedState=t},useState:Kx,useDebugValue:Bw,useDeferredValue:function(t){return lo().memoizedState=t},useTransition:function(){var t=Kx(!1),e=t[0];return t=GF.bind(null,t[1]),lo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Dr,i=lo();if(Fr){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=e(),Fn===null)throw Error(Le(349));pl&30||CC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Vx(EC.bind(null,n,a,t),[t]),n.flags|=2048,Yf(9,_C.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=lo(),e=Fn.identifierPrefix;if(Fr){var r=Xo,n=qo;r=(n&~(1<<32-Ha(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=qf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=VF++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qF={readContext:wa,useCallback:OC,useContext:wa,useEffect:xw,useImperativeHandle:LC,useInsertionEffect:NC,useLayoutEffect:UC,useMemo:kC,useReducer:Eg,useRef:FC,useState:function(){return Eg(Xf)},useDebugValue:Bw,useDeferredValue:function(t){var e=ya();return DC(e,mn.memoizedState,t)},useTransition:function(){var t=Eg(Xf)[0],e=ya().memoizedState;return[t,e]},useMutableSource:BC,useSyncExternalStore:bC,useId:PC,unstable_isNewReconciler:!1},XF={readContext:wa,useCallback:OC,useContext:wa,useEffect:xw,useImperativeHandle:LC,useInsertionEffect:NC,useLayoutEffect:UC,useMemo:kC,useReducer:Sg,useRef:FC,useState:function(){return Sg(Xf)},useDebugValue:Bw,useDeferredValue:function(t){var e=ya();return mn===null?e.memoizedState=t:DC(e,mn.memoizedState,t)},useTransition:function(){var t=Sg(Xf)[0],e=ya().memoizedState;return[t,e]},useMutableSource:BC,useSyncExternalStore:bC,useId:PC,unstable_isNewReconciler:!1};function ka(t,e){if(t&&t.defaultProps){e=Pr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Pr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var J1={isMounted:function(t){return(t=t._reactInternals)?xl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=fi(),i=tA(t),a=Yo(n,i);a.payload=e,r!=null&&(a.callback=r),e=Zs(t,a,i),e!==null&&(Ka(e,t,i,n),b0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=fi(),i=tA(t),a=Yo(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Zs(t,a,i),e!==null&&(Ka(e,t,i,n),b0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=fi(),n=tA(t),i=Yo(r,n);i.tag=2,e!=null&&(i.callback=e),e=Zs(t,i,n),e!==null&&(Ka(e,t,n,r),b0(e,t,n))}};function Gx(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Kf(r,n)||!Kf(i,a):!0}function MC(t,e,r){var n=!1,i=AA,a=e.contextType;return typeof a=="object"&&a!==null?a=wa(a):(i=_i(e)?dl:ii.current,n=e.contextTypes,a=(n=n!=null)?Qc(t,i):AA),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=J1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function $x(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&J1.enqueueReplaceState(e,e.state,null)}function gv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},hw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=wa(a):(a=_i(e)?dl:ii.current,i.context=Qc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(pv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&J1.enqueueReplaceState(i,i.state,null),s1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hc(t,e){try{var r="",n=e;do r+=CI(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ig(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function vv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var YF=typeof WeakMap=="function"?WeakMap:Map;function HC(t,e,r){r=Yo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){f1||(f1=!0,Sv=n),vv(t,e)},r}function KC(t,e,r){r=Yo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){vv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){vv(t,e),typeof n!="function"&&(eA===null?eA=new Set([this]):eA.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Wx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new YF;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=uN.bind(null,t,e,r),e.then(t,t))}function zx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qx(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Yo(-1,1),e.tag=2,Zs(r,e,1))),r.lanes|=1),t)}var JF=ss.ReactCurrentOwner,bi=!1;function ui(t,e,r,n){e.child=t===null?mC(e,null,r,n):jc(e,t.child,r,n)}function Xx(t,e,r,n,i){r=r.render;var a=e.ref;return Fc(e,i),n=ww(t,e,r,n,a,i),r=yw(),t!==null&&!bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,is(t,e,i)):(Fr&&r&&sw(e),e.flags|=1,ui(t,e,n,i),e.child)}function Yx(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Nw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,VC(t,e,a,n,i)):(t=F0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Kf,r(o,n)&&t.ref===e.ref)return is(t,e,i)}return e.flags|=1,t=rA(a,n),t.ref=e.ref,t.return=e,e.child=t}function VC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Kf(a,n)&&t.ref===e.ref)if(bi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(bi=!0);else return e.lanes=t.lanes,is(t,e,i)}return mv(t,e,r,n,i)}function GC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(yc,Hi),Hi|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vr(yc,Hi),Hi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,vr(yc,Hi),Hi|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,vr(yc,Hi),Hi|=n;return ui(t,e,i,r),e.child}function $C(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function mv(t,e,r,n,i){var a=_i(r)?dl:ii.current;return a=Qc(e,a),Fc(e,i),r=ww(t,e,r,n,a,i),n=yw(),t!==null&&!bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,is(t,e,i)):(Fr&&n&&sw(e),e.flags|=1,ui(t,e,r,i),e.child)}function Jx(t,e,r,n,i){if(_i(r)){var a=!0;r1(e)}else a=!1;if(Fc(e,i),e.stateNode===null)E0(t,e),MC(e,r,n),gv(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var A=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=wa(l):(l=_i(r)?dl:ii.current,l=Qc(e,l));var c=r.getDerivedStateFromProps,u=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||A!==l)&&$x(e,o,n,l),Ps=!1;var h=e.memoizedState;o.state=h,s1(e,n,o,i),A=e.memoizedState,s!==n||h!==A||Ci.current||Ps?(typeof c=="function"&&(pv(e,r,c,n),A=e.memoizedState),(s=Ps||Gx(e,r,s,n,h,A,l))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),o.props=n,o.state=A,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,yC(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:ka(e.type,s),o.props=l,u=e.pendingProps,h=o.context,A=r.contextType,typeof A=="object"&&A!==null?A=wa(A):(A=_i(r)?dl:ii.current,A=Qc(e,A));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==u||h!==A)&&$x(e,o,n,A),Ps=!1,h=e.memoizedState,o.state=h,s1(e,n,o,i);var g=e.memoizedState;s!==u||h!==g||Ci.current||Ps?(typeof f=="function"&&(pv(e,r,f,n),g=e.memoizedState),(l=Ps||Gx(e,r,l,n,h,g,A)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,A)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=A,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return wv(t,e,r,n,a,i)}function wv(t,e,r,n,i,a){$C(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Px(e,r,!1),is(t,e,a);n=e.stateNode,JF.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=jc(e,t.child,null,a),e.child=jc(e,null,s,a)):ui(t,e,s,a),e.memoizedState=n.state,i&&Px(e,r,!0),e.child}function WC(t){var e=t.stateNode;e.pendingContext?Dx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dx(t,e.context,!1),pw(t,e.containerInfo)}function Zx(t,e,r,n,i){return Rc(),lw(i),e.flags|=256,ui(t,e,r,n),e.child}var yv={dehydrated:null,treeContext:null,retryLane:0};function xv(t){return{baseLanes:t,cachePool:null,transitions:null}}function zC(t,e,r){var n=e.pendingProps,i=Or.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),vr(Or,i&1),t===null)return dv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=tp(o,n,0,null),t=Al(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=xv(r),e.memoizedState=yv,t):bw(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return ZF(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var A={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=rA(i,A),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=rA(s,a):(a=Al(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?xv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=yv,n}return a=t.child,t=a.sibling,n=rA(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function bw(t,e){return e=tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mh(t,e,r,n){return n!==null&&lw(n),jc(e,t.child,null,r),t=bw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZF(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Ig(Error(Le(422))),mh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=tp({mode:"visible",children:n.children},i,0,null),a=Al(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&jc(e,t.child,null,o),e.child.memoizedState=xv(o),e.memoizedState=yv,a);if(!(e.mode&1))return mh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(Le(419)),n=Ig(a,n,void 0),mh(t,e,o,n)}if(s=(o&t.childLanes)!==0,bi||s){if(n=Fn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ns(t,i),Ka(n,t,i,-1))}return Fw(),n=Ig(Error(Le(421))),mh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fN.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Gi=Js(i.nextSibling),Wi=e,Fr=!0,Ra=null,t!==null&&(ua[fa++]=qo,ua[fa++]=Xo,ua[fa++]=hl,qo=t.id,Xo=t.overflow,hl=e),e=bw(e,n.children),e.flags|=4096,e)}function e5(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),hv(t.return,e,r)}function Fg(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function qC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ui(t,e,n.children,r),n=Or.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e5(t,r,e);else if(t.tag===19)e5(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(vr(Or,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&A1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Fg(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&A1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Fg(e,!0,r,null,a);break;case"together":Fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function E0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function is(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),gl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=rA(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=rA(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function eN(t,e,r){switch(e.tag){case 3:WC(e),Rc();break;case 5:xC(e);break;case 1:_i(e.type)&&r1(e);break;case 4:pw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;vr(a1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(vr(Or,Or.current&1),e.flags|=128,null):r&e.child.childLanes?zC(t,e,r):(vr(Or,Or.current&1),t=is(t,e,r),t!==null?t.sibling:null);vr(Or,Or.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vr(Or,Or.current),n)break;return null;case 22:case 23:return e.lanes=0,GC(t,e,r)}return is(t,e,r)}var XC,Bv,YC,JC;XC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bv=function(){};YC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,nl(vo.current);var a=null;switch(r){case"input":i=V2(t,i),n=V2(t,n),a=[];break;case"select":i=Pr({},i,{value:void 0}),n=Pr({},n,{value:void 0}),a=[];break;case"textarea":i=W2(t,i),n=W2(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=e1)}q2(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Df.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var A=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==s&&(A!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in A)A.hasOwnProperty(o)&&s[o]!==A[o]&&(r||(r={}),r[o]=A[o])}else r||(a||(a=[]),a.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,s=s?s.__html:void 0,A!=null&&s!==A&&(a=a||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(a=a||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Df.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&yr("scroll",t),a||s===A||(a=[])):(a=a||[]).push(l,A))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};JC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hu(t,e){if(!Fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function tN(t,e,r){var n=e.pendingProps;switch(Aw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return _i(e.type)&&t1(),Xn(e),null;case 3:return n=e.stateNode,Mc(),_r(Ci),_r(ii),vw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(gh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ra!==null&&(Nv(Ra),Ra=null))),Bv(t,e),Xn(e),null;case 5:gw(e);var i=nl(zf.current);if(r=e.type,t!==null&&e.stateNode!=null)YC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return Xn(e),null}if(t=nl(vo.current),gh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[co]=e,n[$f]=a,t=(e.mode&1)!==0,r){case"dialog":yr("cancel",n),yr("close",n);break;case"iframe":case"object":case"embed":yr("load",n);break;case"video":case"audio":for(i=0;i<nf.length;i++)yr(nf[i],n);break;case"source":yr("error",n);break;case"img":case"image":case"link":yr("error",n),yr("load",n);break;case"details":yr("toggle",n);break;case"input":lx(n,a),yr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},yr("invalid",n);break;case"textarea":ux(n,a),yr("invalid",n)}q2(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&ph(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&ph(n.textContent,s,t),i=["children",""+s]):Df.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&yr("scroll",n)}switch(r){case"input":sh(n),cx(n,a,!0);break;case"textarea":sh(n),fx(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=e1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E3(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[co]=e,t[$f]=n,XC(t,e,!1,!1),e.stateNode=t;e:{switch(o=X2(r,n),r){case"dialog":yr("cancel",t),yr("close",t),i=n;break;case"iframe":case"object":case"embed":yr("load",t),i=n;break;case"video":case"audio":for(i=0;i<nf.length;i++)yr(nf[i],t);i=n;break;case"source":yr("error",t),i=n;break;case"img":case"image":case"link":yr("error",t),yr("load",t),i=n;break;case"details":yr("toggle",t),i=n;break;case"input":lx(t,n),i=V2(t,n),yr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Pr({},n,{value:void 0}),yr("invalid",t);break;case"textarea":ux(t,n),i=W2(t,n),yr("invalid",t);break;default:i=n}q2(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var A=s[a];a==="style"?F3(t,A):a==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&S3(t,A)):a==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Pf(t,A):typeof A=="number"&&Pf(t,""+A):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Df.hasOwnProperty(a)?A!=null&&a==="onScroll"&&yr("scroll",t):A!=null&&Wm(t,a,A,o))}switch(r){case"input":sh(t),cx(t,n,!1);break;case"textarea":sh(t),fx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+sA(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?_c(t,!!n.multiple,a,!1):n.defaultValue!=null&&_c(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=e1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)JC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));if(r=nl(zf.current),nl(vo.current),gh(e)){if(n=e.stateNode,r=e.memoizedProps,n[co]=e,(a=n.nodeValue!==r)&&(t=Wi,t!==null))switch(t.tag){case 3:ph(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ph(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[co]=e,e.stateNode=n}return Xn(e),null;case 13:if(_r(Or),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fr&&Gi!==null&&e.mode&1&&!(e.flags&128))gC(),Rc(),e.flags|=98560,a=!1;else if(a=gh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Le(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Le(317));a[co]=e}else Rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),a=!1}else Ra!==null&&(Nv(Ra),Ra=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Or.current&1?Bn===0&&(Bn=3):Fw())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return Mc(),Bv(t,e),t===null&&Vf(e.stateNode.containerInfo),Xn(e),null;case 10:return fw(e.type._context),Xn(e),null;case 17:return _i(e.type)&&t1(),Xn(e),null;case 19:if(_r(Or),a=e.memoizedState,a===null)return Xn(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Hu(a,!1);else{if(Bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=A1(t),o!==null){for(e.flags|=128,Hu(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return vr(Or,Or.current&1|2),e.child}t=t.sibling}a.tail!==null&&Yr()>Kc&&(e.flags|=128,n=!0,Hu(a,!1),e.lanes=4194304)}else{if(!n)if(t=A1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Fr)return Xn(e),null}else 2*Yr()-a.renderingStartTime>Kc&&r!==1073741824&&(e.flags|=128,n=!0,Hu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Yr(),e.sibling=null,r=Or.current,vr(Or,n?r&1|2:r&1),e):(Xn(e),null);case 22:case 23:return Iw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Hi&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function rN(t,e){switch(Aw(e),e.tag){case 1:return _i(e.type)&&t1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mc(),_r(Ci),_r(ii),vw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gw(e),null;case 13:if(_r(Or),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));Rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _r(Or),null;case 4:return Mc(),null;case 10:return fw(e.type._context),null;case 22:case 23:return Iw(),null;case 24:return null;default:return null}}var wh=!1,ni=!1,nN=typeof WeakSet=="function"?WeakSet:Set,He=null;function wc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kr(t,e,n)}else r.current=null}function bv(t,e,r){try{r()}catch(n){Kr(t,e,n)}}var t5=!1;function iN(t,e){if(ov=Y0,t=nC(),ow(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,A=-1,l=0,c=0,u=t,h=null;t:for(;;){for(var f;u!==r||i!==0&&u.nodeType!==3||(s=o+i),u!==a||n!==0&&u.nodeType!==3||(A=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(f=u.firstChild)!==null;)h=u,u=f;for(;;){if(u===t)break t;if(h===r&&++l===i&&(s=o),h===a&&++c===n&&(A=o),(f=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=f}r=s===-1||A===-1?null:{start:s,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(sv={focusedElem:t,selectionRange:r},Y0=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){e=He;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=e.stateNode,w=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ka(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(_){Kr(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}return g=t5,t5=!1,g}function bf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&bv(e,r,a)}i=i.next}while(i!==n)}}function Z1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Cv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ZC(t){var e=t.alternate;e!==null&&(t.alternate=null,ZC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[co],delete e[$f],delete e[cv],delete e[jF],delete e[MF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e_(t){return t.tag===5||t.tag===3||t.tag===4}function r5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _v(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=e1));else if(n!==4&&(t=t.child,t!==null))for(_v(t,e,r),t=t.sibling;t!==null;)_v(t,e,r),t=t.sibling}function Ev(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ev(t,e,r),t=t.sibling;t!==null;)Ev(t,e,r),t=t.sibling}var Pn=null,Pa=!1;function Es(t,e,r){for(r=r.child;r!==null;)t_(t,e,r),r=r.sibling}function t_(t,e,r){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(G1,r)}catch{}switch(r.tag){case 5:ni||wc(r,e);case 6:var n=Pn,i=Pa;Pn=null,Es(t,e,r),Pn=n,Pa=i,Pn!==null&&(Pa?(t=Pn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Pn.removeChild(r.stateNode));break;case 18:Pn!==null&&(Pa?(t=Pn,r=r.stateNode,t.nodeType===8?Bg(t.parentNode,r):t.nodeType===1&&Bg(t,r),Mf(t)):Bg(Pn,r.stateNode));break;case 4:n=Pn,i=Pa,Pn=r.stateNode.containerInfo,Pa=!0,Es(t,e,r),Pn=n,Pa=i;break;case 0:case 11:case 14:case 15:if(!ni&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&bv(r,e,o),i=i.next}while(i!==n)}Es(t,e,r);break;case 1:if(!ni&&(wc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Kr(r,e,s)}Es(t,e,r);break;case 21:Es(t,e,r);break;case 22:r.mode&1?(ni=(n=ni)||r.memoizedState!==null,Es(t,e,r),ni=n):Es(t,e,r);break;default:Es(t,e,r)}}function n5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new nN),e.forEach(function(n){var i=dN.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Fa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Pn=s.stateNode,Pa=!1;break e;case 3:Pn=s.stateNode.containerInfo,Pa=!0;break e;case 4:Pn=s.stateNode.containerInfo,Pa=!0;break e}s=s.return}if(Pn===null)throw Error(Le(160));t_(a,o,i),Pn=null,Pa=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Kr(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r_(e,t),e=e.sibling}function r_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fa(e,t),ao(t),n&4){try{bf(3,t,t.return),Z1(3,t)}catch(y){Kr(t,t.return,y)}try{bf(5,t,t.return)}catch(y){Kr(t,t.return,y)}}break;case 1:Fa(e,t),ao(t),n&512&&r!==null&&wc(r,r.return);break;case 5:if(Fa(e,t),ao(t),n&512&&r!==null&&wc(r,r.return),t.flags&32){var i=t.stateNode;try{Pf(i,"")}catch(y){Kr(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&C3(i,a),X2(s,o);var l=X2(s,a);for(o=0;o<A.length;o+=2){var c=A[o],u=A[o+1];c==="style"?F3(i,u):c==="dangerouslySetInnerHTML"?S3(i,u):c==="children"?Pf(i,u):Wm(i,c,u,l)}switch(s){case"input":G2(i,a);break;case"textarea":_3(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?_c(i,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?_c(i,!!a.multiple,a.defaultValue,!0):_c(i,!!a.multiple,a.multiple?[]:"",!1))}i[$f]=a}catch(y){Kr(t,t.return,y)}}break;case 6:if(Fa(e,t),ao(t),n&4){if(t.stateNode===null)throw Error(Le(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Kr(t,t.return,y)}}break;case 3:if(Fa(e,t),ao(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mf(e.containerInfo)}catch(y){Kr(t,t.return,y)}break;case 4:Fa(e,t),ao(t);break;case 13:Fa(e,t),ao(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ew=Yr())),n&4&&n5(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ni=(l=ni)||c,Fa(e,t),ni=l):Fa(e,t),ao(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(He=t,c=t.child;c!==null;){for(u=He=c;He!==null;){switch(h=He,f=h.child,h.tag){case 0:case 11:case 14:case 15:bf(4,h,h.return);break;case 1:wc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Kr(n,r,y)}}break;case 5:wc(h,h.return);break;case 22:if(h.memoizedState!==null){a5(u);continue}}f!==null?(f.return=h,He=f):a5(u)}c=c.sibling}e:for(c=null,u=t;;){if(u.tag===5){if(c===null){c=u;try{i=u.stateNode,l?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=u.stateNode,A=u.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,s.style.display=I3("display",o))}catch(y){Kr(t,t.return,y)}}}else if(u.tag===6){if(c===null)try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(y){Kr(t,t.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Fa(e,t),ao(t),n&4&&n5(t);break;case 21:break;default:Fa(e,t),ao(t)}}function ao(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(e_(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Pf(i,""),n.flags&=-33);var a=r5(t);Ev(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=r5(t);_v(t,s,o);break;default:throw Error(Le(161))}}catch(A){Kr(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aN(t,e,r){He=t,n_(t)}function n_(t,e,r){for(var n=(t.mode&1)!==0;He!==null;){var i=He,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||wh;if(!o){var s=i.alternate,A=s!==null&&s.memoizedState!==null||ni;s=wh;var l=ni;if(wh=o,(ni=A)&&!l)for(He=i;He!==null;)o=He,A=o.child,o.tag===22&&o.memoizedState!==null?o5(i):A!==null?(A.return=o,He=A):o5(i);for(;a!==null;)He=a,n_(a),a=a.sibling;He=i,wh=s,ni=l}i5(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,He=a):i5(t)}}function i5(t){for(;He!==null;){var e=He;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ni||Z1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ni)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ka(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Hx(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Hx(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var u=c.dehydrated;u!==null&&Mf(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}ni||e.flags&512&&Cv(e)}catch(h){Kr(e,e.return,h)}}if(e===t){He=null;break}if(r=e.sibling,r!==null){r.return=e.return,He=r;break}He=e.return}}function a5(t){for(;He!==null;){var e=He;if(e===t){He=null;break}var r=e.sibling;if(r!==null){r.return=e.return,He=r;break}He=e.return}}function o5(t){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Z1(4,e)}catch(A){Kr(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){Kr(e,i,A)}}var a=e.return;try{Cv(e)}catch(A){Kr(e,a,A)}break;case 5:var o=e.return;try{Cv(e)}catch(A){Kr(e,o,A)}}}catch(A){Kr(e,e.return,A)}if(e===t){He=null;break}var s=e.sibling;if(s!==null){s.return=e.return,He=s;break}He=e.return}}var oN=Math.ceil,u1=ss.ReactCurrentDispatcher,Cw=ss.ReactCurrentOwner,ma=ss.ReactCurrentBatchConfig,Qt=0,Fn=null,sn=null,Vn=0,Hi=0,yc=fA(0),Bn=0,Jf=null,gl=0,ep=0,_w=0,Cf=null,yi=null,Ew=0,Kc=1/0,Go=null,f1=!1,Sv=null,eA=null,yh=!1,Vs=null,d1=0,_f=0,Iv=null,S0=-1,I0=0;function fi(){return Qt&6?Yr():S0!==-1?S0:S0=Yr()}function tA(t){return t.mode&1?Qt&2&&Vn!==0?Vn&-Vn:KF.transition!==null?(I0===0&&(I0=M3()),I0):(t=rr,t!==0||(t=window.event,t=t===void 0?16:z3(t.type)),t):1}function Ka(t,e,r,n){if(50<_f)throw _f=0,Iv=null,Error(Le(185));ud(t,r,n),(!(Qt&2)||t!==Fn)&&(t===Fn&&(!(Qt&2)&&(ep|=r),Bn===4&&Ms(t,Vn)),Ei(t,n),r===1&&Qt===0&&!(e.mode&1)&&(Kc=Yr()+500,X1&&dA()))}function Ei(t,e){var r=t.callbackNode;KI(t,e);var n=X0(t,t===Fn?Vn:0);if(n===0)r!==null&&px(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&px(r),e===1)t.tag===0?HF(s5.bind(null,t)):dC(s5.bind(null,t)),QF(function(){!(Qt&6)&&dA()}),r=null;else{switch(H3(n)){case 1:r=Jm;break;case 4:r=R3;break;case 16:r=q0;break;case 536870912:r=j3;break;default:r=q0}r=u_(r,i_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function i_(t,e){if(S0=-1,I0=0,Qt&6)throw Error(Le(327));var r=t.callbackNode;if(Nc()&&t.callbackNode!==r)return null;var n=X0(t,t===Fn?Vn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=h1(t,n);else{e=n;var i=Qt;Qt|=2;var a=o_();(Fn!==t||Vn!==e)&&(Go=null,Kc=Yr()+500,sl(t,e));do try{lN();break}catch(s){a_(t,s)}while(!0);uw(),u1.current=a,Qt=i,sn!==null?e=0:(Fn=null,Vn=0,e=Bn)}if(e!==0){if(e===2&&(i=tv(t),i!==0&&(n=i,e=Fv(t,i))),e===1)throw r=Jf,sl(t,0),Ms(t,n),Ei(t,Yr()),r;if(e===6)Ms(t,n);else{if(i=t.current.alternate,!(n&30)&&!sN(i)&&(e=h1(t,n),e===2&&(a=tv(t),a!==0&&(n=a,e=Fv(t,a))),e===1))throw r=Jf,sl(t,0),Ms(t,n),Ei(t,Yr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Le(345));case 2:WA(t,yi,Go);break;case 3:if(Ms(t,n),(n&130023424)===n&&(e=Ew+500-Yr(),10<e)){if(X0(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){fi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lv(WA.bind(null,t,yi,Go),e);break}WA(t,yi,Go);break;case 4:if(Ms(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Ha(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oN(n/1960))-n,10<n){t.timeoutHandle=lv(WA.bind(null,t,yi,Go),n);break}WA(t,yi,Go);break;case 5:WA(t,yi,Go);break;default:throw Error(Le(329))}}}return Ei(t,Yr()),t.callbackNode===r?i_.bind(null,t):null}function Fv(t,e){var r=Cf;return t.current.memoizedState.isDehydrated&&(sl(t,e).flags|=256),t=h1(t,e),t!==2&&(e=yi,yi=r,e!==null&&Nv(e)),t}function Nv(t){yi===null?yi=t:yi.push.apply(yi,t)}function sN(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ga(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ms(t,e){for(e&=~_w,e&=~ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ha(e),n=1<<r;t[r]=-1,e&=~n}}function s5(t){if(Qt&6)throw Error(Le(327));Nc();var e=X0(t,0);if(!(e&1))return Ei(t,Yr()),null;var r=h1(t,e);if(t.tag!==0&&r===2){var n=tv(t);n!==0&&(e=n,r=Fv(t,n))}if(r===1)throw r=Jf,sl(t,0),Ms(t,e),Ei(t,Yr()),r;if(r===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,WA(t,yi,Go),Ei(t,Yr()),null}function Sw(t,e){var r=Qt;Qt|=1;try{return t(e)}finally{Qt=r,Qt===0&&(Kc=Yr()+500,X1&&dA())}}function vl(t){Vs!==null&&Vs.tag===0&&!(Qt&6)&&Nc();var e=Qt;Qt|=1;var r=ma.transition,n=rr;try{if(ma.transition=null,rr=1,t)return t()}finally{rr=n,ma.transition=r,Qt=e,!(Qt&6)&&dA()}}function Iw(){Hi=yc.current,_r(yc)}function sl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,PF(r)),sn!==null)for(r=sn.return;r!==null;){var n=r;switch(Aw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&t1();break;case 3:Mc(),_r(Ci),_r(ii),vw();break;case 5:gw(n);break;case 4:Mc();break;case 13:_r(Or);break;case 19:_r(Or);break;case 10:fw(n.type._context);break;case 22:case 23:Iw()}r=r.return}if(Fn=t,sn=t=rA(t.current,null),Vn=Hi=e,Bn=0,Jf=null,_w=ep=gl=0,yi=Cf=null,rl!==null){for(e=0;e<rl.length;e++)if(r=rl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}rl=null}return t}function a_(t,e){do{var r=sn;try{if(uw(),C0.current=c1,l1){for(var n=Dr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}l1=!1}if(pl=0,En=mn=Dr=null,Bf=!1,qf=0,Cw.current=null,r===null||r.return===null){Bn=1,Jf=e,sn=null;break}e:{var a=t,o=r.return,s=r,A=e;if(e=Vn,s.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,c=s,u=c.tag;if(!(c.mode&1)&&(u===0||u===11||u===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=zx(o);if(f!==null){f.flags&=-257,qx(f,o,s,a,e),f.mode&1&&Wx(a,l,e),e=f,A=l;var g=e.updateQueue;if(g===null){var y=new Set;y.add(A),e.updateQueue=y}else g.add(A);break e}else{if(!(e&1)){Wx(a,l,e),Fw();break e}A=Error(Le(426))}}else if(Fr&&s.mode&1){var b=zx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),qx(b,o,s,a,e),lw(Hc(A,s));break e}}a=A=Hc(A,s),Bn!==4&&(Bn=2),Cf===null?Cf=[a]:Cf.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=HC(a,A,e);Mx(a,m);break e;case 1:s=A;var w=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(eA===null||!eA.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=KC(a,s,e);Mx(a,_);break e}}a=a.return}while(a!==null)}A_(r)}catch(I){e=I,sn===r&&r!==null&&(sn=r=r.return);continue}break}while(!0)}function o_(){var t=u1.current;return u1.current=c1,t===null?c1:t}function Fw(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Fn===null||!(gl&268435455)&&!(ep&268435455)||Ms(Fn,Vn)}function h1(t,e){var r=Qt;Qt|=2;var n=o_();(Fn!==t||Vn!==e)&&(Go=null,sl(t,e));do try{AN();break}catch(i){a_(t,i)}while(!0);if(uw(),Qt=r,u1.current=n,sn!==null)throw Error(Le(261));return Fn=null,Vn=0,Bn}function AN(){for(;sn!==null;)s_(sn)}function lN(){for(;sn!==null&&!OI();)s_(sn)}function s_(t){var e=c_(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,e===null?A_(t):sn=e,Cw.current=null}function A_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=rN(r,e),r!==null){r.flags&=32767,sn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bn=6,sn=null;return}}else if(r=tN(r,e,Hi),r!==null){sn=r;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);Bn===0&&(Bn=5)}function WA(t,e,r){var n=rr,i=ma.transition;try{ma.transition=null,rr=1,cN(t,e,r,n)}finally{ma.transition=i,rr=n}return null}function cN(t,e,r,n){do Nc();while(Vs!==null);if(Qt&6)throw Error(Le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(VI(t,a),t===Fn&&(sn=Fn=null,Vn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yh||(yh=!0,u_(q0,function(){return Nc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ma.transition,ma.transition=null;var o=rr;rr=1;var s=Qt;Qt|=4,Cw.current=null,iN(t,r),r_(r,t),NF(sv),Y0=!!ov,sv=ov=null,t.current=r,aN(r),kI(),Qt=s,rr=o,ma.transition=a}else t.current=r;if(yh&&(yh=!1,Vs=t,d1=i),a=t.pendingLanes,a===0&&(eA=null),QI(r.stateNode),Ei(t,Yr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(f1)throw f1=!1,t=Sv,Sv=null,t;return d1&1&&t.tag!==0&&Nc(),a=t.pendingLanes,a&1?t===Iv?_f++:(_f=0,Iv=t):_f=0,dA(),null}function Nc(){if(Vs!==null){var t=H3(d1),e=ma.transition,r=rr;try{if(ma.transition=null,rr=16>t?16:t,Vs===null)var n=!1;else{if(t=Vs,Vs=null,d1=0,Qt&6)throw Error(Le(331));var i=Qt;for(Qt|=4,He=t.current;He!==null;){var a=He,o=a.child;if(He.flags&16){var s=a.deletions;if(s!==null){for(var A=0;A<s.length;A++){var l=s[A];for(He=l;He!==null;){var c=He;switch(c.tag){case 0:case 11:case 15:bf(8,c,a)}var u=c.child;if(u!==null)u.return=c,He=u;else for(;He!==null;){c=He;var h=c.sibling,f=c.return;if(ZC(c),c===l){He=null;break}if(h!==null){h.return=f,He=h;break}He=f}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}He=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,He=o;else e:for(;He!==null;){if(a=He,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bf(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,He=m;break e}He=a.return}}var w=t.current;for(He=w;He!==null;){o=He;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,He=x;else e:for(o=w;He!==null;){if(s=He,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Z1(9,s)}}catch(I){Kr(s,s.return,I)}if(s===o){He=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,He=_;break e}He=s.return}}if(Qt=i,dA(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(G1,t)}catch{}n=!0}return n}finally{rr=r,ma.transition=e}}return!1}function A5(t,e,r){e=Hc(r,e),e=HC(t,e,1),t=Zs(t,e,1),e=fi(),t!==null&&(ud(t,1,e),Ei(t,e))}function Kr(t,e,r){if(t.tag===3)A5(t,t,r);else for(;e!==null;){if(e.tag===3){A5(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(eA===null||!eA.has(n))){t=Hc(r,t),t=KC(e,t,1),e=Zs(e,t,1),t=fi(),e!==null&&(ud(e,1,t),Ei(e,t));break}}e=e.return}}function uN(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=fi(),t.pingedLanes|=t.suspendedLanes&r,Fn===t&&(Vn&r)===r&&(Bn===4||Bn===3&&(Vn&130023424)===Vn&&500>Yr()-Ew?sl(t,0):_w|=r),Ei(t,e)}function l_(t,e){e===0&&(t.mode&1?(e=ch,ch<<=1,!(ch&130023424)&&(ch=4194304)):e=1);var r=fi();t=ns(t,e),t!==null&&(ud(t,e,r),Ei(t,r))}function fN(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),l_(t,r)}function dN(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(e),l_(t,r)}var c_;c_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ci.current)bi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return bi=!1,eN(t,e,r);bi=!!(t.flags&131072)}else bi=!1,Fr&&e.flags&1048576&&hC(e,i1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;E0(t,e),t=e.pendingProps;var i=Qc(e,ii.current);Fc(e,r),i=ww(null,e,n,t,i,r);var a=yw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_i(n)?(a=!0,r1(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hw(e),i.updater=J1,e.stateNode=i,i._reactInternals=e,gv(e,n,t,r),e=wv(null,e,n,!0,a,r)):(e.tag=0,Fr&&a&&sw(e),ui(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(E0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=pN(n),t=ka(n,t),i){case 0:e=mv(null,e,n,t,r);break e;case 1:e=Jx(null,e,n,t,r);break e;case 11:e=Xx(null,e,n,t,r);break e;case 14:e=Yx(null,e,n,ka(n.type,t),r);break e}throw Error(Le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ka(n,i),mv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ka(n,i),Jx(t,e,n,i,r);case 3:e:{if(WC(e),t===null)throw Error(Le(387));n=e.pendingProps,a=e.memoizedState,i=a.element,yC(t,e),s1(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Hc(Error(Le(423)),e),e=Zx(t,e,n,r,i);break e}else if(n!==i){i=Hc(Error(Le(424)),e),e=Zx(t,e,n,r,i);break e}else for(Gi=Js(e.stateNode.containerInfo.firstChild),Wi=e,Fr=!0,Ra=null,r=mC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rc(),n===i){e=is(t,e,r);break e}ui(t,e,n,r)}e=e.child}return e;case 5:return xC(e),t===null&&dv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Av(n,i)?o=null:a!==null&&Av(n,a)&&(e.flags|=32),$C(t,e),ui(t,e,o,r),e.child;case 6:return t===null&&dv(e),null;case 13:return zC(t,e,r);case 4:return pw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=jc(e,null,n,r):ui(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ka(n,i),Xx(t,e,n,i,r);case 7:return ui(t,e,e.pendingProps,r),e.child;case 8:return ui(t,e,e.pendingProps.children,r),e.child;case 12:return ui(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,vr(a1,n._currentValue),n._currentValue=o,a!==null)if(Ga(a.value,o)){if(a.children===i.children&&!Ci.current){e=is(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var A=s.firstContext;A!==null;){if(A.context===n){if(a.tag===1){A=Yo(-1,r&-r),A.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?A.next=A:(A.next=c.next,c.next=A),l.pending=A}}a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),hv(a.return,r,e),s.lanes|=r;break}A=A.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Le(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),hv(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ui(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Fc(e,r),i=wa(i),n=n(i),e.flags|=1,ui(t,e,n,r),e.child;case 14:return n=e.type,i=ka(n,e.pendingProps),i=ka(n.type,i),Yx(t,e,n,i,r);case 15:return VC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ka(n,i),E0(t,e),e.tag=1,_i(n)?(t=!0,r1(e)):t=!1,Fc(e,r),MC(e,n,i),gv(e,n,i,r),wv(null,e,n,!0,t,r);case 19:return qC(t,e,r);case 22:return GC(t,e,r)}throw Error(Le(156,e.tag))};function u_(t,e){return Q3(t,e)}function hN(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(t,e,r,n){return new hN(t,e,r,n)}function Nw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pN(t){if(typeof t=="function")return Nw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qm)return 11;if(t===Xm)return 14}return 2}function rA(t,e){var r=t.alternate;return r===null?(r=ha(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function F0(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Nw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cc:return Al(r.children,i,a,e);case zm:o=8,i|=8;break;case j2:return t=ha(12,r,e,i|2),t.elementType=j2,t.lanes=a,t;case M2:return t=ha(13,r,e,i),t.elementType=M2,t.lanes=a,t;case H2:return t=ha(19,r,e,i),t.elementType=H2,t.lanes=a,t;case x3:return tp(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w3:o=10;break e;case y3:o=9;break e;case qm:o=11;break e;case Xm:o=14;break e;case Ds:o=16,n=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=ha(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Al(t,e,r,n){return t=ha(7,t,n,e),t.lanes=r,t}function tp(t,e,r,n){return t=ha(22,t,n,e),t.elementType=x3,t.lanes=r,t.stateNode={isHidden:!1},t}function Ng(t,e,r){return t=ha(6,t,null,e),t.lanes=r,t}function Ug(t,e,r){return e=ha(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gN(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ug(0),this.expirationTimes=ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ug(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uw(t,e,r,n,i,a,o,s,A){return t=new gN(t,e,r,s,A),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ha(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hw(a),t}function vN(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function f_(t){if(!t)return AA;t=t._reactInternals;e:{if(xl(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var r=t.type;if(_i(r))return fC(t,r,e)}return e}function d_(t,e,r,n,i,a,o,s,A){return t=Uw(r,n,!0,t,i,a,o,s,A),t.context=f_(null),r=t.current,n=fi(),i=tA(r),a=Yo(n,i),a.callback=e??null,Zs(r,a,i),t.current.lanes=i,ud(t,i,n),Ei(t,n),t}function rp(t,e,r,n){var i=e.current,a=fi(),o=tA(i);return r=f_(r),e.context===null?e.context=r:e.pendingContext=r,e=Yo(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Zs(i,e,o),t!==null&&(Ka(t,i,o,a),b0(t,i,o)),o}function p1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Tw(t,e){l5(t,e),(t=t.alternate)&&l5(t,e)}function mN(){return null}var h_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lw(t){this._internalRoot=t}np.prototype.render=Lw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));rp(t,e,null,null)};np.prototype.unmount=Lw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vl(function(){rp(null,t,null,null)}),e[rs]=null}};function np(t){this._internalRoot=t}np.prototype.unstable_scheduleHydration=function(t){if(t){var e=G3();t={blockedOn:null,target:t,priority:e};for(var r=0;r<js.length&&e!==0&&e<js[r].priority;r++);js.splice(r,0,t),r===0&&W3(t)}};function Ow(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c5(){}function wN(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var l=p1(o);a.call(l)}}var o=d_(e,n,t,0,null,!1,!1,"",c5);return t._reactRootContainer=o,t[rs]=o.current,Vf(t.nodeType===8?t.parentNode:t),vl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var l=p1(A);s.call(l)}}var A=Uw(t,0,!1,null,null,!1,!1,"",c5);return t._reactRootContainer=A,t[rs]=A.current,Vf(t.nodeType===8?t.parentNode:t),vl(function(){rp(e,A,r,n)}),A}function ap(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var A=p1(o);s.call(A)}}rp(e,o,t,i)}else o=wN(r,e,t,i,n);return p1(o)}K3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=rf(e.pendingLanes);r!==0&&(Zm(e,r|1),Ei(e,Yr()),!(Qt&6)&&(Kc=Yr()+500,dA()))}break;case 13:vl(function(){var n=ns(t,1);if(n!==null){var i=fi();Ka(n,t,1,i)}}),Tw(t,1)}};ew=function(t){if(t.tag===13){var e=ns(t,134217728);if(e!==null){var r=fi();Ka(e,t,134217728,r)}Tw(t,134217728)}};V3=function(t){if(t.tag===13){var e=tA(t),r=ns(t,e);if(r!==null){var n=fi();Ka(r,t,e,n)}Tw(t,e)}};G3=function(){return rr};$3=function(t,e){var r=rr;try{return rr=t,e()}finally{rr=r}};J2=function(t,e,r){switch(e){case"input":if(G2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=q1(n);if(!i)throw Error(Le(90));b3(n),G2(n,i)}}}break;case"textarea":_3(t,r);break;case"select":e=r.value,e!=null&&_c(t,!!r.multiple,e,!1)}};T3=Sw;L3=vl;var yN={usingClientEntryPoint:!1,Events:[dd,hc,q1,N3,U3,Sw]},Ku={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xN={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D3(t),t===null?null:t.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||mN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{G1=xh.inject(xN),go=xh}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yN;qi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ow(e))throw Error(Le(200));return vN(t,e,null,r)};qi.createRoot=function(t,e){if(!Ow(t))throw Error(Le(299));var r=!1,n="",i=h_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uw(t,1,!1,null,null,r,!1,n,i),t[rs]=e.current,Vf(t.nodeType===8?t.parentNode:t),new Lw(e)};qi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=D3(e),t=t===null?null:t.stateNode,t};qi.flushSync=function(t){return vl(t)};qi.hydrate=function(t,e,r){if(!ip(e))throw Error(Le(200));return ap(null,t,e,!0,r)};qi.hydrateRoot=function(t,e,r){if(!Ow(t))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=h_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=d_(e,null,t,1,r??null,i,!1,a,o),t[rs]=e.current,Vf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new np(e)};qi.render=function(t,e,r){if(!ip(e))throw Error(Le(200));return ap(null,t,e,!1,r)};qi.unmountComponentAtNode=function(t){if(!ip(t))throw Error(Le(40));return t._reactRootContainer?(vl(function(){ap(null,null,t,!1,function(){t._reactRootContainer=null,t[rs]=null})}),!0):!1};qi.unstable_batchedUpdates=Sw;qi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ip(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return ap(t,e,r,!1,n)};qi.version="18.3.1-next-f1338f8080-20240426";function p_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p_)}catch(t){console.error(t)}}p_(),p3.exports=qi;var BN=p3.exports,u5=BN;Q2.createRoot=u5.createRoot,Q2.hydrateRoot=u5.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var f5="popstate";function bN(t={}){function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return Uv("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Zf(i)}return _N(e,r,null,t)}function Nr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $a(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CN(){return Math.random().toString(36).substring(2,10)}function d5(t,e){return{usr:t.state,key:t.key,idx:e}}function Uv(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jc(e):e,state:r,key:e&&e.key||n||CN()}}function Zf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Jc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function _N(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",A=null,l=c();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function c(){return(o.state||{idx:null}).idx}function u(){s="POP";let b=c(),m=b==null?null:b-l;l=b,A&&A({action:s,location:y.location,delta:m})}function h(b,m){s="PUSH";let w=Uv(y.location,b,m);l=c()+1;let x=d5(w,l),_=y.createHref(w);try{o.pushState(x,"",_)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(_)}a&&A&&A({action:s,location:y.location,delta:1})}function f(b,m){s="REPLACE";let w=Uv(y.location,b,m);l=c();let x=d5(w,l),_=y.createHref(w);o.replaceState(x,"",_),a&&A&&A({action:s,location:y.location,delta:0})}function g(b){return EN(b)}let y={get action(){return s},get location(){return t(i,o)},listen(b){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(f5,u),A=b,()=>{i.removeEventListener(f5,u),A=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(b){return o.go(b)}};return y}function EN(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Nr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Zf(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function g_(t,e,r="/"){return SN(t,e,r,!1)}function SN(t,e,r,n){let i=typeof e=="string"?Jc(e):e,a=as(i.pathname||"/",r);if(a==null)return null;let o=v_(t);IN(o);let s=null;for(let A=0;s==null&&A<o.length;++A){let l=RN(a);s=PN(o[A],l,n)}return s}function v_(t,e=[],r=[],n="",i=!1){let a=(o,s,A=i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&A)return;Nr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let u=Jo([n,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(Nr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),v_(o.children,e,h,u,A)),!(o.path==null&&!o.index)&&e.push({path:u,score:kN(u,o.index),routesMeta:h})};return t.forEach((o,s)=>{var A;if(o.path===""||!((A=o.path)!=null&&A.includes("?")))a(o,s);else for(let l of m_(o.path))a(o,s,!0,l)}),e}function m_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=m_(n.join("/")),s=[];return s.push(...o.map(A=>A===""?a:[a,A].join("/"))),i&&s.push(...o),s.map(A=>t.startsWith("/")&&A===""?"/":A)}function IN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:DN(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var FN=/^:[\w-]+$/,NN=3,UN=2,TN=1,LN=10,ON=-2,h5=t=>t==="*";function kN(t,e){let r=t.split("/"),n=r.length;return r.some(h5)&&(n+=ON),e&&(n+=UN),r.filter(i=>!h5(i)).reduce((i,a)=>i+(FN.test(a)?NN:a===""?TN:LN),n)}function DN(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function PN(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let A=n[s],l=s===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",u=g1({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},c),h=A.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=g1({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Jo([a,u.pathname]),pathnameBase:KN(Jo([a,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(a=Jo([a,u.pathnameBase]))}return o}function g1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=QN(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((l,{paramName:c,isOptional:u},h)=>{if(c==="*"){let g=s[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const f=s[h];return u&&!f?l[c]=void 0:l[c]=(f||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:o,pattern:t}}function QN(t,e=!1,r=!0){$a(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,A)=>(n.push({paramName:s,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function RN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $a(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function as(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function jN(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Jc(t):t;return{pathname:r?r.startsWith("/")?r:MN(r,e):e,search:VN(n),hash:GN(i)}}function MN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Tg(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HN(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kw(t){let e=HN(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Dw(t,e,r,n=!1){let i;typeof t=="string"?i=Jc(t):(i={...t},Nr(!i.pathname||!i.pathname.includes("?"),Tg("?","pathname","search",i)),Nr(!i.pathname||!i.pathname.includes("#"),Tg("#","pathname","hash",i)),Nr(!i.search||!i.search.includes("#"),Tg("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let u=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),u-=1;i.pathname=h.join("/")}s=u>=0?e[u]:"/"}let A=jN(i,s),l=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||c)&&(A.pathname+="/"),A}var Jo=t=>t.join("/").replace(/\/\/+/g,"/"),KN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $N(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var w_=["POST","PUT","PATCH","DELETE"];new Set(w_);var WN=["GET",...w_];new Set(WN);var Zc=Y.createContext(null);Zc.displayName="DataRouter";var op=Y.createContext(null);op.displayName="DataRouterState";Y.createContext(!1);var y_=Y.createContext({isTransitioning:!1});y_.displayName="ViewTransition";var zN=Y.createContext(new Map);zN.displayName="Fetchers";var qN=Y.createContext(null);qN.displayName="Await";var za=Y.createContext(null);za.displayName="Navigation";var pd=Y.createContext(null);pd.displayName="Location";var Bo=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Bo.displayName="Route";var Pw=Y.createContext(null);Pw.displayName="RouteError";function XN(t,{relative:e}={}){Nr(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Y.useContext(za),{hash:i,pathname:a,search:o}=gd(t,{relative:e}),s=a;return r!=="/"&&(s=a==="/"?r:Jo([r,a])),n.createHref({pathname:s,search:o,hash:i})}function eu(){return Y.useContext(pd)!=null}function As(){return Nr(eu(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(pd).location}var x_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B_(t){Y.useContext(za).static||Y.useLayoutEffect(t)}function Bl(){let{isDataRoute:t}=Y.useContext(Bo);return t?l7():YN()}function YN(){Nr(eu(),"useNavigate() may be used only in the context of a <Router> component.");let t=Y.useContext(Zc),{basename:e,navigator:r}=Y.useContext(za),{matches:n}=Y.useContext(Bo),{pathname:i}=As(),a=JSON.stringify(kw(n)),o=Y.useRef(!1);return B_(()=>{o.current=!0}),Y.useCallback((A,l={})=>{if($a(o.current,x_),!o.current)return;if(typeof A=="number"){r.go(A);return}let c=Dw(A,JSON.parse(a),i,l.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Jo([e,c.pathname])),(l.replace?r.replace:r.push)(c,l.state,l)},[e,r,a,i,t])}Y.createContext(null);function gd(t,{relative:e}={}){let{matches:r}=Y.useContext(Bo),{pathname:n}=As(),i=JSON.stringify(kw(r));return Y.useMemo(()=>Dw(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function JN(t,e){return b_(t,e)}function b_(t,e,r,n,i){var w;Nr(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Y.useContext(za),{matches:o}=Y.useContext(Bo),s=o[o.length-1],A=s?s.params:{},l=s?s.pathname:"/",c=s?s.pathnameBase:"/",u=s&&s.route;{let x=u&&u.path||"";C_(l,!u||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=As(),f;if(e){let x=typeof e=="string"?Jc(e):e;Nr(c==="/"||((w=x.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),f=x}else f=h;let g=f.pathname||"/",y=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=g_(t,{pathname:y});$a(u||b!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),$a(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=n7(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},A,x.params),pathname:Jo([c,a.encodeLocation?a.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Jo([c,a.encodeLocation?a.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,r,n,i);return e&&m?Y.createElement(pd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},m):m}function ZN(){let t=A7(),e=$N(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:a},"ErrorBoundary")," or"," ",Y.createElement("code",{style:a},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),r?Y.createElement("pre",{style:i},r):null,o)}var e7=Y.createElement(ZN,null),t7=class extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?Y.createElement(Bo.Provider,{value:this.props.routeContext},Y.createElement(Pw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r7({routeContext:t,match:e,children:r}){let n=Y.useContext(Zc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Bo.Provider,{value:t},r)}function n7(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r==null?void 0:r.errors;if(o!=null){let l=a.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Nr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let s=!1,A=-1;if(r)for(let l=0;l<a.length;l++){let c=a[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(A=l),c.route.id){let{loaderData:u,errors:h}=r,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){s=!0,A>=0?a=a.slice(0,A+1):a=[a[0]];break}}}return a.reduceRight((l,c,u)=>{let h,f=!1,g=null,y=null;r&&(h=o&&c.route.id?o[c.route.id]:void 0,g=c.route.errorElement||e7,s&&(A<0&&u===0?(C_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):A===u&&(f=!0,y=c.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,u+1)),m=()=>{let w;return h?w=g:f?w=y:c.route.Component?w=Y.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,Y.createElement(r7,{match:c,routeContext:{outlet:l,matches:b,isDataRoute:r!=null},children:w})};return r&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?Y.createElement(t7,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:m(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):m()},null)}function Qw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i7(t){let e=Y.useContext(Zc);return Nr(e,Qw(t)),e}function a7(t){let e=Y.useContext(op);return Nr(e,Qw(t)),e}function o7(t){let e=Y.useContext(Bo);return Nr(e,Qw(t)),e}function Rw(t){let e=o7(t),r=e.matches[e.matches.length-1];return Nr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function s7(){return Rw("useRouteId")}function A7(){var n;let t=Y.useContext(Pw),e=a7("useRouteError"),r=Rw("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function l7(){let{router:t}=i7("useNavigate"),e=Rw("useNavigate"),r=Y.useRef(!1);return B_(()=>{r.current=!0}),Y.useCallback(async(i,a={})=>{$a(r.current,x_),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var p5={};function C_(t,e,r){!e&&!p5[t]&&(p5[t]=!0,$a(!1,r))}Y.memo(c7);function c7({routes:t,future:e,state:r,unstable_onError:n}){return b_(t,void 0,r,n,e)}function v1({to:t,replace:e,state:r,relative:n}){Nr(eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Y.useContext(za);$a(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Y.useContext(Bo),{pathname:o}=As(),s=Bl(),A=Dw(t,kw(a),o,n==="path"),l=JSON.stringify(A);return Y.useEffect(()=>{s(JSON.parse(l),{replace:e,state:r,relative:n})},[s,l,n,e,r]),null}function Ir(t){Nr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u7({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Nr(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=Y.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=Jc(r));let{pathname:A="/",search:l="",hash:c="",state:u=null,key:h="default"}=r,f=Y.useMemo(()=>{let g=as(A,o);return g==null?null:{location:{pathname:g,search:l,hash:c,state:u,key:h},navigationType:n}},[o,A,l,c,u,h,n]);return $a(f!=null,`<Router basename="${o}"> is not able to match the URL "${A}${l}${c}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:Y.createElement(za.Provider,{value:s},Y.createElement(pd.Provider,{children:e,value:f}))}function f7({children:t,location:e}){return JN(Tv(t),e)}function Tv(t,e=[]){let r=[];return Y.Children.forEach(t,(n,i)=>{if(!Y.isValidElement(n))return;let a=[...e,i];if(n.type===Y.Fragment){r.push.apply(r,Tv(n.props.children,a));return}Nr(n.type===Ir,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Tv(n.props.children,a)),r.push(o)}),r}var N0="get",U0="application/x-www-form-urlencoded";function sp(t){return t!=null&&typeof t.tagName=="string"}function d7(t){return sp(t)&&t.tagName.toLowerCase()==="button"}function h7(t){return sp(t)&&t.tagName.toLowerCase()==="form"}function p7(t){return sp(t)&&t.tagName.toLowerCase()==="input"}function g7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v7(t,e){return t.button===0&&(!e||e==="_self")&&!g7(t)}var Bh=null;function m7(){if(Bh===null)try{new FormData(document.createElement("form"),0),Bh=!1}catch{Bh=!0}return Bh}var w7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lg(t){return t!=null&&!w7.has(t)?($a(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${U0}"`),null):t}function y7(t,e){let r,n,i,a,o;if(h7(t)){let s=t.getAttribute("action");n=s?as(s,e):null,r=t.getAttribute("method")||N0,i=Lg(t.getAttribute("enctype"))||U0,a=new FormData(t)}else if(d7(t)||p7(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let A=t.getAttribute("formaction")||s.getAttribute("action");if(n=A?as(A,e):null,r=t.getAttribute("formmethod")||s.getAttribute("method")||N0,i=Lg(t.getAttribute("formenctype"))||Lg(s.getAttribute("enctype"))||U0,a=new FormData(s,t),!m7()){let{name:l,type:c,value:u}=t;if(c==="image"){let h=l?`${l}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else l&&a.append(l,u)}}else{if(sp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=N0,n=null,i=U0,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x7(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&as(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function B7(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function C7(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await B7(a,r);return o.links?o.links():[]}return[]}));return I7(n.flat(1).filter(b7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function g5(t,e,r,n,i,a){let o=(A,l)=>r[l]?A.route.id!==r[l].route.id:!0,s=(A,l)=>{var c;return r[l].pathname!==A.pathname||((c=r[l].route.path)==null?void 0:c.endsWith("*"))&&r[l].params["*"]!==A.params["*"]};return a==="assets"?e.filter((A,l)=>o(A,l)||s(A,l)):a==="data"?e.filter((A,l)=>{var u;let c=n.routes[A.route.id];if(!c||!c.hasLoader)return!1;if(o(A,l)||s(A,l))return!0;if(A.route.shouldRevalidate){let h=A.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((u=r[0])==null?void 0:u.params)||{},nextUrl:new URL(t,window.origin),nextParams:A.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function _7(t,e,{includeHydrateFallback:r}={}){return E7(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function E7(t){return[...new Set(t)]}function S7(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function I7(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(S7(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function __(){let t=Y.useContext(Zc);return jw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function F7(){let t=Y.useContext(op);return jw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mw=Y.createContext(void 0);Mw.displayName="FrameworkContext";function E_(){let t=Y.useContext(Mw);return jw(t,"You must render this element inside a <HydratedRouter> element"),t}function N7(t,e){let r=Y.useContext(Mw),[n,i]=Y.useState(!1),[a,o]=Y.useState(!1),{onFocus:s,onBlur:A,onMouseEnter:l,onMouseLeave:c,onTouchStart:u}=e,h=Y.useRef(null);Y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=m=>{m.forEach(w=>{o(w.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[t]),Y.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let f=()=>{i(!0)},g=()=>{i(!1),o(!1)};return r?t!=="intent"?[a,h,{}]:[a,h,{onFocus:Vu(s,f),onBlur:Vu(A,g),onMouseEnter:Vu(l,f),onMouseLeave:Vu(c,g),onTouchStart:Vu(u,f)}]:[!1,h,{}]}function Vu(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function U7({page:t,...e}){let{router:r}=__(),n=Y.useMemo(()=>g_(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?Y.createElement(L7,{page:t,matches:n,...e}):null}function T7(t){let{manifest:e,routeModules:r}=E_(),[n,i]=Y.useState([]);return Y.useEffect(()=>{let a=!1;return C7(t,e,r).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,r]),n}function L7({page:t,matches:e,...r}){let n=As(),{manifest:i,routeModules:a}=E_(),{basename:o}=__(),{loaderData:s,matches:A}=F7(),l=Y.useMemo(()=>g5(t,e,A,i,n,"data"),[t,e,A,i,n]),c=Y.useMemo(()=>g5(t,e,A,i,n,"assets"),[t,e,A,i,n]),u=Y.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(e.forEach(m=>{var x;let w=i.routes[m.route.id];!w||!w.hasLoader||(!l.some(_=>_.route.id===m.route.id)&&m.route.id in s&&((x=a[m.route.id])!=null&&x.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(m.route.id))}),g.size===0)return[];let b=x7(t,o,"data");return y&&g.size>0&&b.searchParams.set("_routes",e.filter(m=>g.has(m.route.id)).map(m=>m.route.id).join(",")),[b.pathname+b.search]},[o,s,n,i,l,e,t,a]),h=Y.useMemo(()=>_7(c,i),[c,i]),f=T7(c);return Y.createElement(Y.Fragment,null,u.map(g=>Y.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>Y.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),f.map(({key:g,link:y})=>Y.createElement("link",{key:g,nonce:r.nonce,...y})))}function O7(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var S_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S_&&(window.__reactRouterVersion="7.9.4")}catch{}function k7({basename:t,children:e,window:r}){let n=Y.useRef();n.current==null&&(n.current=bN({window:r,v5Compat:!0}));let i=n.current,[a,o]=Y.useState({action:i.action,location:i.location}),s=Y.useCallback(A=>{Y.startTransition(()=>o(A))},[o]);return Y.useLayoutEffect(()=>i.listen(s),[i,s]),Y.createElement(u7,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var I_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ed=Y.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:A,to:l,preventScrollReset:c,viewTransition:u,...h},f){let{basename:g}=Y.useContext(za),y=typeof l=="string"&&I_.test(l),b,m=!1;if(typeof l=="string"&&y&&(b=l,S_))try{let T=new URL(window.location.href),H=l.startsWith("//")?new URL(T.protocol+l):new URL(l),S=as(H.pathname,g);H.origin===T.origin&&S!=null?l=S+H.search+H.hash:m=!0}catch{$a(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=XN(l,{relative:i}),[x,_,I]=N7(n,h),L=R7(l,{replace:o,state:s,target:A,preventScrollReset:c,relative:i,viewTransition:u});function U(T){e&&e(T),T.defaultPrevented||L(T)}let D=Y.createElement("a",{...h,...I,href:b||w,onClick:m||a?e:U,ref:O7(f,_),target:A,"data-discover":!y&&r==="render"?"true":void 0});return x&&!y?Y.createElement(Y.Fragment,null,D,Y.createElement(U7,{page:w})):D});ed.displayName="Link";var D7=Y.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:A,...l},c){let u=gd(o,{relative:l.relative}),h=As(),f=Y.useContext(op),{navigator:g,basename:y}=Y.useContext(za),b=f!=null&&V7(u)&&s===!0,m=g.encodeLocation?g.encodeLocation(u).pathname:u.pathname,w=h.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(w=w.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase()),x&&y&&(x=as(x,y)||x);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let I=w===m||!i&&w.startsWith(m)&&w.charAt(_)==="/",L=x!=null&&(x===m||!i&&x.startsWith(m)&&x.charAt(m.length)==="/"),U={isActive:I,isPending:L,isTransitioning:b},D=I?e:void 0,T;typeof n=="function"?T=n(U):T=[n,I?"active":null,L?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(U):a;return Y.createElement(ed,{...l,"aria-current":D,className:T,ref:c,style:H,to:o,viewTransition:s},typeof A=="function"?A(U):A)});D7.displayName="NavLink";var P7=Y.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:o=N0,action:s,onSubmit:A,relative:l,preventScrollReset:c,viewTransition:u,...h},f)=>{let g=H7(),y=K7(s,{relative:l}),b=o.toLowerCase()==="get"?"get":"post",m=typeof s=="string"&&I_.test(s),w=x=>{if(A&&A(x),x.defaultPrevented)return;x.preventDefault();let _=x.nativeEvent.submitter,I=(_==null?void 0:_.getAttribute("formmethod"))||o;g(_||x.currentTarget,{fetcherKey:e,method:I,navigate:r,replace:i,state:a,relative:l,preventScrollReset:c,viewTransition:u})};return Y.createElement("form",{ref:f,method:b,action:y,onSubmit:n?A:w,...h,"data-discover":!m&&t==="render"?"true":void 0})});P7.displayName="Form";function Q7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F_(t){let e=Y.useContext(Zc);return Nr(e,Q7(t)),e}function R7(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Bl(),A=As(),l=gd(t,{relative:a});return Y.useCallback(c=>{if(v7(c,e)){c.preventDefault();let u=r!==void 0?r:Zf(A)===Zf(l);s(t,{replace:u,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[A,s,l,r,n,e,t,i,a,o])}var j7=0,M7=()=>`__${String(++j7)}__`;function H7(){let{router:t}=F_("useSubmit"),{basename:e}=Y.useContext(za),r=s7();return Y.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:A,body:l}=y7(n,e);if(i.navigate===!1){let c=i.fetcherKey||M7();await t.fetch(c,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:A,body:l,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:A,body:l,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function K7(t,{relative:e}={}){let{basename:r}=Y.useContext(za),n=Y.useContext(Bo);Nr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...gd(t||".",{relative:e})},o=As();if(t==null){a.search=o.search;let s=new URLSearchParams(a.search),A=s.getAll("index");if(A.some(c=>c==="")){s.delete("index"),A.filter(u=>u).forEach(u=>s.append("index",u));let c=s.toString();a.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Jo([r,a.pathname])),Zf(a)}function V7(t,{relative:e}={}){let r=Y.useContext(y_);Nr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=F_("useViewTransitionState"),i=gd(t,{relative:e});if(!r.isTransitioning)return!1;let a=as(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=as(r.nextLocation.pathname,n)||r.nextLocation.pathname;return g1(i.pathname,o)!=null||g1(i.pathname,a)!=null}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),v5=t=>{const e=$7(t);return e.charAt(0).toUpperCase()+e.slice(1)},N_=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),W7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=Y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},A)=>Y.createElement("svg",{ref:A,...z7,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:N_("lucide",i),...!a&&!W7(s)&&{"aria-hidden":"true"},...s},[...o.map(([l,c])=>Y.createElement(l,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const r=Y.forwardRef(({className:n,...i},a)=>Y.createElement(q7,{ref:a,iconNode:e,className:N_(`lucide-${G7(v5(t))}`,`lucide-${t}`,n),...i}));return r.displayName=v5(t),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Y7=lt("arrow-left",X7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Z7=lt("bell",J7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],tU=lt("bot",eU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],nU=lt("building",rU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],aU=lt("calculator",iU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],m1=lt("calendar",oU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],AU=lt("camera",sU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],cU=lt("chart-bar",lU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],w1=lt("chart-column",uU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dU=lt("chevron-down",fU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pU=lt("chevron-right",hU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lv=lt("circle-alert",gU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],mU=lt("circle-user",vU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],yU=lt("credit-card",wU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Hw=lt("dollar-sign",xU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bU=lt("download",BU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],m5=lt("file-text",CU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],EU=lt("list",_U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],U_=lt("lock",SU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FU=lt("log-out",IU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],UU=lt("map-pin",NU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],LU=lt("maximize",TU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kU=lt("menu",OU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],T_=lt("message-square",DU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Va=lt("package",PU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],RU=lt("pen-line",QU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],MU=lt("percent",jU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wo=lt("plus",HU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],L_=lt("printer",KU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],GU=lt("rotate-ccw",VU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],WU=lt("scale",$U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],qU=lt("scan",zU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tu=lt("search",XU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JU=lt("send",YU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eT=lt("settings",ZU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rT=lt("shield",tT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vc=lt("shopping-cart",nT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ap=lt("square-pen",iT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],w5=lt("store",aT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],y5=lt("toggle-left",oT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Og=lt("toggle-right",sT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vd=lt("trash-2",AT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],O_=lt("trending-down",lT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],y1=lt("trending-up",cT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],k_=lt("truck",uT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],td=lt("user",fT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],x1=lt("users",dT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],D_=lt("wallet",hT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],B1=lt("wifi-off",pT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],P_=lt("wifi",gT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yo=lt("x",vT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wT=lt("zap",mT),x5=t=>{let e;const r=new Set,n=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const h=e;e=c??(typeof u!="object"||u===null)?u:Object.assign({},e,u),r.forEach(f=>f(e,h))}},i=()=>e,s={setState:n,getState:i,getInitialState:()=>A,subscribe:l=>(r.add(l),()=>r.delete(l))},A=e=t(n,i,s);return s},yT=t=>t?x5(t):x5,xT=t=>t;function BT(t,e=xT){const r=Ac.useSyncExternalStore(t.subscribe,Ac.useCallback(()=>e(t.getState()),[t,e]),Ac.useCallback(()=>e(t.getInitialState()),[t,e]));return Ac.useDebugValue(r),r}const B5=t=>{const e=yT(t),r=n=>BT(e,n);return Object.assign(r,e),r},bT=t=>t?B5(t):B5;var Ov=function(t,e){return Ov=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ov(t,e)};function Q_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ov(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b1=function(){return b1=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b1.apply(this,arguments)};function ru(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function R_(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function j_(t,e){return function(r,n){e(r,n,t)}}function M_(t,e,r,n,i,a){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var s=n.kind,A=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,c=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,h=!1,f=r.length-1;f>=0;f--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(m||null))};var b=(0,r[f])(s==="accessor"?{get:c.get,set:c.set}:c[A],g);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(u=o(b.get))&&(c.get=u),(u=o(b.set))&&(c.set=u),(u=o(b.init))&&i.unshift(u)}else(u=o(b))&&(s==="field"?i.unshift(u):c[A]=u)}l&&Object.defineProperty(l,n.name,c),h=!0}function H_(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function K_(t){return typeof t=="symbol"?t:"".concat(t)}function V_(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function G_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ye(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(u){o(u)}}function A(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){c.done?a(c.value):i(c.value).then(s,A)}l((n=n.apply(t,e||[])).next())})}function $_(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var lp=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function W_(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lp(e,t,r)}function C1(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function z_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kw(arguments[e]));return t}function q_(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function X_(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Gc(t){return this instanceof Gc?(this.v=t,this):new Gc(t)}function Y_(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(g){return Promise.resolve(g).then(f,u)}}function s(f,g){n[f]&&(i[f]=function(y){return new Promise(function(b,m){a.push([f,y,b,m])>1||A(f,y)})},g&&(i[f]=g(i[f])))}function A(f,g){try{l(n[f](g))}catch(y){h(a[0][3],y)}}function l(f){f.value instanceof Gc?Promise.resolve(f.value.v).then(c,u):h(a[0][2],f)}function c(f){A("next",f)}function u(f){A("throw",f)}function h(f,g){f(g),a.shift(),a.length&&A(a[0][0],a[0][1])}}function J_(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:Gc(t[i](o)),done:!1}:a?a(o):o}:a}}function Z_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof C1=="function"?C1(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,A){o=t[a](o),i(s,A,o.done,o.value)})}}function i(a,o,s,A){Promise.resolve(A).then(function(l){a({value:l,done:s})},o)}}function eE(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var CT=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},kv=function(t){return kv=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},kv(t)};function tE(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=kv(t),n=0;n<r.length;n++)r[n]!=="default"&&lp(e,t,r[n]);return CT(e,t),e}function rE(t){return t&&t.__esModule?t:{default:t}}function nE(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function iE(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function aE(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function oE(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var _T=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function sE(t){function e(a){t.error=t.hasError?new _T(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function AE(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?e?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):t}const ET={__extends:Q_,__assign:b1,__rest:ru,__decorate:R_,__param:j_,__esDecorate:M_,__runInitializers:H_,__propKey:K_,__setFunctionName:V_,__metadata:G_,__awaiter:Ye,__generator:$_,__createBinding:lp,__exportStar:W_,__values:C1,__read:Kw,__spread:z_,__spreadArrays:q_,__spreadArray:X_,__await:Gc,__asyncGenerator:Y_,__asyncDelegator:J_,__asyncValues:Z_,__makeTemplateObject:eE,__importStar:tE,__importDefault:rE,__classPrivateFieldGet:nE,__classPrivateFieldSet:iE,__classPrivateFieldIn:aE,__addDisposableResource:oE,__disposeResources:sE,__rewriteRelativeImportExtension:AE},ST=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:oE,get __assign(){return b1},__asyncDelegator:J_,__asyncGenerator:Y_,__asyncValues:Z_,__await:Gc,__awaiter:Ye,__classPrivateFieldGet:nE,__classPrivateFieldIn:aE,__classPrivateFieldSet:iE,__createBinding:lp,__decorate:R_,__disposeResources:sE,__esDecorate:M_,__exportStar:W_,__extends:Q_,__generator:$_,__importDefault:rE,__importStar:tE,__makeTemplateObject:eE,__metadata:G_,__param:j_,__propKey:K_,__read:Kw,__rest:ru,__rewriteRelativeImportExtension:AE,__runInitializers:H_,__setFunctionName:V_,__spread:z_,__spreadArray:X_,__spreadArrays:q_,__values:C1,default:ET},Symbol.toStringTag,{value:"Module"})),IT="modulepreload",FT=function(t){return"/"+t},b5={},Zo=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=FT(A),A in b5)return;b5[A]=!0;const l=A.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":IT,l||(u.as="script"),u.crossOrigin="",u.href=A,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${A}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},NT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Zo(async()=>{const{default:n}=await Promise.resolve().then(()=>bl);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Vw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class C5 extends Vw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _5 extends Vw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class E5 extends Vw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Dv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Dv||(Dv={}));class UT{constructor(e,{headers:r={},customFetch:n,region:i=Dv.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=NT(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ye(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:o,body:s,signal:A}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${r}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(l["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(l["Content-Type"]="application/json",h=JSON.stringify(s)):h=s;const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:h,signal:A}).catch(m=>{throw m.name==="AbortError"?m:new C5(m)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new _5(f);if(!f.ok)throw new E5(f);let y=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield f.json():y==="application/octet-stream"||y==="application/pdf"?b=yield f.blob():y==="text/event-stream"?b=f:y==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new C5(a)}:{data:null,error:a,response:a instanceof E5||a instanceof _5?a.context:void 0}}})}}var xi={};const nu=n3(ST);var bh={},Ch={},_h={},Eh={},Sh={},TT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$c=TT();const LT=$c.fetch,lE=$c.fetch.bind($c),cE=$c.Headers,OT=$c.Request,kT=$c.Response,bl=Object.freeze(Object.defineProperty({__proto__:null,Headers:cE,Request:OT,Response:kT,default:lE,fetch:LT},Symbol.toStringTag,{value:"Module"})),DT=n3(bl);var Ih={},S5;function uE(){if(S5)return Ih;S5=1,Object.defineProperty(Ih,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ih.default=t,Ih}var I5;function fE(){if(I5)return Sh;I5=1,Object.defineProperty(Sh,"__esModule",{value:!0});const t=nu,e=t.__importDefault(DT),r=t.__importDefault(uE());class n{constructor(a){var o,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let A=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,f;let g=null,y=null,b=null,m=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const L=await l.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=L:y=JSON.parse(L))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),I=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&I&&I.length>1&&(b=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,m=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{g=JSON.parse(_),Array.isArray(g)&&l.status===404&&(y=[],g=null,m=200,w="OK")}catch{l.status===404&&_===""?(m=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((f=g==null?void 0:g.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,m=200,w="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:y,count:b,status:m,statusText:w}});return this.shouldThrowOnError||(A=A.catch(l=>{var c,u,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),A.then(a,o)}returns(){return this}overrideTypes(){return this}}return Sh.default=n,Sh}var F5;function dE(){if(F5)return Eh;F5=1,Object.defineProperty(Eh,"__esModule",{value:!0});const e=nu.__importDefault(fE());class r extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:A=s}={}){const l=A?`${A}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const A=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(A,`${i}`),this.url.searchParams.set(l,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:A=!1,format:l="text"}={}){var c;const u=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,A?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Eh.default=r,Eh}var N5;function Gw(){if(N5)return _h;N5=1,Object.defineProperty(_h,"__esModule",{value:!0});const e=nu.__importDefault(dE());class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:s}={}){let A="";s==="plain"?A="pl":s==="phrase"?A="ph":s==="websearch"&&(A="w");const l=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${A}fts${l}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return _h.default=r,_h}var U5;function hE(){if(U5)return Ch;U5=1,Object.defineProperty(Ch,"__esModule",{value:!0});const e=nu.__importDefault(Gw());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},A=o?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:A,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const A="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const l=i.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:A=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),A||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ch.default=r,Ch}var T5;function PT(){if(T5)return bh;T5=1,Object.defineProperty(bh,"__esModule",{value:!0});const t=nu,e=t.__importDefault(hE()),r=t.__importDefault(Gw());class n{constructor(a,{headers:o={},schema:s,fetch:A}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=A}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:A=!1,count:l}={}){var c;let u;const h=new URL(`${this.url}/rpc/${a}`);let f;s||A?(u=s?"HEAD":"GET",Object.entries(o).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{h.searchParams.append(y,b)})):(u="POST",f=o);const g=new Headers(this.headers);return l&&g.set("Prefer",`count=${l}`),new r.default({method:u,url:h,headers:g,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return bh.default=n,bh}Object.defineProperty(xi,"__esModule",{value:!0});xi.PostgrestError=xi.PostgrestBuilder=xi.PostgrestTransformBuilder=xi.PostgrestFilterBuilder=xi.PostgrestQueryBuilder=xi.PostgrestClient=void 0;const iu=nu,pE=iu.__importDefault(PT());xi.PostgrestClient=pE.default;const gE=iu.__importDefault(hE());xi.PostgrestQueryBuilder=gE.default;const vE=iu.__importDefault(Gw());xi.PostgrestFilterBuilder=vE.default;const mE=iu.__importDefault(dE());xi.PostgrestTransformBuilder=mE.default;const wE=iu.__importDefault(fE());xi.PostgrestBuilder=wE.default;const yE=iu.__importDefault(uE());xi.PostgrestError=yE.default;var QT=xi.default={PostgrestClient:pE.default,PostgrestQueryBuilder:gE.default,PostgrestFilterBuilder:vE.default,PostgrestTransformBuilder:mE.default,PostgrestBuilder:wE.default,PostgrestError:yE.default};const{PostgrestClient:RT,PostgrestQueryBuilder:Y$,PostgrestFilterBuilder:J$,PostgrestTransformBuilder:Z$,PostgrestBuilder:eW,PostgrestError:tW}=QT;class jT{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const MT="2.76.1",HT=`realtime-js/${MT}`,KT="1.0.0",Pv=1e4,VT=1e3,GT=100;var Ef;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ef||(Ef={}));var gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gn||(gn={}));var Qa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qa||(Qa={}));var Qv;(function(t){t.websocket="websocket"})(Qv||(Qv={}));var YA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(YA||(YA={}));class $T{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(e.slice(o,o+i));o=o+i;const A=n.decode(e.slice(o,o+a));o=o+a;const l=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:A,payload:l}}}class xE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(hr||(hr={}));const L5=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=WT(o,t,e,i),a),{}):{}},WT=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?BE(a,o):Rv(o)},BE=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return YT(e,r)}switch(t){case hr.bool:return zT(e);case hr.float4:case hr.float8:case hr.int2:case hr.int4:case hr.int8:case hr.numeric:case hr.oid:return qT(e);case hr.json:case hr.jsonb:return XT(e);case hr.timestamp:return JT(e);case hr.abstime:case hr.date:case hr.daterange:case hr.int4range:case hr.int8range:case hr.money:case hr.reltime:case hr.text:case hr.time:case hr.timestamptz:case hr.timetz:case hr.tsrange:case hr.tstzrange:return Rv(e);default:return Rv(e)}},Rv=t=>t,zT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},YT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>BE(e,s))}return t},JT=t=>typeof t=="string"?t.replace(" ","T"):t,bE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class kg{constructor(e,r,n={},i=Pv){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var O5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(O5||(O5={}));class Sf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sf.syncState(this.state,i,a,o),this.pendingDiffs.forEach(A=>{this.state=Sf.syncDiff(this.state,A,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sf.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},A={};return this.map(a,(l,c)=>{o[l]||(A[l]=c)}),this.map(o,(l,c)=>{const u=a[l];if(u){const h=c.map(b=>b.presence_ref),f=u.map(b=>b.presence_ref),g=c.filter(b=>f.indexOf(b.presence_ref)<0),y=u.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(s[l]=g),y.length>0&&(A[l]=y)}else s[l]=c}),this.syncDiff(a,{joins:s,leaves:A},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,A)=>{var l;const c=(l=e[s])!==null&&l!==void 0?l:[];if(e[s]=this.cloneDeep(A),c.length>0){const u=e[s].map(f=>f.presence_ref),h=c.filter(f=>u.indexOf(f.presence_ref)<0);e[s].unshift(...h)}n(s,c,A)}),this.map(o,(s,A)=>{let l=e[s];if(!l)return;const c=A.map(u=>u.presence_ref);l=l.filter(u=>c.indexOf(u.presence_ref)<0),e[s]=l,i(s,l,A),l.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(k5||(k5={}));var If;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(If||(If={}));var $o;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($o||($o={}));class $w{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kg(this,Qa.join,this.params,this.timeout),this.rejoinTimer=new xE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qa.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Sf(this),this.broadcastEndpointURL=bE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gn.closed){const{config:{broadcast:o,presence:s,private:A}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[If.PRESENCE]&&this.bindings[If.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,u={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:l,private:A};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e($o.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e($o.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e==null||e($o.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,m=[];for(let w=0;w<b;w++){const x=y[w],{filter:{event:_,schema:I,table:L,filter:U}}=x,D=f&&f[w];if(D&&D.event===_&&D.schema===I&&D.table===L&&D.filter===U)m.push(Object.assign(Object.assign({},x),{id:D.id}));else{this.unsubscribe(),this.state=gn.errored,e==null||e($o.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e($o.SUBSCRIBED);return}}).receive("error",f=>{this.state=gn.errored,e==null||e($o.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($o.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===gn.joined&&e===If.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let A=s.statusText;try{const l=await s.json();A=l.error||l.message||A}catch{}return Promise.reject(new Error(A))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,A={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,A,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,A;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((A=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||A===void 0)&&A.ack)&&a("ok"),l.receive("ok",()=>a("ok")),l.receive("error",()=>a("error")),l.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new kg(this,Qa.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kg(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>GT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:A,leave:l,join:c}=Qa;if(n&&[s,A,l,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,y,b;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(y=f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var g,y,b,m,w,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,I=(g=f.filter)===null||g===void 0?void 0:g.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(w=(m=f==null?void 0:f.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:b,commit_timestamp:m,type:w,errors:x}=g;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:m,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(g))}f.callback(h,n)})}_isClosed(){return this.state===gn.closed}_isJoined(){return this.state===gn.joined}_isJoining(){return this.state===gn.joining}_isLeaving(){return this.state===gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&$w.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qa.close,{},e)}_onError(e){this._on(Qa.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=L5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=L5(e.columns,e.old_record)),r}}const Dg=()=>{},Fh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZT=[1e3,2e3,5e3,1e4],eL=1e4,tL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rL{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pv,this.transport=null,this.heartbeatIntervalMs=Fh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dg,this.ref=0,this.reconnectTimer=null,this.logger=Dg,this.conn=null,this.sendBuffer=[],this.serializer=new $T,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Zo(async()=>{const{default:s}=await Promise.resolve().then(()=>bl);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Qv.websocket}`,this.httpEndpoint=bE(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KT}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ef.connecting:return YA.Connecting;case Ef.open:return YA.Open;case Ef.closing:return YA.Closing;default:return YA.Closed}}isConnected(){return this.connectionState()===YA.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new $w(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var A;(A=this.conn)===null||A===void 0||A.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(VT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",A=a.status||"";this.log("receive",`${A} ${n} ${i} ${s}`.trim(),a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qa.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([tL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:HT};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Qa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,A,l,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Pv,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Fh.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Dg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(A=e==null?void 0:e.reconnectAfterMs)!==null&&A!==void 0?A:u=>ZT[u-1]||eL,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(u,h)=>h(JSON.stringify(u)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ww extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Lr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nL extends Ww{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jv extends Ww{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const zw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Zo(async()=>{const{default:n}=await Promise.resolve().then(()=>bl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},iL=()=>Ye(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zo(()=>Promise.resolve().then(()=>bl),void 0)).Response:Response}),Mv=t=>{if(Array.isArray(t))return t.map(r=>Mv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Mv(n)}),e},aL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oL=(t,e,r)=>Ye(void 0,void 0,void 0,function*(){const n=yield iL();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new nL(Pg(i),a,o))}).catch(i=>{e(new jv(Pg(i),i))}):e(new jv(Pg(t),t))}),sL=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(aL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function md(t,e,r,n,i,a){return Ye(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,sL(e,n,i,a)).then(A=>{if(!A.ok)throw A;return n!=null&&n.noResolveJson?A:A.json()}).then(A=>o(A)).catch(A=>oL(A,s,n))})})}function rd(t,e,r,n){return Ye(this,void 0,void 0,function*(){return md(t,"GET",e,r,n)})}function Da(t,e,r,n,i){return Ye(this,void 0,void 0,function*(){return md(t,"POST",e,n,i,r)})}function Hv(t,e,r,n,i){return Ye(this,void 0,void 0,function*(){return md(t,"PUT",e,n,i,r)})}function AL(t,e,r,n){return Ye(this,void 0,void 0,function*(){return md(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function qw(t,e,r,n,i){return Ye(this,void 0,void 0,function*(){return md(t,"DELETE",e,n,i,r)})}class lL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Lr(e))return{data:null,error:e};throw e}})}}var CE;class cL{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[CE]="BlobDownloadBuilder",this.promise=null}asStream(){return new lL(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Lr(e))return{data:null,error:e};throw e}})}}CE=Symbol.toStringTag;const uL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},D5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fL{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=zw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Ye(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},D5),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const A=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),A&&a.append("metadata",this.encodeMetadata(A)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),A&&a.append("metadata",this.encodeMetadata(A))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,A&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(A)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const l=this._removeEmptyFolders(r),c=this._getFinalPath(l),u=yield(e=="PUT"?Hv:Da)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lr(a))return{data:null,error:a};throw a}})}upload(e,r,n){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ye(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let A;const l=Object.assign({upsert:D5.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(A=new FormData,A.append("cacheControl",l.cacheControl),A.append("",n)):typeof FormData<"u"&&n instanceof FormData?(A=n,A.append("cacheControl",l.cacheControl)):(A=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);const u=yield Hv(this.fetch,s.toString(),A,{headers:c});return{data:{path:a,fullPath:u.Key},error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(Lr(A))return{data:null,error:A};throw A}})}createSignedUploadUrl(e,r){return Ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Da(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Ww("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ye(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Da(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ye(this,void 0,void 0,function*(){try{const i=yield Da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lr(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),A=()=>rd(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new cL(A,this.shouldThrowOnError)}info(e){return Ye(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield rd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}exists(e){return Ye(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield AL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n)&&n instanceof jv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",A=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});A!==""&&i.push(A);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}remove(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield qw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ye(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uL),r),{prefix:e||""});return{data:yield Da(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lr(i))return{data:null,error:i};throw i}})}listV2(e,r){return Ye(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const _E="2.76.1",EE={"X-Client-Info":`storage-js/${_E}`};class dL{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EE),r),this.fetch=zw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ye(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Lr(e))return{data:null,error:e};throw e}})}getBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}createBucket(e){return Ye(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Lr(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Hv(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield qw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}}class hL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EE),r),this.fetch=zw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ye(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,a=yield rd(this.fetch,i,{headers:this.headers});return{data:Array.isArray(a)?a.filter(s=>s.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield qw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}}const Xw={"X-Client-Info":`storage-js/${_E}`,"Content-Type":"application/json"};class SE extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ki(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Qg extends SE{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pL extends SE{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var P5;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(P5||(P5={}));const Yw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Zo(async()=>{const{default:n}=await Promise.resolve().then(()=>bl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},gL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Q5=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vL=(t,e,r)=>Ye(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Qg(Q5(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new Qg(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new Qg(s,i,o))}}else e(new pL(Q5(t),t))}),mL=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(gL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function wL(t,e,r,n,i,a){return Ye(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,mL(e,n,i,a)).then(A=>{if(!A.ok)throw A;if(n!=null&&n.noResolveJson)return A;const l=A.headers.get("content-type");return!l||!l.includes("application/json")?{}:A.json()}).then(A=>o(A)).catch(A=>vL(A,s,n))})})}function Vi(t,e,r,n,i){return Ye(this,void 0,void 0,function*(){return wL(t,"POST",e,n,i,r)})}class yL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xw),r),this.fetch=Yw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Vi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}listIndexes(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Vi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ki(n))return{data:null,error:n};throw n}})}}class xL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xw),r),this.fetch=Yw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ye(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}getVectors(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}listVectors(e){return Ye(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Vi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ye(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}}class BL{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xw),r),this.fetch=Yw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Vi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}getBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}listBuckets(){return Ye(this,arguments,void 0,function*(e={}){try{return{data:yield Vi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Vi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ki(r))return{data:null,error:r};throw r}})}}class bL extends BL{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new CL(this.url,this.headers,e,this.fetch)}}class CL extends yL{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ye(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ye(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ye(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ye(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new _L(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class _L extends xL{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ye(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ye(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ye(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ye(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ye(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class EL extends dL{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new fL(this.url,this.headers,e,this.fetch)}get vectors(){return new bL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hL(this.url+"/iceberg",this.headers,this.fetch)}}const SL="2.76.1";let af="";typeof Deno<"u"?af="deno":typeof document<"u"?af="web":typeof navigator<"u"&&navigator.product==="ReactNative"?af="react-native":af="node";const IL={"X-Client-Info":`supabase-js-${af}/${SL}`},FL={headers:IL},NL={schema:"public"},UL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TL={},LL=t=>{let e;return t?e=t:typeof fetch>"u"?e=lE:e=fetch,(...r)=>e(...r)},OL=()=>typeof Headers>"u"?cE:Headers,kL=(t,e,r)=>{const n=LL(r),i=OL();return async(a,o)=>{var s;const A=(s=await e())!==null&&s!==void 0?s:t;let l=new i(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${A}`),n(a,Object.assign(Object.assign({},o),{headers:l}))}};function DL(t){return t.endsWith("/")?t:t+"/"}function PL(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:A,auth:l,realtime:c,global:u}=e,h={db:Object.assign(Object.assign({},A),i),auth:Object.assign(Object.assign({},l),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function QL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const IE="2.76.1",rc=30*1e3,Kv=3,Rg=Kv*rc,RL="http://localhost:9999",jL="supabase.auth.token",ML={"X-Client-Info":`gotrue-js/${IE}`},Vv="X-Supabase-Api-Version",FE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KL=10*60*1e3;class nd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function st(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class VL extends nd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function GL(t){return st(t)&&t.name==="AuthApiError"}class JA extends nd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class hA extends nd{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ls extends hA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $L(t){return st(t)&&t.name==="AuthSessionMissingError"}class jl extends hA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nh extends hA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Uh extends hA{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WL(t){return st(t)&&t.name==="AuthImplicitGrantRedirectError"}class R5 extends hA{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gv extends hA{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function jg(t){return st(t)&&t.name==="AuthRetryableFetchError"}class j5 extends hA{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $v extends hA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M5=` 	
\r=`.split(""),zL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<M5.length;e+=1)t[M5[e].charCodeAt(0)]=-2;for(let e=0;e<_1.length;e+=1)t[_1[e].charCodeAt(0)]=e;return t})();function H5(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(_1[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(_1[n]),e.queuedBits-=6}}function NE(t,e,r){const n=zL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function K5(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{YL(o,n,r)};for(let o=0;o<t.length;o+=1)NE(t.charCodeAt(o),i,a);return e.join("")}function qL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XL(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}qL(n,e)}}function YL(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Uc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)NE(t.charCodeAt(i),r,n);return new Uint8Array(e)}function JL(t){const e=[];return XL(t,r=>e.push(r)),new Uint8Array(e)}function il(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>H5(i,r,n)),H5(null,r,n),e.join("")}function ZL(t){return Math.round(Date.now()/1e3)+t}function eO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Mi=()=>typeof window<"u"&&typeof document<"u",jA={tested:!1,writable:!1},UE=()=>{if(!Mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jA.tested)return jA.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jA.tested=!0,jA.writable=!0}catch{jA.tested=!0,jA.writable=!1}return jA.writable};function tO(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const TE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Zo(async()=>{const{default:n}=await Promise.resolve().then(()=>bl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},rO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",nc=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},MA=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ss=async(t,e)=>{await t.removeItem(e)};class cp{constructor(){this.promise=new cp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}cp.promiseConstructor=Promise;function Mg(t){const e=t.split(".");if(e.length!==3)throw new $v("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!HL.test(e[n]))throw new $v("JWT not in base64url format");return{header:JSON.parse(K5(e[0])),payload:JSON.parse(K5(e[1])),signature:Uc(e[2]),raw:{header:e[0],payload:e[1]}}}async function nO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iO(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function aO(t){return("0"+t.toString(16)).substr(-2)}function oO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,aO).join("")}async function sO(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function AO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await sO(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ml(t,e,r=!1){const n=oO();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await nc(t,`${e}-code-verifier`,i);const a=await AO(n);return[a,n===a?"plain":"s256"]}const lO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cO(t){const e=t.headers.get(Vv);if(!e||!e.match(lO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function uO(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hl(t){if(!dO.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hg(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function V5(t){return JSON.parse(JSON.stringify(t))}const zA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hO=[502,503,504];async function G5(t){var e;if(!rO(t))throw new Gv(zA(t),0);if(hO.includes(t.status))throw new Gv(zA(t),t.status);let r;try{r=await t.json()}catch(a){throw new JA(zA(a),a)}let n;const i=cO(t);if(i&&i.getTime()>=FE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new j5(zA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ls}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new j5(zA(r),t.status,r.weak_password.reasons);throw new VL(zA(r),t.status||500,n)}const pO=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function _t(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Vv]||(a[Vv]=FE["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",A=await gO(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(A):{data:Object.assign({},A),error:null}}async function gO(t,e,r,n,i,a){const o=pO(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(A){throw console.error(A),new Gv(zA(A),0)}if(s.ok||await G5(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(A){await G5(A)}}function Ta(t){var e;let r=null;wO(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ZL(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function $5(t){const e=Ta(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Hs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vO(t){return{data:t,error:null}}function mO(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=ru(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},A=Object.assign({},o);return{data:{properties:s,user:A},error:null}}function W5(t){return t}function wO(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kg=["global","local","others"];class yO{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=TE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Kg[0]){if(Kg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kg.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hs})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ru(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(st(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hs})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,A;try{const l={nextPage:null,lastPage:0,total:0},c=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:W5});if(c.error)throw c.error;const u=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(A=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&A!==void 0?A:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);l[`${b}Page`]=y}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(st(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Hl(e);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hs})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Hl(e);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Hs})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Hl(e);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hs})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Hl(e.userId);try{const{data:r,error:n}=await _t(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Hl(e.userId),Hl(e.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,s,A;try{const l={nextPage:null,lastPage:0,total:0},c=await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:W5});if(c.error)throw c.error;const u=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(A=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&A!==void 0?A:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);l[`${b}Page`]=y}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(st(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await _t(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}}function z5(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Kl={debug:!!(globalThis&&UE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xO extends LE{}async function BO(t,e,r){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function bO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function OE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function CO(t){return parseInt(t,16)}function _O(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function EO(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:A,resources:l,scheme:c,uri:u,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=OE(t.address),g=c?`${c}://${n}`:n,y=t.statement?`${t.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${f}

${y}`;let m=`URI: ${u}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(m+=`
Expiration Time: ${i.toISOString()}`),s&&(m+=`
Not Before: ${s.toISOString()}`),A&&(m+=`
Request ID: ${A}`),l){let w=`
Resources:`;for(const x of l){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}m+=w}return`${b}
${m}`}class an extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class E1 extends an{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function SO({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new an({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new an({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new an({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new an({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new an({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new an({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new an({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new an({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(kE(o)){if(a.rp.id!==o)return new an({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new an({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new an({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function IO({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new an({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new an({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(kE(n)){if(r.rpId!==n)return new an({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new an({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class FO{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const NO=new FO;function UO(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=ru(t,["challenge","user","excludeCredentials"]),a=Uc(e).buffer,o=Object.assign(Object.assign({},r),{id:Uc(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let A=0;A<n.length;A++){const l=n[A];s.excludeCredentials[A]=Object.assign(Object.assign({},l),{id:Uc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function TO(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ru(t,["challenge","allowCredentials"]),i=Uc(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Uc(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function LO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:il(new Uint8Array(t.response.attestationObject)),clientDataJSON:il(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function OO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:il(new Uint8Array(i.authenticatorData)),clientDataJSON:il(new Uint8Array(i.clientDataJSON)),signature:il(new Uint8Array(i.signature)),userHandle:i.userHandle?il(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function q5(){var t,e;return!!(Mi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function kO(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new E1("Browser returned unexpected credential type",e)}:{data:null,error:new E1("Empty credential response",e)}}catch(e){return{data:null,error:SO({error:e,options:t})}}}async function DO(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new E1("Browser returned unexpected credential type",e)}:{data:null,error:new E1("Empty credential response",e)}}catch(e){return{data:null,error:IO({error:e,options:t})}}}const PO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},QO={userVerification:"preferred",hints:["security-key"]};function S1(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const s=n[a];e(s)?n[a]=S1(s,o):n[a]=S1(o)}else n[a]=o}return n}function RO(t,e){return S1(PO,t,e||{})}function jO(t,e){return S1(QO,t,e||{})}class MO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:s};const A=i??NO.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:l}=o.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${n}`),l.displayName||(l.displayName=l.name)}switch(o.webauthn.type){case"create":{const l=RO(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:c,error:u}=await kO({publicKey:l,signal:A});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:u}}case"request":{const l=jO(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:c,error:u}=await DO(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:l,signal:A}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:u}}}}catch(o){return st(o)?{data:null,error:o}:{data:null,error:new JA("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new nd("rpId is required for WebAuthn authentication")};try{if(!q5())return{data:null,error:new JA("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:A}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:A.type,rpId:r,rpOrigins:n,credential_response:A.credential_response}})}catch(o){return st(o)?{data:null,error:o}:{data:null,error:new JA("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new nd("rpId is required for WebAuthn registration")};try{if(!q5())return{data:null,error:new JA("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var u;return(u=c.data)===null||u===void 0?void 0:u.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:A,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return A?this._verify({factorId:o.id,challengeId:A.challengeId,webauthn:{rpId:r,rpOrigins:n,type:A.webauthn.type,credential_response:A.webauthn.credential_response}}):{data:null,error:l}}catch(o){return st(o)?{data:null,error:o}:{data:null,error:new JA("Unexpected error in register",o)}}}}bO();const HO={url:RL,storageKey:jL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ML,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function X5(t,e,r){return await r()}const Vl={};class id{get jwks(){var e,r;return(r=(e=Vl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Vl[this.storageKey]=Object.assign(Object.assign({},Vl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Vl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vl[this.storageKey]=Object.assign(Object.assign({},Vl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=id.nextInstanceID,id.nextInstanceID+=1,this.instanceID>0&&Mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},HO),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yO({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=TE(i.fetch),this.lock=i.lock||X5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Mi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=BO:this.lock=X5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MO(this)},this.persistSession?(i.storage?this.storage=i.storage:UE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=z5(this.memoryStorage)),Mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${IE}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=tO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Mi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),WL(a)){const A=(e=a.details)===null||e===void 0?void 0:e.code;if(A==="identity_already_exists"||A==="identity_not_found"||A==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return st(r)?{error:r}:{error:new JA("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ta}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const A=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",A)),{data:{user:l,session:A},error:null}}catch(a){if(st(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:c,password:u,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Ml(this.storage,this.storageKey)),a=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ta})}else if("phone"in e){const{phone:c,password:u,options:h}=e;a=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:u,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ta})}else throw new Nh("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const A=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",A)),{data:{user:l,session:A},error:null}}catch(a){if(st(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$5})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$5})}else throw new Nh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new jl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,s,A,l,c,u,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:y,wallet:b,statement:m,options:w}=e;let x;if(Mi())if(typeof b=="object")x=b;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")x=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),I=await x.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=OE(I[0]);let U=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!U){const T=await x.request({method:"eth_chainId"});U=CO(T)}const D={domain:_.host,address:L,statement:m,uri:_.href,version:"1",chainId:U,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(A=w==null?void 0:w.signInWithEthereum)===null||A===void 0?void 0:A.notBefore,requestId:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=EO(D),g=await x.request({method:"personal_sign",params:[_O(f),L]})}try{const{data:y,error:b}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((u=e.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ta});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new jl}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(st(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,n,i,a,o,s,A,l,c,u,h,f;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:b,wallet:m,statement:w,options:x}=e;let _;if(Mi())if(typeof m=="object")_=m;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))_=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const I=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const L=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),w?{statement:w}:null));let U;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")U=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)U=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)g=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),y=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${I.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((A=x==null?void 0:x.signInWithSolana)===null||A===void 0)&&A.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((u=(c=x==null?void 0:x.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||u===void 0)&&u.length?["Resources",...x.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const L=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=L}}try{const{data:b,error:m}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:il(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ta});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new jl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(st(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await MA(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ta});if(await Ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new jl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(st(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ta}),{data:A,error:l}=s;return l?{data:{user:null,session:null},error:l}:!A||!A.session||!A.user?{data:{user:null,session:null},error:new jl}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:A,error:l})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:A}=e;let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ml(this.storage,this.storageKey));const{error:u}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},create_user:(n=A==null?void 0:A.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:l,code_challenge_method:c},redirectTo:A==null?void 0:A.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in e){const{phone:s,options:A}=e,{data:l,error:c}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=A==null?void 0:A.data)!==null&&i!==void 0?i:{},create_user:(a=A==null?void 0:A.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},channel:(o=A==null?void 0:A.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Nh("You must provide either an email or phone number.")}catch(s){if(st(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ta});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const A=o.session,l=o.user;return A!=null&&A.access_token&&(await this._saveSession(A),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",A)),{data:{user:l,session:A},error:null}}catch(i){if(st(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ml(this.storage,this.storageKey)),await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:vO})}catch(a){if(st(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ls;const{error:i}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(st(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Nh("You must provide either an email or phone number and a type")}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await MA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Rg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await MA(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Hg()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(A,l,c)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(A,l,c))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hs}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ls}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Hs})})}catch(r){if(st(r))return $L(r)&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ls;const o=i.session;let s=null,A=null;this.flowType==="pkce"&&e.email!=null&&([s,A]=await Ml(this.storage,this.storageKey));const{data:l,error:c}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:A}),jwt:o.access_token,xform:Hs});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ls;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Mg(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:A}=await this._callRefreshToken(e.refresh_token);if(A)return{data:{user:null,session:null},error:A};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:A}=await this._getUser(e.access_token);if(A)throw A;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(st(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ls;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Mi())throw new Uh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Uh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new R5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new R5("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:A,token_type:l}=e;if(!a||!s||!o||!l)throw new Uh("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let h=c+u;A&&(h=parseInt(A));const f=h-c;f*1e3<=rc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);const g=h-u;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,c);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const m={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:u,expires_at:h,refresh_token:o,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(st(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await MA(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(GL(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=eO(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ml(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(st(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,A,l,c;const{data:u,error:h}=a;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(A=e.options)===null||A===void 0?void 0:A.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Mi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(st(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:A,access_token:l,nonce:c}=e,u=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:A,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ta}),{data:h,error:f}=u;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new jl}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(i){if(st(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iO(async i=>(i>0&&await nO(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ta})),(i,a)=>{const o=200*Math.pow(2,i);return a&&jg(a)&&Date.now()+o-n<rc})}catch(n){if(this._debug(r,"error",n),st(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Mi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await MA(this.storage,this.storageKey);if(i&&this.userStorage){let o=await MA(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await nc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Hg()}else if(i&&!i.user&&!i.user){const o=await MA(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ss(this.storage,this.storageKey+"-user"),await nc(this.storage,this.storageKey,i)):i.user=Hg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rg;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Rg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),jg(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ls;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new cp;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ls;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),st(a)){const o={data:null,error:a};return jg(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(A){a.push(A)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await nc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=V5(i);await nc(this.storage,this.storageKey,a)}else{const i=V5(r);await nc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ss(this.storage,this.storageKey),await Ss(this.storage,this.storageKey+"-code-verifier"),await Ss(this.storage,this.storageKey+"-user"),this.userStorage&&await Ss(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/rc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rc}ms, refresh threshold is ${Kv} ticks`),i<=Kv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ml(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await _t(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:A,error:l}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&A.type==="totp"&&(!((i=A==null?void 0:A.totp)===null||i===void 0)&&i.qr_code)&&(A.totp.qr_code=`data:image/svg+xml;utf-8,${A.totp.qr_code}`),{data:A,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?LO(e.webauthn.credential_response):OO(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:A}=await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return A?{data:null,error:A}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:A})})}catch(r){if(st(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:UO(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:TO(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(st(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Mg(i.access_token);let s=null;o.aal&&(s=o.aal);let A=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(A="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:A,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+KL>i)return n;const{data:a,error:o}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:A}}=Mg(n);r!=null&&r.allowExpired||uO(a.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const c=fO(i.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,o,JL(`${s}.${A}`)))throw new $v("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}}id.nextInstanceID=0;const KO=id;class VO extends KO{constructor(e){super(e)}}class GO{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const s=QL(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const A=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:NL,realtime:TL,auth:Object.assign(Object.assign({},UL),{storageKey:A}),global:FL},c=PL(n??{},l);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=kL(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new RT(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new EL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new UT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:A,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VO({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:A,debug:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new rL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $O=(t,e,r)=>new GO(t,e,r);function WO(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zO="https://pgbefqzlrvjnsymigfmv.supabase.co",qO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnYmVmcXpscnZqbnN5bWlnZm12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1MjkyMTQsImV4cCI6MjA3NzEwNTIxNH0.t32MJ9MB6nc9_BKYHs2AnyX2YASIjSbte-XRDY5KNrk",Vt=$O(zO,qO),XO=async()=>{const{data:t,error:e}=await Vt.from("products").select("*").order("name",{ascending:!0});return e?(console.error("Error obteniendo productos:",e),[]):t},YO=async t=>{const e={...t};"categoryId"in e&&(e.category_id=e.categoryId,delete e.categoryId),"subcategoryId"in e&&(e.subcategory_id=e.subcategoryId,delete e.subcategoryId),"unitOfMeasure"in e&&(e.unit=e.unitOfMeasure,delete e.unitOfMeasure),"image"in e&&(e.image_url=e.image,delete e.image),"expirationDate"in e&&delete e.expirationDate,"createdAt"in e&&delete e.createdAt,"updatedAt"in e&&delete e.updatedAt,"created_at"in e&&delete e.created_at,"updated_at"in e&&delete e.updated_at,"wholesalePrice"in e&&delete e.wholesalePrice,e.created_at=new Date().toISOString(),e.updated_at=new Date().toISOString();const{data:r,error:n}=await Vt.from("products").insert([e]).select("id").single();if(n)throw console.error("Error agregando producto:",n),new Error(n.message);return r.id},JO=async(t,e)=>{const r={...e};"categoryId"in r&&(r.category_id=r.categoryId,delete r.categoryId),"subcategoryId"in r&&(r.subcategory_id=r.subcategoryId,delete r.subcategoryId),"unitOfMeasure"in r&&(r.unit=r.unitOfMeasure,delete r.unitOfMeasure),"image"in r&&(r.image_url=r.image,delete r.image),"expirationDate"in r&&delete r.expirationDate,"createdAt"in r&&delete r.createdAt,"updatedAt"in r&&delete r.updatedAt,"created_at"in r&&delete r.created_at,"updated_at"in r&&delete r.updated_at,"wholesalePrice"in r&&delete r.wholesalePrice,r.updated_at=new Date().toISOString();const{error:n}=await Vt.from("products").update(r).eq("id",t);if(n)throw console.error("Error actualizando producto:",n),new Error(n.message)},ZO=async()=>{const{data:t,error:e}=await Vt.from("categories").select("*").order("name",{ascending:!0});if(e)return console.error("Error obteniendo categoras:",e),[];const r=t.map(a=>({id:a.id,name:a.name,parentId:a.parent_id,parent_id:a.parent_id,created_at:a.created_at,updated_at:a.updated_at})),n=[],i={};return r.forEach(a=>{i[a.id]={...a,subcategories:[]}}),r.forEach(a=>{if(a.parentId){const o=i[a.parentId];o&&o.subcategories.push(i[a.id])}else n.push(i[a.id])}),n},DE=async t=>{const e={...t};"parentId"in e&&(e.parent_id=e.parentId,delete e.parentId);const{data:r,error:n}=await Vt.from("categories").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select("id").single();if(n)throw console.error("Error agregando categora:",n),new Error(n.message);return r.id},ek=async(t,e)=>{const r={...e};"parentId"in r&&(r.parent_id=r.parentId,delete r.parentId);const{error:n}=await Vt.from("categories").update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw console.error("Error actualizando categora:",n),new Error(n.message)},tk=async()=>{const{data:t,error:e}=await Vt.from("users").select("*").order("name",{ascending:!0});return e?(console.error("Error obteniendo usuarios:",e),[]):t},rk=async t=>{const{data:e,error:r}=await Vt.from("users").select("*").eq("id",t).single();return r?(console.error("Error obteniendo usuario:",r),null):e},Y5=async t=>{const{password:e,...r}=t,{data:n,error:i}=await Vt.from("users").insert([{...r,password_hash:e?await PE(e):null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(i)throw console.error("Error agregando usuario:",i),new Error(i.message);return n.id},PE=async t=>t,J5=async(t,e)=>{const{password:r,...n}=e,i={...n,updated_at:new Date().toISOString()};r&&(i.password_hash=await PE(r));const{error:a}=await Vt.from("users").update(i).eq("id",t);if(a)throw console.error("Error actualizando usuario:",a),new Error(a.message)},Z5=async t=>{const{error:e}=await Vt.from("users").delete().eq("id",t);if(e)throw console.error("Error eliminando usuario:",e),new Error(e.message)},nk=async()=>{const{data:t,error:e}=await Vt.from("stores").select("*").order("name",{ascending:!0});return e?(console.error("Error obteniendo tiendas:",e),[]):t},ik=async()=>{const{data:t,error:e}=await Vt.from("inventory_batches").select("*").order("created_at",{ascending:!1});return e?(console.error("Error obteniendo lotes de inventario:",e),[]):t},Th=async t=>{const e={...t};"createdAt"in e&&delete e.createdAt,"updatedAt"in e&&delete e.updatedAt,"created_at"in e&&delete e.created_at,"updated_at"in e&&delete e.updated_at,"productId"in e&&(e.product_id=e.productId,delete e.productId),"locationId"in e&&(e.location_id=e.locationId,delete e.locationId),"expirationDate"in e&&(e.expiration_date=e.expirationDate,delete e.expirationDate),"cost"in e&&(e.cost=parseFloat(e.cost)||0),"quantity"in e&&(e.quantity=parseInt(e.quantity)||0);const{data:r,error:n}=await Vt.from("inventory_batches").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error agregando lote de inventario:",n),new Error(n.message);return r.id},eB=async(t,e)=>{const r={...e};"createdAt"in r&&delete r.createdAt,"updatedAt"in r&&delete r.updatedAt,"created_at"in r&&delete r.created_at,"updated_at"in r&&delete r.updated_at,"productId"in r&&(r.product_id=r.productId,delete r.productId),"locationId"in r&&(r.location_id=r.locationId,delete r.locationId),"expirationDate"in r&&(r.expiration_date=r.expirationDate,delete r.expirationDate),"cost"in r&&(r.cost=parseFloat(r.cost)||0),"quantity"in r&&(r.quantity=parseInt(r.quantity)||0);const{error:n}=await Vt.from("inventory_batches").update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw console.error("Error actualizando lote de inventario:",n),new Error(n.message)},ak=async t=>{const{error:e}=await Vt.from("inventory_batches").delete().eq("id",t);if(e)throw console.error("Error eliminando lote de inventario:",e),new Error(e.message)},ok=async()=>{const{data:t,error:e}=await Vt.from("sales").select("*").order("date",{ascending:!1}).limit(1e3);return e?(console.error("Error obteniendo ventas:",e),[]):t},tB=async t=>{const e={...t};"storeId"in e&&(e.store_id=e.storeId,delete e.storeId),typeof e.cash=="boolean"&&(e.cash=(e.cash,0)),typeof e.card=="boolean"&&(e.card=(e.card,0)),typeof e.cardCommission=="boolean"&&(e.cardCommission=(e.cardCommission,0)),typeof e.commissionInCash=="boolean"&&(e.commissionInCash=e.commissionInCash?1:0),(e.cash===void 0||e.cash===null||e.cash===!1)&&(e.cash=0),(e.card===void 0||e.card===null||e.card===!1)&&(e.card=0),(e.cardCommission===void 0||e.cardCommission===null||e.cardCommission===!1)&&(e.cardCommission=0);const{data:r,error:n}=await Vt.from("sales").insert([{...e,date:new Date().toISOString(),created_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error agregando venta:",n),new Error(n.message);return r.id},sk=async()=>{const{data:t,error:e}=await Vt.from("clients").select("*").order("name",{ascending:!0});return e?(console.error("Error obteniendo clientes:",e),[]):t},Ak=async t=>{const{data:e,error:r}=await Vt.from("clients").insert([{...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw console.error("Error agregando cliente:",r),new Error(r.message);return e.id},lk=async()=>{const{data:t,error:e}=await Vt.from("transfers").select("*").order("created_at",{ascending:!1});return e?(console.error("Error obteniendo transferencias:",e),[]):t},ck=async()=>{const{data:t,error:e}=await Vt.from("shopping_list").select("*").order("created_at",{ascending:!1});return e?(console.error("Error obteniendo lista de compras:",e),[]):t},uk=async()=>{const{data:t,error:e}=await Vt.from("expenses").select("*").order("created_at",{ascending:!1});return e?(console.error("Error obteniendo gastos:",e),[]):t},fk=async(t,e,r=null,n="daily")=>{let i=Vt.from("sales").select("*").gte("date",t).lte("date",e);r&&(i=i.eq("storeId",r));const{data:a,error:o}=await i;return o?(console.error("Error obteniendo reporte de ventas:",o),null):dk(a,n,t,e)},dk=(t,e,r,n)=>{if(!t||t.length===0)return{totalSales:0,totalTransactions:0,avgTicket:0,profitMargin:0,sales:[],dateRange:{startDate:r,endDate:n}};const i={};t.forEach(l=>{const c=new Date(l.date);let u;switch(e){case"daily":u=c.toISOString().split("T")[0];break;case"weekly":const h=new Date(c);h.setDate(c.getDate()-c.getDay()),u=h.toISOString().split("T")[0];break;case"monthly":u=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`;break;default:u=c.toISOString().split("T")[0]}i[u]||(i[u]={date:u,store:l.storeId||"Desconocido",transactions:0,salesAmount:0,costAmount:0,profitAmount:0,profitMargin:0}),i[u].transactions+=1,i[u].salesAmount+=l.total||0,i[u].costAmount+=l.total?l.total*.7:0,i[u].profitAmount+=l.total?l.total*.3:0}),Object.values(i).forEach(l=>{l.profitMargin=l.salesAmount>0?l.profitAmount/l.salesAmount*100:0});const a=Object.values(i).reduce((l,c)=>l+c.salesAmount,0),o=Object.values(i).reduce((l,c)=>l+c.transactions,0),s=o>0?a/o:0,A=a>0?Object.values(i).reduce((l,c)=>l+c.profitAmount,0)/a*100:0;return{totalSales:a,totalTransactions:o,avgTicket:s,profitMargin:A,sales:Object.values(i).sort((l,c)=>new Date(l.date)-new Date(c.date)),dateRange:{startDate:r,endDate:n}}},hk=async()=>{const{data:t,error:e}=await Vt.from("cash_closings").select("*").order("created_at",{ascending:!1});return e?(console.error("Error obteniendo cierres de caja:",e),[]):t},pk=async()=>{try{const{data:t,error:e}=await Vt.from("categories").select("*");if(e)console.error("Error obteniendo categoras:",e);else if(!t||t.length===0){const i=[{name:"Abarrotes",parent_id:null},{name:"Vicio",parent_id:null},{name:"Bebidas",parent_id:null}];for(const a of i)try{await DE({...a,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch(o){console.error("Error agregando categora por defecto:",o)}}const{data:r,error:n}=await Vt.from("stores").select("*");if(n)console.error("Error obteniendo tiendas:",n);else if(!r||r.length===0){const i=[{id:"bodega-central",name:"Bodega Central"},{id:"tienda1",name:"Tienda 1"},{id:"tienda2",name:"Tienda 2"}];for(const a of i)try{const{error:o}=await Vt.from("stores").insert([{...a,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();o&&console.error("Error agregando tienda por defecto:",o)}catch(o){console.error("Error agregando tienda por defecto:",o)}}}catch(t){console.error("Error inicializando colecciones de Supabase:",t)}};function Wv(t){if(t==null)return!1;if(Array.isArray(t))return t.every(r=>Wv(r));const e=typeof t;return e==="string"||e==="number"||e==="boolean"||t instanceof Date||t instanceof ArrayBuffer||e==="number"&&Number.isFinite(t)}class gk{constructor(){this.dbName="POSOfflineDB",this.version=2,this.db=null}async initDB(){return new Promise((e,r)=>{const n=indexedDB.open(this.dbName,this.version);n.onerror=i=>{console.error("Database failed to open",i),r(n.error)},n.onsuccess=()=>{this.db=n.result,console.log("Database opened successfully"),e(this.db)},n.onupgradeneeded=i=>{const a=i.target.result,o=i.oldVersion,s=i.newVersion;if(!a.objectStoreNames.contains("products")){const A=a.createObjectStore("products",{keyPath:"id"});A.createIndex("name","name",{unique:!1}),A.createIndex("category","category",{unique:!1})}if(!a.objectStoreNames.contains("inventory")){const A=a.createObjectStore("inventory",{keyPath:"id"});A.createIndex("productId","productId",{unique:!1}),A.createIndex("locationId","locationId",{unique:!1})}if(!a.objectStoreNames.contains("sales")){const A=a.createObjectStore("sales",{keyPath:"id"});A.createIndex("date","date",{unique:!1}),A.createIndex("cashier","cashier",{unique:!1})}a.objectStoreNames.contains("categories")||a.createObjectStore("categories",{keyPath:"id"}).createIndex("name","name",{unique:!1}),a.objectStoreNames.contains("carts")||a.createObjectStore("carts",{keyPath:"id"}),a.objectStoreNames.contains("users")||a.createObjectStore("users",{keyPath:"id"}),a.objectStoreNames.contains("stores")||a.createObjectStore("stores",{keyPath:"id"}),a.objectStoreNames.contains("clients")||a.createObjectStore("clients",{keyPath:"id"}),a.objectStoreNames.contains("pendingSales")||a.createObjectStore("pendingSales",{keyPath:"id"}),console.log(`Database setup complete, version: ${o} -> ${s}`)}})}async addData(e,r){return this.db||await this.initDB(),new Promise((n,i)=>{const s=this.db.transaction([e],"readwrite").objectStore(e).add(r);s.onsuccess=()=>{console.log(`${e} data added successfully`),n(s.result)},s.onerror=A=>{console.error(`Error adding ${e} data`,A.target.error);const l=A.target.error;l&&l.name==="DataError"&&(console.error("DataError: This usually means the object does not have the correct key property for the store"),console.error("Ensure the data object has the correct key property for the object store")),i(l)}})}async getData(e,r){return this.db||await this.initDB(),new Promise((n,i)=>{const o=this.db.transaction([e],"readonly").objectStore(e);if(!Wv(r)){i(new Error(`Invalid key provided: ${r}`));return}const s=o.get(r);s.onsuccess=()=>{n(s.result)},s.onerror=A=>{console.error(`Error getting ${e} data`,A.target.error),i(A.target.error)}})}async updateData(e,r,n){return this.db||await this.initDB(),new Promise((i,a)=>{const s=this.db.transaction([e],"readwrite").objectStore(e),A=e==="carts"&&r==="current_cart"?{...n,id:r}:{...n,id:r||n.id};if(s.keyPath){const l=s.put(A);l.onsuccess=()=>{console.log(`${e} data updated successfully`),i(l.result)},l.onerror=c=>{console.error(`Error updating ${e} data`,c.target.error),a(c.target.error)}}else{const l=s.put(A,r);l.onsuccess=()=>{console.log(`${e} data updated successfully`),i(l.result)},l.onerror=c=>{console.error(`Error updating ${e} data`,c.target.error),a(c.target.error)}}})}async deleteData(e,r){return this.db||await this.initDB(),new Promise((n,i)=>{const o=this.db.transaction([e],"readwrite").objectStore(e);if(!Wv(r)){i(new Error(`Invalid key provided: ${r}`));return}const s=o.delete(r);s.onsuccess=()=>{console.log(`${e} data deleted successfully`),n(s.result)},s.onerror=A=>{console.error(`Error deleting ${e} data`,A.target.error),i(A.target.error)}})}async getAllData(e){return this.db||await this.initDB(),new Promise((r,n)=>{const o=this.db.transaction([e],"readonly").objectStore(e).getAll();o.onsuccess=()=>{r(o.result)},o.onerror=s=>{console.error(`Error getting all ${e} data`,s.target.error),n(s.target.error)}})}async saveCart(e){try{await this.updateData("carts","current_cart",e),console.log("Cart saved successfully")}catch(r){throw console.error("Error saving cart:",r),r}}async getSavedCart(){try{const e=await this.getData("carts","current_cart");return console.log("Cart retrieved successfully"),e||null}catch(e){return console.error("Error getting saved cart:",e),null}}async clearCart(){try{await this.deleteData("carts","current_cart"),console.log("Cart cleared successfully")}catch(e){throw console.error("Error clearing cart:",e),e}}async saveSale(e){try{const r=e.id||`sale_${Date.now()}`,n={...e,id:r};return await this.addData("sales",n),console.log("Sale saved successfully"),r}catch(r){throw console.error("Error saving sale:",r),r}}async getSavedSales(){try{const e=await this.getAllData("sales");return console.log(`Retrieved ${e.length} saved sales`),e}catch(e){return console.error("Error getting saved sales:",e),[]}}async clearSales(){try{const e=await this.getAllData("sales");for(const r of e)await this.deleteData("sales",r.id);console.log("Sales cleared successfully")}catch(e){throw console.error("Error clearing sales:",e),e}}async saveProduct(e){try{await this.addData("products",e),console.log("Product saved successfully")}catch(r){throw console.error("Error saving product:",r),r}}async getSavedProducts(){try{const e=await this.getAllData("products");return console.log(`Retrieved ${e.length} saved products`),e}catch(e){return console.error("Error getting saved products:",e),[]}}async syncWithServer(){try{const e=await this.getSavedSales(),r=await this.getSavedProducts();return{salesCount:e.length,productsCount:r.length}}catch(e){throw console.error("Error during sync:",e),e}}static isSupported(){return!!window.indexedDB}}const Ht=new gk,jt=bT((t,e)=>({currentUser:null,currentView:"login",activeTab:"pos",cart:[],discount:{type:"none",value:0},note:"",lastSale:null,darkMode:!0,isOnline:navigator.onLine,offlineMode:!1,products:[],categories:[],users:[],stores:[],clients:[],inventoryBatches:[],transfers:[],salesHistory:[],expenses:[],shoppingList:[],cashClosings:[],salesReport:null,setLoading:(r,n)=>t(i=>({isLoading:{...i.isLoading,[r]:n}})),setDiscount:r=>t({discount:r}),setNote:r=>t({note:r}),addToShoppingList:r=>t(n=>({shoppingList:[...n.shoppingList,r]})),clearShoppingList:()=>t({shoppingList:[]}),toggleDarkMode:()=>{console.log("Dark mode toggle is disabled")},updateNetworkStatus:r=>{t({isOnline:r,offlineMode:!r}),r&&(e().syncPendingOperations(),e().currentUser&&e().loadAllData())},initNetworkListeners:()=>{window.addEventListener("online",()=>{e().updateNetworkStatus(!0)}),window.addEventListener("offline",()=>{e().updateNetworkStatus(!1)})},syncPendingOperations:async()=>{try{const r=await Ht.getAllData("pendingSales");if(r&&r.length>0){console.log(`Syncing ${r.length} pending sales...`);for(const n of r)try{const{id:i,status:a,createdAt:o,...s}=n,A=await tB(s);await Ht.deleteData("pendingSales",n.id),console.log(`Successfully synced sale ${n.id} with new ID ${A}`)}catch(i){console.error(`Error syncing sale ${n.id}:`,i)}await e().loadSalesHistory()}}catch(r){console.error("Error syncing pending sales:",r)}console.log("Finished syncing pending operations")},loadAllData:async()=>{await Promise.all([e().loadProducts(),e().loadCategories(),e().loadUsers(),e().loadStores(),e().loadInventoryBatches(),e().loadSalesHistory(),e().loadClients(),e().loadTransfers(),e().loadShoppingList(),e().loadExpenses(),e().loadCashClosings()])},loadProducts:async()=>{t({isLoading:{...e().isLoading,products:!0}});try{if(e().isOnline){const n=(await XO()).map(i=>({...i,categoryId:i.category_id||i.categoryId,subcategoryId:i.subcategory_id||i.subcategoryId,name:i.name||i.nombre||i.productName,description:i.description||i.descripcion,price:i.price||i.precio||0,cost:i.cost||i.costo||0,sku:i.sku||i.SKU,barcode:i.barcode||i.codigo_barras,unit:i.unit||i.unidad||i.unitOfMeasure,category_id:i.category_id||i.categoryId,subcategory_id:i.subcategory_id||i.subcategoryId}));t({products:n}),await Promise.all(n.map(i=>Ht.updateData("products",i.id,i)))}else{const n=(await Ht.getAllData("products")).map(i=>({...i,categoryId:i.category_id||i.categoryId,subcategoryId:i.subcategory_id||i.subcategoryId}));t({products:n})}}catch(r){console.error("Error loading products:",r);try{const i=(await Ht.getAllData("products")).map(a=>({...a,categoryId:a.category_id||a.categoryId,subcategoryId:a.subcategory_id||a.subcategoryId}));t({products:i})}catch(n){console.error("Error loading products from offline storage:",n),console.log("Creando productos de ejemplo para debug");const i=[{id:"debug-1",name:"Coca Cola 600ml",price:12.5,categoryId:"bebidas",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"debug-2",name:"Sabritas Original 42g",price:10,categoryId:"abarrotes",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"debug-3",name:"Leche Lala 1L",price:24.9,categoryId:"lacteos",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"debug-4",name:"Huevo Grande 12pz",price:32,categoryId:"abarrotes",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"debug-5",name:"Pan Blanco Bimbo",price:18.5,categoryId:"panaderia",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"6",name:"bonafont",price:15,categoryId:"bebidas",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"7",name:"Cahuamon Victoria",price:55,categoryId:"abarrotes",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"8",name:"CI Malboro",price:50,categoryId:"vicio",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"9",name:"Crema Alpura",price:25,categoryId:"lacteos",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"10",name:"Crossantines",price:7,categoryId:"panaderia",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"11",name:"Desodorante eGo",price:50,categoryId:"limpieza",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"12",name:"Doritos Nacho",price:18,categoryId:"abarrotes",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"13",name:"mayonesa",price:25,categoryId:"abarrotes",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"14",name:"pruebasprod",price:10,categoryId:"abarrotes",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"15",name:"pruebasTicket",price:1,categoryId:"abarrotes",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}},{id:"16",name:"testPrdoduc",price:15,categoryId:"abarrotes",unit:"unidad",minStockThreshold:{1:5,2:5,"bodega-central":10}}];t({products:i}),await Promise.all(i.map(a=>Ht.updateData("products",a.id,a)))}}finally{t({isLoading:{...e().isLoading,products:!1}})}},loadCategories:async()=>{t({isLoading:{...e().isLoading,categories:!0}});try{if(e().isOnline){const r=await ZO();t({categories:r}),await Promise.all(r.map(n=>Ht.updateData("categories",n.id,n)))}else{const r=await Ht.getAllData("categories");t({categories:r})}}catch(r){console.error("Error loading categories:",r);try{const n=await Ht.getAllData("categories");t({categories:n})}catch(n){console.error("Error loading categories from offline storage:",n),console.log("Creando categoras de ejemplo para debug"),t({categories:[{id:"abarrotes",name:"Abarrotes",description:"Productos de abarrotes"},{id:"bebidas",name:"Bebidas",description:"Bebidas en general"},{id:"lacteos",name:"Lcteos",description:"Leche, quesos y derivados"},{id:"panaderia",name:"Panadera",description:"Pan y productos de panadera"},{id:"carnes",name:"Carnes",description:"Carnes y embutidos"},{id:"frutas",name:"Frutas",description:"Frutas frescas"},{id:"verduras",name:"Verduras",description:"Verduras frescas"},{id:"limpieza",name:"Limpieza",description:"Productos de limpieza"},{id:"vicio",name:"Vicio",description:"Cigarrillos y productos varios"}]})}}finally{t({isLoading:{...e().isLoading,categories:!1}})}},loadUsers:async()=>{t({isLoading:{...e().isLoading,users:!0}});try{if(e().isOnline){const n=(await tk()).map(i=>({...i,storeId:i.store_id||i.storeId,storeName:i.store_name||i.storeName,store_id:i.store_id||i.storeId,store_name:i.store_name||i.storeName}));t({users:n}),await Promise.all(n.map(i=>Ht.updateData("users",i.id,i)))}else{const n=(await Ht.getAllData("users")).map(i=>({...i,storeId:i.store_id||i.storeId,storeName:i.store_name||i.storeName}));t({users:n})}}catch(r){console.error("Error loading users:",r);try{const i=(await Ht.getAllData("users")).map(a=>({...a,storeId:a.store_id||a.storeId,storeName:a.store_name||a.storeName}));t({users:i})}catch(n){console.error("Error loading users from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,users:!1}})}},loadStores:async()=>{t({isLoading:{...e().isLoading,stores:!0}});try{if(e().isOnline){const r=await nk();t({stores:r}),await Promise.all(r.map(n=>Ht.updateData("stores",n.id,n)))}else{const r=await Ht.getAllData("stores");t({stores:r})}}catch(r){console.error("Error loading stores:",r);try{const n=await Ht.getAllData("stores");t({stores:n})}catch(n){console.error("Error loading stores from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,stores:!1}})}},loadInventoryBatches:async()=>{t({isLoading:{...e().isLoading,inventory:!0}});try{if(e().isOnline){const n=(await ik()).map(i=>({...i,inventoryId:i.id||i.inventoryId,productId:i.product_id||i.productId||i.productId,locationId:i.location_id||i.locationId||i.storeId,quantity:i.quantity||0,expirationDate:i.expiration_date||i.expirationDate,cost:i.cost||i.cost||0,product_id:i.product_id||i.productId,location_id:i.location_id||i.locationId,expiration_date:i.expiration_date||i.expirationDate}));t({inventoryBatches:n}),await Promise.all(n.map(i=>Ht.updateData("inventoryBatches",i.inventoryId,i)))}else{const n=(await Ht.getAllData("inventoryBatches")).map(i=>({...i,productId:i.product_id||i.productId||i.productId,locationId:i.location_id||i.locationId||i.storeId,expirationDate:i.expiration_date||i.expirationDate}));t({inventoryBatches:n})}}catch(r){console.error("Error loading inventory batches:",r);try{const i=(await Ht.getAllData("inventoryBatches")).map(a=>({...a,productId:a.product_id||a.productId,locationId:a.location_id||a.locationId,expirationDate:a.expiration_date||a.expirationDate}));t({inventoryBatches:i})}catch(n){console.error("Error loading inventory batches from offline storage:",n),console.log("Creando inventario de ejemplo para debug");const i=[{inventoryId:"inv-1",productId:"debug-1",locationId:"1",quantity:20,cost:10},{inventoryId:"inv-2",productId:"debug-2",locationId:"1",quantity:15,cost:8},{inventoryId:"inv-3",productId:"debug-3",locationId:"1",quantity:10,cost:20},{inventoryId:"inv-4",productId:"debug-4",locationId:"1",quantity:12,cost:25},{inventoryId:"inv-5",productId:"debug-5",locationId:"1",quantity:8,cost:15},{inventoryId:"inv-6",productId:"6",locationId:"1",quantity:30,cost:12},{inventoryId:"inv-7",productId:"7",locationId:"1",quantity:15,cost:45},{inventoryId:"inv-8",productId:"8",locationId:"1",quantity:20,cost:40},{inventoryId:"inv-9",productId:"9",locationId:"1",quantity:25,cost:20},{inventoryId:"inv-10",productId:"10",locationId:"1",quantity:40,cost:5},{inventoryId:"inv-11",productId:"11",locationId:"1",quantity:18,cost:40},{inventoryId:"inv-12",productId:"12",locationId:"1",quantity:35,cost:15},{inventoryId:"inv-13",productId:"13",locationId:"1",quantity:22,cost:20},{inventoryId:"inv-14",productId:"14",locationId:"1",quantity:30,cost:8},{inventoryId:"inv-15",productId:"15",locationId:"1",quantity:50,cost:.8},{inventoryId:"inv-16",productId:"16",locationId:"1",quantity:28,cost:12},{inventoryId:"inv-17",productId:"debug-1",locationId:"2",quantity:18,cost:10},{inventoryId:"inv-18",productId:"debug-2",locationId:"2",quantity:12,cost:8},{inventoryId:"inv-19",productId:"debug-3",locationId:"2",quantity:9,cost:20},{inventoryId:"inv-20",productId:"debug-4",locationId:"2",quantity:11,cost:25},{inventoryId:"inv-21",productId:"debug-5",locationId:"2",quantity:7,cost:15},{inventoryId:"inv-22",productId:"6",locationId:"2",quantity:25,cost:12},{inventoryId:"inv-23",productId:"7",locationId:"2",quantity:10,cost:45},{inventoryId:"inv-24",productId:"8",locationId:"2",quantity:15,cost:40},{inventoryId:"inv-25",productId:"9",locationId:"2",quantity:20,cost:20},{inventoryId:"inv-26",productId:"10",locationId:"2",quantity:30,cost:5},{inventoryId:"inv-27",productId:"11",locationId:"2",quantity:12,cost:40},{inventoryId:"inv-28",productId:"12",locationId:"2",quantity:25,cost:15},{inventoryId:"inv-29",productId:"13",locationId:"2",quantity:18,cost:20},{inventoryId:"inv-30",productId:"14",locationId:"2",quantity:20,cost:8},{inventoryId:"inv-31",productId:"15",locationId:"2",quantity:40,cost:.8},{inventoryId:"inv-32",productId:"16",locationId:"2",quantity:22,cost:12},{inventoryId:"inv-33",productId:"debug-1",locationId:"bodega-central",quantity:50,cost:10},{inventoryId:"inv-34",productId:"debug-2",locationId:"bodega-central",quantity:40,cost:8},{inventoryId:"inv-35",productId:"debug-3",locationId:"bodega-central",quantity:35,cost:20},{inventoryId:"inv-36",productId:"debug-4",locationId:"bodega-central",quantity:30,cost:25},{inventoryId:"inv-37",productId:"debug-5",locationId:"bodega-central",quantity:25,cost:15},{inventoryId:"inv-38",productId:"6",locationId:"bodega-central",quantity:100,cost:12},{inventoryId:"inv-39",productId:"7",locationId:"bodega-central",quantity:60,cost:45},{inventoryId:"inv-40",productId:"8",locationId:"bodega-central",quantity:80,cost:40},{inventoryId:"inv-41",productId:"9",locationId:"bodega-central",quantity:70,cost:20},{inventoryId:"inv-42",productId:"10",locationId:"bodega-central",quantity:90,cost:5},{inventoryId:"inv-43",productId:"11",locationId:"bodega-central",quantity:55,cost:40},{inventoryId:"inv-44",productId:"12",locationId:"bodega-central",quantity:85,cost:15},{inventoryId:"inv-45",productId:"13",locationId:"bodega-central",quantity:65,cost:20},{inventoryId:"inv-46",productId:"14",locationId:"bodega-central",quantity:75,cost:8},{inventoryId:"inv-47",productId:"15",locationId:"bodega-central",quantity:120,cost:.8},{inventoryId:"inv-48",productId:"16",locationId:"bodega-central",quantity:70,cost:12}];t({inventoryBatches:i}),await Promise.all(i.map(a=>Ht.updateData("inventoryBatches",a.inventoryId,a)))}}finally{t({isLoading:{...e().isLoading,inventory:!1}})}},loadSalesHistory:async()=>{t({isLoading:{...e().isLoading,sales:!0}});try{if(e().isOnline){const r=await ok();t({salesHistory:r});const n=r.slice(0,100);await Promise.all(n.map(i=>Ht.updateData("sales",i.saleId,i)))}else{const r=await Ht.getAllData("sales");t({salesHistory:r})}}catch(r){console.error("Error loading sales history:",r);try{const n=await Ht.getAllData("sales");t({salesHistory:n})}catch(n){console.error("Error loading sales from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,sales:!1}})}},loadClients:async()=>{t({isLoading:{...e().isLoading,clients:!0}});try{if(e().isOnline){const r=await sk();t({clients:r}),await Promise.all(r.map(n=>Ht.updateData("clients",n.id,n)))}else{const r=await Ht.getAllData("clients");t({clients:r})}}catch(r){console.error("Error loading clients:",r);try{const n=await Ht.getAllData("clients");t({clients:n})}catch(n){console.error("Error loading clients from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,clients:!1}})}},loadTransfers:async()=>{try{const r=await lk();t({transfers:r})}catch(r){console.error("Error loading transfers:",r)}},loadShoppingList:async()=>{try{const r=await ck();t({shoppingList:r})}catch(r){console.error("Error loading shopping list:",r)}},loadExpenses:async()=>{try{const r=await uk();t({expenses:r})}catch(r){console.error("Error loading expenses:",r)}},loadCashClosings:async()=>{try{const r=await hk();t({cashClosings:r})}catch(r){console.error("Error loading cash closings:",r)}},fetchSalesReport:async({startDate:r,endDate:n,storeId:i=null,reportType:a="daily"})=>{try{t({isLoading:{...e().isLoading,salesReport:!0}});const o=await fk(r,n,i,a);return t({salesReport:o}),o}catch(o){return console.error("Error fetching sales report:",o),null}finally{t({isLoading:{...e().isLoading,salesReport:!1}})}},addClient:async r=>{try{const n=await Ak({...r,creditBalance:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return await e().loadClients(),{success:!0,id:n}}catch(n){return console.error("Error adding client:",n),{success:!1,error:n.message}}},updateClient:async(r,n)=>{try{return await e().loadClients(),{success:!0}}catch(i){return console.error("Error updating client:",i),{success:!1,error:i.message}}},deleteClient:async r=>{try{return await e().loadClients(),{success:!0}}catch(n){return console.error("Error deleting client:",n),{success:!1,error:n.message}}},grantCredit:async(r,n)=>{try{return await e().loadClients(),{success:!0}}catch(i){return console.error("Error granting credit:",i),{success:!1,error:i.message}}},recordPayment:async(r,n)=>{try{return await e().loadClients(),{success:!0}}catch(i){return console.error("Error recording payment:",i),{success:!1,error:i.message}}},liquidateCredit:async r=>{try{return await e().loadClients(),{success:!0}}catch(n){return console.error("Error liquidating credit:",n),{success:!1,error:n.message}}},addReminder:r=>{const n={...r,id:`rem-${Date.now()}`,isConcluded:!1,createdAt:new Date().toISOString()};t(i=>({reminders:[...i.reminders,n]}))},markReminderAsConcluded:r=>{t(n=>({reminders:n.reminders.map(i=>i.id===r?{...i,isConcluded:!0}:i)}))},createTransferRequest:({items:r})=>{const{currentUser:n,stores:i}=e(),a=i.find(s=>s.id===n.storeId);if(!a){console.error("Cannot create transfer request: User has no assigned store.");return}const o={id:`TR-${Date.now()}`,originLocationId:"bodega-central",destinationLocationId:a.id,requestedBy:n.uid,createdAt:new Date().toISOString(),status:"solicitado",items:r,history:[{status:"solicitado",date:new Date().toISOString(),userId:n.uid}]};t(s=>({transfers:[...s.transfers,o]}))},alerts:[],reminders:[],alertSettings:{daysBeforeExpiration:30,cardCommissionRate:.04},isWeightModalOpen:!1,weighingProduct:null,openWeightModal:r=>t({isWeightModalOpen:!0,weighingProduct:r}),closeWeightModal:()=>t({isWeightModalOpen:!1,weighingProduct:null}),addToCartWithWeight:(r,n)=>{const{currentUser:i,inventoryBatches:a,cart:o}=e(),s=i==null?void 0:i.storeId;if(!s){console.error("No store ID found for current user. Cannot add to cart.");return}const A=a.filter(c=>c.productId===r.id&&c.locationId===s).reduce((c,u)=>c+u.quantity,0);if(n>A){console.warn(`Cannot add ${n} of ${r.name} to cart. Insufficient stock.`);return}const l=o.findIndex(c=>c.id===r.id);if(l>=0){const c=[...o];c[l]={...c[l],quantity:c[l].quantity+n},t({cart:c})}else{const c={...r,quantity:n,unit:r.unit||"kg"};t(u=>({cart:[...u.cart,c]}))}Ht.saveCart(e().cart)},initialize:()=>{t({products:localProducts,categories:localCategories,users:localUsers,stores:localStores,inventoryBatches:localInventoryBatches}),e().checkAllAlerts()},handleLogin:async(r,n)=>{try{const{data:i,error:a}=await Vt.auth.signInWithPassword({email:r,password:n});if(a)return a.message.includes("Invalid login credentials")||a.message.includes("Invalid email/phone")?{success:!1,error:"Usuario o contrasea incorrectos"}:{success:!1,error:`Error de autenticacin: ${a.message}`};if(!i||!i.user)return{success:!1,error:"Error de autenticacin: No se recibi informacin de usuario"};const o=await rk(i.user.id);return o?(t({currentUser:{...o,storeId:o.storeId||o.store_id,storeName:o.storeName||o.store_name||"Tienda no asignada"},currentView:o.role==="admin"||o.role==="gerente"?"admin-dashboard":"pos"}),await e().initialize(),{success:!0,user:o}):{success:!1,error:"Usuario no encontrado en la base de datos"}}catch(i){return{success:!1,error:`Error de autenticacin: ${i.message}`}}},handleLogout:()=>{t({currentUser:null,currentView:"login",cart:[],products:[],categories:[],users:[],stores:[],clients:[],inventoryBatches:[],transfers:[],salesHistory:[],expenses:[],shoppingList:[],cashClosings:[]})},setCurrentView:r=>t({currentView:r}),setActiveTab:r=>t({activeTab:r}),addToCart:r=>{const{currentUser:n,inventoryBatches:i,cart:a}=e(),o=(n==null?void 0:n.storeId)||"1";let s=0;if(i&&i.length>0?s=i.filter(A=>String(A.productId)===String(r.id)&&String(A.locationId)===String(o)).reduce((A,l)=>A+l.quantity,0):s=1/0,s===1/0)t(A=>A.cart.find(c=>c.id===r.id)?{cart:A.cart.map(c=>c.id===r.id?{...c,quantity:c.quantity+1}:c)}:{cart:[...A.cart,{...r,quantity:1}]});else{const A=a.find(c=>c.id===r.id);if((A?A.quantity:0)>=s){console.warn(`Cannot add more ${r.name} to cart. Stock limit reached.`);return}t(c=>c.cart.find(h=>h.id===r.id)?{cart:c.cart.map(h=>h.id===r.id?{...h,quantity:h.quantity+1}:h)}:{cart:[...c.cart,{...r,quantity:1}]})}Ht.saveCart(e().cart)},removeFromCart:r=>{t(n=>({cart:n.cart.filter(i=>i.id!==r)})),Ht.saveCart(e().cart)},updateCartItemQuantity:(r,n)=>{t(i=>({cart:i.cart.map(a=>a.id===r?{...a,quantity:n}:a).filter(a=>a.quantity>0)})),Ht.saveCart(e().cart)},handleCheckout:async r=>{const{cart:n,currentUser:i,inventoryBatches:a,discount:o,note:s,isOnline:A}=e(),{cash:l,card:c,cardCommission:u,commissionInCash:h}=r,f=i==null?void 0:i.storeId;if(!f){console.error("Checkout failed: No store ID for current user.");return}let g=JSON.parse(JSON.stringify(a));for(const w of n){let x=w.quantity;const _=g.filter(I=>I.productId===w.id&&I.locationId===f).sort((I,L)=>new Date(I.expirationDate)-new Date(L.expirationDate));for(const I of _){if(x<=0)break;const L=Math.min(x,I.quantity);I.quantity-=L,x-=L}}const y=n.reduce((w,x)=>w+x.price*x.quantity,0);let b=y;o.type==="percentage"?b=y*(1-o.value/100):o.type==="amount"&&(b=y-o.value),u>0&&!h&&(b+=u);const m={cart:n.map(w=>({...w})),subtotal:y,discount:o,note:s,total:b,cash:l,card:c,cardCommission:u,commissionInCash:h,cashier:i?i.name:"Unknown",storeId:f,date:new Date().toISOString()};if(!A){const w=`offline-sale-${Date.now()}`,x={...m,id:w,status:"pending",createdAt:new Date().toISOString()};return await Ht.updateData("pendingSales",w,x),await Promise.all(g.map(_=>Ht.updateData("inventoryBatches",_.inventoryId,_))),t({cart:[],lastSale:{...m,saleId:w},salesHistory:[...e().salesHistory,{...m,saleId:w}],discount:{type:"none",value:0},note:"",inventoryBatches:g.filter(_=>_.quantity>0)}),e().checkAllAlerts(),{success:!0,saleId:w,offline:!0}}try{const w=await tB(m);return await e().loadInventoryBatches(),t({cart:[],lastSale:{...m,saleId:w},salesHistory:[...e().salesHistory,{...m,saleId:w}],discount:{type:"none",value:0},note:""}),e().checkAllAlerts(),{success:!0,saleId:w}}catch(w){return console.error("Error processing checkout:",w),{success:!1,error:w.message}}},createTransferRequest:({items:r})=>{const{currentUser:n,stores:i}=e(),a=i.find(s=>s.id===n.storeId);if(!a){console.error("Cannot create transfer request: User has no assigned store.");return}const o={id:`TR-${Date.now()}`,originLocationId:"bodega-central",destinationLocationId:a.id,requestedBy:n.uid,createdAt:new Date().toISOString(),status:"solicitado",items:r,history:[{status:"solicitado",date:new Date().toISOString(),userId:n.uid}]};t(s=>({transfers:[...s.transfers,o]}))},approveTransfer:r=>{t(n=>({transfers:n.transfers.map(i=>i.id===r?{...i,status:"aprobado",history:[...i.history,{status:"aprobado",date:new Date().toISOString(),userId:e().currentUser.uid}]}:i)}))},shipTransfer:(r,n)=>{const{inventoryBatches:i}=e();let a=JSON.parse(JSON.stringify(i));for(const o of n){let s=o.sentQuantity;const A=a.filter(l=>l.productId===o.id&&l.locationId==="bodega-central").sort((l,c)=>new Date(l.expirationDate)-new Date(c.expirationDate));for(const l of A){if(s<=0)break;const c=Math.min(s,l.quantity);l.quantity-=c,s-=c}}t(o=>({inventoryBatches:a.filter(s=>s.quantity>0),transfers:o.transfers.map(s=>s.id===r?{...s,status:"enviado",items:s.items.map(A=>{const l=n.find(c=>c.productId===A.productId);return l?{...A,sentQuantity:l.sentQuantity}:A}),history:[...s.history,{status:"enviado",date:new Date().toISOString(),userId:e().currentUser.uid}]}:s)})),e().checkAllAlerts()},receiveTransfer:(r,n)=>{const{inventoryBatches:i}=e();let a=JSON.parse(JSON.stringify(i));const o=e().transfers.find(A=>A.id===r),s=o.destinationLocationId;for(const A of n){const l=o.items.find(c=>c.productId===A.productId);a.push({inventoryId:`inv-${Date.now()}-${A.productId}`,productId:A.productId,locationId:s,quantity:A.receivedQuantity,cost:(l==null?void 0:l.cost)||0,expirationDate:"2027-12-31"})}t(A=>({inventoryBatches:a,transfers:A.transfers.map(l=>l.id===r?{...l,status:"recibido",items:l.items.map(c=>{const u=n.find(h=>h.productId===c.productId);return u?{...c,receivedQuantity:u.receivedQuantity}:c}),history:[...l.history,{status:"recibido",date:new Date().toISOString(),userId:e().currentUser.uid}]}:l)})),e().checkAllAlerts()},addProduct:async r=>{var n;try{const{storeId:i,categoryId:a,subcategoryId:o,minStockThreshold:s,...A}=r,l={...A,categoryId:a,subcategoryId:o,min_stock_threshold:s||{},created_at:new Date().toISOString(),updated_at:new Date().toISOString()},c=await YO(l);if(r.inventoryData&&Array.isArray(r.inventoryData))for(const u of r.inventoryData)u.quantity>0&&await Th({productId:c,locationId:u.locationId,quantity:u.quantity,cost:u.cost||A.cost||0,expirationDate:u.expirationDate||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});else{const u=(n=e().currentUser)==null?void 0:n.storeId;await Th({productId:c,locationId:i||u||"bodega-central",quantity:0,cost:A.cost||0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}return await e().loadProducts(),await e().loadInventoryBatches(),{success:!0,id:c}}catch(i){return console.error("Error adding product:",i),{success:!1,error:i.message}}},updateProduct:async(r,n)=>{try{const{minStockThreshold:i,inventoryData:a,...o}=n,s={...o,min_stock_threshold:i||{},updated_at:new Date().toISOString()};if(await JO(r,s),a&&Array.isArray(a)){const A=e().inventoryBatches.filter(l=>l.productId===r);for(const l of a){const c=A.find(u=>u.locationId===l.locationId);c?await eB(c.inventoryId,{quantity:l.quantity,cost:l.cost||o.cost||0,expirationDate:l.expirationDate||null,updated_at:new Date().toISOString()}):l.quantity>0&&await Th({productId:r,locationId:l.locationId,quantity:l.quantity,cost:l.cost||o.cost||0,expirationDate:l.expirationDate||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}}return await e().loadProducts(),await e().loadInventoryBatches(),{success:!0}}catch(i){return console.error("Error updating product:",i),{success:!1,error:i.message}}},deleteProduct:r=>{t(n=>({products:n.products.filter(i=>i.id!==r)}))},checkAllAlerts:()=>{const{inventoryBatches:r,products:n,stores:i,alertSettings:a}=e(),o=[];i.forEach(l=>{n.forEach(c=>{const u=r.filter(f=>f.productId===c.id&&f.locationId===l.id).reduce((f,g)=>f+g.quantity,0),h=c.minStockThreshold?c.minStockThreshold[l.id]:void 0;h!==void 0&&u<h&&o.push({id:`low-stock-${c.id}-${l.id}`,type:"Stock Bajo",message:`Quedan ${u} de ${c.name} en ${l.name}. (Mnimo: ${h})`,isRead:!1})})});const s=new Date,A=new Date;A.setDate(s.getDate()+a.daysBeforeExpiration),r.forEach(l=>{if(l.expirationDate){const c=new Date(l.expirationDate);if(c>s&&c<=A){const u=n.find(f=>f.id===l.productId),h=i.find(f=>f.id===l.locationId);o.push({id:`exp-${l.inventoryId}`,type:"Prxima Caducidad",message:`${l.quantity} de ${u.name} en ${h.name} vencen el ${l.expirationDate}.`,isRead:!1})}}}),t({alerts:o})},markAlertAsRead:r=>{t(n=>({alerts:n.alerts.map(i=>i.id===r?{...i,isRead:!0}:i)}))},addExpense:r=>{t(n=>{let i=[];return Array.isArray(r)?i=r.map(a=>({id:`exp-${Date.now()}-${a.id}`,date:new Date().toISOString(),concept:a.name,amount:a.price*a.quantity,type:"Compra Miscelnea",details:`Comprado desde lista de compras. Cantidad: ${a.quantity}`})):i.push({...r,id:`exp-${Date.now()}`,date:new Date().toISOString()}),{expenses:[...n.expenses,...i]}})},addUser:r=>{const n={...r,uid:`user-${Date.now()}`};t(i=>({users:[...i.users,n]})),Y5({...r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).then(i=>{t(a=>({users:a.users.map(o=>o.uid===n.uid?{...r,id:i}:o)}))}).catch(i=>{console.error("Error adding user to database:",i)})},updateUser:(r,n)=>{t(i=>({users:i.users.map(a=>a.uid===r?{...a,...n}:a)})),J5(r,{...n,updated_at:new Date().toISOString()}).catch(i=>{console.error("Error updating user in database:",i)})},deleteUser:r=>{t(n=>({users:n.users.filter(i=>i.uid!==r)})),Z5(r).catch(n=>{console.error("Error deleting user from database:",n)})},addCategory:async r=>{try{const n=await DE(r);return await e().loadCategories(),{success:!0,id:n}}catch(n){return console.error("Error adding category:",n),{success:!1,error:n.message}}},updateCategory:async(r,n)=>{try{return await ek(r,n),await e().loadCategories(),{success:!0}}catch(i){return console.error("Error updating category:",i),{success:!1,error:i.message}}},deleteCategory:async r=>{try{const{data:{error:n}}=await Vt.from("categories").delete().eq("id",r);if(n)throw n;return await Vt.from("categories").delete().eq("parent_id",r),await e().loadCategories(),{success:!0}}catch(n){return console.error("Error deleting category:",n),{success:!1,error:n.message}}},addInventoryBatch:async r=>{try{const n=await Th(r);return await e().loadInventoryBatches(),{success:!0,id:n}}catch(n){return console.error("Error adding inventory batch:",n),{success:!1,error:n.message}}},updateInventoryBatch:async(r,n)=>{try{return await eB(r,n),await e().loadInventoryBatches(),{success:!0}}catch(i){return console.error("Error updating inventory batch:",i),{success:!1,error:i.message}}},deleteInventoryBatch:async r=>{try{return await ak(r),await e().loadInventoryBatches(),{success:!0}}catch(n){return console.error("Error deleting inventory batch:",n),{success:!1,error:n.message}}},handleCashClosing:r=>{const{salesHistory:n,currentUser:i}=e(),a=n.filter(c=>c.cashier===i.name),o=a.reduce((c,u)=>c+u.total,0),s=a.filter(c=>c.cash).reduce((c,u)=>c+u.cash,0),A=a.filter(c=>c.card).reduce((c,u)=>c+u.card,0),l={id:`cc-${Date.now()}`,date:new Date().toISOString(),cashier:i.name,initialCash:r,totalSalesAmount:o,totalCashSales:s,totalCardSales:A,finalCash:r+s,sales:a};t(c=>({cashClosings:[...c.cashClosings,l],salesHistory:c.salesHistory.filter(u=>u.cashier!==i.name)}))},recordEmployeeConsumption:(r,n)=>{const{inventoryBatches:i}=e();let a=JSON.parse(JSON.stringify(i));for(const s of r){let A=s.quantity;const l=a.filter(c=>c.productId===s.id&&c.locationId===n.storeId).sort((c,u)=>new Date(c.expirationDate)-new Date(u.expirationDate));for(const c of l){if(A<=0)break;const u=Math.min(A,c.quantity);c.quantity-=u,A-=u}}const o={id:`CONS-${Date.now()}`,date:new Date().toISOString(),items:r,user:n.name,storeId:n.storeId,type:"Consumo de Empleado"};console.log("Employee Consumption Recorded:",o),t({inventoryBatches:a.filter(s=>s.quantity>0)}),e().checkAllAlerts()},ticketSettings:{headerText:"Gracias por tu compra!",footerText:"Vuelve pronto.",showQrCode:!0,fontSize:"base",logoUrl:""},updateTicketSettings:r=>{t(n=>{const i={...n.ticketSettings,...r};return console.log("Saving ticketSettings to localStorage:",i),localStorage.setItem("ticketSettings",JSON.stringify(i)),{ticketSettings:i}})},updateAlertSettings:r=>{t(n=>{const i={...n.alertSettings,...r};return console.log("Saving alertSettings to localStorage:",i),localStorage.setItem("alertSettings",JSON.stringify(i)),{alertSettings:i}})},initialize:async()=>{console.log("useAppStore initialize function called.");const r=localStorage.getItem("ticketSettings");let n=e().ticketSettings;const i=!0;if(r){const a=JSON.parse(r);console.log("Loading ticketSettings from localStorage:",a),n={...n,...a}}e().initNetworkListeners(),await pk(),await Promise.all([e().loadProducts(),e().loadCategories(),e().loadUsers(),e().loadStores(),e().loadInventoryBatches(),e().loadSalesHistory(),e().loadClients(),e().loadTransfers(),e().loadShoppingList(),e().loadExpenses(),e().loadCashClosings()]),t({ticketSettings:n,darkMode:i,isOnline:navigator.onLine,offlineMode:!navigator.onLine}),e().checkAllAlerts()},addUser:r=>{const n={...r,uid:`user-${Date.now()}`};t(i=>({users:[...i.users,n]})),Y5({...r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).then(i=>{t(a=>({users:a.users.map(o=>o.uid===n.uid?{...r,id:i}:o)}))}).catch(i=>{console.error("Error adding user to database:",i)})},updateUser:(r,n)=>{t(i=>({users:i.users.map(a=>a.uid===r?{...a,...n}:a)})),J5(r,{...n,updated_at:new Date().toISOString()}).catch(i=>{console.error("Error updating user in database:",i)})},deleteUser:r=>{t(n=>({users:n.users.filter(i=>i.uid!==r)})),Z5(r).catch(n=>{console.error("Error deleting user from database:",n)})}})),vk=()=>{const[t,e]=Y.useState(""),[r,n]=Y.useState(""),[i,a]=Y.useState(null),o=Bl(),{handleLogin:s}=jt(),A=async l=>{l.preventDefault(),a(null);const c=await s(t,r);c.success?c.user.role==="admin"||c.user.role==="gerente"?o("/admin"):c.user.role==="cajera"&&o("/pos/1"):a(c.error)};return d.jsx("div",{className:"min-h-screen bg-[#1D1D27] flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[d.jsx("img",{src:"/src/utils/logopos.png",alt:"Logo RACOM POS",className:"w-12 h-12 object-contain"}),d.jsx("h1",{className:"text-3xl font-bold text-[#F0F0F0]",children:"RACOM POS"})]}),d.jsx("p",{className:"text-[#a0a0b0]",children:"Sistema de Punto de Venta"})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-8",children:[d.jsxs("form",{onSubmit:A,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(td,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-5 h-5"}),d.jsx("input",{type:"email",value:t,onChange:l=>e(l.target.value),placeholder:"Ingresa tu email",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg pl-10 pr-4 py-3 focus:border-[#8A2BE2] outline-none transition-colors",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(U_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-5 h-5"}),d.jsx("input",{type:"password",value:r,onChange:l=>n(l.target.value),placeholder:"Ingresa tu contrasea",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg pl-10 pr-4 py-3 focus:border-[#8A2BE2] outline-none transition-colors",required:!0})]})]}),i&&d.jsx("div",{className:"text-red-500 text-sm text-center",children:i}),d.jsx("button",{type:"submit",className:"w-full bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-3 rounded-lg transition-colors",children:"Iniciar Sesin"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("p",{className:"text-[#a0a0b0] text-sm",children:"No recuerdas tus credenciales? Contacta al administrador."})})]})]})})},mk=()=>{const t=[{title:"Ventas Hoy",value:"$12,450",change:"+12.5%",icon:w1,iconColor:"text-green-500",bgColor:"bg-green-500 bg-opacity-20"},{title:"Pedidos",value:"142",change:"+8.2%",icon:Vc,iconColor:"text-blue-500",bgColor:"bg-blue-500 bg-opacity-20"},{title:"Clientes",value:"1,248",change:"+3.1%",icon:x1,iconColor:"text-purple-500",bgColor:"bg-purple-500 bg-opacity-20"},{title:"Inventario",value:"89%",change:"-2.3%",icon:Va,iconColor:"text-orange-500",bgColor:"bg-orange-500 bg-opacity-20"}],e=[{name:"Punto de Venta",icon:Vc,color:"bg-[#8A2BE2]",link:"/pos/1"},{name:"Productos",icon:Va,color:"bg-orange-500",link:"/products"},{name:"Inventario",icon:Va,color:"bg-green-500",link:"/inventory"},{name:"Reportes",icon:w1,color:"bg-blue-500",link:"/reports"},{name:"Gastos",icon:D_,color:"bg-yellow-500",link:"/expenses"},{name:"Traslados",icon:k_,color:"bg-purple-500",link:"/transfers"},{name:"Clientes",icon:x1,color:"bg-pink-500",link:"/clients"}];return d.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Panel de Administracin"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((r,n)=>{const i=r.icon;return d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-[#a0a0b0] font-medium",children:r.title}),d.jsx("div",{className:`w-10 h-10 ${r.bgColor} rounded-lg flex items-center justify-center`,children:d.jsx(i,{className:`w-5 h-5 ${r.iconColor}`})})]}),d.jsx("p",{className:"text-2xl font-bold text-[#F0F0F0]",children:r.value}),d.jsxs("p",{className:`text-sm flex items-center ${r.change.startsWith("+")?"text-green-500":"text-red-500"}`,children:[r.change.startsWith("+")?d.jsx(y1,{className:"w-3 h-3 mr-1"}):d.jsx(O_,{className:"w-3 h-3 mr-1"}),r.change," vs ayer"]})]},n)})}),d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Acciones Rpidas"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map((r,n)=>{const i=r.icon;return d.jsxs(ed,{to:r.link,className:"flex flex-col items-center justify-center p-4 bg-[#1D1D27] rounded-lg border border-[#3a3a4a] hover:bg-[#3a3a4a] transition-colors",children:[d.jsx("div",{className:`${r.color} w-12 h-12 rounded-lg flex items-center justify-center mb-2`,children:d.jsx(i,{className:"w-6 h-6 text-white"})}),d.jsx("span",{className:"text-[#F0F0F0] text-sm font-medium",children:r.name})]},n)})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Ventas Recientes"}),d.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(r=>d.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-[#3a3a4a] last:border-none",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-[#F0F0F0] font-medium",children:["Venta #",String(r).padStart(4,"0")]}),d.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:["Cliente: Cliente ",r]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-[#8A2BE2] font-bold",children:["$",(r*125.75).toFixed(2)]}),d.jsxs("p",{className:"text-[#a0a0b0] text-xs",children:["Hace ",r,"h"]})]})]},r))})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Productos con Bajo Stock"}),d.jsx("div",{className:"space-y-4",children:[{name:"Producto 1",stock:5,min:10},{name:"Producto 2",stock:3,min:8},{name:"Producto 3",stock:7,min:15},{name:"Producto 4",stock:2,min:5}].map((r,n)=>d.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-[#3a3a4a] last:border-none",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[#F0F0F0] font-medium",children:r.name}),d.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:["Mnimo: ",r.min]})]}),d.jsx("span",{className:`font-bold ${r.stock<=r.min*.5?"text-red-500":r.stock<=r.min?"text-yellow-500":"text-green-500"}`,children:r.stock})]},n))})]})]})]})},Ke=({children:t,onClick:e,className:r="",variant:n="primary",size:i="md",disabled:a=!1})=>{const{darkMode:o}=jt(),s={sm:"px-3 py-2 text-sm rounded-lg",md:"px-4 py-3 text-base rounded-lg",lg:"px-6 py-4 text-lg rounded-xl"},A=()=>{let l=`${s[i]} font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 `;switch(a?l+="opacity-50 cursor-not-allowed ":l+="cursor-pointer hover:opacity-90 active:scale-[0.98] ",n){case"primary":return l+"bg-[#7c4dff] text-white hover:bg-[#5b2ecb] shadow-card "+r;case"secondary":return l+"bg-[#2c2c2c] text-[#c0c0c0] border border-[#404040] hover:bg-[#404040] shadow-card "+r;case"success":return l+"bg-[#00c853] text-white hover:bg-[#00a844] shadow-card "+r;case"danger":return l+"bg-[#ff5252] text-white hover:bg-[#e04040] shadow-card "+r;case"outline":return l+"bg-transparent border border-[#7c4dff] text-[#7c4dff] hover:bg-[#7c4dff]/10 shadow-card "+r;case"ghost":return l+"bg-transparent text-[#c0c0c0] hover:bg-[#2c2c2c] "+r;default:return l+r}};return d.jsx("button",{onClick:e,className:A(),disabled:a,children:t})},ar=({type:t="text",placeholder:e,value:r,onChange:n,className:i="",icon:a,prefix:o,...s})=>{const{darkMode:A}=jt(),l=`w-full ${a?"pl-12":o?"pl-10":"pl-4"} pr-4 py-3 border border-[#404040] rounded-xl focus:ring-2 focus:ring-[#7c4dff] focus:border-[#7c4dff] bg-[#202020] text-[#f5f5f5] transition-all duration-200 shadow-sm focus:shadow-md ${i}`;return d.jsxs("div",{className:"relative flex items-center",children:[a&&d.jsx(a,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-[#a0a0a0]"}),o&&d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#a0a0a0] pl-3",children:o}),d.jsx("input",{type:t,placeholder:e,value:r,onChange:n,className:l,...s})]})},Gl=({children:t,className:e="",header:r,title:n,subtitle:i})=>{const{darkMode:a}=jt(),o=`bg-[#202020] border border-[#333333] rounded-xl shadow-card p-6 ${e}`;return d.jsxs("div",{className:o,children:[(n||i)&&d.jsxs("div",{className:"mb-4",children:[n&&d.jsx("h3",{className:"font-bold text-[#f5f5f5] text-lg",children:n}),i&&d.jsx("p",{className:"text-sm text-[#a0a0a0]",children:i})]}),t]})},Tr=({isOpen:t,onClose:e,title:r,children:n})=>{const{darkMode:i}=jt();return t?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-[#202020] text-[#f5f5f5] rounded-xl shadow-card p-6 w-full max-w-md mx-auto transition-all duration-200 border border-[#333333]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-[#f5f5f5]",children:r}),d.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-[#404040] text-[#c0c0c0]","aria-label":"Cerrar",children:d.jsx(yo,{size:20})})]}),d.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:n})]})}):null};var up={},QE={exports:{}},wk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yk=wk,xk=yk;function RE(){}function jE(){}jE.resetWarningCache=RE;var Bk=function(){function t(n,i,a,o,s,A){if(A!==xk){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jE,resetWarningCache:RE};return r.PropTypes=r,r};QE.exports=Bk();var ME=QE.exports,HE={L:1,M:0,Q:3,H:2},KE={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},bk=KE;function VE(t){this.mode=bk.MODE_8BIT_BYTE,this.data=t}VE.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var Ck=VE,Lh=HE;function uo(t,e){this.totalCount=t,this.dataCount=e}uo.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];uo.getRSBlocks=function(t,e){var r=uo.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=new Array,a=0;a<n;a++)for(var o=r[a*3+0],s=r[a*3+1],A=r[a*3+2],l=0;l<o;l++)i.push(new uo(s,A));return i};uo.getRsBlockTable=function(t,e){switch(e){case Lh.L:return uo.RS_BLOCK_TABLE[(t-1)*4+0];case Lh.M:return uo.RS_BLOCK_TABLE[(t-1)*4+1];case Lh.Q:return uo.RS_BLOCK_TABLE[(t-1)*4+2];case Lh.H:return uo.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var _k=uo;function GE(){this.buffer=new Array,this.length=0}GE.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ek=GE,ja={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ja.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ja.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Rn=0;Rn<8;Rn++)ja.EXP_TABLE[Rn]=1<<Rn;for(var Rn=8;Rn<256;Rn++)ja.EXP_TABLE[Rn]=ja.EXP_TABLE[Rn-4]^ja.EXP_TABLE[Rn-5]^ja.EXP_TABLE[Rn-6]^ja.EXP_TABLE[Rn-8];for(var Rn=0;Rn<255;Rn++)ja.LOG_TABLE[ja.EXP_TABLE[Rn]]=Rn;var $E=ja,HA=$E;function T0(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}T0.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=HA.gexp(HA.glog(this.get(r))+HA.glog(t.get(n)));return new T0(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=HA.glog(this.get(0))-HA.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=HA.gexp(HA.glog(t.get(n))+e);return new T0(r,0).mod(t)}};var WE=T0,sa=KE,rB=WE,Sk=$E,Is={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},kn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;kn.getBCHDigit(e)-kn.getBCHDigit(kn.G15)>=0;)e^=kn.G15<<kn.getBCHDigit(e)-kn.getBCHDigit(kn.G15);return(t<<10|e)^kn.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;kn.getBCHDigit(e)-kn.getBCHDigit(kn.G18)>=0;)e^=kn.G18<<kn.getBCHDigit(e)-kn.getBCHDigit(kn.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return kn.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Is.PATTERN000:return(e+r)%2==0;case Is.PATTERN001:return e%2==0;case Is.PATTERN010:return r%3==0;case Is.PATTERN011:return(e+r)%3==0;case Is.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Is.PATTERN101:return e*r%2+e*r%3==0;case Is.PATTERN110:return(e*r%2+e*r%3)%2==0;case Is.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new rB([1],0),r=0;r<t;r++)e=e.multiply(new rB([1,Sk.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case sa.MODE_NUMBER:return 10;case sa.MODE_ALPHA_NUM:return 9;case sa.MODE_8BIT_BYTE:return 8;case sa.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case sa.MODE_NUMBER:return 12;case sa.MODE_ALPHA_NUM:return 11;case sa.MODE_8BIT_BYTE:return 16;case sa.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case sa.MODE_NUMBER:return 14;case sa.MODE_ALPHA_NUM:return 13;case sa.MODE_8BIT_BYTE:return 16;case sa.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var a=0,o=t.isDark(n,i),s=-1;s<=1;s++)if(!(n+s<0||e<=n+s))for(var A=-1;A<=1;A++)i+A<0||e<=i+A||s==0&&A==0||o==t.isDark(n+s,i+A)&&a++;a>5&&(r+=3+a-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var c=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&c++;var u=Math.abs(100*c/e/e-50)/5;return r+=u*10,r}},Ik=kn,Fk=Ck,zE=_k,qE=Ek,pA=Ik,Nk=WE;function fo(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Yi=fo.prototype;Yi.addData=function(t){var e=new Fk(t);this.dataList.push(e),this.dataCache=null};Yi.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};Yi.getModuleCount=function(){return this.moduleCount};Yi.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=zE.getRSBlocks(t,this.errorCorrectLevel),r=new qE,n=0,i=0;i<e.length;i++)n+=e[i].dataCount;for(var i=0;i<this.dataList.length;i++){var a=this.dataList[i];r.put(a.mode,4),r.put(a.getLength(),pA.getLengthInBits(a.mode,t)),a.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};Yi.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=fo.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};Yi.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};Yi.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=pA.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};Yi.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var a=0;a<this.modules.length;a++)for(var o=a*i,s=0;s<this.modules[a].length;s++){var A=s*i,l=this.modules[a][s];l&&(n.beginFill(0,100),n.moveTo(A,o),n.lineTo(A+i,o),n.lineTo(A+i,o+i),n.lineTo(A,o+i),n.endFill())}return n};Yi.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};Yi.setupPositionAdjustPattern=function(){for(var t=pA.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)a==-2||a==2||o==-2||o==2||a==0&&o==0?this.modules[n+a][i+o]=!0:this.modules[n+a][i+o]=!1}};Yi.setupTypeNumber=function(t){for(var e=pA.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Yi.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=pA.getBCHTypeInfo(r),i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(var i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!t};Yi.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var s=0;s<2;s++)if(this.modules[n][o-s]==null){var A=!1;a<t.length&&(A=(t[a]>>>i&1)==1);var l=pA.getMask(e,n,o-s);l&&(A=!A),this.modules[n][o-s]=A,i--,i==-1&&(a++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};fo.PAD0=236;fo.PAD1=17;fo.createData=function(t,e,r){for(var n=zE.getRSBlocks(t,e),i=new qE,a=0;a<r.length;a++){var o=r[a];i.put(o.mode,4),i.put(o.getLength(),pA.getLengthInBits(o.mode,t)),o.write(i)}for(var s=0,a=0;a<n.length;a++)s+=n[a].dataCount;if(i.getLengthInBits()>s*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+s*8+")");for(i.getLengthInBits()+4<=s*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=s*8||(i.put(fo.PAD0,8),i.getLengthInBits()>=s*8));)i.put(fo.PAD1,8);return fo.createBytes(i,n)};fo.createBytes=function(t,e){for(var r=0,n=0,i=0,a=new Array(e.length),o=new Array(e.length),s=0;s<e.length;s++){var A=e[s].dataCount,l=e[s].totalCount-A;n=Math.max(n,A),i=Math.max(i,l),a[s]=new Array(A);for(var c=0;c<a[s].length;c++)a[s][c]=255&t.buffer[c+r];r+=A;var u=pA.getErrorCorrectPolynomial(l),h=new Nk(a[s],u.getLength()-1),f=h.mod(u);o[s]=new Array(u.getLength()-1);for(var c=0;c<o[s].length;c++){var g=c+f.getLength()-o[s].length;o[s][c]=g>=0?f.get(g):0}}for(var y=0,c=0;c<e.length;c++)y+=e[c].totalCount;for(var b=new Array(y),m=0,c=0;c<n;c++)for(var s=0;s<e.length;s++)c<a[s].length&&(b[m++]=a[s][c]);for(var c=0;c<i;c++)for(var s=0;s<e.length;s++)c<o[s].length&&(b[m++]=o[s][c]);return b};var Uk=fo,Jw={};Object.defineProperty(Jw,"__esModule",{value:!0});var Tk=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lk=ME,Aa=YE(Lk),XE=Y,Oh=YE(XE);function YE(t){return t&&t.__esModule?t:{default:t}}function Ok(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var kk={bgColor:Aa.default.oneOfType([Aa.default.object,Aa.default.string]).isRequired,bgD:Aa.default.string.isRequired,fgColor:Aa.default.oneOfType([Aa.default.object,Aa.default.string]).isRequired,fgD:Aa.default.string.isRequired,size:Aa.default.number.isRequired,title:Aa.default.string,viewBoxSize:Aa.default.number.isRequired,xmlns:Aa.default.string},Zw=(0,XE.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,i=t.fgD,a=t.fgColor,o=t.size,s=t.title,A=t.viewBoxSize,l=t.xmlns,c=l===void 0?"http://www.w3.org/2000/svg":l,u=Ok(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Oh.default.createElement("svg",Tk({},u,{height:o,ref:e,viewBox:"0 0 "+A+" "+A,width:o,xmlns:c}),s?Oh.default.createElement("title",null,s):null,Oh.default.createElement("path",{d:n,fill:r}),Oh.default.createElement("path",{d:i,fill:a}))});Zw.displayName="QRCodeSvg";Zw.propTypes=kk;Jw.default=Zw;Object.defineProperty(up,"__esModule",{value:!0});up.QRCode=void 0;var Dk=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pk=ME,jo=wd(Pk),Qk=HE,Rk=wd(Qk),jk=Uk,Mk=wd(jk),JE=Y,Hk=wd(JE),Kk=Jw,Vk=wd(Kk);function wd(t){return t&&t.__esModule?t:{default:t}}function Gk(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var $k={bgColor:jo.default.oneOfType([jo.default.object,jo.default.string]),fgColor:jo.default.oneOfType([jo.default.object,jo.default.string]),level:jo.default.string,size:jo.default.number,value:jo.default.string.isRequired},fp=(0,JE.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,i=t.fgColor,a=i===void 0?"#000000":i,o=t.level,s=o===void 0?"L":o,A=t.size,l=A===void 0?256:A,c=t.value,u=Gk(t,["bgColor","fgColor","level","size","value"]),h=new Mk.default(-1,Rk.default[s]);h.addData(c),h.make();var f=h.modules;return Hk.default.createElement(Vk.default,Dk({},u,{bgColor:n,bgD:f.map(function(g,y){return g.map(function(b,m){return b?"":"M "+m+" "+y+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:f.map(function(g,y){return g.map(function(b,m){return b?"M "+m+" "+y+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:l,viewBoxSize:f.length}))});up.QRCode=fp;fp.displayName="QRCode";fp.propTypes=$k;var Wk=up.default=fp;const zk="/assets/logo-CEwvjxCT.png",ZE=({saleDetails:t})=>{const{cart:e,total:r,date:n,saleId:i,subtotal:a,discount:o,note:s}=t,{ticketSettings:A}=jt(),{headerText:l,footerText:c,showQrCode:u,fontSize:h,logoUrl:f}=A;return d.jsxs("div",{className:`bg-white p-6 rounded-lg shadow-lg max-w-sm mx-auto my-4 font-mono text-${h}`,children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("img",{src:f||zk,alt:"Store Logo",className:"mx-auto h-16 mb-2"}),d.jsx("h2",{className:"text-lg font-bold",children:l}),d.jsx("p",{children:"Ticket de Venta"}),d.jsx("p",{className:"text-xs",children:new Date(n).toLocaleString()}),d.jsxs("p",{className:"text-xs",children:["Venta ID: ",i]})]}),d.jsx("div",{className:"border-t border-b border-gray-300 py-2 mb-2",children:e.map(g=>d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:[g.quantity," x ",g.name]}),d.jsxs("span",{children:["$",(g.quantity*g.price).toFixed(2)]})]},g.id))}),s&&d.jsxs("div",{className:"border-b border-gray-300 py-2 mb-2 text-left",children:[d.jsx("p",{className:"text-xs font-semibold",children:"Nota:"}),d.jsx("p",{className:"text-xs",children:s})]}),d.jsxs("div",{className:"flex justify-between font-bold text-base mb-4",children:[d.jsx("span",{children:"SUBTOTAL"}),d.jsxs("span",{children:["$",a.toFixed(2)]})]}),o.type!=="none"&&d.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[d.jsxs("span",{children:["Descuento (",o.type==="percentage"?`${o.value}%`:`$${o.value.toFixed(2)}`,")"]}),d.jsxs("span",{children:["-$",(a-r).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between font-bold text-base mb-4",children:[d.jsx("span",{children:"TOTAL"}),d.jsxs("span",{children:["$",r.toFixed(2)]})]}),d.jsxs("div",{className:"text-center text-xs text-gray-600",children:[d.jsx("p",{children:c}),u&&d.jsx("div",{className:"mt-2 p-2 bg-gray-100 rounded flex justify-center",children:d.jsx(Wk,{value:`http://your-app.com/sale/${i}`,size:64,level:"H"})})]})]})};var eS={exports:{}};(function(t,e){(function(r,n){t.exports=n(Y)})(typeof self<"u"?self:q6,function(r){return function(){var n={155:function(w){w.exports=r}},i={};function a(w){var x=i[w];if(x!==void 0)return x.exports;var _=i[w]={exports:{}};return n[w](_,_.exports,a),_.exports}a.d=function(w,x){for(var _ in x)a.o(x,_)&&!a.o(w,_)&&Object.defineProperty(w,_,{enumerable:!0,get:x[_]})},a.o=function(w,x){return Object.prototype.hasOwnProperty.call(w,x)},a.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return m}});var s=a(155);const A="printWindow";function l({level:w="error",messages:x,suppressErrors:_=!1}){_||(w==="error"?console.error(x):w==="warning"?console.warn(x):console.debug(x))}function c(w,x){if(x||!w){const _=document.getElementById(A);_&&document.body.removeChild(_)}}function u(w){return w instanceof Error?w:new Error("Unknown Error")}function h(w,x){const{documentTitle:_,onAfterPrint:I,onPrintError:L,preserveAfterPrint:U,print:D,suppressErrors:T}=x;setTimeout(()=>{var H,S;if(w.contentWindow){let O=function(){I==null||I(),c(U)};if(w.contentWindow.focus(),D)D(w).then(O).catch(j=>{L?L("print",u(j)):l({messages:["An error was thrown by the specified `print` function"],suppressErrors:T})});else{if(w.contentWindow.print){const j=(S=(H=w.contentDocument)===null||H===void 0?void 0:H.title)!==null&&S!==void 0?S:"",V=w.ownerDocument.title;_&&(w.ownerDocument.title=_,w.contentDocument&&(w.contentDocument.title=_)),w.contentWindow.print(),_&&(w.ownerDocument.title=V,w.contentDocument&&(w.contentDocument.title=j))}else l({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:T});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(j=>{var V,ie;return((ie=(V=navigator.userAgent)!==null&&V!==void 0?V:navigator.vendor)!==null&&ie!==void 0?ie:"opera"in window&&window.opera).match(j)})?setTimeout(O,500):O()}}else l({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:T})},500)}function f(w){const x=[],_=document.createTreeWalker(w,NodeFilter.SHOW_ELEMENT,null);let I=_.nextNode();for(;I;)x.push(I),I=_.nextNode();return x}function g(w,x,_){const I=f(w),L=f(x);if(I.length===L.length)for(let U=0;U<I.length;U++){const D=I[U],T=L[U],H=D.shadowRoot;if(H!==null){const S=T.attachShadow({mode:H.mode});S.innerHTML=H.innerHTML,g(H,S,_)}}else l({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",w,x],suppressErrors:_})}const y=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(w,x,_,I){var L,U,D,T,H;const{contentNode:S,clonedContentNode:O,clonedImgNodes:j,clonedVideoNodes:V,numResourcesToLoad:ie,originalCanvasNodes:le}=_,{bodyClass:ce,fonts:J,ignoreGlobalStyles:ae,pageStyle:ve,nonce:pe,suppressErrors:k,copyShadowRoots:W}=I;w.onload=null;const G=(L=w.contentDocument)!==null&&L!==void 0?L:(U=w.contentWindow)===null||U===void 0?void 0:U.document;if(G){const Z=G.body.appendChild(O);W&&g(S,Z,!!k),J&&(!((D=w.contentDocument)===null||D===void 0)&&D.fonts&&(!((T=w.contentWindow)===null||T===void 0)&&T.FontFace)?J.forEach(Ue=>{const _e=new FontFace(Ue.family,Ue.source,{weight:Ue.weight,style:Ue.style});w.contentDocument.fonts.add(_e),_e.loaded.then(()=>{x(_e)}).catch(he=>{x(_e,["Failed loading the font:",_e,"Load error:",u(he)])})}):(J.forEach(Ue=>{x(Ue)}),l({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:k})));const te=ve??y,oe=G.createElement("style");pe&&(oe.setAttribute("nonce",pe),G.head.setAttribute("nonce",pe)),oe.appendChild(G.createTextNode(te)),G.head.appendChild(oe),ce&&G.body.classList.add(...ce.split(" "));const me=G.querySelectorAll("canvas");for(let Ue=0;Ue<le.length;++Ue){const _e=le[Ue],he=me[Ue];if(he===void 0){l({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",_e],suppressErrors:k});continue}const $=he.getContext("2d");$&&$.drawImage(_e,0,0)}for(let Ue=0;Ue<j.length;Ue++){const _e=j[Ue],he=_e.getAttribute("src");if(he){const $=new Image;$.onload=()=>{x(_e)},$.onerror=(Je,We,Ve,Ee,Me)=>{x(_e,["Error loading <img>",_e,"Error",Me])},$.src=he}else x(_e,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',_e])}for(let Ue=0;Ue<V.length;Ue++){const _e=V[Ue];_e.preload="auto";const he=_e.getAttribute("poster");if(he){const $=new Image;$.onload=()=>{x(_e)},$.onerror=(Je,We,Ve,Ee,Me)=>{x(_e,["Error loading video poster",he,"for video",_e,"Error:",Me])},$.src=he}else _e.readyState>=2?x(_e):_e.src?(_e.onloadeddata=()=>{x(_e)},_e.onerror=($,Je,We,Ve,Ee)=>{x(_e,["Error loading video",_e,"Error",Ee])},_e.onstalled=()=>{x(_e,["Loading video stalled, skipping",_e])}):x(_e,["Error loading video, `src` is empty",_e])}const ge="select",we=S.querySelectorAll(ge),Se=G.querySelectorAll(ge);for(let Ue=0;Ue<we.length;Ue++)Se[Ue].value=we[Ue].value;if(!ae){const Ue=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let _e=0,he=Ue.length;_e<he;++_e){const $=Ue[_e];if($.tagName.toLowerCase()==="style"){const Je=G.createElement($.tagName),We=$.sheet;if(We){let Ve="";try{const Ee=We.cssRules.length;for(let Me=0;Me<Ee;++Me)typeof We.cssRules[Me].cssText=="string"&&(Ve+=`${We.cssRules[Me].cssText}\r
`)}catch(Ee){l({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",$,`Original error: ${u(Ee).message}`],level:"warning"})}Je.setAttribute("id",`react-to-print-${_e}`),pe&&Je.setAttribute("nonce",pe),Je.appendChild(G.createTextNode(Ve)),G.head.appendChild(Je)}}else if($.getAttribute("href"))if($.hasAttribute("disabled"))l({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",$],level:"warning"}),x($);else{const Je=G.createElement($.tagName);for(let We=0,Ve=$.attributes.length;We<Ve;++We){const Ee=$.attributes[We];Ee&&Je.setAttribute(Ee.nodeName,(H=Ee.nodeValue)!==null&&H!==void 0?H:"")}Je.onload=()=>{x(Je)},Je.onerror=(We,Ve,Ee,Me,Pe)=>{x(Je,["Failed to load",Je,"Error:",Pe])},pe&&Je.setAttribute("nonce",pe),G.head.appendChild(Je)}else l({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",$],level:"warning"}),x($)}}}ie===0&&h(w,I)}function m({bodyClass:w,contentRef:x,copyShadowRoots:_,documentTitle:I,fonts:L,ignoreGlobalStyles:U,nonce:D,onAfterPrint:T,onBeforePrint:H,onPrintError:S,pageStyle:O,preserveAfterPrint:j,print:V,printIframeProps:ie,suppressErrors:le}){return(0,s.useCallback)(J=>{function ae(){const ve={bodyClass:w,contentRef:x,copyShadowRoots:_,documentTitle:I,fonts:L,ignoreGlobalStyles:U,nonce:D,onAfterPrint:T,onPrintError:S,pageStyle:O,preserveAfterPrint:j,print:V,suppressErrors:le},pe=function(G){const Z=document.createElement("iframe");return Z.width=`${document.documentElement.clientWidth}px`,Z.height=`${document.documentElement.clientHeight}px`,Z.style.position="absolute",Z.style.top=`-${document.documentElement.clientHeight+100}px`,Z.style.left=`-${document.documentElement.clientWidth+100}px`,Z.id=A,Z.srcdoc="<!DOCTYPE html>",G&&(G.allow&&(Z.allow=G.allow),G.referrerPolicy!==void 0&&(Z.referrerPolicy=G.referrerPolicy),G.sandbox!==void 0&&(Z.sandbox=G.sandbox)),Z}(ie),k=function(G,Z){const{contentRef:te,fonts:oe,ignoreGlobalStyles:me,suppressErrors:ge}=Z,we=function({contentRef:Je,optionalContent:We,suppressErrors:Ve}){return We&&typeof We=="function"?(Je&&l({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),We()):Je?Je.current:void l({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Ve})}({contentRef:te,optionalContent:G,suppressErrors:ge});if(!we)return;const Se=we.cloneNode(!0),Ue=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),_e=Se.querySelectorAll("img"),he=Se.querySelectorAll("video"),$=oe?oe.length:0;return{contentNode:we,clonedContentNode:Se,clonedImgNodes:_e,clonedVideoNodes:he,numResourcesToLoad:(me?0:Ue.length)+_e.length+he.length+$,originalCanvasNodes:we.querySelectorAll("canvas")}}(J,ve);if(!k)return void l({messages:["There is nothing to print"],suppressErrors:le});const W=function(G,Z,te){const{suppressErrors:oe}=G,me=[],ge=[];return function(we,Se){me.includes(we)?l({level:"debug",messages:["Tried to mark a resource that has already been handled",we],suppressErrors:oe}):(Se?(l({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Se],suppressErrors:oe}),ge.push(we)):me.push(we),me.length+ge.length===Z&&h(te,G))}}(ve,k.numResourcesToLoad,pe);(function(G,Z,te,oe){G.onload=()=>{b(G,Z,te,oe)},document.body.appendChild(G)})(pe,W,k,ve)}c(j,!0),H?H().then(()=>{ae()}).catch(ve=>{S==null||S("onBeforePrint",u(ve))}):ae()},[w,x,_,I,L,U,D,T,H,S,O,j,V,le])}return o}()})})(eS);var tS=eS.exports;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zv=function(t,e){return zv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zv(t,e)};function qa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qv=function(){return qv=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qv.apply(this,arguments)};function ci(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(u){o(u)}}function A(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){c.done?a(c.value):i(c.value).then(s,A)}l((n=n.apply(t,[])).next())})}function ti(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function kh(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}var os=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),dp=function(t,e){return os.fromClientRect(t,e.getBoundingClientRect())},qk=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new os(0,0,n,i)},hp=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Xr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},nB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xk=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Dh=0;Dh<nB.length;Dh++)Xk[nB.charCodeAt(Dh)]=Dh;var iB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",of=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ph=0;Ph<iB.length;Ph++)of[iB.charCodeAt(Ph)]=Ph;var Yk=function(t){var e=t.length*.75,r=t.length,n,i=0,a,o,s,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)a=of[t.charCodeAt(n)],o=of[t.charCodeAt(n+1)],s=of[t.charCodeAt(n+2)],A=of[t.charCodeAt(n+3)],c[i++]=a<<2|o>>4,c[i++]=(o&15)<<4|s>>2,c[i++]=(s&3)<<6|A&63;return l},Jk=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Zk=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ll=5,ey=11,Vg=2,eD=ey-ll,rS=65536>>ll,tD=1<<ll,Gg=tD-1,rD=1024>>ll,nD=rS+rD,iD=nD,aD=32,oD=iD+aD,sD=65536>>ey,AD=1<<eD,lD=AD-1,aB=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},cD=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},uD=function(t,e){var r=Yk(t),n=Array.isArray(r)?Zk(r):new Uint32Array(r),i=Array.isArray(r)?Jk(r):new Uint16Array(r),a=24,o=aB(i,a/2,n[4]/2),s=n[5]===2?aB(i,(a+n[4])/2):cD(n,Math.ceil((a+n[4])/4));return new fD(n[0],n[1],n[2],n[3],o,s)},fD=function(){function t(e,r,n,i,a,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ll],r=(r<<Vg)+(e&Gg),this.data[r];if(e<=65535)return r=this.index[rS+(e-55296>>ll)],r=(r<<Vg)+(e&Gg),this.data[r];if(e<this.highStart)return r=oD-sD+(e>>ey),r=this.index[r],r+=e>>ll&lD,r=this.index[r],r=(r<<Vg)+(e&Gg),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),oB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qh=0;Qh<oB.length;Qh++)dD[oB.charCodeAt(Qh)]=Qh;var hD="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",sB=50,pD=1,nS=2,iS=3,gD=4,vD=5,AB=7,aS=8,lB=9,Gs=10,Xv=11,cB=12,Yv=13,mD=14,sf=15,Jv=16,Rh=17,Gu=18,wD=19,uB=20,Zv=21,$u=22,$g=23,$l=24,ji=25,Af=26,lf=27,Wl=28,yD=29,ZA=30,xD=31,jh=32,Mh=33,em=34,tm=35,rm=36,ad=37,nm=38,L0=39,O0=40,Wg=41,oS=42,BD=43,bD=[9001,65288],sS="!",Tt="",Hh="",im=uD(hD),Mo=[ZA,rm],am=[pD,nS,iS,vD],AS=[Gs,aS],fB=[lf,Af],CD=am.concat(AS),dB=[nm,L0,O0,em,tm],_D=[sf,Yv],ED=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(a,o){var s=im.get(a);if(s>sB?(i.push(!0),s-=sB):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(Jv);if(s===gD||s===Xv){if(o===0)return n.push(o),r.push(ZA);var A=r[o-1];return CD.indexOf(A)===-1?(n.push(n[o-1]),r.push(A)):(n.push(o),r.push(ZA))}if(n.push(o),s===xD)return r.push(e==="strict"?Zv:ad);if(s===oS||s===yD)return r.push(ZA);if(s===BD)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(ad):r.push(ZA);r.push(s)}),[n,r,i]},zg=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===e)return!0;if(o!==Gs)break}if(i===Gs)for(var a=r;a>0;){a--;var s=n[a];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var A=r;A<=n.length;){A++;var o=n[A];if(o===e)return!0;if(o!==Gs)break}if(s!==Gs)break}return!1},hB=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Gs)r--;else return n}return 0},SD=function(t,e,r,n,i){if(r[n]===0)return Tt;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return Tt;var o=a-1,s=a+1,A=e[a],l=o>=0?e[o]:0,c=e[s];if(A===nS&&c===iS)return Tt;if(am.indexOf(A)!==-1)return sS;if(am.indexOf(c)!==-1||AS.indexOf(c)!==-1)return Tt;if(hB(a,e)===aS)return Hh;if(im.get(t[a])===Xv||(A===jh||A===Mh)&&im.get(t[s])===Xv||A===AB||c===AB||A===lB||[Gs,Yv,sf].indexOf(A)===-1&&c===lB||[Rh,Gu,wD,$l,Wl].indexOf(c)!==-1||hB(a,e)===$u||zg($g,$u,a,e)||zg([Rh,Gu],Zv,a,e)||zg(cB,cB,a,e))return Tt;if(A===Gs)return Hh;if(A===$g||c===$g)return Tt;if(c===Jv||A===Jv)return Hh;if([Yv,sf,Zv].indexOf(c)!==-1||A===mD||l===rm&&_D.indexOf(A)!==-1||A===Wl&&c===rm||c===uB||Mo.indexOf(c)!==-1&&A===ji||Mo.indexOf(A)!==-1&&c===ji||A===lf&&[ad,jh,Mh].indexOf(c)!==-1||[ad,jh,Mh].indexOf(A)!==-1&&c===Af||Mo.indexOf(A)!==-1&&fB.indexOf(c)!==-1||fB.indexOf(A)!==-1&&Mo.indexOf(c)!==-1||[lf,Af].indexOf(A)!==-1&&(c===ji||[$u,sf].indexOf(c)!==-1&&e[s+1]===ji)||[$u,sf].indexOf(A)!==-1&&c===ji||A===ji&&[ji,Wl,$l].indexOf(c)!==-1)return Tt;if([ji,Wl,$l,Rh,Gu].indexOf(c)!==-1)for(var u=a;u>=0;){var h=e[u];if(h===ji)return Tt;if([Wl,$l].indexOf(h)!==-1)u--;else break}if([lf,Af].indexOf(c)!==-1)for(var u=[Rh,Gu].indexOf(A)!==-1?o:a;u>=0;){var h=e[u];if(h===ji)return Tt;if([Wl,$l].indexOf(h)!==-1)u--;else break}if(nm===A&&[nm,L0,em,tm].indexOf(c)!==-1||[L0,em].indexOf(A)!==-1&&[L0,O0].indexOf(c)!==-1||[O0,tm].indexOf(A)!==-1&&c===O0||dB.indexOf(A)!==-1&&[uB,Af].indexOf(c)!==-1||dB.indexOf(c)!==-1&&A===lf||Mo.indexOf(A)!==-1&&Mo.indexOf(c)!==-1||A===$l&&Mo.indexOf(c)!==-1||Mo.concat(ji).indexOf(A)!==-1&&c===$u&&bD.indexOf(t[s])===-1||Mo.concat(ji).indexOf(c)!==-1&&A===Gu)return Tt;if(A===Wg&&c===Wg){for(var f=r[a],g=1;f>0&&(f--,e[f]===Wg);)g++;if(g%2!==0)return Tt}return A===jh&&c===Mh?Tt:Hh},ID=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=ED(t,e.lineBreak),n=r[0],i=r[1],a=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(s){return[ji,ZA,oS].indexOf(s)!==-1?ad:s}));var o=e.wordBreak==="keep-all"?a.map(function(s,A){return s&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,o]},FD=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===sS,this.start=n,this.end=i}return t.prototype.slice=function(){return Xr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),ND=function(t,e){var r=hp(t),n=ID(r,e),i=n[0],a=n[1],o=n[2],s=r.length,A=0,l=0;return{next:function(){if(l>=s)return{done:!0,value:null};for(var c=Tt;l<s&&(c=SD(r,a,i,++l,o))===Tt;);if(c!==Tt||l===s){var u=new FD(r,c,A,l);return A=l,{value:u,done:!1}}return{done:!0,value:null}}}},UD=1,TD=2,yd=4,pB=8,I1=10,gB=47,Ff=92,LD=9,OD=32,Kh=34,Wu=61,kD=35,DD=36,PD=37,Vh=39,Gh=40,zu=41,QD=95,wi=45,RD=33,jD=60,MD=62,HD=64,KD=91,VD=93,GD=61,$D=123,$h=63,WD=125,vB=124,zD=126,qD=128,mB=65533,qg=42,al=43,XD=44,YD=58,JD=59,od=46,ZD=0,eP=8,tP=11,rP=14,nP=31,iP=127,oo=-1,lS=48,cS=97,uS=101,aP=102,oP=117,sP=122,fS=65,dS=69,hS=70,AP=85,lP=90,ri=function(t){return t>=lS&&t<=57},cP=function(t){return t>=55296&&t<=57343},zl=function(t){return ri(t)||t>=fS&&t<=hS||t>=cS&&t<=aP},uP=function(t){return t>=cS&&t<=sP},fP=function(t){return t>=fS&&t<=lP},dP=function(t){return uP(t)||fP(t)},hP=function(t){return t>=qD},Wh=function(t){return t===I1||t===LD||t===OD},F1=function(t){return dP(t)||hP(t)||t===QD},wB=function(t){return F1(t)||ri(t)||t===wi},pP=function(t){return t>=ZD&&t<=eP||t===tP||t>=rP&&t<=nP||t===iP},Qs=function(t,e){return t!==Ff?!1:e!==I1},zh=function(t,e,r){return t===wi?F1(e)||Qs(e,r):F1(t)?!0:!!(t===Ff&&Qs(t,e))},Xg=function(t,e,r){return t===al||t===wi?ri(e)?!0:e===od&&ri(r):ri(t===od?e:t)},gP=function(t){var e=0,r=1;(t[e]===al||t[e]===wi)&&(t[e]===wi&&(r=-1),e++);for(var n=[];ri(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Xr.apply(void 0,n),10):0;t[e]===od&&e++;for(var a=[];ri(t[e]);)a.push(t[e++]);var o=a.length,s=o?parseInt(Xr.apply(void 0,a),10):0;(t[e]===dS||t[e]===uS)&&e++;var A=1;(t[e]===al||t[e]===wi)&&(t[e]===wi&&(A=-1),e++);for(var l=[];ri(t[e]);)l.push(t[e++]);var c=l.length?parseInt(Xr.apply(void 0,l),10):0;return r*(i+s*Math.pow(10,-o))*Math.pow(10,A*c)},vP={type:2},mP={type:3},wP={type:4},yP={type:13},xP={type:8},BP={type:21},bP={type:9},CP={type:10},_P={type:11},EP={type:12},SP={type:14},qh={type:23},IP={type:1},FP={type:25},NP={type:24},UP={type:26},TP={type:27},LP={type:28},OP={type:29},kP={type:31},om={type:32},pS=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(hp(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==om;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Kh:return this.consumeStringToken(Kh);case kD:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(wB(r)||Qs(n,i)){var a=zh(r,n,i)?TD:UD,o=this.consumeName();return{type:5,value:o,flags:a}}break;case DD:if(this.peekCodePoint(0)===Wu)return this.consumeCodePoint(),yP;break;case Vh:return this.consumeStringToken(Vh);case Gh:return vP;case zu:return mP;case qg:if(this.peekCodePoint(0)===Wu)return this.consumeCodePoint(),SP;break;case al:if(Xg(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case XD:return wP;case wi:var s=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Xg(s,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(zh(s,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===wi&&l===MD)return this.consumeCodePoint(),this.consumeCodePoint(),NP;break;case od:if(Xg(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case gB:if(this.peekCodePoint(0)===qg)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===qg&&(c=this.consumeCodePoint(),c===gB))return this.consumeToken();if(c===oo)return this.consumeToken()}break;case YD:return UP;case JD:return TP;case jD:if(this.peekCodePoint(0)===RD&&this.peekCodePoint(1)===wi&&this.peekCodePoint(2)===wi)return this.consumeCodePoint(),this.consumeCodePoint(),FP;break;case HD:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(zh(u,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case KD:return LP;case Ff:if(Qs(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case VD:return OP;case GD:if(this.peekCodePoint(0)===Wu)return this.consumeCodePoint(),xP;break;case $D:return _P;case WD:return EP;case oP:case AP:var g=this.peekCodePoint(0),y=this.peekCodePoint(1);return g===al&&(zl(y)||y===$h)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vB:if(this.peekCodePoint(0)===Wu)return this.consumeCodePoint(),bP;if(this.peekCodePoint(0)===vB)return this.consumeCodePoint(),BP;break;case zD:if(this.peekCodePoint(0)===Wu)return this.consumeCodePoint(),CP;break;case oo:return om}return Wh(e)?(this.consumeWhiteSpace(),kP):ri(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):F1(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Xr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();zl(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===$h&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Xr.apply(void 0,e.map(function(A){return A===$h?lS:A})),16),a=parseInt(Xr.apply(void 0,e.map(function(A){return A===$h?hS:A})),16);return{type:30,start:i,end:a}}var o=parseInt(Xr.apply(void 0,e),16);if(this.peekCodePoint(0)===wi&&zl(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var s=[];zl(r)&&s.length<6;)s.push(r),r=this.consumeCodePoint();var a=parseInt(Xr.apply(void 0,s),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Gh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Gh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===oo)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Vh||r===Kh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===oo||this.peekCodePoint(0)===zu)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),qh)}for(;;){var i=this.consumeCodePoint();if(i===oo||i===zu)return{type:22,value:Xr.apply(void 0,e)};if(Wh(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===oo||this.peekCodePoint(0)===zu?(this.consumeCodePoint(),{type:22,value:Xr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),qh);if(i===Kh||i===Vh||i===Gh||pP(i))return this.consumeBadUrlRemnants(),qh;if(i===Ff)if(Qs(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),qh;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Wh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===zu||e===oo)return;Qs(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Xr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===oo||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===I1)return this._value.splice(0,n),IP;if(i===Ff){var a=this._value[n+1];a!==oo&&a!==void 0&&(a===I1?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Qs(i,a)&&(r+=this.consumeStringSlice(n),r+=Xr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=yd,n=this.peekCodePoint(0);for((n===al||n===wi)&&e.push(this.consumeCodePoint());ri(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===od&&ri(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=pB;ri(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===dS||n===uS)&&((i===al||i===wi)&&ri(a)||ri(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=pB;ri(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[gP(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(zh(i,a,o)){var s=this.consumeName();return{type:15,number:r,flags:n,unit:s}}return i===PD?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(zl(e)){for(var r=Xr(e);zl(this.peekCodePoint(0))&&r.length<6;)r+=Xr(this.consumeCodePoint());Wh(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||cP(n)||n>1114111?mB:n}return e===oo?mB:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(wB(r))e+=Xr(r);else if(Qs(r,this.peekCodePoint(0)))e+=Xr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),gS=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new pS;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||PP(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?om:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),xd=function(t){return t.type===15},au=function(t){return t.type===17},or=function(t){return t.type===20},DP=function(t){return t.type===0},sm=function(t,e){return or(t)&&t.value===e},vS=function(t){return t.type!==31},Wc=function(t){return t.type!==31&&t.type!==4},bo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},PP=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},lA=function(t){return t.type===17||t.type===15},on=function(t){return t.type===16||lA(t)},mS=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Mn={type:17,number:0,flags:yd},ty={type:16,number:50,flags:yd},$s={type:16,number:100,flags:yd},cf=function(t,e,r){var n=t[0],i=t[1];return[gr(n,e),gr(typeof i<"u"?i:n,r)]},gr=function(t,e){if(t.type===16)return t.number/100*e;if(xd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},wS="deg",yS="grad",xS="rad",BS="turn",pp={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case wS:return Math.PI*e.number/180;case yS:return Math.PI/200*e.number;case xS:return e.number;case BS:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},bS=function(t){return t.type===15&&(t.unit===wS||t.unit===yS||t.unit===xS||t.unit===BS)},CS=function(t){var e=t.filter(or).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Mn,Mn];case"to top":case"bottom":return pa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Mn,$s];case"to right":case"left":return pa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[$s,$s];case"to bottom":case"top":return pa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[$s,Mn];case"to left":case"right":return pa(270)}return 0},pa=function(t){return Math.PI*t/180},nA={name:"color",parse:function(t,e){if(e.type===18){var r=QP[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return Ws(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),o=e.value.substring(3,4);return Ws(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return Ws(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),o=e.value.substring(6,8);return Ws(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(e.type===20){var s=es[e.value.toUpperCase()];if(typeof s<"u")return s}return es.TRANSPARENT}},iA=function(t){return(255&t)===0},Cn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},Ws=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},yB=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},xB=function(t,e){var r=e.filter(Wc);if(r.length===3){var n=r.map(yB),i=n[0],a=n[1],o=n[2];return Ws(i,a,o,1)}if(r.length===4){var s=r.map(yB),i=s[0],a=s[1],o=s[2],A=s[3];return Ws(i,a,o,A)}return 0};function Yg(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var BB=function(t,e){var r=e.filter(Wc),n=r[0],i=r[1],a=r[2],o=r[3],s=(n.type===17?pa(n.number):pp.parse(t,n))/(Math.PI*2),A=on(i)?i.number/100:0,l=on(a)?a.number/100:0,c=typeof o<"u"&&on(o)?gr(o,1):1;if(A===0)return Ws(l*255,l*255,l*255,1);var u=l<=.5?l*(A+1):l+A-l*A,h=l*2-u,f=Yg(h,u,s+1/3),g=Yg(h,u,s),y=Yg(h,u,s-1/3);return Ws(f*255,g*255,y*255,c)},QP={hsl:BB,hsla:BB,rgb:xB,rgba:xB},Nf=function(t,e){return nA.parse(t,gS.create(e).parseComponentValue())},es={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},RP={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(or(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jP={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gp=function(t,e){var r=nA.parse(t,e[0]),n=e[1];return n&&on(n)?{color:r,stop:n}:{color:r,stop:null}},bB=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Mn),n.stop===null&&(n.stop=$s);for(var i=[],a=0,o=0;o<t.length;o++){var s=t[o].stop;if(s!==null){var A=gr(s,e);A>a?i.push(A):i.push(a),a=A}else i.push(null)}for(var l=null,o=0;o<i.length;o++){var c=i[o];if(c===null)l===null&&(l=o);else if(l!==null){for(var u=o-l,h=i[l-1],f=(c-h)/(u+1),g=1;g<=u;g++)i[l+g-1]=f*g;l=null}}return t.map(function(y,b){var m=y.color;return{color:m,stop:Math.max(Math.min(1,i[b]/e),0)}})},MP=function(t,e,r){var n=e/2,i=r/2,a=gr(t[0],e)-n,o=i-gr(t[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},HP=function(t,e,r){var n=typeof t=="number"?t:MP(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),a=e/2,o=r/2,s=i/2,A=Math.sin(n-Math.PI/2)*s,l=Math.cos(n-Math.PI/2)*s;return[i,a-l,a+l,o-A,o+A]},La=function(t,e){return Math.sqrt(t*t+e*e)},CB=function(t,e,r,n,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(o,s){var A=s[0],l=s[1],c=La(r-A,n-l);return(i?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:s,optimumDistance:c}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},KP=function(t,e,r,n,i){var a=0,o=0;switch(t.size){case 0:t.shape===0?a=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)a=o=Math.min(La(e,r),La(e,r-i),La(e-n,r),La(e-n,r-i));else if(t.shape===1){var s=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=CB(n,i,e,r,!0),l=A[0],c=A[1];a=La(l-e,(c-r)/s),o=s*a}break;case 1:t.shape===0?a=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)a=o=Math.max(La(e,r),La(e,r-i),La(e-n,r),La(e-n,r-i));else if(t.shape===1){var s=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),u=CB(n,i,e,r,!1),l=u[0],c=u[1];a=La(l-e,(c-r)/s),o=s*a}break}return Array.isArray(t.size)&&(a=gr(t.size[0],n),o=t.size.length===2?gr(t.size[1],i):a),[a,o]},VP=function(t,e){var r=pa(180),n=[];return bo(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){r=CS(i);return}else if(bS(o)){r=pp.parse(t,o);return}}var s=gp(t,i);n.push(s)}),{angle:r,stops:n,type:1}},Xh=function(t,e){var r=pa(180),n=[];return bo(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=CS(i);return}else if(bS(o)){r=(pp.parse(t,o)+pa(270))%pa(360);return}}var s=gp(t,i);n.push(s)}),{angle:r,stops:n,type:1}},GP=function(t,e){var r=pa(180),n=[],i=1,a=0,o=3,s=[];return bo(e).forEach(function(A,l){var c=A[0];if(l===0){if(or(c)&&c.value==="linear"){i=1;return}else if(or(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=nA.parse(t,c.values[0]);n.push({stop:Mn,color:u})}else if(c.name==="to"){var u=nA.parse(t,c.values[0]);n.push({stop:$s,color:u})}else if(c.name==="color-stop"){var h=c.values.filter(Wc);if(h.length===2){var u=nA.parse(t,h[1]),f=h[0];au(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),i===1?{angle:(r+pa(180))%pa(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:s,type:i}},_S="closest-side",ES="farthest-side",SS="closest-corner",IS="farthest-corner",FS="circle",NS="ellipse",US="cover",TS="contain",$P=function(t,e){var r=0,n=3,i=[],a=[];return bo(e).forEach(function(o,s){var A=!0;if(s===0){var l=!1;A=o.reduce(function(u,h){if(l)if(or(h))switch(h.value){case"center":return a.push(ty),u;case"top":case"left":return a.push(Mn),u;case"right":case"bottom":return a.push($s),u}else(on(h)||lA(h))&&a.push(h);else if(or(h))switch(h.value){case FS:return r=0,!1;case NS:return r=1,!1;case"at":return l=!0,!1;case _S:return n=0,!1;case US:case ES:return n=1,!1;case TS:case SS:return n=2,!1;case IS:return n=3,!1}else if(lA(h)||on(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},A)}if(A){var c=gp(t,o);i.push(c)}}),{size:n,shape:r,stops:i,position:a,type:2}},Yh=function(t,e){var r=0,n=3,i=[],a=[];return bo(e).forEach(function(o,s){var A=!0;if(s===0?A=o.reduce(function(c,u){if(or(u))switch(u.value){case"center":return a.push(ty),!1;case"top":case"left":return a.push(Mn),!1;case"right":case"bottom":return a.push($s),!1}else if(on(u)||lA(u))return a.push(u),!1;return c},A):s===1&&(A=o.reduce(function(c,u){if(or(u))switch(u.value){case FS:return r=0,!1;case NS:return r=1,!1;case TS:case _S:return n=0,!1;case ES:return n=1,!1;case SS:return n=2,!1;case US:case IS:return n=3,!1}else if(lA(u)||on(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return c},A)),A){var l=gp(t,o);i.push(l)}}),{size:n,shape:r,stops:i,position:a,type:2}},WP=function(t){return t.type===1},zP=function(t){return t.type===2},ry={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=LS[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function qP(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!LS[t.name])}var LS={"linear-gradient":VP,"-moz-linear-gradient":Xh,"-ms-linear-gradient":Xh,"-o-linear-gradient":Xh,"-webkit-linear-gradient":Xh,"radial-gradient":$P,"-moz-radial-gradient":Yh,"-ms-radial-gradient":Yh,"-o-radial-gradient":Yh,"-webkit-radial-gradient":Yh,"-webkit-gradient":GP},XP={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Wc(n)&&qP(n)}).map(function(n){return ry.parse(t,n)})}},YP={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(or(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},JP={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return bo(e).map(function(r){return r.filter(on)}).map(mS)}},ZP={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return bo(e).map(function(r){return r.filter(or).map(function(n){return n.value}).join(" ")}).map(eQ)}},eQ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Tc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Tc||(Tc={}));var tQ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return bo(e).map(function(r){return r.filter(rQ)})}},rQ=function(t){return or(t)||on(t)},vp=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},nQ=vp("top"),iQ=vp("right"),aQ=vp("bottom"),oQ=vp("left"),mp=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return mS(r.filter(on))}}},sQ=mp("top-left"),AQ=mp("top-right"),lQ=mp("bottom-right"),cQ=mp("bottom-left"),wp=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},uQ=wp("top"),fQ=wp("right"),dQ=wp("bottom"),hQ=wp("left"),yp=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return xd(r)?r.number:0}}},pQ=yp("top"),gQ=yp("right"),vQ=yp("bottom"),mQ=yp("left"),wQ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yQ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},xQ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(or).reduce(function(r,n){return r|BQ(n.value)},0)}},BQ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bQ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},CQ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},N1;(function(t){t.NORMAL="normal",t.STRICT="strict"})(N1||(N1={}));var _Q={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return N1.STRICT;case"normal":default:return N1.NORMAL}}},EQ={name:"line-height",initialValue:"normal",prefix:!1,type:4},_B=function(t,e){return or(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:on(t)?gr(t,e):e},SQ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:ry.parse(t,e)}},IQ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Am={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},xp=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},FQ=xp("top"),NQ=xp("right"),UQ=xp("bottom"),TQ=xp("left"),LQ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(or).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},OQ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Bp=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},kQ=Bp("top"),DQ=Bp("right"),PQ=Bp("bottom"),QQ=Bp("left"),RQ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},jQ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},MQ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&sm(e[0],"none")?[]:bo(e).map(function(r){for(var n={color:es.TRANSPARENT,offsetX:Mn,offsetY:Mn,blur:Mn},i=0,a=0;a<r.length;a++){var o=r[a];lA(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=nA.parse(t,o)}return n})}},HQ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},KQ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=$Q[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},VQ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},GQ=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],s=e[13];return e[14],e[15],e.length===16?[r,n,i,a,o,s]:null},$Q={matrix:VQ,matrix3d:GQ},EB={type:16,number:50,flags:yd},WQ=[EB,EB],zQ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(on);return r.length!==2?WQ:[r[0],r[1]]}},qQ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Uf;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Uf||(Uf={}));var XQ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Uf.BREAK_ALL;case"keep-all":return Uf.KEEP_ALL;case"normal":default:return Uf.NORMAL}}},YQ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(au(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},OS={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},JQ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return au(e)?e.number:1}},ZQ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eR={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(or).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},tR={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},rR={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nR={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(au(e))return e.number;if(or(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},iR={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(or).map(function(r){return r.value})}},aR={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},yn=function(t,e){return(t&e)!==0},oR={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},sR={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(vS),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(o.type===20){var A=s&&au(s)?s.number:1;n.push({counter:o.value,increment:A})}}return n}},AR={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(vS),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(or(a)&&a.value!=="none"){var s=o&&au(o)?o.number:0;r.push({counter:a.value,reset:s})}}return r}},lR={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(xd).map(function(r){return OS.parse(t,r)})}},cR={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(DP);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;n.push({open:o,close:s})}return n}},SB=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},uR={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&sm(e[0],"none")?[]:bo(e).map(function(r){for(var n={color:255,offsetX:Mn,offsetY:Mn,blur:Mn,spread:Mn,inset:!1},i=0,a=0;a<r.length;a++){var o=r[a];sm(o,"inset")?n.inset=!0:lA(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=nA.parse(t,o)}return n})}},fR={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(or).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},dR={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},hR={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return xd(e)?e.number:0}},pR=function(){function t(e,r){var n,i;this.animationDuration=je(e,lR,r.animationDuration),this.backgroundClip=je(e,RP,r.backgroundClip),this.backgroundColor=je(e,jP,r.backgroundColor),this.backgroundImage=je(e,XP,r.backgroundImage),this.backgroundOrigin=je(e,YP,r.backgroundOrigin),this.backgroundPosition=je(e,JP,r.backgroundPosition),this.backgroundRepeat=je(e,ZP,r.backgroundRepeat),this.backgroundSize=je(e,tQ,r.backgroundSize),this.borderTopColor=je(e,nQ,r.borderTopColor),this.borderRightColor=je(e,iQ,r.borderRightColor),this.borderBottomColor=je(e,aQ,r.borderBottomColor),this.borderLeftColor=je(e,oQ,r.borderLeftColor),this.borderTopLeftRadius=je(e,sQ,r.borderTopLeftRadius),this.borderTopRightRadius=je(e,AQ,r.borderTopRightRadius),this.borderBottomRightRadius=je(e,lQ,r.borderBottomRightRadius),this.borderBottomLeftRadius=je(e,cQ,r.borderBottomLeftRadius),this.borderTopStyle=je(e,uQ,r.borderTopStyle),this.borderRightStyle=je(e,fQ,r.borderRightStyle),this.borderBottomStyle=je(e,dQ,r.borderBottomStyle),this.borderLeftStyle=je(e,hQ,r.borderLeftStyle),this.borderTopWidth=je(e,pQ,r.borderTopWidth),this.borderRightWidth=je(e,gQ,r.borderRightWidth),this.borderBottomWidth=je(e,vQ,r.borderBottomWidth),this.borderLeftWidth=je(e,mQ,r.borderLeftWidth),this.boxShadow=je(e,uR,r.boxShadow),this.color=je(e,wQ,r.color),this.direction=je(e,yQ,r.direction),this.display=je(e,xQ,r.display),this.float=je(e,bQ,r.cssFloat),this.fontFamily=je(e,tR,r.fontFamily),this.fontSize=je(e,rR,r.fontSize),this.fontStyle=je(e,aR,r.fontStyle),this.fontVariant=je(e,iR,r.fontVariant),this.fontWeight=je(e,nR,r.fontWeight),this.letterSpacing=je(e,CQ,r.letterSpacing),this.lineBreak=je(e,_Q,r.lineBreak),this.lineHeight=je(e,EQ,r.lineHeight),this.listStyleImage=je(e,SQ,r.listStyleImage),this.listStylePosition=je(e,IQ,r.listStylePosition),this.listStyleType=je(e,Am,r.listStyleType),this.marginTop=je(e,FQ,r.marginTop),this.marginRight=je(e,NQ,r.marginRight),this.marginBottom=je(e,UQ,r.marginBottom),this.marginLeft=je(e,TQ,r.marginLeft),this.opacity=je(e,JQ,r.opacity);var a=je(e,LQ,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=je(e,OQ,r.overflowWrap),this.paddingTop=je(e,kQ,r.paddingTop),this.paddingRight=je(e,DQ,r.paddingRight),this.paddingBottom=je(e,PQ,r.paddingBottom),this.paddingLeft=je(e,QQ,r.paddingLeft),this.paintOrder=je(e,fR,r.paintOrder),this.position=je(e,jQ,r.position),this.textAlign=je(e,RQ,r.textAlign),this.textDecorationColor=je(e,ZQ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=je(e,eR,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=je(e,MQ,r.textShadow),this.textTransform=je(e,HQ,r.textTransform),this.transform=je(e,KQ,r.transform),this.transformOrigin=je(e,zQ,r.transformOrigin),this.visibility=je(e,qQ,r.visibility),this.webkitTextStrokeColor=je(e,dR,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=je(e,hR,r.webkitTextStrokeWidth),this.wordBreak=je(e,XQ,r.wordBreak),this.zIndex=je(e,YQ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return iA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return yn(this.display,4)||yn(this.display,33554432)||yn(this.display,268435456)||yn(this.display,536870912)||yn(this.display,67108864)||yn(this.display,134217728)},t}(),gR=function(){function t(e,r){this.content=je(e,oR,r.content),this.quotes=je(e,cR,r.quotes)}return t}(),IB=function(){function t(e,r){this.counterIncrement=je(e,sR,r.counterIncrement),this.counterReset=je(e,AR,r.counterReset)}return t}(),je=function(t,e,r){var n=new pS,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var a=new gS(n.read());switch(e.type){case 2:var o=a.parseComponentValue();return e.parse(t,or(o)?o.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return pp.parse(t,a.parseComponentValue());case"color":return nA.parse(t,a.parseComponentValue());case"image":return ry.parse(t,a.parseComponentValue());case"length":var s=a.parseComponentValue();return lA(s)?s:Mn;case"length-percentage":var A=a.parseComponentValue();return on(A)?A:Mn;case"time":return OS.parse(t,a.parseComponentValue())}break}},vR="data-html2canvas-debug",mR=function(t){var e=t.getAttribute(vR);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},lm=function(t,e){var r=mR(t);return r===1||e===r},Co=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,lm(r,3))debugger;this.styles=new pR(e,window.getComputedStyle(r,null)),fm(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=dp(this.context,r),lm(r,4)&&(this.flags|=16)}return t}(),wR="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",FB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jh=0;Jh<FB.length;Jh++)uf[FB.charCodeAt(Jh)]=Jh;var yR=function(t){var e=t.length*.75,r=t.length,n,i=0,a,o,s,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)a=uf[t.charCodeAt(n)],o=uf[t.charCodeAt(n+1)],s=uf[t.charCodeAt(n+2)],A=uf[t.charCodeAt(n+3)],c[i++]=a<<2|o>>4,c[i++]=(o&15)<<4|s>>2,c[i++]=(s&3)<<6|A&63;return l},xR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},BR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},cl=5,ny=11,Jg=2,bR=ny-cl,kS=65536>>cl,CR=1<<cl,Zg=CR-1,_R=1024>>cl,ER=kS+_R,SR=ER,IR=32,FR=SR+IR,NR=65536>>ny,UR=1<<bR,TR=UR-1,NB=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},LR=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},OR=function(t,e){var r=yR(t),n=Array.isArray(r)?BR(r):new Uint32Array(r),i=Array.isArray(r)?xR(r):new Uint16Array(r),a=24,o=NB(i,a/2,n[4]/2),s=n[5]===2?NB(i,(a+n[4])/2):LR(n,Math.ceil((a+n[4])/4));return new kR(n[0],n[1],n[2],n[3],o,s)},kR=function(){function t(e,r,n,i,a,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>cl],r=(r<<Jg)+(e&Zg),this.data[r];if(e<=65535)return r=this.index[kS+(e-55296>>cl)],r=(r<<Jg)+(e&Zg),this.data[r];if(e<this.highStart)return r=FR-NR+(e>>ny),r=this.index[r],r+=e>>cl&TR,r=this.index[r],r=(r<<Jg)+(e&Zg),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),UB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zh=0;Zh<UB.length;Zh++)DR[UB.charCodeAt(Zh)]=Zh;var PR=1,e2=2,t2=3,TB=4,LB=5,QR=7,OB=8,r2=9,n2=10,kB=11,DB=12,PB=13,QB=14,i2=15,RR=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},jR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},MR=OR(wR),ca="",a2="",HR=function(t){return MR.get(t)},KR=function(t,e,r){var n=r-2,i=e[n],a=e[r-1],o=e[r];if(a===e2&&o===t2)return ca;if(a===e2||a===t2||a===TB||o===e2||o===t2||o===TB)return a2;if(a===OB&&[OB,r2,kB,DB].indexOf(o)!==-1||(a===kB||a===r2)&&(o===r2||o===n2)||(a===DB||a===n2)&&o===n2||o===PB||o===LB||o===QR||a===PR)return ca;if(a===PB&&o===QB){for(;i===LB;)i=e[--n];if(i===QB)return ca}if(a===i2&&o===i2){for(var s=0;i===i2;)s++,i=e[--n];if(s%2===0)return ca}return a2},VR=function(t){var e=RR(t),r=e.length,n=0,i=0,a=e.map(HR);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=ca;n<r&&(o=KR(e,a,++n))===ca;);if(o!==ca||n===r){var s=jR.apply(null,e.slice(i,n));return i=n,{value:s,done:!1}}return{done:!0,value:null}}}},GR=function(t){for(var e=VR(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},$R=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(n),a===e)return!0}}return!1},WR=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=hp(n.data).map(function(A){return Xr(A)}),a=0,o={},s=i.every(function(A,l){r.setStart(n,a),r.setEnd(n,a+A.length);var c=r.getBoundingClientRect();a+=A.length;var u=c.x>o.x||c.y>o.y;return o=c,l===0?!0:u});return t.body.removeChild(e),s},zR=function(){return typeof new Image().crossOrigin<"u"},qR=function(){return typeof new XMLHttpRequest().responseType=="string"},XR=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},RB=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},YR=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=e.toDataURL();i.src=a;var o=cm(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),jB(o).then(function(s){n.drawImage(s,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+a+")",l.style.height=r+"px",RB(A)?jB(cm(r,r,0,0,l)):Promise.reject(!1)}).then(function(s){return n.drawImage(s,0,0),RB(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},cm=function(t,e,r,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",r.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},jB=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Qn={get SUPPORT_RANGE_BOUNDS(){var t=$R(document);return Object.defineProperty(Qn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Qn.SUPPORT_RANGE_BOUNDS&&WR(document);return Object.defineProperty(Qn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=XR(document);return Object.defineProperty(Qn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?YR(document):Promise.resolve(!1);return Object.defineProperty(Qn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=zR();return Object.defineProperty(Qn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=qR();return Object.defineProperty(Qn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Qn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Qn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Tf=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),JR=function(t,e,r,n){var i=t9(e,r),a=[],o=0;return i.forEach(function(s){if(r.textDecorationLine.length||s.trim().length>0)if(Qn.SUPPORT_RANGE_BOUNDS){var A=MB(n,o,s.length).getClientRects();if(A.length>1){var l=iy(s),c=0;l.forEach(function(h){a.push(new Tf(h,os.fromDOMRectList(t,MB(n,c+o,h.length).getClientRects()))),c+=h.length})}else a.push(new Tf(s,os.fromDOMRectList(t,A)))}else{var u=n.splitText(s.length);a.push(new Tf(s,ZR(t,n))),n=u}else Qn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(s.length));o+=s.length}),a},ZR=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var a=dp(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return os.EMPTY},MB=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},iy=function(t){if(Qn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return GR(t)},e9=function(t,e){if(Qn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return n9(t,e)},t9=function(t,e){return e.letterSpacing!==0?iy(t):e9(t,e)},r9=[32,160,4961,65792,65793,4153,4241],n9=function(t,e){for(var r=ND(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,a=function(){if(i.value){var o=i.value.slice(),s=hp(o),A="";s.forEach(function(l){r9.indexOf(l)===-1?A+=Xr(l):(A.length&&n.push(A),n.push(Xr(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)a();return n},i9=function(){function t(e,r,n){this.text=a9(r.data,n.textTransform),this.textBounds=JR(e,this.text,n,r)}return t}(),a9=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(o9,s9);case 2:return t.toUpperCase();default:return t}},o9=/(^|\s|:|-|\(|\))([a-z])/g,s9=function(t,e,r){return t.length>0?e+r.toUpperCase():t},DS=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Co),PS=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Co),QS=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=new XMLSerializer,o=dp(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Co),RS=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Co),um=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Co),A9=[{type:15,flags:0,unit:"px",number:3}],l9=[{type:16,flags:0,number:50}],c9=function(t){return t.width>t.height?new os(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new os(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},u9=function(t){var e=t.type===f9?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},U1="checkbox",T1="radio",f9="password",HB=707406591,ay=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=u9(n),(i.type===U1||i.type===T1)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=c9(i.bounds)),i.type){case U1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=A9;break;case T1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=l9;break}return i}return e}(Co),jS=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(Co),MS=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Co),HS=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=VS(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?Nf(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):es.TRANSPARENT,o=n.contentWindow.document.body?Nf(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):es.TRANSPARENT;i.backgroundColor=iA(a)?iA(o)?i.styles.backgroundColor:o:a}}catch{}return i}return e}(Co),d9=["OL","UL","MENU"],k0=function(t,e,r,n){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,GS(i)&&i.data.trim().length>0)r.textNodes.push(new i9(t,i,r.styles));else if(xc(i))if(qS(i)&&i.assignedNodes)i.assignedNodes().forEach(function(s){return k0(t,s,r,n)});else{var o=KS(t,i);o.styles.isVisible()&&(h9(i,o,n)?o.flags|=4:p9(o.styles)&&(o.flags|=2),d9.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?k0(t,i.shadowRoot,o,n):!L1(i)&&!$S(i)&&!O1(i)&&k0(t,i,o,n))}},KS=function(t,e){return dm(e)?new DS(t,e):WS(e)?new PS(t,e):$S(e)?new QS(t,e):g9(e)?new RS(t,e):v9(e)?new um(t,e):m9(e)?new ay(t,e):O1(e)?new jS(t,e):L1(e)?new MS(t,e):zS(e)?new HS(t,e):new Co(t,e)},VS=function(t,e){var r=KS(t,e);return r.flags|=4,k0(t,e,r,r),r},h9=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||oy(t)&&r.styles.isTransparent()},p9=function(t){return t.isPositioned()||t.isFloating()},GS=function(t){return t.nodeType===Node.TEXT_NODE},xc=function(t){return t.nodeType===Node.ELEMENT_NODE},fm=function(t){return xc(t)&&typeof t.style<"u"&&!D0(t)},D0=function(t){return typeof t.className=="object"},g9=function(t){return t.tagName==="LI"},v9=function(t){return t.tagName==="OL"},m9=function(t){return t.tagName==="INPUT"},w9=function(t){return t.tagName==="HTML"},$S=function(t){return t.tagName==="svg"},oy=function(t){return t.tagName==="BODY"},WS=function(t){return t.tagName==="CANVAS"},KB=function(t){return t.tagName==="VIDEO"},dm=function(t){return t.tagName==="IMG"},zS=function(t){return t.tagName==="IFRAME"},VB=function(t){return t.tagName==="STYLE"},y9=function(t){return t.tagName==="SCRIPT"},L1=function(t){return t.tagName==="TEXTAREA"},O1=function(t){return t.tagName==="SELECT"},qS=function(t){return t.tagName==="SLOT"},GB=function(t){return t.tagName.indexOf("-")>0},x9=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,a=!0;n!==null&&n.forEach(function(s){var A=r.counters[s.counter];A&&s.increment!==0&&(a=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=s.increment)});var o=[];return a&&i.forEach(function(s){var A=r.counters[s.counter];o.push(s.counter),A||(A=r.counters[s.counter]=[]),A.push(s.reset)}),o},t}(),$B={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},WB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},B9={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},b9={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ql=function(t,e,r,n,i,a){return t<e||t>r?sd(t,i,a.length>0):n.integers.reduce(function(o,s,A){for(;t>=s;)t-=s,o+=n.values[A];return o},"")+a},XS=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},qr=function(t,e,r,n,i){var a=r-e+1;return(t<0?"-":"")+(XS(Math.abs(t),a,n,function(o){return Xr(Math.floor(o%a)+e)})+i)},KA=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return XS(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},ic=1,Os=2,ks=4,ff=8,Ho=function(t,e,r,n,i,a){if(t<-9999||t>9999)return sd(t,4,i.length>0);var o=Math.abs(t),s=i;if(o===0)return e[0]+s;for(var A=0;o>0&&A<=4;A++){var l=o%10;l===0&&yn(a,ic)&&s!==""?s=e[l]+s:l>1||l===1&&A===0||l===1&&A===1&&yn(a,Os)||l===1&&A===1&&yn(a,ks)&&t>100||l===1&&A>1&&yn(a,ff)?s=e[l]+(A>0?r[A-1]:"")+s:l===1&&A>0&&(s=r[A-1]+s),o=Math.floor(o/10)}return(t<0?n:"")+s},zB="",qB="",XB="",o2="",sd=function(t,e,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=qr(t,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return KA(t,"",i);case 6:return ql(t,1,3999,$B,3,n).toLowerCase();case 7:return ql(t,1,3999,$B,3,n);case 8:return qr(t,945,969,!1,n);case 9:return qr(t,97,122,!1,n);case 10:return qr(t,65,90,!1,n);case 11:return qr(t,1632,1641,!0,n);case 12:case 49:return ql(t,1,9999,WB,3,n);case 35:return ql(t,1,9999,WB,3,n).toLowerCase();case 13:return qr(t,2534,2543,!0,n);case 14:case 30:return qr(t,6112,6121,!0,n);case 15:return KA(t,"",i);case 16:return KA(t,"",i);case 17:case 48:return Ho(t,"",zB,"",i,Os|ks|ff);case 47:return Ho(t,"",qB,"",i,ic|Os|ks|ff);case 42:return Ho(t,"",zB,"",i,Os|ks|ff);case 41:return Ho(t,"",qB,"",i,ic|Os|ks|ff);case 26:return Ho(t,"","",XB,i,0);case 25:return Ho(t,"","",XB,i,ic|Os|ks);case 31:return Ho(t,"","",o2,a,ic|Os|ks);case 33:return Ho(t,"","",o2,a,0);case 32:return Ho(t,"","",o2,a,ic|Os|ks);case 18:return qr(t,2406,2415,!0,n);case 20:return ql(t,1,19999,b9,3,n);case 21:return qr(t,2790,2799,!0,n);case 22:return qr(t,2662,2671,!0,n);case 22:return ql(t,1,10999,B9,3,n);case 23:return KA(t,"");case 24:return KA(t,"");case 27:return qr(t,3302,3311,!0,n);case 28:return KA(t,"",i);case 29:return KA(t,"",i);case 34:return qr(t,3792,3801,!0,n);case 37:return qr(t,6160,6169,!0,n);case 38:return qr(t,4160,4169,!0,n);case 39:return qr(t,2918,2927,!0,n);case 40:return qr(t,1776,1785,!0,n);case 43:return qr(t,3046,3055,!0,n);case 44:return qr(t,3174,3183,!0,n);case 45:return qr(t,3664,3673,!0,n);case 46:return qr(t,3872,3881,!0,n);case 3:default:return qr(t,48,57,!0,n)}},YS="data-html2canvas-ignore",YB=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new x9,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=C9(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=i.contentWindow,A=s.document,l=S9(i).then(function(){return ci(n,void 0,void 0,function(){var c,u;return ti(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(U9),s&&(s.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==r.top||s.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-r.left,s.scrollY-r.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,E9(A)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(A,u)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(F9(document.doctype)+"<html></html>"),N9(this.referenceElement.ownerDocument,a,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(lm(e,2))debugger;if(WS(e))return this.createCanvasClone(e);if(KB(e))return this.createVideoClone(e);if(VB(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return dm(r)&&(dm(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),GB(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return s2(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var s=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(s){var A=s.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!xc(r)||!y9(r)&&!r.hasAttribute(YS)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!xc(r)||!VB(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(xc(a)&&qS(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(s){return i.appendChildNode(r,s,n)})}else this.appendChildNode(r,a,n)},t.prototype.cloneNode=function(e,r){if(GS(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&xc(e)&&(fm(e)||D0(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),s=n.getComputedStyle(e,":after");this.referenceElement===e&&fm(i)&&(this.clonedReferenceElement=i),oy(i)&&O9(i);var A=this.counters.parse(new IB(this.context,a)),l=this.resolvePseudoContent(e,i,o,Lf.BEFORE);GB(e)&&(r=!0),KB(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(e,i,s,Lf.AFTER);return c&&i.appendChild(c),this.counters.pop(A),(a&&(this.options.copyStyles||D0(e))&&!zS(e)||r)&&s2(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(L1(e)||O1(e))&&(L1(i)||O1(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var a=this;if(n){var o=n.content,s=r.ownerDocument;if(!(!s||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new IB(this.context,n));var A=new gR(this.context,n),l=s.createElement("html2canvaspseudoelement");s2(n,l),A.content.forEach(function(u){if(u.type===0)l.appendChild(s.createTextNode(u.value));else if(u.type===22){var h=s.createElement("img");h.src=u.value,h.style.opacity="1",l.appendChild(h)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(or);f.length&&l.appendChild(s.createTextNode(e.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var g=u.values.filter(Wc),y=g[0],b=g[1];if(y&&or(y)){var m=a.counters.getCounterValue(y.value),w=b&&or(b)?Am.parse(a.context,b.value):3;l.appendChild(s.createTextNode(sd(m,w,!1)))}}else if(u.name==="counters"){var x=u.values.filter(Wc),y=x[0],_=x[1],b=x[2];if(y&&or(y)){var I=a.counters.getCounterValues(y.value),L=b&&or(b)?Am.parse(a.context,b.value):3,U=_&&_.type===0?_.value:"",D=I.map(function(S){return sd(S,L,!1)}).join(U);l.appendChild(s.createTextNode(D))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(s.createTextNode(SB(A.quotes,a.quoteDepth++,!0)));break;case"close-quote":l.appendChild(s.createTextNode(SB(A.quotes,--a.quoteDepth,!1)));break;default:l.appendChild(s.createTextNode(u.value))}}),l.className=hm+" "+pm;var c=i===Lf.BEFORE?" "+hm:" "+pm;return D0(r)?r.className.baseValue+=c:r.className+=c,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Lf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Lf||(Lf={}));var C9=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(YS,"true"),t.body.appendChild(r),r},_9=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},E9=function(t){return Promise.all([].slice.call(t.images,0).map(_9))},S9=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},I9=["all","d","content"],s2=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);I9.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},F9=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},N9=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},U9=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},T9=":before",L9=":after",hm="___html2canvas___pseudoelement_before",pm="___html2canvas___pseudoelement_after",JB=`{
    content: "" !important;
    display: none !important;
}`,O9=function(t){k9(t,"."+hm+T9+JB+`
         .`+pm+L9+JB)},k9=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},JS=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),D9=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(l2(e)||j9(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ci(this,void 0,void 0,function(){var r,n,i,a,o=this;return ti(this,function(s){switch(s.label){case 0:return r=JS.isSameOrigin(e),n=!A2(e)&&this._options.useCORS===!0&&Qn.SUPPORT_CORS_IMAGES&&!r,i=!A2(e)&&!r&&!l2(e)&&typeof this._options.proxy=="string"&&Qn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!A2(e)&&!l2(e)&&!i&&!n?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var c=new Image;c.onload=function(){return A(c)},c.onerror=l,(M9(a)||n)&&(c.crossOrigin="anonymous"),c.src=a,c.complete===!0&&setTimeout(function(){return A(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,o){var s=Qn.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(s==="text")a(A.response);else{var u=new FileReader;u.addEventListener("load",function(){return a(u.result)},!1),u.addEventListener("error",function(h){return o(h)},!1),u.readAsDataURL(A.response)}else o("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=o;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+s),s!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=s),r._options.imageTimeout){var c=r._options.imageTimeout;A.timeout=c,A.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+i)}}A.send()})},t}(),P9=/^data:image\/svg\+xml/i,Q9=/^data:image\/.*;base64,/i,R9=/^data:image\/.*/i,j9=function(t){return Qn.SUPPORT_SVG_DRAWING||!H9(t)},A2=function(t){return R9.test(t)},M9=function(t){return Q9.test(t)},l2=function(t){return t.substr(0,4)==="blob"},H9=function(t){return t.substr(-3).toLowerCase()==="svg"||P9.test(t)},Re=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Xl=function(t,e,r){return new Re(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},e0=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Xl(this.start,this.startControl,e),i=Xl(this.startControl,this.endControl,e),a=Xl(this.endControl,this.end,e),o=Xl(n,i,e),s=Xl(i,a,e),A=Xl(o,s,e);return r?new t(this.start,n,o,A):new t(A,s,a,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),da=function(t){return t.type===1},K9=function(){function t(e){var r=e.styles,n=e.bounds,i=cf(r.borderTopLeftRadius,n.width,n.height),a=i[0],o=i[1],s=cf(r.borderTopRightRadius,n.width,n.height),A=s[0],l=s[1],c=cf(r.borderBottomRightRadius,n.width,n.height),u=c[0],h=c[1],f=cf(r.borderBottomLeftRadius,n.width,n.height),g=f[0],y=f[1],b=[];b.push((a+A)/n.width),b.push((g+u)/n.width),b.push((o+y)/n.height),b.push((l+h)/n.height);var m=Math.max.apply(Math,b);m>1&&(a/=m,o/=m,A/=m,l/=m,u/=m,h/=m,g/=m,y/=m);var w=n.width-A,x=n.height-h,_=n.width-u,I=n.height-y,L=r.borderTopWidth,U=r.borderRightWidth,D=r.borderBottomWidth,T=r.borderLeftWidth,H=gr(r.paddingTop,e.bounds.width),S=gr(r.paddingRight,e.bounds.width),O=gr(r.paddingBottom,e.bounds.width),j=gr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Er(n.left+T/3,n.top+L/3,a-T/3,o-L/3,qt.TOP_LEFT):new Re(n.left+T/3,n.top+L/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Er(n.left+w,n.top+L/3,A-U/3,l-L/3,qt.TOP_RIGHT):new Re(n.left+n.width-U/3,n.top+L/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?Er(n.left+_,n.top+x,u-U/3,h-D/3,qt.BOTTOM_RIGHT):new Re(n.left+n.width-U/3,n.top+n.height-D/3),this.bottomLeftBorderDoubleOuterBox=g>0||y>0?Er(n.left+T/3,n.top+I,g-T/3,y-D/3,qt.BOTTOM_LEFT):new Re(n.left+T/3,n.top+n.height-D/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Er(n.left+T*2/3,n.top+L*2/3,a-T*2/3,o-L*2/3,qt.TOP_LEFT):new Re(n.left+T*2/3,n.top+L*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Er(n.left+w,n.top+L*2/3,A-U*2/3,l-L*2/3,qt.TOP_RIGHT):new Re(n.left+n.width-U*2/3,n.top+L*2/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?Er(n.left+_,n.top+x,u-U*2/3,h-D*2/3,qt.BOTTOM_RIGHT):new Re(n.left+n.width-U*2/3,n.top+n.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||y>0?Er(n.left+T*2/3,n.top+I,g-T*2/3,y-D*2/3,qt.BOTTOM_LEFT):new Re(n.left+T*2/3,n.top+n.height-D*2/3),this.topLeftBorderStroke=a>0||o>0?Er(n.left+T/2,n.top+L/2,a-T/2,o-L/2,qt.TOP_LEFT):new Re(n.left+T/2,n.top+L/2),this.topRightBorderStroke=a>0||o>0?Er(n.left+w,n.top+L/2,A-U/2,l-L/2,qt.TOP_RIGHT):new Re(n.left+n.width-U/2,n.top+L/2),this.bottomRightBorderStroke=u>0||h>0?Er(n.left+_,n.top+x,u-U/2,h-D/2,qt.BOTTOM_RIGHT):new Re(n.left+n.width-U/2,n.top+n.height-D/2),this.bottomLeftBorderStroke=g>0||y>0?Er(n.left+T/2,n.top+I,g-T/2,y-D/2,qt.BOTTOM_LEFT):new Re(n.left+T/2,n.top+n.height-D/2),this.topLeftBorderBox=a>0||o>0?Er(n.left,n.top,a,o,qt.TOP_LEFT):new Re(n.left,n.top),this.topRightBorderBox=A>0||l>0?Er(n.left+w,n.top,A,l,qt.TOP_RIGHT):new Re(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||h>0?Er(n.left+_,n.top+x,u,h,qt.BOTTOM_RIGHT):new Re(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||y>0?Er(n.left,n.top+I,g,y,qt.BOTTOM_LEFT):new Re(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?Er(n.left+T,n.top+L,Math.max(0,a-T),Math.max(0,o-L),qt.TOP_LEFT):new Re(n.left+T,n.top+L),this.topRightPaddingBox=A>0||l>0?Er(n.left+Math.min(w,n.width-U),n.top+L,w>n.width+U?0:Math.max(0,A-U),Math.max(0,l-L),qt.TOP_RIGHT):new Re(n.left+n.width-U,n.top+L),this.bottomRightPaddingBox=u>0||h>0?Er(n.left+Math.min(_,n.width-T),n.top+Math.min(x,n.height-D),Math.max(0,u-U),Math.max(0,h-D),qt.BOTTOM_RIGHT):new Re(n.left+n.width-U,n.top+n.height-D),this.bottomLeftPaddingBox=g>0||y>0?Er(n.left+T,n.top+Math.min(I,n.height-D),Math.max(0,g-T),Math.max(0,y-D),qt.BOTTOM_LEFT):new Re(n.left+T,n.top+n.height-D),this.topLeftContentBox=a>0||o>0?Er(n.left+T+j,n.top+L+H,Math.max(0,a-(T+j)),Math.max(0,o-(L+H)),qt.TOP_LEFT):new Re(n.left+T+j,n.top+L+H),this.topRightContentBox=A>0||l>0?Er(n.left+Math.min(w,n.width+T+j),n.top+L+H,w>n.width+T+j?0:A-T+j,l-(L+H),qt.TOP_RIGHT):new Re(n.left+n.width-(U+S),n.top+L+H),this.bottomRightContentBox=u>0||h>0?Er(n.left+Math.min(_,n.width-(T+j)),n.top+Math.min(x,n.height+L+H),Math.max(0,u-(U+S)),h-(D+O),qt.BOTTOM_RIGHT):new Re(n.left+n.width-(U+S),n.top+n.height-(D+O)),this.bottomLeftContentBox=g>0||y>0?Er(n.left+T+j,n.top+I,Math.max(0,g-(T+j)),y-(D+O),qt.BOTTOM_LEFT):new Re(n.left+T+j,n.top+n.height-(D+O))}return t}(),qt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(qt||(qt={}));var Er=function(t,e,r,n,i){var a=4*((Math.sqrt(2)-1)/3),o=r*a,s=n*a,A=t+r,l=e+n;switch(i){case qt.TOP_LEFT:return new e0(new Re(t,l),new Re(t,l-s),new Re(A-o,e),new Re(A,e));case qt.TOP_RIGHT:return new e0(new Re(t,e),new Re(t+o,e),new Re(A,l-s),new Re(A,l));case qt.BOTTOM_RIGHT:return new e0(new Re(A,e),new Re(A,e+s),new Re(t+o,l),new Re(t,l));case qt.BOTTOM_LEFT:default:return new e0(new Re(A,l),new Re(A-o,l),new Re(t,e+s),new Re(t,e))}},k1=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},V9=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},D1=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},G9=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),t0=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),$9=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),W9=function(t){return t.type===0},ZS=function(t){return t.type===1},z9=function(t){return t.type===2},ZB=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},q9=function(t,e,r,n,i){return t.map(function(a,o){switch(o){case 0:return a.add(e,r);case 1:return a.add(e+n,r);case 2:return a.add(e+n,r+i);case 3:return a.add(e,r+i)}return a})},e8=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),t8=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new K9(this.container),this.container.styles.opacity<1&&this.effects.push(new $9(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new G9(n,i,a))}if(this.container.styles.overflowX!==0){var o=k1(this.curves),s=D1(this.curves);ZB(o,s)?this.effects.push(new t0(o,6)):(this.effects.push(new t0(o,2)),this.effects.push(new t0(s,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(A){return!ZS(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=k1(n.curves),s=D1(n.curves);ZB(o,s)||i.unshift(new t0(s,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(A){return yn(A.target,e)})},t}(),gm=function(t,e,r,n){t.container.elements.forEach(function(i){var a=yn(i.flags,4),o=yn(i.flags,2),s=new t8(i,t);yn(i.styles.display,2048)&&n.push(s);var A=yn(i.flags,8)?[]:n;if(a||o){var l=a||i.styles.isPositioned()?r:e,c=new e8(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some(function(g,y){return u>g.element.container.styles.zIndex.order?(h=y,!1):h>0}),l.negativeZIndex.splice(h,0,c)}else if(u>0){var f=0;l.positiveZIndex.some(function(g,y){return u>=g.element.container.styles.zIndex.order?(f=y+1,!1):f>0}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);gm(s,c,a?c:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),gm(s,e,r,A);yn(i.flags,8)&&r8(i,A)})},r8=function(t,e){for(var r=t instanceof um?t.start:1,n=t instanceof um?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof RS&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=sd(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},X9=function(t){var e=new t8(t,null),r=new e8(e),n=[];return gm(e,r,r,n),r8(e.container,n),r},e4=function(t,e){switch(e){case 0:return ga(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ga(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ga(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ga(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Y9=function(t,e){switch(e){case 0:return ga(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ga(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ga(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ga(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},J9=function(t,e){switch(e){case 0:return ga(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ga(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ga(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ga(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Z9=function(t,e){switch(e){case 0:return r0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return r0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return r0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return r0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},r0=function(t,e){var r=[];return da(t)?r.push(t.subdivide(.5,!1)):r.push(t),da(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},ga=function(t,e,r,n){var i=[];return da(t)?i.push(t.subdivide(.5,!1)):i.push(t),da(r)?i.push(r.subdivide(.5,!0)):i.push(r),da(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),da(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},n8=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},P1=function(t){var e=t.styles,r=t.bounds,n=gr(e.paddingLeft,r.width),i=gr(e.paddingRight,r.width),a=gr(e.paddingTop,r.width),o=gr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+a+o))},ej=function(t,e){return t===0?e.bounds:t===2?P1(e):n8(e)},tj=function(t,e){return t===0?e.bounds:t===2?P1(e):n8(e)},c2=function(t,e,r){var n=ej(ac(t.styles.backgroundOrigin,e),t),i=tj(ac(t.styles.backgroundClip,e),t),a=rj(ac(t.styles.backgroundSize,e),r,n),o=a[0],s=a[1],A=cf(ac(t.styles.backgroundPosition,e),n.width-o,n.height-s),l=nj(ac(t.styles.backgroundRepeat,e),A,a,n,i),c=Math.round(n.left+A[0]),u=Math.round(n.top+A[1]);return[l,c,u,o,s]},Yl=function(t){return or(t)&&t.value===Tc.AUTO},n0=function(t){return typeof t=="number"},rj=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=t[0],s=t[1];if(!o)return[0,0];if(on(o)&&s&&on(s))return[gr(o,r.width),gr(s,r.height)];var A=n0(a);if(or(o)&&(o.value===Tc.CONTAIN||o.value===Tc.COVER)){if(n0(a)){var l=r.width/r.height;return l<a!=(o.value===Tc.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var c=n0(n),u=n0(i),h=c||u;if(Yl(o)&&(!s||Yl(s))){if(c&&u)return[n,i];if(!A&&!h)return[r.width,r.height];if(h&&A){var f=c?n:i*a,g=u?i:n/a;return[f,g]}var y=c?n:r.width,b=u?i:r.height;return[y,b]}if(A){var m=0,w=0;return on(o)?m=gr(o,r.width):on(s)&&(w=gr(s,r.height)),Yl(o)?m=w*a:(!s||Yl(s))&&(w=m/a),[m,w]}var x=null,_=null;if(on(o)?x=gr(o,r.width):s&&on(s)&&(_=gr(s,r.height)),x!==null&&(!s||Yl(s))&&(_=c&&u?x/n*i:r.height),_!==null&&Yl(o)&&(x=c&&u?_/i*n:r.width),x!==null&&_!==null)return[x,_];throw new Error("Unable to calculate background-size for element")},ac=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},nj=function(t,e,r,n,i){var a=e[0],o=e[1],s=r[0],A=r[1];switch(t){case 2:return[new Re(Math.round(n.left),Math.round(n.top+o)),new Re(Math.round(n.left+n.width),Math.round(n.top+o)),new Re(Math.round(n.left+n.width),Math.round(A+n.top+o)),new Re(Math.round(n.left),Math.round(A+n.top+o))];case 3:return[new Re(Math.round(n.left+a),Math.round(n.top)),new Re(Math.round(n.left+a+s),Math.round(n.top)),new Re(Math.round(n.left+a+s),Math.round(n.height+n.top)),new Re(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Re(Math.round(n.left+a),Math.round(n.top+o)),new Re(Math.round(n.left+a+s),Math.round(n.top+o)),new Re(Math.round(n.left+a+s),Math.round(n.top+o+A)),new Re(Math.round(n.left+a),Math.round(n.top+o+A))];default:return[new Re(Math.round(i.left),Math.round(i.top)),new Re(Math.round(i.left+i.width),Math.round(i.top)),new Re(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Re(Math.round(i.left),Math.round(i.height+i.top))]}},ij="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t4="Hidden Text",aj=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=ij,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(t4)),n.appendChild(a),n.appendChild(i);var s=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(t4)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:s,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),i8=function(){function t(e,r){this.context=e,this.options=r}return t}(),oj=1e4,sj=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new aj(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),z9(r)&&(this.ctx.globalAlpha=r.opacity),W9(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),ZS(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ci(this,void 0,void 0,function(){var n;return ti(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ci(this,void 0,void 0,function(){return ti(this,function(n){switch(n.label){case 0:if(yn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=iy(r.text);o.reduce(function(s,A){return a.ctx.fillText(A,s,r.bounds.top+i),s+a.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=fj(r.fontFamily).join(", "),a=xd(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(r,n){return ci(this,void 0,void 0,function(){var i,a,o,s,A,l,c,u,h=this;return ti(this,function(f){return i=this.createFontStyle(n),a=i[0],o=i[1],s=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,s),l=A.baseline,c=A.middle,u=n.paintOrder,r.textBounds.forEach(function(g){u.forEach(function(y){switch(y){case 0:h.ctx.fillStyle=Cn(n.color),h.renderTextWithLetterSpacing(g,n.letterSpacing,l);var b=n.textShadow;b.length&&g.text.trim().length&&(b.slice(0).reverse().forEach(function(m){h.ctx.shadowColor=Cn(m.color),h.ctx.shadowOffsetX=m.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=m.offsetY.number*h.options.scale,h.ctx.shadowBlur=m.blur.number,h.renderTextWithLetterSpacing(g,n.letterSpacing,l)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Cn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(m){switch(m){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+l),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+c),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=Cn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+l)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=P1(r),o=D1(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ci(this,void 0,void 0,function(){var n,i,a,o,s,A,w,w,l,c,u,h,_,f,g,I,y,b,m,w,x,_,I;return ti(this,function(L){switch(L.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,o=0,s=n.textNodes,L.label=1;case 1:return o<s.length?(A=s[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:L.sent(),L.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof DS))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=L.sent(),this.renderReplacedElement(n,i,w),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof PS&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof QS))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=L.sent(),this.renderReplacedElement(n,i,w),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof HS&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:c=L.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),L.label=14;case 14:if(n instanceof ay&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===U1?n.checked&&(this.ctx.save(),this.path([new Re(n.bounds.left+u*.39363,n.bounds.top+u*.79),new Re(n.bounds.left+u*.16,n.bounds.top+u*.5549),new Re(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new Re(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new Re(n.bounds.left+u*.72983,n.bounds.top+u*.23),new Re(n.bounds.left+u*.84,n.bounds.top+u*.34085),new Re(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=Cn(HB),this.ctx.fill(),this.ctx.restore()):n.type===T1&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Cn(HB),this.ctx.fill(),this.ctx.restore())),Aj(n)&&n.value.length){switch(h=this.createFontStyle(a),_=h[0],f=h[1],g=this.fontMetrics.getMetrics(_,f).baseline,this.ctx.font=_,this.ctx.fillStyle=Cn(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=cj(n.styles.textAlign),I=P1(n),y=0,n.styles.textAlign){case 1:y+=I.width/2;break;case 2:y+=I.width;break}b=I.add(y,0,0,-I.height/2+1),this.ctx.save(),this.path([new Re(I.left,I.top),new Re(I.left+I.width,I.top),new Re(I.left+I.width,I.top+I.height),new Re(I.left,I.top+I.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Tf(n.value,b),a.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!yn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(m=n.styles.listStyleImage,m.type!==0)return[3,18];w=void 0,x=m.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return w=L.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(a)[0],this.ctx.font=_,this.ctx.fillStyle=Cn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",I=new os(n.bounds.left,n.bounds.top+gr(n.styles.paddingTop,n.bounds.width),n.bounds.width,_B(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Tf(r.listValue,I),a.letterSpacing,_B(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ci(this,void 0,void 0,function(){var n,i,m,a,o,m,s,A,m,l,c,m,u,h,m,f,g,m,y,b,m;return ti(this,function(w){switch(w.label){case 0:if(yn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,i=r.negativeZIndex,w.label=2;case 2:return n<i.length?(m=i[n],[4,this.renderStack(m)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),a=0,o=r.nonInlineLevel,w.label=7;case 7:return a<o.length?(m=o[a],[4,this.renderNode(m)]):[3,10];case 8:w.sent(),w.label=9;case 9:return a++,[3,7];case 10:s=0,A=r.nonPositionedFloats,w.label=11;case 11:return s<A.length?(m=A[s],[4,this.renderStack(m)]):[3,14];case 12:w.sent(),w.label=13;case 13:return s++,[3,11];case 14:l=0,c=r.nonPositionedInlineLevel,w.label=15;case 15:return l<c.length?(m=c[l],[4,this.renderStack(m)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:u=0,h=r.inlineLevel,w.label=19;case 19:return u<h.length?(m=h[u],[4,this.renderNode(m)]):[3,22];case 20:w.sent(),w.label=21;case 21:return u++,[3,19];case 22:f=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return f<g.length?(m=g[f],[4,this.renderStack(m)]):[3,26];case 24:w.sent(),w.label=25;case 25:return f++,[3,23];case 26:y=0,b=r.positiveZIndex,w.label=27;case 27:return y<b.length?(m=b[y],[4,this.renderStack(m)]):[3,30];case 28:w.sent(),w.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var o=da(i)?i.start:i;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),da(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,s=o.createElement("canvas");s.width=Math.max(1,n),s.height=Math.max(1,i);var A=s.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),s},e.prototype.renderBackgroundImage=function(r){return ci(this,void 0,void 0,function(){var n,i,a,o,s,A;return ti(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(c){var u,h,f,H,le,ce,j,V,D,g,H,le,ce,j,V,y,b,m,w,x,_,I,L,U,D,T,H,S,O,j,V,ie,le,ce,J,ae,ve,pe,k,W,G,Z;return ti(this,function(te){switch(te.label){case 0:if(c.type!==0)return[3,5];u=void 0,h=c.url,te.label=1;case 1:return te.trys.push([1,3,,4]),[4,a.context.cache.match(h)];case 2:return u=te.sent(),[3,4];case 3:return te.sent(),a.context.logger.error("Error loading background-image "+h),[3,4];case 4:return u&&(f=c2(r,n,[u.width,u.height,u.width/u.height]),H=f[0],le=f[1],ce=f[2],j=f[3],V=f[4],D=a.ctx.createPattern(a.resizeImage(u,j,V),"repeat"),a.renderRepeat(H,D,le,ce)),[3,6];case 5:WP(c)?(g=c2(r,n,[null,null,null]),H=g[0],le=g[1],ce=g[2],j=g[3],V=g[4],y=HP(c.angle,j,V),b=y[0],m=y[1],w=y[2],x=y[3],_=y[4],I=document.createElement("canvas"),I.width=j,I.height=V,L=I.getContext("2d"),U=L.createLinearGradient(m,x,w,_),bB(c.stops,b).forEach(function(oe){return U.addColorStop(oe.stop,Cn(oe.color))}),L.fillStyle=U,L.fillRect(0,0,j,V),j>0&&V>0&&(D=a.ctx.createPattern(I,"repeat"),a.renderRepeat(H,D,le,ce))):zP(c)&&(T=c2(r,n,[null,null,null]),H=T[0],S=T[1],O=T[2],j=T[3],V=T[4],ie=c.position.length===0?[ty]:c.position,le=gr(ie[0],j),ce=gr(ie[ie.length-1],V),J=KP(c,le,ce,j,V),ae=J[0],ve=J[1],ae>0&&ve>0&&(pe=a.ctx.createRadialGradient(S+le,O+ce,0,S+le,O+ce,ae),bB(c.stops,ae*2).forEach(function(oe){return pe.addColorStop(oe.stop,Cn(oe.color))}),a.path(H),a.ctx.fillStyle=pe,ae!==ve?(k=r.bounds.left+.5*r.bounds.width,W=r.bounds.top+.5*r.bounds.height,G=ve/ae,Z=1/G,a.ctx.save(),a.ctx.translate(k,W),a.ctx.transform(1,0,0,G,0,0),a.ctx.translate(-k,-W),a.ctx.fillRect(S,Z*(O-W)+W,j,V*Z),a.ctx.restore()):a.ctx.fill())),te.label=6;case 6:return n--,[2]}})},a=this,o=0,s=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<s.length?(A=s[o],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return ci(this,void 0,void 0,function(){return ti(this,function(a){return this.path(e4(i,n)),this.ctx.fillStyle=Cn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,a){return ci(this,void 0,void 0,function(){var o,s;return ti(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return A.sent(),[2];case 2:return o=Y9(a,i),this.path(o),this.ctx.fillStyle=Cn(r),this.ctx.fill(),s=J9(a,i),this.path(s),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ci(this,void 0,void 0,function(){var n,i,a,o,s,A,l,c,u=this;return ti(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!iA(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=lj(ac(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),iA(n.backgroundColor)||(this.ctx.fillStyle=Cn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var g=k1(r.curves),y=f.inset?0:oj,b=q9(g,-y+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(g),u.ctx.clip(),u.mask(b)):(u.mask(g),u.ctx.clip(),u.path(b)),u.ctx.shadowOffsetX=f.offsetX.number+y,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=Cn(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?Cn(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),h.label=2;case 2:s=0,A=0,l=a,h.label=3;case 3:return A<l.length?(c=l[A],c.style!==0&&!iA(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,s,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,s,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,s,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,s,r.curves)];case 10:h.sent(),h.label=11;case 11:s++,h.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,a,o){return ci(this,void 0,void 0,function(){var s,A,l,c,u,h,f,g,y,b,m,w,x,_,I,L,I,L;return ti(this,function(U){return this.ctx.save(),s=Z9(a,i),A=e4(a,i),o===2&&(this.path(A),this.ctx.clip()),da(A[0])?(l=A[0].start.x,c=A[0].start.y):(l=A[0].x,c=A[0].y),da(A[1])?(u=A[1].end.x,h=A[1].end.y):(u=A[1].x,h=A[1].y),i===0||i===2?f=Math.abs(l-u):f=Math.abs(c-h),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(A.slice(0,2)),g=n<3?n*3:n*2,y=n<3?n*2:n,o===3&&(g=n,y=n),b=!0,f<=g*2?b=!1:f<=g*2+y?(m=f/(2*g+y),g*=m,y*=m):(w=Math.floor((f+y)/(g+y)),x=(f-w*g)/(w-1),_=(f-(w+1)*g)/w,y=_<=0||Math.abs(y-x)<Math.abs(y-_)?x:_),b&&(o===3?this.ctx.setLineDash([0,g+y]):this.ctx.setLineDash([g,y])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Cn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(da(A[0])&&(I=A[3],L=A[0],this.ctx.beginPath(),this.formatPath([new Re(I.end.x,I.end.y),new Re(L.start.x,L.start.y)]),this.ctx.stroke()),da(A[1])&&(I=A[1],L=A[2],this.ctx.beginPath(),this.formatPath([new Re(I.end.x,I.end.y),new Re(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ci(this,void 0,void 0,function(){var n;return ti(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Cn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=X9(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(i8),Aj=function(t){return t instanceof MS||t instanceof jS?!0:t instanceof ay&&t.type!==T1&&t.type!==U1},lj=function(t,e){switch(t){case 0:return k1(e);case 2:return V9(e);case 1:default:return D1(e)}},cj=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},uj=["-apple-system","system-ui"],fj=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return uj.indexOf(e)===-1}):t},dj=function(t){qa(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return ci(this,void 0,void 0,function(){var n,i;return ti(this,function(a){switch(a.label){case 0:return n=cm(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,hj(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Cn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(i8),hj=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},pj=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,kh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,kh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,kh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,kh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),gj=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new pj({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new D9(this,e)}return t.instanceCount=1,t}(),a8=function(t,e){return e===void 0&&(e={}),vj(t,e)};typeof window<"u"&&JS.setContext(window);var vj=function(t,e){return ci(void 0,void 0,void 0,function(){var r,n,i,a,o,s,A,l,c,u,h,f,g,y,b,m,w,x,_,I,U,L,U,D,T,H,S,O,j,V,ie,le,ce,J,ae,ve,pe,k,W,G;return ti(this,function(Z){switch(Z.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(D=e.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(T=e.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:e.proxy,useCORS:(H=e.useCORS)!==null&&H!==void 0?H:!1},a=qv({logging:(S=e.logging)!==null&&S!==void 0?S:!0,cache:e.cache},i),o={windowWidth:(O=e.windowWidth)!==null&&O!==void 0?O:n.innerWidth,windowHeight:(j=e.windowHeight)!==null&&j!==void 0?j:n.innerHeight,scrollX:(V=e.scrollX)!==null&&V!==void 0?V:n.pageXOffset,scrollY:(ie=e.scrollY)!==null&&ie!==void 0?ie:n.pageYOffset},s=new os(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new gj(a,s),l=(le=e.foreignObjectRendering)!==null&&le!==void 0?le:!1,c={allowTaint:(ce=e.allowTaint)!==null&&ce!==void 0?ce:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),u=new YB(A,t,c),h=u.clonedReferenceElement,h?[4,u.toIFrame(r,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Z.sent(),g=oy(h)||w9(h)?qk(h.ownerDocument):dp(A,h),y=g.width,b=g.height,m=g.left,w=g.top,x=mj(A,h,e.backgroundColor),_={canvas:e.canvas,backgroundColor:x,scale:(ae=(J=e.scale)!==null&&J!==void 0?J:n.devicePixelRatio)!==null&&ae!==void 0?ae:1,x:((ve=e.x)!==null&&ve!==void 0?ve:0)+m,y:((pe=e.y)!==null&&pe!==void 0?pe:0)+w,width:(k=e.width)!==null&&k!==void 0?k:Math.ceil(y),height:(W=e.height)!==null&&W!==void 0?W:Math.ceil(b)},l?(A.logger.debug("Document cloned, using foreign object rendering"),U=new dj(A,_),[4,U.render(h)]):[3,3];case 2:return I=Z.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+m+","+w+" with size "+y+"x"+b+" using computed rendering"),A.logger.debug("Starting DOM parsing"),L=VS(A,h),x===L.styles.backgroundColor&&(L.styles.backgroundColor=es.TRANSPARENT),A.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),U=new sj(A,_),[4,U.render(L)];case 4:I=Z.sent(),Z.label=5;case 5:return(!((G=e.removeContainer)!==null&&G!==void 0)||G)&&(YB.destroy(f)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,I]}})})},mj=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Nf(t,getComputedStyle(n.documentElement).backgroundColor):es.TRANSPARENT,a=n.body?Nf(t,getComputedStyle(n.body).backgroundColor):es.TRANSPARENT,o=typeof r=="string"?Nf(t,r):r===null?es.TRANSPARENT:4294967295;return e===n.documentElement?iA(i)?iA(a)?o:a:i:o};const wj=Object.freeze(Object.defineProperty({__proto__:null,default:a8},Symbol.toStringTag,{value:"Module"}));function tr(t){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(t)}var Wa=Uint8Array,$i=Uint16Array,sy=Int32Array,Ay=new Wa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ly=new Wa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r4=new Wa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o8=function(t,e){for(var r=new $i(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new sy(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},s8=o8(Ay,2),yj=s8.b,vm=s8.r;yj[28]=258,vm[258]=28;var xj=o8(ly,0),n4=xj.r,mm=new $i(32768);for(var Cr=0;Cr<32768;++Cr){var Fs=(Cr&43690)>>1|(Cr&21845)<<1;Fs=(Fs&52428)>>2|(Fs&13107)<<2,Fs=(Fs&61680)>>4|(Fs&3855)<<4,mm[Cr]=((Fs&65280)>>8|(Fs&255)<<8)>>1}var Of=function(t,e,r){for(var n=t.length,i=0,a=new $i(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new $i(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(r){s=new $i(1<<e);var A=15-e;for(i=0;i<n;++i)if(t[i])for(var l=i<<4|t[i],c=e-t[i],u=o[t[i]-1]++<<c,h=u|(1<<c)-1;u<=h;++u)s[mm[u]>>A]=l}else for(s=new $i(n),i=0;i<n;++i)t[i]&&(s[i]=mm[o[t[i]-1]++]>>15-t[i]);return s},ml=new Wa(288);for(var Cr=0;Cr<144;++Cr)ml[Cr]=8;for(var Cr=144;Cr<256;++Cr)ml[Cr]=9;for(var Cr=256;Cr<280;++Cr)ml[Cr]=7;for(var Cr=280;Cr<288;++Cr)ml[Cr]=8;var Q1=new Wa(32);for(var Cr=0;Cr<32;++Cr)Q1[Cr]=5;var Bj=Of(ml,9,0),bj=Of(Q1,5,0),A8=function(t){return(t+7)/8|0},Cj=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Wa(t.subarray(e,r))},Ko=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},qu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},u2=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:c8,l:0};if(i==1){var o=new Wa(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(I,L){return I.f-L.f}),r.push({s:-1,f:25001});var s=r[0],A=r[1],l=0,c=1,u=2;for(r[0]={s:-1,f:s.f+A.f,l:s,r:A};c!=i-1;)s=r[r[l].f<r[u].f?l++:u++],A=r[l!=c&&r[l].f<r[u].f?l++:u++],r[c++]={s:-1,f:s.f+A.f,l:s,r:A};for(var h=a[0].s,n=1;n<i;++n)a[n].s>h&&(h=a[n].s);var f=new $i(h+1),g=wm(r[c-1],f,0);if(g>e){var n=0,y=0,b=g-e,m=1<<b;for(a.sort(function(L,U){return f[U.s]-f[L.s]||L.f-U.f});n<i;++n){var w=a[n].s;if(f[w]>e)y+=m-(1<<g-f[w]),f[w]=e;else break}for(y>>=b;y>0;){var x=a[n].s;f[x]<e?y-=1<<e-f[x]++-1:++n}for(;n>=0&&y;--n){var _=a[n].s;f[_]==e&&(--f[_],++y)}g=e}return{t:new Wa(f),l:g}},wm=function(t,e,r){return t.s==-1?Math.max(wm(t.l,e,r+1),wm(t.r,e,r+1)):e[t.s]=r},i4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new $i(++e),n=0,i=t[0],a=1,o=function(A){r[n++]=A},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:r.subarray(0,n),n:e}},Xu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},l8=function(t,e,r){var n=r.length,i=A8(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},a4=function(t,e,r,n,i,a,o,s,A,l,c){Ko(e,c++,r),++i[256];for(var u=u2(i,15),h=u.t,f=u.l,g=u2(a,15),y=g.t,b=g.l,m=i4(h),w=m.c,x=m.n,_=i4(y),I=_.c,L=_.n,U=new $i(19),D=0;D<w.length;++D)++U[w[D]&31];for(var D=0;D<I.length;++D)++U[I[D]&31];for(var T=u2(U,7),H=T.t,S=T.l,O=19;O>4&&!H[r4[O-1]];--O);var j=l+5<<3,V=Xu(i,ml)+Xu(a,Q1)+o,ie=Xu(i,h)+Xu(a,y)+o+14+3*O+Xu(U,H)+2*U[16]+3*U[17]+7*U[18];if(A>=0&&j<=V&&j<=ie)return l8(e,c,t.subarray(A,A+l));var le,ce,J,ae;if(Ko(e,c,1+(ie<V)),c+=2,ie<V){le=Of(h,f,0),ce=h,J=Of(y,b,0),ae=y;var ve=Of(H,S,0);Ko(e,c,x-257),Ko(e,c+5,L-1),Ko(e,c+10,O-4),c+=14;for(var D=0;D<O;++D)Ko(e,c+3*D,H[r4[D]]);c+=3*O;for(var pe=[w,I],k=0;k<2;++k)for(var W=pe[k],D=0;D<W.length;++D){var G=W[D]&31;Ko(e,c,ve[G]),c+=H[G],G>15&&(Ko(e,c,W[D]>>5&127),c+=W[D]>>12)}}else le=Bj,ce=ml,J=bj,ae=Q1;for(var D=0;D<s;++D){var Z=n[D];if(Z>255){var G=Z>>18&31;qu(e,c,le[G+257]),c+=ce[G+257],G>7&&(Ko(e,c,Z>>23&31),c+=Ay[G]);var te=Z&31;qu(e,c,J[te]),c+=ae[te],te>3&&(qu(e,c,Z>>5&8191),c+=ly[te])}else qu(e,c,le[Z]),c+=ce[Z]}return qu(e,c,le[256]),c+ce[256]},_j=new sy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c8=new Wa(0),Ej=function(t,e,r,n,i,a){var o=a.z||t.length,s=new Wa(n+o+5*(1+Math.ceil(o/7e3))+i),A=s.subarray(n,s.length-i),l=a.l,c=(a.r||0)&7;if(e){c&&(A[0]=a.r>>3);for(var u=_j[e-1],h=u>>13,f=u&8191,g=(1<<r)-1,y=a.p||new $i(32768),b=a.h||new $i(g+1),m=Math.ceil(r/3),w=2*m,x=function(he){return(t[he]^t[he+1]<<m^t[he+2]<<w)&g},_=new sy(25e3),I=new $i(288),L=new $i(32),U=0,D=0,T=a.i||0,H=0,S=a.w||0,O=0;T+2<o;++T){var j=x(T),V=T&32767,ie=b[j];if(y[V]=ie,b[j]=V,S<=T){var le=o-T;if((U>7e3||H>24576)&&(le>423||!l)){c=a4(t,A,0,_,I,L,D,H,O,T-O,c),H=U=D=0,O=T;for(var ce=0;ce<286;++ce)I[ce]=0;for(var ce=0;ce<30;++ce)L[ce]=0}var J=2,ae=0,ve=f,pe=V-ie&32767;if(le>2&&j==x(T-pe))for(var k=Math.min(h,le)-1,W=Math.min(32767,T),G=Math.min(258,le);pe<=W&&--ve&&V!=ie;){if(t[T+J]==t[T+J-pe]){for(var Z=0;Z<G&&t[T+Z]==t[T+Z-pe];++Z);if(Z>J){if(J=Z,ae=pe,Z>k)break;for(var te=Math.min(pe,Z-2),oe=0,ce=0;ce<te;++ce){var me=T-pe+ce&32767,ge=y[me],we=me-ge&32767;we>oe&&(oe=we,ie=me)}}}V=ie,ie=y[V],pe+=V-ie&32767}if(ae){_[H++]=268435456|vm[J]<<18|n4[ae];var Se=vm[J]&31,Ue=n4[ae]&31;D+=Ay[Se]+ly[Ue],++I[257+Se],++L[Ue],S=T+J,++U}else _[H++]=t[T],++I[t[T]]}}for(T=Math.max(T,S);T<o;++T)_[H++]=t[T],++I[t[T]];c=a4(t,A,l,_,I,L,D,H,O,T-O,c),l||(a.r=c&7|A[c/8|0]<<3,c-=7,a.h=b,a.p=y,a.i=T,a.w=S)}else{for(var T=a.w||0;T<o+l;T+=65535){var _e=T+65535;_e>=o&&(A[c/8|0]=l,_e=o),c=l8(A,c+1,t.subarray(T,_e))}a.i=o}return Cj(s,0,n+A8(c)+i)},u8=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Sj=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Wa(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return Ej(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},f8=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Ij=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=u8();i.p(e.dictionary),f8(t,2,i.d())}};function ym(t,e){e||(e={});var r=u8();r.p(t);var n=Sj(t,e,e.dictionary?6:2,4);return Ij(n,e),f8(n,n.length-4,r.d()),n}var Fj=typeof TextDecoder<"u"&&new TextDecoder,Nj=0;try{Fj.decode(c8,{stream:!0}),Nj=1}catch{}function Uj(t){if(Array.isArray(t))return t}function Tj(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function o4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Lj(t,e){if(t){if(typeof t=="string")return o4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o4(t,e):void 0}}function Oj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4(t,e){return Uj(t)||Tj(t,e)||Lj(t,e)||Oj()}function A4(t,e="utf8"){return new TextDecoder(e).decode(t)}const kj=new TextEncoder;function Dj(t){return kj.encode(t)}const Pj=1024*8,Qj=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),f2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class cy{constructor(e=Pj,r={}){Zt(this,"buffer");Zt(this,"byteLength");Zt(this,"byteOffset");Zt(this,"length");Zt(this,"offset");Zt(this,"lastWrittenByte");Zt(this,"littleEndian");Zt(this,"_data");Zt(this,"_mark");Zt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof cy)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=f2[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===Qj&&r!=="uint8"&&r!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+n));s.reverse();const A=new f2[r](s.buffer);return this.offset+=n,A.reverse(),A}const o=new f2[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return A4(this.readBytes(e))}decodeText(e=1,r="utf8"){return A4(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Dj(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ou(t){let e=t.length;for(;--e>=0;)t[e]=0}const Rj=3,jj=258,d8=29,Mj=256,Hj=Mj+1+d8,h8=30,Kj=512,Vj=new Array((Hj+2)*2);ou(Vj);const Gj=new Array(h8*2);ou(Gj);const $j=new Array(Kj);ou($j);const Wj=new Array(jj-Rj+1);ou(Wj);const zj=new Array(d8);ou(zj);const qj=new Array(h8);ou(qj);const Xj=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var xm=Xj;const Yj=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Jj=new Uint32Array(Yj()),Zj=(t,e,r,n)=>{const i=Jj,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var so=Zj,Bm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},p8={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const eM=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tM=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)eM(r,n)&&(t[n]=r[n])}}return t},rM=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},g8={assign:tM,flattenChunks:rM};let v8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v8=!1}const Ad=new Uint8Array(256);for(let t=0;t<256;t++)Ad[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ad[254]=Ad[254]=1;var nM=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,s=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const iM=(t,e)=>{if(e<65534&&t.subarray&&v8)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var aM=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let s=Ad[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|t[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return iM(a,i)},oM=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Ad[t[r]]>e?r:e},bm={string2buf:nM,buf2string:aM,utf8border:oM};function sM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var AM=sM;const i0=16209,lM=16191;var cM=function(e,r){let n,i,a,o,s,A,l,c,u,h,f,g,y,b,m,w,x,_,I,L,U,D,T,H;const S=e.state;n=e.next_in,T=e.input,i=n+(e.avail_in-5),a=e.next_out,H=e.output,o=a-(r-e.avail_out),s=a+(e.avail_out-257),A=S.dmax,l=S.wsize,c=S.whave,u=S.wnext,h=S.window,f=S.hold,g=S.bits,y=S.lencode,b=S.distcode,m=(1<<S.lenbits)-1,w=(1<<S.distbits)-1;e:do{g<15&&(f+=T[n++]<<g,g+=8,f+=T[n++]<<g,g+=8),x=y[f&m];t:for(;;){if(_=x>>>24,f>>>=_,g-=_,_=x>>>16&255,_===0)H[a++]=x&65535;else if(_&16){I=x&65535,_&=15,_&&(g<_&&(f+=T[n++]<<g,g+=8),I+=f&(1<<_)-1,f>>>=_,g-=_),g<15&&(f+=T[n++]<<g,g+=8,f+=T[n++]<<g,g+=8),x=b[f&w];r:for(;;){if(_=x>>>24,f>>>=_,g-=_,_=x>>>16&255,_&16){if(L=x&65535,_&=15,g<_&&(f+=T[n++]<<g,g+=8,g<_&&(f+=T[n++]<<g,g+=8)),L+=f&(1<<_)-1,L>A){e.msg="invalid distance too far back",S.mode=i0;break e}if(f>>>=_,g-=_,_=a-o,L>_){if(_=L-_,_>c&&S.sane){e.msg="invalid distance too far back",S.mode=i0;break e}if(U=0,D=h,u===0){if(U+=l-_,_<I){I-=_;do H[a++]=h[U++];while(--_);U=a-L,D=H}}else if(u<_){if(U+=l+u-_,_-=u,_<I){I-=_;do H[a++]=h[U++];while(--_);if(U=0,u<I){_=u,I-=_;do H[a++]=h[U++];while(--_);U=a-L,D=H}}}else if(U+=u-_,_<I){I-=_;do H[a++]=h[U++];while(--_);U=a-L,D=H}for(;I>2;)H[a++]=D[U++],H[a++]=D[U++],H[a++]=D[U++],I-=3;I&&(H[a++]=D[U++],I>1&&(H[a++]=D[U++]))}else{U=a-L;do H[a++]=H[U++],H[a++]=H[U++],H[a++]=H[U++],I-=3;while(I>2);I&&(H[a++]=H[U++],I>1&&(H[a++]=H[U++]))}}else if(_&64){e.msg="invalid distance code",S.mode=i0;break e}else{x=b[(x&65535)+(f&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){S.mode=lM;break e}else{e.msg="invalid literal/length code",S.mode=i0;break e}else{x=y[(x&65535)+(f&(1<<_)-1)];continue t}break}}while(n<i&&a<s);I=g>>3,n-=I,g-=I<<3,f&=(1<<g)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<s?257+(s-a):257-(a-s),S.hold=f,S.bits=g};const Jl=15,l4=852,c4=592,u4=0,d2=1,f4=2,uM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fM=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),pM=(t,e,r,n,i,a,o,s)=>{const A=s.bits;let l=0,c=0,u=0,h=0,f=0,g=0,y=0,b=0,m=0,w=0,x,_,I,L,U,D=null,T;const H=new Uint16Array(Jl+1),S=new Uint16Array(Jl+1);let O=null,j,V,ie;for(l=0;l<=Jl;l++)H[l]=0;for(c=0;c<n;c++)H[e[r+c]]++;for(f=A,h=Jl;h>=1&&H[h]===0;h--);if(f>h&&(f=h),h===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(u=1;u<h&&H[u]===0;u++);for(f<u&&(f=u),b=1,l=1;l<=Jl;l++)if(b<<=1,b-=H[l],b<0)return-1;if(b>0&&(t===u4||h!==1))return-1;for(S[1]=0,l=1;l<Jl;l++)S[l+1]=S[l]+H[l];for(c=0;c<n;c++)e[r+c]!==0&&(o[S[e[r+c]]++]=c);if(t===u4?(D=O=o,T=20):t===d2?(D=uM,O=fM,T=257):(D=dM,O=hM,T=0),w=0,c=0,l=u,U=a,g=f,y=0,I=-1,m=1<<f,L=m-1,t===d2&&m>l4||t===f4&&m>c4)return 1;for(;;){j=l-y,o[c]+1<T?(V=0,ie=o[c]):o[c]>=T?(V=O[o[c]-T],ie=D[o[c]-T]):(V=96,ie=0),x=1<<l-y,_=1<<g,u=_;do _-=x,i[U+(w>>y)+_]=j<<24|V<<16|ie|0;while(_!==0);for(x=1<<l-1;w&x;)x>>=1;if(x!==0?(w&=x-1,w+=x):w=0,c++,--H[l]===0){if(l===h)break;l=e[r+o[c]]}if(l>f&&(w&L)!==I){for(y===0&&(y=f),U+=u,g=l-y,b=1<<g;g+y<h&&(b-=H[g+y],!(b<=0));)g++,b<<=1;if(m+=1<<g,t===d2&&m>l4||t===f4&&m>c4)return 1;I=w&L,i[I]=f<<24|g<<16|U-a|0}}return w!==0&&(i[U+w]=l-y<<24|64<<16|0),s.bits=f,0};var kf=pM;const gM=0,m8=1,w8=2,{Z_FINISH:d4,Z_BLOCK:vM,Z_TREES:a0,Z_OK:wl,Z_STREAM_END:mM,Z_NEED_DICT:wM,Z_STREAM_ERROR:xa,Z_DATA_ERROR:y8,Z_MEM_ERROR:x8,Z_BUF_ERROR:yM,Z_DEFLATED:h4}=p8,bp=16180,p4=16181,g4=16182,v4=16183,m4=16184,w4=16185,y4=16186,x4=16187,B4=16188,b4=16189,R1=16190,Vo=16191,h2=16192,C4=16193,p2=16194,_4=16195,E4=16196,S4=16197,I4=16198,o0=16199,s0=16200,F4=16201,N4=16202,U4=16203,T4=16204,L4=16205,g2=16206,O4=16207,k4=16208,Sr=16209,B8=16210,b8=16211,xM=852,BM=592,bM=15,CM=bM,D4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function _M(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<bp||e.mode>b8?1:0},C8=t=>{if(Cl(t))return xa;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=bp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xM),e.distcode=e.distdyn=new Int32Array(BM),e.sane=1,e.back=-1,wl},_8=t=>{if(Cl(t))return xa;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,C8(t)},E8=(t,e)=>{let r;if(Cl(t))return xa;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?xa:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,_8(t))},S8=(t,e)=>{if(!t)return xa;const r=new _M;t.state=r,r.strm=t,r.window=null,r.mode=bp;const n=E8(t,e);return n!==wl&&(t.state=null),n},EM=t=>S8(t,CM);let P4=!0,v2,m2;const SM=t=>{if(P4){v2=new Int32Array(512),m2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(kf(m8,t.lens,0,288,v2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;kf(w8,t.lens,0,32,m2,0,t.work,{bits:5}),P4=!1}t.lencode=v2,t.lenbits=9,t.distcode=m2,t.distbits=5},I8=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},IM=(t,e)=>{let r,n,i,a,o,s,A,l,c,u,h,f,g,y,b=0,m,w,x,_,I,L,U,D;const T=new Uint8Array(4);let H,S;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cl(t)||!t.output||!t.input&&t.avail_in!==0)return xa;r=t.state,r.mode===Vo&&(r.mode=h2),o=t.next_out,i=t.output,A=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,l=r.hold,c=r.bits,u=s,h=A,D=wl;e:for(;;)switch(r.mode){case bp:if(r.wrap===0){r.mode=h2;break}for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=l&255,T[1]=l>>>8&255,r.check=so(r.check,T,2,0),l=0,c=0,r.mode=p4;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=Sr;break}if((l&15)!==h4){t.msg="unknown compression method",r.mode=Sr;break}if(l>>>=4,c-=4,U=(l&15)+8,r.wbits===0&&(r.wbits=U),U>15||U>r.wbits){t.msg="invalid window size",r.mode=Sr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=l&512?b4:Vo,l=0,c=0;break;case p4:for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.flags=l,(r.flags&255)!==h4){t.msg="unknown compression method",r.mode=Sr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Sr;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,r.check=so(r.check,T,2,0)),l=0,c=0,r.mode=g4;case g4:for(;c<32;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,T[2]=l>>>16&255,T[3]=l>>>24&255,r.check=so(r.check,T,4,0)),l=0,c=0,r.mode=v4;case v4:for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,r.check=so(r.check,T,2,0)),l=0,c=0,r.mode=m4;case m4:if(r.flags&1024){for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,r.check=so(r.check,T,2,0)),l=0,c=0}else r.head&&(r.head.extra=null);r.mode=w4;case w4:if(r.flags&1024&&(f=r.length,f>s&&(f=s),f&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),U)),r.flags&512&&r.wrap&4&&(r.check=so(r.check,n,f,a)),s-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=y4;case y4:if(r.flags&2048){if(s===0)break e;f=0;do U=n[a+f++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U));while(U&&f<s);if(r.flags&512&&r.wrap&4&&(r.check=so(r.check,n,f,a)),s-=f,a+=f,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=x4;case x4:if(r.flags&4096){if(s===0)break e;f=0;do U=n[a+f++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U));while(U&&f<s);if(r.flags&512&&r.wrap&4&&(r.check=so(r.check,n,f,a)),s-=f,a+=f,U)break e}else r.head&&(r.head.comment=null);r.mode=B4;case B4:if(r.flags&512){for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.wrap&4&&l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Sr;break}l=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Vo;break;case b4:for(;c<32;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}t.adler=r.check=D4(l),l=0,c=0,r.mode=R1;case R1:if(r.havedict===0)return t.next_out=o,t.avail_out=A,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=c,wM;t.adler=r.check=1,r.mode=Vo;case Vo:if(e===vM||e===a0)break e;case h2:if(r.last){l>>>=c&7,c-=c&7,r.mode=g2;break}for(;c<3;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}switch(r.last=l&1,l>>>=1,c-=1,l&3){case 0:r.mode=C4;break;case 1:if(SM(r),r.mode=o0,e===a0){l>>>=2,c-=2;break e}break;case 2:r.mode=E4;break;case 3:t.msg="invalid block type",r.mode=Sr}l>>>=2,c-=2;break;case C4:for(l>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Sr;break}if(r.length=l&65535,l=0,c=0,r.mode=p2,e===a0)break e;case p2:r.mode=_4;case _4:if(f=r.length,f){if(f>s&&(f=s),f>A&&(f=A),f===0)break e;i.set(n.subarray(a,a+f),o),s-=f,a+=f,A-=f,o+=f,r.length-=f;break}r.mode=Vo;break;case E4:for(;c<14;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.nlen=(l&31)+257,l>>>=5,c-=5,r.ndist=(l&31)+1,l>>>=5,c-=5,r.ncode=(l&15)+4,l>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Sr;break}r.have=0,r.mode=S4;case S4:for(;r.have<r.ncode;){for(;c<3;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.lens[O[r.have++]]=l&7,l>>>=3,c-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},D=kf(gM,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,D){t.msg="invalid code lengths set",r.mode=Sr;break}r.have=0,r.mode=I4;case I4:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[l&(1<<r.lenbits)-1],m=b>>>24,w=b>>>16&255,x=b&65535,!(m<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(x<16)l>>>=m,c-=m,r.lens[r.have++]=x;else{if(x===16){for(S=m+2;c<S;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(l>>>=m,c-=m,r.have===0){t.msg="invalid bit length repeat",r.mode=Sr;break}U=r.lens[r.have-1],f=3+(l&3),l>>>=2,c-=2}else if(x===17){for(S=m+3;c<S;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}l>>>=m,c-=m,U=0,f=3+(l&7),l>>>=3,c-=3}else{for(S=m+7;c<S;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}l>>>=m,c-=m,U=0,f=11+(l&127),l>>>=7,c-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Sr;break}for(;f--;)r.lens[r.have++]=U}}if(r.mode===Sr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Sr;break}if(r.lenbits=9,H={bits:r.lenbits},D=kf(m8,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,D){t.msg="invalid literal/lengths set",r.mode=Sr;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},D=kf(w8,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,D){t.msg="invalid distances set",r.mode=Sr;break}if(r.mode=o0,e===a0)break e;case o0:r.mode=s0;case s0:if(s>=6&&A>=258){t.next_out=o,t.avail_out=A,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=c,cM(t,h),o=t.next_out,i=t.output,A=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,l=r.hold,c=r.bits,r.mode===Vo&&(r.back=-1);break}for(r.back=0;b=r.lencode[l&(1<<r.lenbits)-1],m=b>>>24,w=b>>>16&255,x=b&65535,!(m<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(w&&!(w&240)){for(_=m,I=w,L=x;b=r.lencode[L+((l&(1<<_+I)-1)>>_)],m=b>>>24,w=b>>>16&255,x=b&65535,!(_+m<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}l>>>=_,c-=_,r.back+=_}if(l>>>=m,c-=m,r.back+=m,r.length=x,w===0){r.mode=L4;break}if(w&32){r.back=-1,r.mode=Vo;break}if(w&64){t.msg="invalid literal/length code",r.mode=Sr;break}r.extra=w&15,r.mode=F4;case F4:if(r.extra){for(S=r.extra;c<S;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=N4;case N4:for(;b=r.distcode[l&(1<<r.distbits)-1],m=b>>>24,w=b>>>16&255,x=b&65535,!(m<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(!(w&240)){for(_=m,I=w,L=x;b=r.distcode[L+((l&(1<<_+I)-1)>>_)],m=b>>>24,w=b>>>16&255,x=b&65535,!(_+m<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}l>>>=_,c-=_,r.back+=_}if(l>>>=m,c-=m,r.back+=m,w&64){t.msg="invalid distance code",r.mode=Sr;break}r.offset=x,r.extra=w&15,r.mode=U4;case U4:if(r.extra){for(S=r.extra;c<S;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Sr;break}r.mode=T4;case T4:if(A===0)break e;if(f=h-A,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Sr;break}f>r.wnext?(f-=r.wnext,g=r.wsize-f):g=r.wnext-f,f>r.length&&(f=r.length),y=r.window}else y=i,g=o-r.offset,f=r.length;f>A&&(f=A),A-=f,r.length-=f;do i[o++]=y[g++];while(--f);r.length===0&&(r.mode=s0);break;case L4:if(A===0)break e;i[o++]=r.length,A--,r.mode=s0;break;case g2:if(r.wrap){for(;c<32;){if(s===0)break e;s--,l|=n[a++]<<c,c+=8}if(h-=A,t.total_out+=h,r.total+=h,r.wrap&4&&h&&(t.adler=r.check=r.flags?so(r.check,i,h,o-h):xm(r.check,i,h,o-h)),h=A,r.wrap&4&&(r.flags?l:D4(l))!==r.check){t.msg="incorrect data check",r.mode=Sr;break}l=0,c=0}r.mode=O4;case O4:if(r.wrap&&r.flags){for(;c<32;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.wrap&4&&l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Sr;break}l=0,c=0}r.mode=k4;case k4:D=mM;break e;case Sr:D=y8;break e;case B8:return x8;case b8:default:return xa}return t.next_out=o,t.avail_out=A,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=c,(r.wsize||h!==t.avail_out&&r.mode<Sr&&(r.mode<g2||e!==d4))&&I8(t,t.output,t.next_out,h-t.avail_out),u-=t.avail_in,h-=t.avail_out,t.total_in+=u,t.total_out+=h,r.total+=h,r.wrap&4&&h&&(t.adler=r.check=r.flags?so(r.check,i,h,t.next_out-h):xm(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Vo?128:0)+(r.mode===o0||r.mode===p2?256:0),(u===0&&h===0||e===d4)&&D===wl&&(D=yM),D},FM=t=>{if(Cl(t))return xa;let e=t.state;return e.window&&(e.window=null),t.state=null,wl},NM=(t,e)=>{if(Cl(t))return xa;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,wl):xa},UM=(t,e)=>{const r=e.length;let n,i,a;return Cl(t)||(n=t.state,n.wrap!==0&&n.mode!==R1)?xa:n.mode===R1&&(i=1,i=xm(i,e,r,0),i!==n.check)?y8:(a=I8(t,e,r,r),a?(n.mode=B8,x8):(n.havedict=1,wl))};var TM=_8,LM=E8,OM=C8,kM=EM,DM=S8,PM=IM,QM=FM,RM=NM,jM=UM,MM="pako inflate (from Nodeca project)",zo={inflateReset:TM,inflateReset2:LM,inflateResetKeep:OM,inflateInit:kM,inflateInit2:DM,inflate:PM,inflateEnd:QM,inflateGetHeader:RM,inflateSetDictionary:jM,inflateInfo:MM};function HM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var KM=HM;const F8=Object.prototype.toString,{Z_NO_FLUSH:VM,Z_FINISH:GM,Z_OK:ld,Z_STREAM_END:w2,Z_NEED_DICT:y2,Z_STREAM_ERROR:$M,Z_DATA_ERROR:Q4,Z_MEM_ERROR:WM}=p8;function Bd(t){this.options=g8.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new AM,this.strm.avail_out=0;let r=zo.inflateInit2(this.strm,e.windowBits);if(r!==ld)throw new Error(Bm[r]);if(this.header=new KM,zo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=bm.string2buf(e.dictionary):F8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=zo.inflateSetDictionary(this.strm,e.dictionary),r!==ld)))throw new Error(Bm[r])}Bd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?GM:VM,F8.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=zo.inflate(r,o),a===y2&&i&&(a=zo.inflateSetDictionary(r,i),a===ld?a=zo.inflate(r,o):a===Q4&&(a=y2));r.avail_in>0&&a===w2&&r.state.wrap>0&&t[r.next_in]!==0;)zo.inflateReset(r),a=zo.inflate(r,o);switch(a){case $M:case Q4:case y2:case WM:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===w2))if(this.options.to==="string"){let A=bm.utf8border(r.output,r.next_out),l=r.next_out-A,c=bm.buf2string(r.output,A);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(A,A+l),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===ld&&s===0)){if(a===w2)return a=zo.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Bd.prototype.onData=function(t){this.chunks.push(t)};Bd.prototype.onEnd=function(t){t===ld&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g8.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function zM(t,e){const r=new Bd(e);if(r.push(t),r.err)throw r.msg||Bm[r.err];return r.result}var qM=Bd,XM=zM,YM={Inflate:qM,inflate:XM};const{Inflate:JM,inflate:ZM}=YM;var R4=JM,eH=ZM;const N8=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;N8[t]=e}const j4=4294967295;function tH(t,e,r){let n=t;for(let i=0;i<r;i++)n=N8[(n^e[i])&255]^n>>>8;return n}function rH(t,e){return(tH(j4,t,e)^j4)>>>0}function M4(t,e,r){const n=t.readUint32(),i=rH(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function U8(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function T8(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function L8(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function O8(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function k8(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+nH(e[a-i],r[a],r[a-i])&255}}function nH(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function iH(t,e,r,n,i,a){switch(t){case 0:U8(e,r,i);break;case 1:T8(e,r,i,a);break;case 2:L8(e,r,n,i);break;case 3:O8(e,r,n,i,a);break;case 4:k8(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const aH=new Uint16Array([255]),oH=new Uint8Array(aH.buffer),sH=oH[0]===255;function AH(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,A=new Uint8Array(n*r*s);let l=0;for(let c=0;c<7;c++){const u=o[c],h=Math.ceil((r-u.x)/u.xStep),f=Math.ceil((n-u.y)/u.yStep);if(h<=0||f<=0)continue;const g=h*s,y=new Uint8Array(g);for(let b=0;b<f;b++){const m=e[l++],w=e.subarray(l,l+g);l+=g;const x=new Uint8Array(g);iH(m,w,x,y,g,s),y.set(x);for(let _=0;_<h;_++){const I=u.x+_*u.xStep,L=u.y+b*u.yStep;if(!(I>=r||L>=n))for(let U=0;U<s;U++)A[(L*r+I)*s+U]=x[_*s+U]}}}if(a===16){const c=new Uint16Array(A.buffer);if(sH)for(let u=0;u<c.length;u++)c[u]=lH(c[u]);return c}else return A}function lH(t){return(t&255)<<8|t>>8&255}const cH=new Uint16Array([255]),uH=new Uint8Array(cH.buffer),fH=uH[0]===255,dH=new Uint8Array(0);function H4(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*r),A=new Uint8Array(n*s);let l=dH,c=0,u,h;for(let f=0;f<n;f++){switch(u=e.subarray(c+1,c+1+s),h=A.subarray(f*s,(f+1)*s),e[c]){case 0:U8(u,h,s);break;case 1:T8(u,h,s,o);break;case 2:L8(u,h,l,s);break;case 3:O8(u,h,l,s,o);break;case 4:k8(u,h,l,s,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}l=h,c+=s+1}if(a===16){const f=new Uint16Array(A.buffer);if(fH)for(let g=0;g<f.length;g++)f[g]=hH(f[g]);return f}else return A}function hH(t){return(t&255)<<8|t>>8&255}const P0=Uint8Array.of(137,80,78,71,13,10,26,10);function K4(t){if(!pH(t.readBytes(P0.length)))throw new Error("wrong PNG signature")}function pH(t){if(t.length<P0.length)return!1;for(let e=0;e<P0.length;e++)if(t[e]!==P0[e])return!1;return!0}const gH="tEXt",vH=0,D8=new TextDecoder("latin1");function mH(t){if(yH(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const wH=/^[\u0000-\u00FF]*$/;function yH(t){if(!wH.test(t))throw new Error("invalid latin1 text")}function xH(t,e,r){const n=P8(e);t[n]=BH(e,r-n.length-1)}function P8(t){for(t.mark();t.readByte()!==vH;);const e=t.offset;t.reset();const r=D8.decode(t.readBytes(e-t.offset-1));return t.skip(1),mH(r),r}function BH(t,e){return D8.decode(t.readBytes(e))}const Ri={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},x2={UNKNOWN:-1,DEFLATE:0},V4={UNKNOWN:-1,ADAPTIVE:0},B2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},A0={NONE:0,BACKGROUND:1,PREVIOUS:2},b2={SOURCE:0,OVER:1};class bH extends cy{constructor(r,n={}){super(r);Zt(this,"_checkCrc");Zt(this,"_inflator");Zt(this,"_png");Zt(this,"_apng");Zt(this,"_end");Zt(this,"_hasPalette");Zt(this,"_palette");Zt(this,"_hasTransparency");Zt(this,"_transparency");Zt(this,"_compressionMethod");Zt(this,"_filterMethod");Zt(this,"_interlaceMethod");Zt(this,"_colorType");Zt(this,"_isAnimated");Zt(this,"_numberOfFrames");Zt(this,"_numberOfPlays");Zt(this,"_frames");Zt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new R4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=x2.UNKNOWN,this._filterMethod=V4.UNKNOWN,this._interlaceMethod=B2.UNKNOWN,this._colorType=Ri.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(K4(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(K4(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case gH:xH(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?M4(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?M4(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=CH(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ri.GREYSCALE:i=1;break;case Ri.TRUECOLOUR:i=3;break;case Ri.INDEXED_COLOUR:i=1;break;case Ri.GREYSCALE_ALPHA:i=2;break;case Ri.TRUECOLOUR_ALPHA:i=4;break;case Ri.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==x2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ri.GREYSCALE:case Ri.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ri.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ri.UNKNOWN:case Ri.GREYSCALE_ALPHA:case Ri.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=P8(this),i=this.readUint8();if(i!==x2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:eH(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=H4({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case A0.NONE:break;case A0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const s=(a*r.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)i.data[s+A]=0}break;case A0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,s)=>{const A=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,l=(o*n.width+s)*this._png.channels;return{index:A,frameIndex:l}};switch(n.blendOp){case b2.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:A,frameIndex:l}=a(o,s);for(let c=0;c<this._png.channels;c++)r.data[A+c]=n.data[l+c]}break;case b2.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:A,frameIndex:l}=a(o,s);for(let c=0;c<this._png.channels;c++){const u=n.data[l+this._png.channels-1]/i,h=c%(this._png.channels-1)===0?1:n.data[l+c],f=Math.floor(u*h+(1-u)*r.data[A+c]);r.data[A+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==V4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===B2.NO_INTERLACE)this._png.data=H4({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===B2.ADAM7)this._png.data=AH({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:A0.NONE,blendOp:b2.SOURCE,data:r}),this._inflator=new R4,this._writingDataChunks=!1}}function CH(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var G4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(G4||(G4={}));function _H(t,e){return new bH(t,e).decode()}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function C2(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var ur={log:C2,warn:function(t){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):C2.call(null,arguments))},error:function(t){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):C2(t))}};function _2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){qA(n.response,e,r)},n.onerror=function(){ur.error("could not download file")},n.send()}function $4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function l0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var qA=vt.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?$4(i.href)?_2(t,e,r):l0(i,i.target="_blank"):l0(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){l0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if($4(t))_2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){l0(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:tr(a)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return _2(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(vt.HTMLElement)||vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},s.readAsDataURL(t)}else{var A=vt.URL||vt.webkitURL,l=A.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout(function(){A.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Q8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),A=this.g.toString(16),l=this.b.toString(16);return s.length==1&&(s="0"+s),A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),"#"+s+A+l}}var Q0=vt.atob.bind(vt),W4=vt.btoa.bind(vt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function E2(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Yn(r,n,i,a,e[0],7,-680876936),a=Yn(a,r,n,i,e[1],12,-389564586),i=Yn(i,a,r,n,e[2],17,606105819),n=Yn(n,i,a,r,e[3],22,-1044525330),r=Yn(r,n,i,a,e[4],7,-176418897),a=Yn(a,r,n,i,e[5],12,1200080426),i=Yn(i,a,r,n,e[6],17,-1473231341),n=Yn(n,i,a,r,e[7],22,-45705983),r=Yn(r,n,i,a,e[8],7,1770035416),a=Yn(a,r,n,i,e[9],12,-1958414417),i=Yn(i,a,r,n,e[10],17,-42063),n=Yn(n,i,a,r,e[11],22,-1990404162),r=Yn(r,n,i,a,e[12],7,1804603682),a=Yn(a,r,n,i,e[13],12,-40341101),i=Yn(i,a,r,n,e[14],17,-1502002290),r=Jn(r,n=Yn(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Jn(a,r,n,i,e[6],9,-1069501632),i=Jn(i,a,r,n,e[11],14,643717713),n=Jn(n,i,a,r,e[0],20,-373897302),r=Jn(r,n,i,a,e[5],5,-701558691),a=Jn(a,r,n,i,e[10],9,38016083),i=Jn(i,a,r,n,e[15],14,-660478335),n=Jn(n,i,a,r,e[4],20,-405537848),r=Jn(r,n,i,a,e[9],5,568446438),a=Jn(a,r,n,i,e[14],9,-1019803690),i=Jn(i,a,r,n,e[3],14,-187363961),n=Jn(n,i,a,r,e[8],20,1163531501),r=Jn(r,n,i,a,e[13],5,-1444681467),a=Jn(a,r,n,i,e[2],9,-51403784),i=Jn(i,a,r,n,e[7],14,1735328473),r=Zn(r,n=Jn(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Zn(a,r,n,i,e[8],11,-2022574463),i=Zn(i,a,r,n,e[11],16,1839030562),n=Zn(n,i,a,r,e[14],23,-35309556),r=Zn(r,n,i,a,e[1],4,-1530992060),a=Zn(a,r,n,i,e[4],11,1272893353),i=Zn(i,a,r,n,e[7],16,-155497632),n=Zn(n,i,a,r,e[10],23,-1094730640),r=Zn(r,n,i,a,e[13],4,681279174),a=Zn(a,r,n,i,e[0],11,-358537222),i=Zn(i,a,r,n,e[3],16,-722521979),n=Zn(n,i,a,r,e[6],23,76029189),r=Zn(r,n,i,a,e[9],4,-640364487),a=Zn(a,r,n,i,e[12],11,-421815835),i=Zn(i,a,r,n,e[15],16,530742520),r=ei(r,n=Zn(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ei(a,r,n,i,e[7],10,1126891415),i=ei(i,a,r,n,e[14],15,-1416354905),n=ei(n,i,a,r,e[5],21,-57434055),r=ei(r,n,i,a,e[12],6,1700485571),a=ei(a,r,n,i,e[3],10,-1894986606),i=ei(i,a,r,n,e[10],15,-1051523),n=ei(n,i,a,r,e[1],21,-2054922799),r=ei(r,n,i,a,e[8],6,1873313359),a=ei(a,r,n,i,e[15],10,-30611744),i=ei(i,a,r,n,e[6],15,-1560198380),n=ei(n,i,a,r,e[13],21,1309151649),r=ei(r,n,i,a,e[4],6,-145523070),a=ei(a,r,n,i,e[11],10,-1120210379),i=ei(i,a,r,n,e[2],15,718787259),n=ei(n,i,a,r,e[9],21,-343485551),t[0]=zs(r,t[0]),t[1]=zs(n,t[1]),t[2]=zs(i,t[2]),t[3]=zs(a,t[3])}function Cp(t,e,r,n,i,a){return e=zs(zs(e,t),zs(n,a)),zs(e<<i|e>>>32-i,r)}function Yn(t,e,r,n,i,a,o){return Cp(e&r|~e&n,t,e,i,a,o)}function Jn(t,e,r,n,i,a,o){return Cp(e&n|r&~n,t,e,i,a,o)}function Zn(t,e,r,n,i,a,o){return Cp(e^r^n,t,e,i,a,o)}function ei(t,e,r,n,i,a,o){return Cp(r^(e|~n),t,e,i,a,o)}function R8(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)E2(n,EH(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(E2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,E2(n,i),n}function EH(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var z4="0123456789abcdef".split("");function SH(t){for(var e="",r=0;r<4;r++)e+=z4[t>>8*r+4&15]+z4[t>>8*r&15];return e}function IH(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Cm(t){return R8(t).map(IH).join("")}var FH=function(t){for(var e=0;e<t.length;e++)t[e]=SH(t[e]);return t.join("")}(R8("hello"))!="5d41402abc4b2a76b9719d911017c592";function zs(t,e){if(FH){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _m(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),s=[],A=0;A<256;A++)s[A]=A;var l=0;for(A=0;A<256;A++){var c=s[A];l=(l+c+o.charCodeAt(A))%256,s[A]=s[l],s[l]=c}r=t,n=s}else s=n;var u=e.length,h=0,f=0,g="";for(A=0;A<u;A++)f=(f+(c=s[h=(h+1)%256]))%256,s[h]=s[f],s[f]=c,o=s[(s[h]+s[f])%256],g+=String.fromCharCode(e.charCodeAt(A)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var q4={print:4,modify:8,copy:16,"annot-forms":32};function oc(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(q4.perm!==void 0)throw new Error("Invalid permission: "+s);i+=q4[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Cm(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_m(this.encryptionKey,this.padding)}function sc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function X4(t){if(tr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(s){vt.console&&ur.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j1(t){if(!(this instanceof j1))return new j1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function j8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function el(t,e,r,n,i){if(!(this instanceof el))return new el(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,j8.call(this,n,i)}function Bc(t,e,r,n,i){if(!(this instanceof Bc))return new Bc(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,j8.call(this,n,i)}function tt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,A=16,l="S",c=null;tr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(A=t.floatPrecision),l=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var u=t.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=X4;var g="1.3",y=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(B){g=B};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var m=f.__private__.getPageFormat=function(B){return b[B]};i=i||"a4";var w="compat",x="advanced",_=w;function I(){this.saveGraphicsState(),$(new ut(ft,0,0,-ft,0,IA()*ft).toString()+" cm"),this.setFontSize(this.getFontSize()/ft),l="n",_=x}function L(){this.restoreGraphicsState(),l="S",_=w}var U=f.__private__.combineFontStyleAndFontWeight=function(B,F){if(B=="bold"&&F=="normal"||B=="bold"&&F==400||B=="normal"&&F=="italic"||B=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(B=F==400||F==="normal"?B==="italic"?"italic":"normal":F!=700&&F!=="bold"||B!=="normal"?(F==700?"bold":F)+""+B:"bold"),B};f.advancedAPI=function(B){var F=_===w;return F&&I.call(this),typeof B!="function"||(B(this),F&&L.call(this)),this},f.compatAPI=function(B){var F=_===x;return F&&L.call(this),typeof B!="function"||(B(this),F&&I.call(this)),this},f.isAdvancedAPI=function(){return _===x};var D,T=function(B){if(_!==x)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=f.roundToPrecision=f.__private__.roundToPrecision=function(B,F){var X=e||F;if(isNaN(B)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(X).replace(/0+$/,"")};D=f.hpf=f.__private__.hpf=typeof A=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return H(B,A)}:A==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return H(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return H(B,16)};var S=f.f2=f.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return H(B,2)},O=f.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return H(B,3)},j=f.scale=f.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return _===w?B*ft:_===x?B:void 0},V=function(B){return j(function(F){return _===w?IA()-F:_===x?F:void 0}(B))};f.__private__.setPrecision=f.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(e=parseInt(B,10))};var ie,le="00000000000000000000000000000000",ce=f.__private__.getFileId=function(){return le},J=f.__private__.setFileId=function(B){return le=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Vr=new oc(c.userPermissions,c.userPassword,c.ownerPassword,le)),le};f.setFileId=function(B){return J(B),this},f.getFileId=function(){return ce()};var ae=f.__private__.convertDateToPDFDate=function(B){var F=B.getTimezoneOffset(),X=F<0?"+":"-",ee=Math.floor(Math.abs(F/60)),se=Math.abs(F%60),Be=[X,G(ee),"'",G(se),"'"].join("");return["D:",B.getFullYear(),G(B.getMonth()+1),G(B.getDate()),G(B.getHours()),G(B.getMinutes()),G(B.getSeconds()),Be].join("")},ve=f.__private__.convertPDFDateToDate=function(B){var F=parseInt(B.substr(2,4),10),X=parseInt(B.substr(6,2),10)-1,ee=parseInt(B.substr(8,2),10),se=parseInt(B.substr(10,2),10),Be=parseInt(B.substr(12,2),10),Ne=parseInt(B.substr(14,2),10);return new Date(F,X,ee,se,Be,Ne,0)},pe=f.__private__.setCreationDate=function(B){var F;if(B===void 0&&(B=new Date),B instanceof Date)F=ae(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=B}return ie=F},k=f.__private__.getCreationDate=function(B){var F=ie;return B==="jsDate"&&(F=ve(ie)),F};f.setCreationDate=function(B){return pe(B),this},f.getCreationDate=function(B){return k(B)};var W,G=f.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},Z=f.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},te=0,oe=[],me=[],ge=0,we=[],Se=[],Ue=!1,_e=me;f.__private__.setCustomOutputDestination=function(B){Ue=!0,_e=B};var he=function(B){Ue||(_e=B)};f.__private__.resetCustomOutputDestination=function(){Ue=!1,_e=me};var $=f.__private__.out=function(B){return B=B.toString(),ge+=B.length+1,_e.push(B),_e},Je=f.__private__.write=function(B){return $(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},We=f.__private__.getArrayBuffer=function(B){for(var F=B.length,X=new ArrayBuffer(F),ee=new Uint8Array(X);F--;)ee[F]=B.charCodeAt(F);return X},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ve};var Ee=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(B){return Ee=_===x?B/ft:B,this};var Me,Pe=f.__private__.getFontSize=f.getFontSize=function(){return _===w?Ee:Ee*ft},Bt=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(B){return Bt=B,this},f.__private__.getR2L=f.getR2L=function(){return Bt};var nt,Nt=f.__private__.setZoomMode=function(B){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))Me=B;else if(isNaN(B)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');Me=B}else Me=parseInt(B,10)};f.__private__.getZoomMode=function(){return Me};var pt,wt=f.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');nt=B};f.__private__.getPageMode=function(){return nt};var Gt=f.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');pt=B};f.__private__.getLayoutMode=function(){return pt},f.__private__.setDisplayMode=f.setDisplayMode=function(B,F,X){return Nt(B),Gt(F),wt(X),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(B){if(Object.keys(gt).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[B]},f.__private__.getDocumentProperties=function(){return gt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(B){for(var F in gt)gt.hasOwnProperty(F)&&B[F]&&(gt[F]=B[F]);return this},f.__private__.setDocumentProperty=function(B,F){if(Object.keys(gt).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[B]=F};var it,ft,at,Xt,Ie,Oe={},ot={},Ut=[],ke={},ht={},ct={},sr={},An=null,Ar=0,yt=[],$t=new X4(f),gA=t.hotfixes||[],$n={},Eo={},Ja=[],ut=function B(F,X,ee,se,Be,Ne){if(!(this instanceof B))return new B(F,X,ee,se,Be,Ne);isNaN(F)&&(F=1),isNaN(X)&&(X=0),isNaN(ee)&&(ee=0),isNaN(se)&&(se=1),isNaN(Be)&&(Be=0),isNaN(Ne)&&(Ne=0),this._matrix=[F,X,ee,se,Be,Ne]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(B)},ut.prototype.multiply=function(B){var F=B.sx*this.sx+B.shy*this.shx,X=B.sx*this.shy+B.shy*this.sy,ee=B.shx*this.sx+B.sy*this.shx,se=B.shx*this.shy+B.sy*this.sy,Be=B.tx*this.sx+B.ty*this.shx+this.tx,Ne=B.tx*this.shy+B.ty*this.sy+this.ty;return new ut(F,X,ee,se,Be,Ne)},ut.prototype.decompose=function(){var B=this.sx,F=this.shy,X=this.shx,ee=this.sy,se=this.tx,Be=this.ty,Ne=Math.sqrt(B*B+F*F),ze=(B/=Ne)*X+(F/=Ne)*ee;X-=B*ze,ee-=F*ze;var Ze=Math.sqrt(X*X+ee*ee);return ze/=Ze,B*(ee/=Ze)<F*(X/=Ze)&&(B=-B,F=-F,ze=-ze,Ne=-Ne),{scale:new ut(Ne,0,0,Ze,0,0),translate:new ut(1,0,0,1,se,Be),rotate:new ut(B,F,-F,B,0,0),skew:new ut(1,0,ze,1,0,0)}},ut.prototype.toString=function(B){return this.join(" ")},ut.prototype.inversed=function(){var B=this.sx,F=this.shy,X=this.shx,ee=this.sy,se=this.tx,Be=this.ty,Ne=1/(B*ee-F*X),ze=ee*Ne,Ze=-F*Ne,mt=-X*Ne,bt=B*Ne;return new ut(ze,Ze,mt,bt,-ze*se-mt*Be,-Ze*se-bt*Be)},ut.prototype.applyToPoint=function(B){var F=B.x*this.sx+B.y*this.shx+this.tx,X=B.x*this.shy+B.y*this.sy+this.ty;return new EA(F,X)},ut.prototype.applyToRectangle=function(B){var F=this.applyToPoint(B),X=this.applyToPoint(new EA(B.x+B.w,B.y+B.h));return new mu(F.x,F.y,X.x-F.x,X.y-F.y)},ut.prototype.clone=function(){var B=this.sx,F=this.shy,X=this.shx,ee=this.sy,se=this.tx,Be=this.ty;return new ut(B,F,X,ee,se,Be)},f.Matrix=ut;var So=f.matrixMult=function(B,F){return F.multiply(B)},Io=new ut(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Io;var Ji=function(B,F){if(!ht[B]){var X=(F instanceof el?"Sh":"P")+(Object.keys(ke).length+1).toString(10);F.id=X,ht[B]=X,ke[X]=F,$t.publish("addPattern",F)}};f.ShadingPattern=el,f.TilingPattern=Bc,f.addShadingPattern=function(B,F){return T("addShadingPattern()"),Ji(B,F),this},f.beginTilingPattern=function(B){T("beginTilingPattern()"),wu(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},f.endTilingPattern=function(B,F){T("endTilingPattern()"),F.stream=Se[W].join(`
`),Ji(B,F),$t.publish("endTilingPattern",F),Ja.pop().restore()};var Zi,Qr=f.__private__.newObject=function(){var B=bn();return Nn(B,!0),B},bn=f.__private__.newObjectDeferred=function(){return te++,oe[te]=function(){return ge},te},Nn=function(B,F){return F=typeof F=="boolean"&&F,oe[B]=ge,F&&$(B+" 0 obj"),B},vA=f.__private__.newAdditionalObject=function(){var B={objId:bn(),content:""};return we.push(B),B},ls=bn(),Ba=bn(),Za=f.__private__.decodeColorString=function(B){var F=B.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var X=parseFloat(F[0]);F=[X,X,X,"r"]}for(var ee="#",se=0;se<3;se++)ee+=("0"+Math.floor(255*parseFloat(F[se])).toString(16)).slice(-2);return ee},ba=f.__private__.encodeColorString=function(B){var F;typeof B=="string"&&(B={ch1:B});var X=B.ch1,ee=B.ch2,se=B.ch3,Be=B.ch4,Ne=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var ze=new Q8(X);if(ze.ok)X=ze.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var Ze=parseInt(X.substr(1),16);X=Ze>>16&255,ee=Ze>>8&255,se=255&Ze}if(ee===void 0||Be===void 0&&X===ee&&ee===se)F=typeof X=="string"?X+" "+Ne[0]:B.precision===2?S(X/255)+" "+Ne[0]:O(X/255)+" "+Ne[0];else if(Be===void 0||tr(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ne[1]].join(" ");F=typeof X=="string"?[X,ee,se,Ne[1]].join(" "):B.precision===2?[S(X/255),S(ee/255),S(se/255),Ne[1]].join(" "):[O(X/255),O(ee/255),O(se/255),Ne[1]].join(" ")}else F=typeof X=="string"?[X,ee,se,Be,Ne[2]].join(" "):B.precision===2?[S(X),S(ee),S(se),S(Be),Ne[2]].join(" "):[O(X),O(ee),O(se),O(Be),Ne[2]].join(" ");return F},Ca=f.__private__.getFilters=function(){return o},ea=f.__private__.putStream=function(B){var F=(B=B||{}).data||"",X=B.filters||Ca(),ee=B.alreadyAppliedFilters||[],se=B.addLength1||!1,Be=F.length,Ne=B.objectId,ze=function(ln){return ln};if(c!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ze=Vr.encryptor(Ne,0));var Ze={};X===!0&&(X=["FlateEncode"]);var mt=B.additionalKeyValues||[],bt=(Ze=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(F,X):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(Ze.data.length!==0&&(mt.push({key:"Length",value:Ze.data.length}),se===!0&&mt.push({key:"Length1",value:Be})),bt.length!=0)if(bt.split("/").length-1==1)mt.push({key:"Filter",value:bt});else{mt.push({key:"Filter",value:"["+bt+"]"});for(var Mt=0;Mt<mt.length;Mt+=1)if(mt[Mt].key==="DecodeParms"){for(var Ur=[],rn=0;rn<Ze.reverseChain.split("/").length-1;rn+=1)Ur.push("null");Ur.push(mt[Mt].value),mt[Mt].value="["+Ur.join(" ")+"]"}}$("<<");for(var fr=0;fr<mt.length;fr++)$("/"+mt[fr].key+" "+mt[fr].value);$(">>"),Ze.data.length!==0&&($("stream"),$(ze(Ze.data)),$("endstream"))},mA=f.__private__.putPage=function(B){var F=B.number,X=B.data,ee=B.objId,se=B.contentsObjId;Nn(ee,!0),$("<</Type /Page"),$("/Parent "+B.rootDictionaryObjId+" 0 R"),$("/Resources "+B.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(D(B.mediaBox.bottomLeftX))+" "+parseFloat(D(B.mediaBox.bottomLeftY))+" "+D(B.mediaBox.topRightX)+" "+D(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&$("/CropBox ["+D(B.cropBox.bottomLeftX)+" "+D(B.cropBox.bottomLeftY)+" "+D(B.cropBox.topRightX)+" "+D(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&$("/BleedBox ["+D(B.bleedBox.bottomLeftX)+" "+D(B.bleedBox.bottomLeftY)+" "+D(B.bleedBox.topRightX)+" "+D(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&$("/TrimBox ["+D(B.trimBox.bottomLeftX)+" "+D(B.trimBox.bottomLeftY)+" "+D(B.trimBox.topRightX)+" "+D(B.trimBox.topRightY)+"]"),B.artBox!==null&&$("/ArtBox ["+D(B.artBox.bottomLeftX)+" "+D(B.artBox.bottomLeftY)+" "+D(B.artBox.topRightX)+" "+D(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&$("/UserUnit "+B.userUnit),$t.publish("putPage",{objId:ee,pageContext:yt[F],pageNumber:F,page:X}),$("/Contents "+se+" 0 R"),$(">>"),$("endobj");var Be=X.join(`
`);return _===x&&(Be+=`
Q`),Nn(se,!0),ea({data:Be,filters:Ca(),objectId:se}),$("endobj"),ee},eo=f.__private__.putPages=function(){var B,F,X=[];for(B=1;B<=Ar;B++)yt[B].objId=bn(),yt[B].contentsObjId=bn();for(B=1;B<=Ar;B++)X.push(mA({number:B,data:Se[B],objId:yt[B].objId,contentsObjId:yt[B].contentsObjId,mediaBox:yt[B].mediaBox,cropBox:yt[B].cropBox,bleedBox:yt[B].bleedBox,trimBox:yt[B].trimBox,artBox:yt[B].artBox,userUnit:yt[B].userUnit,rootDictionaryObjId:ls,resourceDictionaryObjId:Ba}));Nn(ls,!0),$("<</Type /Pages");var ee="/Kids [";for(F=0;F<Ar;F++)ee+=X[F]+" 0 R ";$(ee+"]"),$("/Count "+Ar),$(">>"),$("endobj"),$t.publish("postPutPages")},wA=function(B){$t.publish("putFont",{font:B,out:$,newObject:Qr,putStream:ea}),B.isAlreadyPutted!==!0&&(B.objectNumber=Qr(),$("<<"),$("/Type /Font"),$("/BaseFont /"+sc(B.postScriptName)),$("/Subtype /Type1"),typeof B.encoding=="string"&&$("/Encoding /"+B.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},El=function(B){B.objectNumber=Qr();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[D(B.x),D(B.y),D(B.x+B.width),D(B.y+B.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var X=B.pages[1].join(`
`);ea({data:X,additionalKeyValues:F,objectId:B.objectNumber}),$("endobj")},Sl=function(B,F){F||(F=21);var X=Qr(),ee=function(Ne,ze){var Ze,mt=[],bt=1/(ze-1);for(Ze=0;Ze<1;Ze+=bt)mt.push(Ze);if(mt.push(1),Ne[0].offset!=0){var Mt={offset:0,color:Ne[0].color};Ne.unshift(Mt)}if(Ne[Ne.length-1].offset!=1){var Ur={offset:1,color:Ne[Ne.length-1].color};Ne.push(Ur)}for(var rn="",fr=0,ln=0;ln<mt.length;ln++){for(Ze=mt[ln];Ze>Ne[fr+1].offset;)fr++;var nn=Ne[fr].offset,Un=(Ze-nn)/(Ne[fr+1].offset-nn),ra=Ne[fr].color,pi=Ne[fr+1].color;rn+=Z(Math.round((1-Un)*ra[0]+Un*pi[0]).toString(16))+Z(Math.round((1-Un)*ra[1]+Un*pi[1]).toString(16))+Z(Math.round((1-Un)*ra[2]+Un*pi[2]).toString(16))}return rn.trim()}(B.colors,F),se=[];se.push({key:"FunctionType",value:"0"}),se.push({key:"Domain",value:"[0.0 1.0]"}),se.push({key:"Size",value:"["+F+"]"}),se.push({key:"BitsPerSample",value:"8"}),se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ea({data:ee,additionalKeyValues:se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),$("endobj"),B.objectNumber=Qr(),$("<< /ShadingType "+B.type),$("/ColorSpace /DeviceRGB");var Be="/Coords ["+D(parseFloat(B.coords[0]))+" "+D(parseFloat(B.coords[1]))+" ";B.type===2?Be+=D(parseFloat(B.coords[2]))+" "+D(parseFloat(B.coords[3])):Be+=D(parseFloat(B.coords[2]))+" "+D(parseFloat(B.coords[3]))+" "+D(parseFloat(B.coords[4]))+" "+D(parseFloat(B.coords[5])),$(Be+="]"),B.matrix&&$("/Matrix ["+B.matrix.toString()+"]"),$("/Function "+X+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},Il=function(B,F){var X=bn(),ee=Qr();F.push({resourcesOid:X,objectOid:ee}),B.objectNumber=ee;var se=[];se.push({key:"Type",value:"/Pattern"}),se.push({key:"PatternType",value:"1"}),se.push({key:"PaintType",value:"1"}),se.push({key:"TilingType",value:"1"}),se.push({key:"BBox",value:"["+B.boundingBox.map(D).join(" ")+"]"}),se.push({key:"XStep",value:D(B.xStep)}),se.push({key:"YStep",value:D(B.yStep)}),se.push({key:"Resources",value:X+" 0 R"}),B.matrix&&se.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),ea({data:B.stream,additionalKeyValues:se,objectId:B.objectNumber}),$("endobj")},Ip=function(B){for(var F in B.objectNumber=Qr(),$("<<"),B)switch(F){case"opacity":$("/ca "+S(B[F]));break;case"stroke-opacity":$("/CA "+S(B[F]))}$(">>"),$("endobj")},Au=function(B){Nn(B.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var F in $("/Font <<"),Oe)Oe.hasOwnProperty(F)&&(u===!1||u===!0&&h.hasOwnProperty(F))&&$("/"+F+" "+Oe[F].objectNumber+" 0 R");$(">>")}(),function(){if(Object.keys(ke).length>0){for(var F in $("/Shading <<"),ke)ke.hasOwnProperty(F)&&ke[F]instanceof el&&ke[F].objectNumber>=0&&$("/"+F+" "+ke[F].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),$(">>")}}(),function(F){if(Object.keys(ke).length>0){for(var X in $("/Pattern <<"),ke)ke.hasOwnProperty(X)&&ke[X]instanceof f.TilingPattern&&ke[X].objectNumber>=0&&ke[X].objectNumber<F&&$("/"+X+" "+ke[X].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),$(">>")}}(B.objectOid),function(){if(Object.keys(ct).length>0){var F;for(F in $("/ExtGState <<"),ct)ct.hasOwnProperty(F)&&ct[F].objectNumber>=0&&$("/"+F+" "+ct[F].objectNumber+" 0 R");$t.publish("putGStateDict"),$(">>")}}(),function(){for(var F in $("/XObject <<"),$n)$n.hasOwnProperty(F)&&$n[F].objectNumber>=0&&$("/"+F+" "+$n[F].objectNumber+" 0 R");$t.publish("putXobjectDict"),$(">>")}(),$(">>"),$("endobj")},Cd=function(B){ot[B.fontName]=ot[B.fontName]||{},ot[B.fontName][B.fontStyle]=B.id},_d=function(B,F,X,ee,se){var Be={id:"F"+(Object.keys(Oe).length+1).toString(10),postScriptName:B,fontName:F,fontStyle:X,encoding:ee,isStandardFont:se||!1,metadata:{}};return $t.publish("addFont",{font:Be,instance:this}),Oe[Be.id]=Be,Cd(Be),Be.id},ta=f.__private__.pdfEscape=f.pdfEscape=function(B,F){return function(X,ee){var se,Be,Ne,ze,Ze,mt,bt,Mt,Ur;if(Ne=(ee=ee||{}).sourceEncoding||"Unicode",Ze=ee.outputEncoding,(ee.autoencode||Ze)&&Oe[it].metadata&&Oe[it].metadata[Ne]&&Oe[it].metadata[Ne].encoding&&(ze=Oe[it].metadata[Ne].encoding,!Ze&&Oe[it].encoding&&(Ze=Oe[it].encoding),!Ze&&ze.codePages&&(Ze=ze.codePages[0]),typeof Ze=="string"&&(Ze=ze[Ze]),Ze)){for(bt=!1,mt=[],se=0,Be=X.length;se<Be;se++)(Mt=Ze[X.charCodeAt(se)])?mt.push(String.fromCharCode(Mt)):mt.push(X[se]),mt[se].charCodeAt(0)>>8&&(bt=!0);X=mt.join("")}for(se=X.length;bt===void 0&&se!==0;)X.charCodeAt(se-1)>>8&&(bt=!0),se--;if(!bt)return X;for(mt=ee.noBOM?[]:[254,255],se=0,Be=X.length;se<Be;se++){if((Ur=(Mt=X.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(Ur),mt.push(Mt-(Ur<<8))}return String.fromCharCode.apply(void 0,mt)}(B,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lu=f.__private__.beginPage=function(B){Se[++Ar]=[],yt[Ar]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Sd(Ar),he(Se[W])},Ed=function(B,F){var X,ee,se;switch(r=F||r,typeof B=="string"&&(X=m(B.toLowerCase()),Array.isArray(X)&&(ee=X[0],se=X[1])),Array.isArray(B)&&(ee=B[0]*ft,se=B[1]*ft),isNaN(ee)&&(ee=i[0],se=i[1]),(ee>14400||se>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),se=Math.min(14400,se)),i=[ee,se],r.substr(0,1)){case"l":se>ee&&(i=[se,ee]);break;case"p":ee>se&&(i=[se,ee])}lu(i),Pp(hu),$(Nl),gu!==0&&$(gu+" J"),vu!==0&&$(vu+" j"),$t.publish("addPage",{pageNumber:Ar})},cu=function(B){B>0&&B<=Ar&&(Se.splice(B,1),yt.splice(B,1),Ar--,W>Ar&&(W=Ar),this.setPage(W))},Sd=function(B){B>0&&B<=Ar&&(W=B)},Id=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Se.length-1},Fd=function(B,F,X){var ee,se=void 0;return X=X||{},B=B!==void 0?B:Oe[it].fontName,F=F!==void 0?F:Oe[it].fontStyle,ee=B.toLowerCase(),ot[ee]!==void 0&&ot[ee][F]!==void 0?se=ot[ee][F]:ot[B]!==void 0&&ot[B][F]!==void 0?se=ot[B][F]:X.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+B+"', '"+F+"'. Refer to getFontList() for available fonts."),se||X.noFallback||(se=ot.times[F])==null&&(se=ot.times.normal),se},Fl=f.__private__.putInfo=function(){var B=Qr(),F=function(ee){return ee};for(var X in c!==null&&(F=Vr.encryptor(B,0)),$("<<"),$("/Producer ("+ta(F("jsPDF "+tt.version))+")"),gt)gt.hasOwnProperty(X)&&gt[X]&&$("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+ta(F(gt[X]))+")");$("/CreationDate ("+ta(F(ie))+")"),$(">>"),$("endobj")},Fp=f.__private__.putCatalog=function(B){var F=(B=B||{}).rootDictionaryObjId||ls;switch(Qr(),$("<<"),$("/Type /Catalog"),$("/Pages "+F+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+Me;X.substr(X.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&$("/OpenAction [3 0 R /XYZ null null "+S(Me)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}nt&&$("/PageMode /"+nt),$t.publish("putCatalog"),$(">>"),$("endobj")},tn=f.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(te+1)),$("/Root "+te+" 0 R"),$("/Info "+(te-1)+" 0 R"),c!==null&&$("/Encrypt "+Vr.oid+" 0 R"),$("/ID [ <"+le+"> <"+le+"> ]"),$(">>")},Nd=f.__private__.putHeader=function(){$("%PDF-"+g),$("%")},Ud=f.__private__.putXRef=function(){var B="0000000000";$("xref"),$("0 "+(te+1)),$("0000000000 65535 f ");for(var F=1;F<=te;F++)typeof oe[F]=="function"?$((B+oe[F]()).slice(-10)+" 00000 n "):oe[F]!==void 0?$((B+oe[F]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},Fo=f.__private__.buildDocument=function(){var B;te=0,ge=0,me=[],oe=[],we=[],ls=bn(),Ba=bn(),he(me),$t.publish("buildDocument"),Nd(),eo(),function(){$t.publish("putAdditionalObjects");for(var X=0;X<we.length;X++){var ee=we[X];Nn(ee.objId,!0),$(ee.content),$("endobj")}$t.publish("postPutAdditionalObjects")}(),B=[],function(){for(var X in Oe)Oe.hasOwnProperty(X)&&(u===!1||u===!0&&h.hasOwnProperty(X))&&wA(Oe[X])}(),function(){var X;for(X in ct)ct.hasOwnProperty(X)&&Ip(ct[X])}(),function(){for(var X in $n)$n.hasOwnProperty(X)&&El($n[X])}(),function(X){var ee;for(ee in ke)ke.hasOwnProperty(ee)&&(ke[ee]instanceof el?Sl(ke[ee]):ke[ee]instanceof Bc&&Il(ke[ee],X))}(B),$t.publish("putResources"),B.forEach(Au),Au({resourcesOid:Ba,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources"),c!==null&&(Vr.oid=Qr(),$("<<"),$("/Filter /Standard"),$("/V "+Vr.v),$("/R "+Vr.r),$("/U <"+Vr.toHexString(Vr.U)+">"),$("/O <"+Vr.toHexString(Vr.O)+">"),$("/P "+Vr.P),$(">>"),$("endobj")),Fl(),Fp();var F=ge;return Ud(),tn(),$("startxref"),$(""+F),$("%%EOF"),he(Se[W]),me.join(`
`)},yA=f.__private__.getBlob=function(B){return new Blob([We(B)],{type:"application/pdf"})},_a=f.output=f.__private__.output=(Zi=function(B,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",B){case void 0:return Fo();case"save":f.save(F.filename);break;case"arraybuffer":return We(Fo());case"blob":return yA(Fo());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(yA(Fo()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",ee=Fo();try{X=W4(ee)}catch{X=W4(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+F.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(se=F.pdfObjectUrl,Be="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+se+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",ze=vt.open();return ze!==null&&ze.document.write(Ne),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',mt=vt.open();if(mt!==null){mt.document.write(Ze);var bt=this;mt.document.documentElement.querySelector("#pdfViewer").onload=function(){mt.document.title=F.filename,mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',Ur=vt.open();if(Ur!==null&&(Ur.document.write(Mt),Ur.document.title=F.filename),Ur||typeof safari>"u")return Ur;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",F);default:return null}},Zi.foo=function(){try{return Zi.apply(this,arguments)}catch(X){var B=X.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var F="Error in function "+B.split(`
`)[0].split("<")[0]+": "+X.message;if(!vt.console)throw new Error(F);vt.console.error(F,X),vt.alert&&alert(F)}},Zi.foo.bar=Zi,Zi.foo),xA=function(B){return Array.isArray(gA)===!0&&gA.indexOf(B)>-1};switch(n){case"pt":ft=1;break;case"mm":ft=72/25.4;break;case"cm":ft=72/2.54;break;case"in":ft=72;break;case"px":ft=xA("px_scaling")==1?.75:96/72;break;case"pc":case"em":ft=12;break;case"ex":ft=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ft=n}var Vr=null;pe(),J();var uu=f.__private__.getPageInfo=f.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[B].objId,pageNumber:B,pageContext:yt[B]}},Np=f.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in yt)if(yt[F].objId===B)break;return uu(F)},Up=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:yt[W].objId,pageNumber:W,pageContext:yt[W]}};f.addPage=function(){return Ed.apply(this,arguments),this},f.setPage=function(){return Sd.apply(this,arguments),he.call(this,Se[W]),this},f.insertPage=function(B){return this.addPage(),this.movePage(W,B),this},f.movePage=function(B,F){var X,ee;if(B>F){X=Se[B],ee=yt[B];for(var se=B;se>F;se--)Se[se]=Se[se-1],yt[se]=yt[se-1];Se[F]=X,yt[F]=ee,this.setPage(F)}else if(B<F){X=Se[B],ee=yt[B];for(var Be=B;Be<F;Be++)Se[Be]=Se[Be+1],yt[Be]=yt[Be+1];Se[F]=X,yt[F]=ee,this.setPage(F)}return this},f.deletePage=function(){return cu.apply(this,arguments),this},f.__private__.text=f.text=function(B,F,X,ee,se){var Be,Ne,ze,Ze,mt,bt,Mt,Ur,rn,fr=(ee=ee||{}).scope||this;if(typeof B=="number"&&typeof F=="number"&&(typeof X=="string"||Array.isArray(X))){var ln=X;X=F,F=B,B=ln}if(arguments[3]instanceof ut==0?(ze=arguments[4],Ze=arguments[5],tr(Mt=arguments[3])==="object"&&Mt!==null||(typeof ze=="string"&&(Ze=ze,ze=null),typeof Mt=="string"&&(Ze=Mt,Mt=null),typeof Mt=="number"&&(ze=Mt,Mt=null),ee={flags:Mt,angle:ze,align:Ze})):(T("The transform parameter of text() with a Matrix value"),rn=se),isNaN(F)||isNaN(X)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return fr;var nn,Un="",ra=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:bA,pi=fr.internal.scaleFactor;function Rd(Wt){return Wt=Wt.split("	").join(Array(ee.TabLen||9).join(" ")),ta(Wt,Mt)}function Ol(Wt){for(var lr,$r=Wt.concat(),cn=[],Do=$r.length;Do--;)typeof(lr=$r.shift())=="string"?cn.push(lr):Array.isArray(Wt)&&(lr.length===1||lr[1]===void 0&&lr[2]===void 0)?cn.push(lr[0]):cn.push([lr[0],lr[1],lr[2]]);return cn}function FA(Wt,lr){var $r;if(typeof Wt=="string")$r=lr(Wt)[0];else if(Array.isArray(Wt)){for(var cn,Do,Fu=Wt.concat(),Pl=[],Hd=Fu.length;Hd--;)typeof(cn=Fu.shift())=="string"?Pl.push(lr(cn)[0]):Array.isArray(cn)&&typeof cn[0]=="string"&&(Do=lr(cn[0],cn[1],cn[2]),Pl.push([Do[0],Do[1],Do[2]]));$r=Pl}return $r}var fs=!1,NA=!0;if(typeof B=="string")fs=!0;else if(Array.isArray(B)){var UA=B.concat();Ne=[];for(var TA,Wn=UA.length;Wn--;)(typeof(TA=UA.shift())!="string"||Array.isArray(TA)&&typeof TA[0]!="string")&&(NA=!1);fs=NA}if(fs===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var LA=Ee/fr.internal.scaleFactor,OA=LA*(ra-1);switch(ee.baseline){case"bottom":X-=OA;break;case"top":X+=LA-OA;break;case"hanging":X+=LA-2*OA;break;case"middle":X+=LA/2-OA}if((bt=ee.maxWidth||0)>0&&(typeof B=="string"?B=fr.splitTextToSize(B,bt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(Wt,lr){return Wt.concat(fr.splitTextToSize(lr,bt))},[]))),Be={text:B,x:F,y:X,options:ee,mutex:{pdfEscape:ta,activeFontKey:it,fonts:Oe,activeFontSize:Ee}},$t.publish("preProcessText",Be),B=Be.text,ze=(ee=Be.options).angle,rn instanceof ut==0&&ze&&typeof ze=="number"){ze*=Math.PI/180,ee.rotationDirection===0&&(ze=-ze),_===x&&(ze=-ze);var yu=Math.cos(ze),xu=Math.sin(ze);rn=new ut(yu,xu,-xu,yu,0,0)}else ze&&ze instanceof ut&&(rn=ze);_!==x||rn||(rn=Io),(mt=ee.charSpace||Tl)!==void 0&&(Un+=D(j(mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ur=ee.horizontalScale)!==void 0&&(Un+=D(100*Ur)+` Tz
`),ee.lang;var Rr=-1,Oo=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,kl=fr.internal.getCurrentPageInfo().pageContext;switch(Oo){case 0:case!1:case"fill":Rr=0;break;case 1:case!0:case"stroke":Rr=1;break;case 2:case"fillThenStroke":Rr=2;break;case 3:case"invisible":Rr=3;break;case 4:case"fillAndAddForClipping":Rr=4;break;case 5:case"strokeAndAddPathForClipping":Rr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rr=6;break;case 7:case"addToPathForClipping":Rr=7}var jd=kl.usedRenderingMode!==void 0?kl.usedRenderingMode:-1;Rr!==-1?Un+=Rr+` Tr
`:jd!==-1&&(Un+=`0 Tr
`),Rr!==-1&&(kl.usedRenderingMode=Rr),Ze=ee.align||"left";var na,kA=Ee*ra,Bu=fr.internal.pageSize.getWidth(),bu=Oe[it];mt=ee.charSpace||Tl,bt=ee.maxWidth||0,Mt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var ds=[],DA=function(Wt){return fr.getStringUnitWidth(Wt,{font:bu,charSpace:mt,fontSize:Ee,doKerning:!1})*Ee/pi};if(Object.prototype.toString.call(B)==="[object Array]"){var Ui;Ne=Ol(B),Ze!=="left"&&(na=Ne.map(DA));var Ti,hs=0;if(Ze==="right"){F-=na[0],B=[],Wn=Ne.length;for(var ko=0;ko<Wn;ko++)ko===0?(Ti=No(F),Ui=Uo(X)):(Ti=j(hs-na[ko]),Ui=-kA),B.push([Ne[ko],Ti,Ui]),hs=na[ko]}else if(Ze==="center"){F-=na[0]/2,B=[],Wn=Ne.length;for(var ps=0;ps<Wn;ps++)ps===0?(Ti=No(F),Ui=Uo(X)):(Ti=j((hs-na[ps])/2),Ui=-kA),B.push([Ne[ps],Ti,Ui]),hs=na[ps]}else if(Ze==="left"){B=[],Wn=Ne.length;for(var Cu=0;Cu<Wn;Cu++)B.push(Ne[Cu])}else if(Ze==="justify"&&bu.encoding==="Identity-H"){B=[],Wn=Ne.length,bt=bt!==0?bt:Bu;for(var Dl=0,Gr=0;Gr<Wn;Gr++)if(Ui=Gr===0?Uo(X):-kA,Ti=Gr===0?No(F):Dl,Gr<Wn-1){var Md=j((bt-na[Gr])/(Ne[Gr].split(" ").length-1)),ro=Ne[Gr].split(" ");B.push([ro[0]+" ",Ti,Ui]),Dl=0;for(var no=1;no<ro.length;no++){var _u=(DA(ro[no-1]+" "+ro[no])-DA(ro[no]))*pi+Md;no==ro.length-1?B.push([ro[no],_u,0]):B.push([ro[no]+" ",_u,0]),Dl-=_u}}else B.push([Ne[Gr],Ti,Ui]);B.push(["",Dl,0])}else{if(Ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],Wn=Ne.length,bt=bt!==0?bt:Bu,Gr=0;Gr<Wn;Gr++){Ui=Gr===0?Uo(X):-kA,Ti=Gr===0?No(F):0;var Eu=Ne[Gr].split(" ").length-1,Su=Eu>0?(bt-na[Gr])/Eu:0;Gr<Wn-1?ds.push(D(j(Su))):ds.push(0),B.push([Ne[Gr],Ti,Ui])}}}(typeof ee.R2L=="boolean"?ee.R2L:Bt)===!0&&(B=FA(B,function(Wt,lr,$r){return[Wt.split("").reverse().join(""),lr,$r]})),Be={text:B,x:F,y:X,options:ee,mutex:{pdfEscape:ta,activeFontKey:it,fonts:Oe,activeFontSize:Ee}},$t.publish("postProcessText",Be),B=Be.text,nn=Be.mutex.isHex||!1;var Iu=Oe[it].encoding;Iu!=="WinAnsiEncoding"&&Iu!=="StandardEncoding"||(B=FA(B,function(Wt,lr,$r){return[Rd(Wt),lr,$r]})),Ne=Ol(B),B=[];for(var gs,vs,ms,PA=Array.isArray(Ne[0])?1:0,ws="",QA=function(Wt,lr,$r){var cn="";return $r instanceof ut?($r=typeof ee.angle=="number"?So($r,new ut(1,0,0,1,Wt,lr)):So(new ut(1,0,0,1,Wt,lr),$r),_===x&&($r=So(new ut(1,0,0,-1,0,0),$r)),cn=$r.join(" ")+` Tm
`):cn=D(Wt)+" "+D(lr)+` Td
`,cn},ia=0;ia<Ne.length;ia++){switch(ws="",PA){case 1:ms=(nn?"<":"(")+Ne[ia][0]+(nn?">":")"),gs=parseFloat(Ne[ia][1]),vs=parseFloat(Ne[ia][2]);break;case 0:ms=(nn?"<":"(")+Ne[ia]+(nn?">":")"),gs=No(F),vs=Uo(X)}ds!==void 0&&ds[ia]!==void 0&&(ws=ds[ia]+` Tw
`),ia===0?B.push(ws+QA(gs,vs,rn)+ms):PA===0?B.push(ws+ms):PA===1&&B.push(ws+QA(gs,vs,rn)+ms)}B=PA===0?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var io=`BT
/`;return io+=it+" "+Ee+` Tf
`,io+=D(Ee*ra)+` TL
`,io+=CA+`
`,io+=Un,io+=B,$(io+="ET"),h[it]=!0,fr};var Tp=f.__private__.clip=f.clip=function(B){return $(B==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Tp("evenodd")},f.__private__.discardPath=f.discardPath=function(){return $("n"),this};var to=f.__private__.isValidStyle=function(B){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(F=!0),F};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(B){return to(B)&&(l=B),this};var Td=f.__private__.getStyle=f.getStyle=function(B){var F=l;switch(B){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=B}return F},Ld=f.close=function(){return $("h"),this};f.stroke=function(){return $("S"),this},f.fill=function(B){return cs("f",B),this},f.fillEvenOdd=function(B){return cs("f*",B),this},f.fillStroke=function(B){return cs("B",B),this},f.fillStrokeEvenOdd=function(B){return cs("B*",B),this};var cs=function(B,F){tr(F)==="object"?Op(F,B):$(B)},fu=function(B){B===null||_===x&&B===void 0||(B=Td(B),$(B))};function Lp(B,F,X,ee,se){var Be=new Bc(F||this.boundingBox,X||this.xStep,ee||this.yStep,this.gState,se||this.matrix);Be.stream=this.stream;var Ne=B+"$$"+this.cloneIndex+++"$$";return Ji(Ne,Be),Be}var Op=function(B,F){var X=ht[B.key],ee=ke[X];if(ee instanceof el)$("q"),$(kp(F)),ee.gState&&f.setGState(ee.gState),$(B.matrix.toString()+" cm"),$("/"+X+" sh"),$("Q");else if(ee instanceof Bc){var se=new ut(1,0,0,-1,0,IA());B.matrix&&(se=se.multiply(B.matrix||Io),X=Lp.call(ee,B.key,B.boundingBox,B.xStep,B.yStep,se).id),$("q"),$("/Pattern cs"),$("/"+X+" scn"),ee.gState&&f.setGState(ee.gState),$(F),$("Q")}},kp=function(B){switch(B){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},du=f.moveTo=function(B,F){return $(D(j(B))+" "+D(V(F))+" m"),this},BA=f.lineTo=function(B,F){return $(D(j(B))+" "+D(V(F))+" l"),this},us=f.curveTo=function(B,F,X,ee,se,Be){return $([D(j(B)),D(V(F)),D(j(X)),D(V(ee)),D(j(se)),D(V(Be)),"c"].join(" ")),this};f.__private__.line=f.line=function(B,F,X,ee,se){if(isNaN(B)||isNaN(F)||isNaN(X)||isNaN(ee)||!to(se))throw new Error("Invalid arguments passed to jsPDF.line");return _===w?this.lines([[X-B,ee-F]],B,F,[1,1],se||"S"):this.lines([[X-B,ee-F]],B,F,[1,1]).stroke()},f.__private__.lines=f.lines=function(B,F,X,ee,se,Be){var Ne,ze,Ze,mt,bt,Mt,Ur,rn,fr,ln,nn,Un;if(typeof B=="number"&&(Un=X,X=F,F=B,B=Un),ee=ee||[1,1],Be=Be||!1,isNaN(F)||isNaN(X)||!Array.isArray(B)||!Array.isArray(ee)||!to(se)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(du(F,X),Ne=ee[0],ze=ee[1],mt=B.length,ln=F,nn=X,Ze=0;Ze<mt;Ze++)(bt=B[Ze]).length===2?(ln=bt[0]*Ne+ln,nn=bt[1]*ze+nn,BA(ln,nn)):(Mt=bt[0]*Ne+ln,Ur=bt[1]*ze+nn,rn=bt[2]*Ne+ln,fr=bt[3]*ze+nn,ln=bt[4]*Ne+ln,nn=bt[5]*ze+nn,us(Mt,Ur,rn,fr,ln,nn));return Be&&Ld(),fu(se),this},f.path=function(B){for(var F=0;F<B.length;F++){var X=B[F],ee=X.c;switch(X.op){case"m":du(ee[0],ee[1]);break;case"l":BA(ee[0],ee[1]);break;case"c":us.apply(this,ee);break;case"h":Ld()}}return this},f.__private__.rect=f.rect=function(B,F,X,ee,se){if(isNaN(B)||isNaN(F)||isNaN(X)||isNaN(ee)||!to(se))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w&&(ee=-ee),$([D(j(B)),D(V(F)),D(j(X)),D(j(ee)),"re"].join(" ")),fu(se),this},f.__private__.triangle=f.triangle=function(B,F,X,ee,se,Be,Ne){if(isNaN(B)||isNaN(F)||isNaN(X)||isNaN(ee)||isNaN(se)||isNaN(Be)||!to(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-B,ee-F],[se-X,Be-ee],[B-se,F-Be]],B,F,[1,1],Ne,!0),this},f.__private__.roundedRect=f.roundedRect=function(B,F,X,ee,se,Be,Ne){if(isNaN(B)||isNaN(F)||isNaN(X)||isNaN(ee)||isNaN(se)||isNaN(Be)||!to(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return se=Math.min(se,.5*X),Be=Math.min(Be,.5*ee),this.lines([[X-2*se,0],[se*ze,0,se,Be-Be*ze,se,Be],[0,ee-2*Be],[0,Be*ze,-se*ze,Be,-se,Be],[2*se-X,0],[-se*ze,0,-se,-Be*ze,-se,-Be],[0,2*Be-ee],[0,-Be*ze,se*ze,-Be,se,-Be]],B+se,F,[1,1],Ne,!0),this},f.__private__.ellipse=f.ellipse=function(B,F,X,ee,se){if(isNaN(B)||isNaN(F)||isNaN(X)||isNaN(ee)||!to(se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*X,Ne=4/3*(Math.SQRT2-1)*ee;return du(B+X,F),us(B+X,F-Ne,B+Be,F-ee,B,F-ee),us(B-Be,F-ee,B-X,F-Ne,B-X,F),us(B-X,F+Ne,B-Be,F+ee,B,F+ee),us(B+Be,F+ee,B+X,F+Ne,B+X,F),fu(se),this},f.__private__.circle=f.circle=function(B,F,X,ee){if(isNaN(B)||isNaN(F)||isNaN(X)||!to(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,F,X,X,ee)},f.setFont=function(B,F,X){return X&&(F=U(F,X)),it=Fd(B,F,{disableWarning:!1}),this};var Dp=f.__private__.getFont=f.getFont=function(){return Oe[Fd.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var B,F,X={};for(B in ot)if(ot.hasOwnProperty(B))for(F in X[B]=[],ot[B])ot[B].hasOwnProperty(F)&&X[B].push(F);return X},f.addFont=function(B,F,X,ee,se){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?se=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(X=U(X,ee)),_d.call(this,B,F,X,se=se||"Identity-H")};var bA,hu=t.lineWidth||.200025,xt=f.__private__.getLineWidth=f.getLineWidth=function(){return hu},Pp=f.__private__.setLineWidth=f.setLineWidth=function(B){return hu=B,$(D(j(B))+" w"),this};f.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(B,F){if(B=B||[],F=F||0,isNaN(F)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(X){return D(j(X))}).join(" "),F=D(j(F)),$("["+B+"] "+F+" d"),this};var Qp=f.__private__.getLineHeight=f.getLineHeight=function(){return Ee*bA};f.__private__.getLineHeight=f.getLineHeight=function(){return Ee*bA};var Rp=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(bA=B),this},jp=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return bA};Rp(t.lineHeight);var No=f.__private__.getHorizontalCoordinate=function(B){return j(B)},Uo=f.__private__.getVerticalCoordinate=function(B){return _===x?B:yt[W].mediaBox.topRightY-yt[W].mediaBox.bottomLeftY-j(B)},Mp=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(B){return D(No(B))},Hp=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(B){return D(Uo(B))},Nl=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Za(Nl)},f.__private__.setStrokeColor=f.setDrawColor=function(B,F,X,ee){return Nl=ba({ch1:B,ch2:F,ch3:X,ch4:ee,pdfColorType:"draw",precision:2}),$(Nl),this};var pu=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Za(pu)},f.__private__.setFillColor=f.setFillColor=function(B,F,X,ee){return pu=ba({ch1:B,ch2:F,ch3:X,ch4:ee,pdfColorType:"fill",precision:2}),$(pu),this};var CA=t.textColor||"0 g",Ul=f.__private__.getTextColor=f.getTextColor=function(){return Za(CA)};f.__private__.setTextColor=f.setTextColor=function(B,F,X,ee){return CA=ba({ch1:B,ch2:F,ch3:X,ch4:ee,pdfColorType:"text",precision:3}),this};var Tl=t.charSpace,Kp=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Tl||0)};f.__private__.setCharSpace=f.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Tl=B,this};var gu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(B){var F=f.CapJoinStyles[B];if(F===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gu=F,$(F+" J"),this};var vu=0;f.__private__.setLineJoin=f.setLineJoin=function(B){var F=f.CapJoinStyles[B];if(F===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vu=F,$(F+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(D(j(B))+" M"),this},f.GState=j1,f.setGState=function(B){(B=typeof B=="string"?ct[sr[B]]:_A(null,B)).equals(An)||($("/"+B.id+" gs"),An=B)};var _A=function(B,F){if(!B||!sr[B]){var X=!1;for(var ee in ct)if(ct.hasOwnProperty(ee)&&ct[ee].equals(F)){X=!0;break}if(X)F=ct[ee];else{var se="GS"+(Object.keys(ct).length+1).toString(10);ct[se]=F,F.id=se}return B&&(sr[B]=F.id),$t.publish("addGState",F),F}};f.addGState=function(B,F){return _A(B,F),this},f.saveGraphicsState=function(){return $("q"),Ut.push({key:it,size:Ee,color:CA}),this},f.restoreGraphicsState=function(){$("Q");var B=Ut.pop();return it=B.key,Ee=B.size,CA=B.color,An=null,this},f.setCurrentTransformationMatrix=function(B){return $(B.toString()+" cm"),this},f.comment=function(B){return $("#"+B),this};var EA=function(B,F){var X=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(Be){isNaN(Be)||(X=parseFloat(Be))}});var ee=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Be){isNaN(Be)||(ee=parseFloat(Be))}});var se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return se},set:function(Be){se=Be.toString()}}),this},mu=function(B,F,X,ee){EA.call(this,B,F),this.type="rect";var se=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return se},set:function(Ne){isNaN(Ne)||(se=parseFloat(Ne))}});var Be=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ne){isNaN(Ne)||(Be=parseFloat(Ne))}}),this},Ll=function(){this.page=Ar,this.currentPage=W,this.pages=Se.slice(0),this.pagesContext=yt.slice(0),this.x=at,this.y=Xt,this.matrix=Ie,this.width=Od(W),this.height=To(W),this.outputDestination=_e,this.id="",this.objectNumber=-1};Ll.prototype.restore=function(){Ar=this.page,W=this.currentPage,yt=this.pagesContext,Se=this.pages,at=this.x,Xt=this.y,Ie=this.matrix,kd(W,this.width),Lo(W,this.height),_e=this.outputDestination};var wu=function(B,F,X,ee,se){Ja.push(new Ll),Ar=W=0,Se=[],at=B,Xt=F,Ie=se,lu([X,ee])};for(var SA in f.beginFormObject=function(B,F,X,ee,se){return wu(B,F,X,ee,se),this},f.endFormObject=function(B){return function(F){if(Eo[F])Ja.pop().restore();else{var X=new Ll,ee="Xo"+(Object.keys($n).length+1).toString(10);X.id=ee,Eo[F]=ee,$n[ee]=X,$t.publish("addFormObject",X),Ja.pop().restore()}}(B),this},f.doFormObject=function(B,F){var X=$n[Eo[B]];return $("q"),$(F.toString()+" cm"),$("/"+X.id+" Do"),$("Q"),this},f.getFormObject=function(B){var F=$n[Eo[B]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},f.save=function(B,F){return B=B||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(qA(yA(Fo()),B),typeof qA.unload=="function"&&vt.setTimeout&&setTimeout(qA.unload,911),this):new Promise(function(X,ee){try{var se=qA(yA(Fo()),B);typeof qA.unload=="function"&&vt.setTimeout&&setTimeout(qA.unload,911),X(se)}catch(Be){ee(Be.message)}})},tt.API)tt.API.hasOwnProperty(SA)&&(SA==="events"&&tt.API.events.length?function(B,F){var X,ee,se;for(se=F.length-1;se!==-1;se--)X=F[se][0],ee=F[se][1],B.subscribe.apply(B,[X].concat(typeof ee=="function"?[ee]:ee))}($t,tt.API.events):f[SA]=tt.API[SA]);function Od(B){return yt[B].mediaBox.topRightX-yt[B].mediaBox.bottomLeftX}function kd(B,F){yt[B].mediaBox.topRightX=F+yt[B].mediaBox.bottomLeftX}function To(B){return yt[B].mediaBox.topRightY-yt[B].mediaBox.bottomLeftY}function Lo(B,F){yt[B].mediaBox.topRightY=F+yt[B].mediaBox.bottomLeftY}var Dd=f.getPageWidth=function(B){return Od(B=B||W)/ft},Pd=f.setPageWidth=function(B,F){kd(B,F*ft)},IA=f.getPageHeight=function(B){return To(B=B||W)/ft},Qd=f.setPageHeight=function(B,F){Lo(B,F*ft)};return f.internal={pdfEscape:ta,getStyle:Td,getFont:Dp,getFontSize:Pe,getCharSpace:Kp,getTextColor:Ul,getLineHeight:Qp,getLineHeightFactor:jp,getLineWidth:xt,write:Je,getHorizontalCoordinate:No,getVerticalCoordinate:Uo,getCoordinateString:Mp,getVerticalCoordinateString:Hp,collections:{},newObject:Qr,newAdditionalObject:vA,newObjectDeferred:bn,newObjectDeferredBegin:Nn,getFilters:Ca,putStream:ea,events:$t,scaleFactor:ft,pageSize:{getWidth:function(){return Dd(W)},setWidth:function(B){Pd(W,B)},getHeight:function(){return IA(W)},setHeight:function(B){Qd(W,B)}},encryptionOptions:c,encryption:Vr,getEncryptor:function(B){return c!==null?Vr.encryptor(B,0):function(F){return F}},output:_a,getNumberOfPages:Id,pages:Se,out:$,f2:S,f3:O,getPageInfo:uu,getPageInfoByObjId:Np,getCurrentPageInfo:Up,getPDFVersion:y,Point:EA,Rectangle:mu,Matrix:ut,hasHotfix:xA},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Dd(W)},set:function(B){Pd(W,B)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return IA(W)},set:function(B){Qd(W,B)},enumerable:!0,configurable:!0}),(function(B){for(var F=0,X=Ve.length;F<X;F++){var ee=_d.call(this,B[F][0],B[F][1],B[F][2],Ve[F][3],!0);u===!1&&(h[ee]=!0);var se=B[F][0].split("-");Cd({id:ee,fontName:se[0],fontStyle:se[1]||""})}$t.publish("addFonts",{fonts:Oe,dictionary:ot})}).call(f,Ve),it="F1",Ed(i,r),$t.publish("initialized"),f}oc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},oc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},oc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},oc.prototype.processOwnerPassword=function(t,e){return _m(Cm(e).substr(0,5),t)},oc.prototype.encryptor=function(t,e){var r=Cm(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return _m(r,n)}},j1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||tr(t)!==tr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},tt.API={events:[]},tt.version="3.0.3";var Hr=tt.API,uy=1,_l=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zl=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ct=function(t){return t.toFixed(2)},Ns=function(t){return t.toFixed(5)};Hr.__acroform__={};var Ii=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Y4=function(t){return t*uy},Ao=function(t){var e=new H8,r=$e.internal.getHeight(t)||0,n=$e.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ct(n)),Number(Ct(r))],e},NH=Hr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},UH=Hr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},TH=Hr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Jr=Hr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TH(t,e-1)},Zr=Hr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NH(t,e-1)},en=Hr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UH(t,e-1)},LH=Hr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],A={};return A.lowerLeft_X=r(i)||0,A.lowerLeft_Y=n(a+s)||0,A.upperRight_X=r(i+o)||0,A.upperRight_Y=n(a)||0,[Number(Ct(A.lowerLeft_X)),Number(Ct(A.lowerLeft_Y)),Number(Ct(A.upperRight_X)),Number(Ct(A.upperRight_Y))]},OH=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Em(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ct(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ao(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Em=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(S){return S.split(`
`)}):i.map(function(S){return[S]});var a=r,o=$e.internal.getHeight(t)||0;o=o<0?-o:o;var s=$e.internal.getWidth(t)||0;s=s<0?-s:s;var A=function(S,O,j){if(S+1<i.length){var V=O+" "+i[S+1][0];return c0(V,t,j).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var l,c,u=c0("3",t,a).height,h=t.multiline?o-a:(o-u)/2,f=h+=2,g=0,y=0,b=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+c0(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var m="",w=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var _=!1;if(i[x].length!==1&&b!==i[x].length-1){if((u+2)*(w+2)+2>o)continue e;m+=i[x][b],_=!0,y=x,x--}else{m=(m+=i[x][b]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var I=parseInt(x),L=A(I,m,a),U=x>=i.length-1;if(L&&!U){m+=" ",b=0;continue}if(L||U){if(U)y=I;else if(t.multiline&&(u+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(u+2)*(w+2)+2>o)continue e;y=I}}for(var D="",T=g;T<=y;T++){var H=i[T];if(t.multiline){if(T===y){D+=H[b]+" ",b=(b+1)%H.length;continue}if(T===g){D+=H[H.length-1]+" ";continue}}D+=H[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,c=c0(D,t,a).width,t.textAlign){case"right":l=s-c-2;break;case"center":l=(s-c)/2;break;default:l=2}e+=Ct(l)+" "+Ct(f)+` Td
`,e+="("+_l(D)+`) Tj
`,e+=-Ct(l)+` 0 Td
`,f=-(a+2),c=0,g=_?y:y+1,w++,m=""}break}return n.text=e,n.fontSize=a,n},c0=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},kH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},DH=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},PH=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xa.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(kH)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");uy=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new K8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&DH(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],A=[],l=s.Rect;if(s.Rect&&(s.Rect=LH(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=$e.createDefaultAppearanceStream(s),tr(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(A=s.getKeyValueListForStream()),s.Rect=l,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=OH(s);A.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var u="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var f=s.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(i,s)),u+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,s)),u+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);u+=">>"}A.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:A,objectId:s.objId}),i.internal.out("endobj")}a&&function(y,b){for(var m in y)if(y.hasOwnProperty(m)){var w=m,x=y[m];b.internal.newObjectDeferredBegin(x.objId,!0),tr(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete y[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},M8=Hr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),tr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+_l(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},S2=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+_l(n(t))+")"},ho=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ho.prototype.toString=function(){return this.objId+" 0 R"},ho.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ho.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:M8(i,this.objId,this.scope)}):i instanceof ho?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var H8=function(){ho.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ii(H8,ho);var K8=function(){ho.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_l(r(t))+")"}},set:function(r){t=r}})};Ii(K8,ho);var Xa=function t(){ho.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jr(e,3)},set:function(m){m?this.F=Zr(e,3):this.F=en(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');r=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof M1)return;a="FieldObject"+t.FieldNum++}var m=function(w){return w};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+_l(m(a))+")"},set:function(m){a=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(m){a=m}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(m){s=m}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(m){A=m}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/uy:l},set:function(m){l=m}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof M1||this instanceof ul))return S2(u,this.objId,this.scope)},set:function(m){m=m.toString(),u=m}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Sn==0?S2(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof Sn==0?m.substr(0,1)==="("?Zl(m.substr(1,m.length-2)):Zl(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sn==1?Zl(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Sn==1?"/"+m:m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Sn==0?S2(f,this.objId,this.scope):f},set:function(m){m=m.toString(),f=this instanceof Sn==0?m.substr(0,1)==="("?Zl(m.substr(1,m.length-2)):Zl(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sn==1?Zl(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Sn==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(m){m=!!m,y=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(m){g=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,1)},set:function(m){m?this.Ff=Zr(this.Ff,1):this.Ff=en(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,2)},set:function(m){m?this.Ff=Zr(this.Ff,2):this.Ff=en(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,3)},set:function(m){m?this.Ff=Zr(this.Ff,3):this.Ff=en(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');b=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(b){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Ii(Xa,ho);var Lc=function(){Xa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return M8(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,s){s||(s=1);for(var A,l=[];A=o.exec(a);)l.push(A[s]);return l}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,18)},set:function(r){r?this.Ff=Zr(this.Ff,18):this.Ff=en(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Zr(this.Ff,19):this.Ff=en(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,20)},set:function(r){r?(this.Ff=Zr(this.Ff,20),e.sort()):this.Ff=en(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,22)},set:function(r){r?this.Ff=Zr(this.Ff,22):this.Ff=en(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(r){r?this.Ff=Zr(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,27)},set:function(r){r?this.Ff=Zr(this.Ff,27):this.Ff=en(this.Ff,27)}}),this.hasAppearanceStream=!1};Ii(Lc,Xa);var Oc=function(){Lc.call(this),this.fontName="helvetica",this.combo=!1};Ii(Oc,Lc);var kc=function(){Oc.call(this),this.combo=!0};Ii(kc,Oc);var R0=function(){kc.call(this),this.edit=!0};Ii(R0,kc);var Sn=function(){Xa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,15)},set:function(r){r?this.Ff=Zr(this.Ff,15):this.Ff=en(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,16)},set:function(r){r?this.Ff=Zr(this.Ff,16):this.Ff=en(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,17)},set:function(r){r?this.Ff=Zr(this.Ff,17):this.Ff=en(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(r){r?this.Ff=Zr(this.Ff,26):this.Ff=en(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+_l(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){tr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ii(Sn,Xa);var j0=function(){Sn.call(this),this.pushButton=!0};Ii(j0,Sn);var Dc=function(){Sn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ii(Dc,Sn);var M1=function(){var t,e;Xa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+_l(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){tr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ii(M1,Xa),Dc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Dc.prototype.createOption=function(t){var e=new M1;return e.Parent=this,e.optionName=t,this.Kids.push(e),QH.call(this.scope,e),e};var M0=function(){Sn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$e.CheckBox.createAppearanceStream()};Ii(M0,Sn);var ul=function(){Xa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,13)},set:function(e){e?this.Ff=Zr(this.Ff,13):this.Ff=en(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,21)},set:function(e){e?this.Ff=Zr(this.Ff,21):this.Ff=en(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(e){e?this.Ff=Zr(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,24)},set:function(e){e?this.Ff=Zr(this.Ff,24):this.Ff=en(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,25)},set:function(e){e?this.Ff=Zr(this.Ff,25):this.Ff=en(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(e){e?this.Ff=Zr(this.Ff,26):this.Ff=en(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ii(ul,Xa);var H0=function(){ul.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,14)},set:function(t){t?this.Ff=Zr(this.Ff,14):this.Ff=en(this.Ff,14)}}),this.password=!0};Ii(H0,ul);var $e={CheckBox:{createAppearanceStream:function(){return{N:{On:$e.CheckBox.YesNormal},D:{On:$e.CheckBox.YesPushDown,Off:$e.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=Em(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ct($e.internal.getWidth(t))+" "+Ct($e.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ct(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ao(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=$e.internal.getHeight(t),o=$e.internal.getWidth(t),s=Em(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ct(o)+" "+Ct(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ct(o-1)+" "+Ct(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ct(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ct($e.internal.getWidth(t))+" "+Ct($e.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Circle.YesNormal,e.D[t]=$e.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=$e.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ns($e.internal.getWidth(t)/2)+" "+Ns($e.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*$e.internal.Bezier_C).toFixed(5)),o=Number((n*$e.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ns($e.internal.getWidth(t)/2)+" "+Ns($e.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ns($e.internal.getWidth(t)/2)+" "+Ns($e.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*$e.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ns($e.internal.getWidth(t)/2)+" "+Ns($e.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Cross.YesNormal,e.D[t]=$e.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ao(t);e.scope=t.scope;var r=[],n=$e.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ct($e.internal.getWidth(t)-2)+" "+Ct($e.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ct(n.x1.x)+" "+Ct(n.x1.y)+" m"),r.push(Ct(n.x2.x)+" "+Ct(n.x2.y)+" l"),r.push(Ct(n.x4.x)+" "+Ct(n.x4.y)+" m"),r.push(Ct(n.x3.x)+" "+Ct(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=$e.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ct($e.internal.getWidth(t))+" "+Ct($e.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ct($e.internal.getWidth(t)-2)+" "+Ct($e.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ct(r.x1.x)+" "+Ct(r.x1.y)+" m"),n.push(Ct(r.x2.x)+" "+Ct(r.x2.y)+" l"),n.push(Ct(r.x4.x)+" "+Ct(r.x4.y)+" m"),n.push(Ct(r.x3.x)+" "+Ct(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ao(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ct($e.internal.getWidth(t))+" "+Ct($e.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};$e.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$e.internal.getWidth(t),r=$e.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},$e.internal.getWidth=function(t){var e=0;return tr(t)==="object"&&(e=Y4(t.Rect[2])),e},$e.internal.getHeight=function(t){var e=0;return tr(t)==="object"&&(e=Y4(t.Rect[3])),e};var QH=Hr.addField=function(t){if(PH(this,t),!(t instanceof Xa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=Lc,Hr.AcroFormListBox=Oc,Hr.AcroFormComboBox=kc,Hr.AcroFormEditBox=R0,Hr.AcroFormButton=Sn,Hr.AcroFormPushButton=j0,Hr.AcroFormRadioButton=Dc,Hr.AcroFormCheckBox=M0,Hr.AcroFormTextField=ul,Hr.AcroFormPasswordField=H0,Hr.AcroFormAppearance=$e,Hr.AcroForm={ChoiceField:Lc,ListBox:Oc,ComboBox:kc,EditBox:R0,Button:Sn,PushButton:j0,RadioButton:Dc,CheckBox:M0,TextField:ul,PasswordField:H0,Appearance:$e},tt.AcroForm={ChoiceField:Lc,ListBox:Oc,ComboBox:kc,EditBox:R0,Button:Sn,PushButton:j0,RadioButton:Dc,CheckBox:M0,TextField:ul,PasswordField:H0,Appearance:$e};tt.AcroForm;function V8(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(S,O){var j,V,ie,le,ce,J=r;if((O=O||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(L(S))for(ce in n)for(ie=n[ce],j=0;j<ie.length;j+=1){for(le=!0,V=0;V<ie[j].length;V+=1)if(ie[j][V]!==void 0&&ie[j][V]!==S[V]){le=!1;break}if(le===!0){J=ce;break}}else for(ce in n)for(ie=n[ce],j=0;j<ie.length;j+=1){for(le=!0,V=0;V<ie[j].length;V+=1)if(ie[j][V]!==void 0&&ie[j][V]!==S.charCodeAt(V)){le=!1;break}if(le===!0){J=ce;break}}return J===r&&O!==r&&(J=O),J},a=function S(O){for(var j=this.internal.write,V=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:O.width}),le.push({key:"Height",value:O.height}),O.colorSpace===m.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===m.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var ce="",J=0,ae=O.transparency.length;J<ae;J++)ce+=O.transparency[J]+" "+O.transparency[J]+" ";le.push({key:"Mask",value:"["+ce+"]"})}O.sMask!==void 0&&le.push({key:"SMask",value:O.objectId+1+" 0 R"});var ve=O.filter!==void 0?["/"+O.filter]:void 0;if(V({data:O.data,additionalKeyValues:le,alreadyAppliedFilters:ve,objectId:O.objectId}),j("endobj"),"sMask"in O&&O.sMask!==void 0){var pe,k=(pe=O.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:O.bitsPerComponent,W={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:O.sMask};"filter"in O&&(W.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(O.width),W.filter=O.filter),S.call(this,W)}if(O.colorSpace===m.INDEXED){var G=this.internal.newObject();V({data:D(new Uint8Array(O.palette)),objectId:G}),j("endobj")}},o=function(){var S=this.internal.collections[e+"images"];for(var O in S)a.call(this,S[O])},s=function(){var S,O=this.internal.collections[e+"images"],j=this.internal.write;for(var V in O)j("/I"+(S=O[V]).index,S.objectId,"0","R")},A=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var S=this.internal.collections[e+"images"];return A.call(this),S},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},u=function(S){return typeof t["process"+S.toUpperCase()]=="function"},h=function(S){return tr(S)==="object"&&S.nodeType===1},f=function(S,O){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var j=""+S.getAttribute("src");if(j.indexOf("data:image/")===0)return Q0(unescape(j).split("base64,").pop());var V=t.loadFile(j,!0);if(V!==void 0)return V}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var ie;switch(O){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return Q0(S.toDataURL(ie,1).split("base64,").pop())}},g=function(S){var O=this.internal.collections[e+"images"];if(O){for(var j in O)if(S===O[j].alias)return O[j]}},y=function(S,O,j){return S||O||(S=-96,O=-96),S<0&&(S=-1*j.width*72/S/this.internal.scaleFactor),O<0&&(O=-1*j.height*72/O/this.internal.scaleFactor),S===0&&(S=O*j.width/j.height),O===0&&(O=S*j.height/j.width),[S,O]},b=function(S,O,j,V,ie,le){var ce=y.call(this,j,V,ie),J=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ve=l.call(this);if(j=ce[0],V=ce[1],ve[ie.index]=ie,le){le*=Math.PI/180;var pe=Math.cos(le),k=Math.sin(le),W=function(Z){return Z.toFixed(4)},G=[W(pe),W(k),W(-1*k),W(pe),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,J(S),ae(O+V),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([J(j),"0","0",J(V),"0","0","cm"].join(" "))):this.internal.write([J(j),"0","0",J(V),J(S),ae(O+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},m=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(S){var O,j,V=0;if(typeof S=="string")for(j=S.length,O=0;O<j;O++)V=(V<<5)-V+S.charCodeAt(O),V|=0;else if(L(S))for(j=S.byteLength/2,O=0;O<j;O++)V=(V<<5)-V+S[O],V|=0;return V},_=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var O=!0;return S.length===0&&(O=!1),S.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(O=!1),O},I=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var O=S.indexOf(",");return O<0?null:S.substring(0,O).trim().endsWith("base64")?S.substring(O+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},U=t.__addimage__.binaryStringToUint8Array=function(S){for(var O=S.length,j=new Uint8Array(O),V=0;V<O;V++)j[V]=S.charCodeAt(V);return j},D=t.__addimage__.arrayBufferToBinaryString=function(S){for(var O="",j=L(S)?S:new Uint8Array(S),V=0;V<j.length;V+=8192)O+=String.fromCharCode.apply(null,j.subarray(V,V+8192));return O};t.addImage=function(){var S,O,j,V,ie,le,ce,J,ae;if(typeof arguments[1]=="number"?(O=r,j=arguments[1],V=arguments[2],ie=arguments[3],le=arguments[4],ce=arguments[5],J=arguments[6],ae=arguments[7]):(O=arguments[1],j=arguments[2],V=arguments[3],ie=arguments[4],le=arguments[5],ce=arguments[6],J=arguments[7],ae=arguments[8]),tr(S=arguments[0])==="object"&&!h(S)&&"imageData"in S){var ve=S;S=ve.imageData,O=ve.format||O||r,j=ve.x||j||0,V=ve.y||V||0,ie=ve.w||ve.width||ie,le=ve.h||ve.height||le,ce=ve.alias||ce,J=ve.compression||J,ae=ve.rotation||ve.angle||ae}var pe=this.internal.getFilters();if(J===void 0&&pe.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(j)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var k=T.call(this,S,O,ce,J);return b.call(this,j,V,ie,le,k,ae),this};var T=function(S,O,j,V){var ie,le,ce;if(typeof S=="string"&&i(S)===r){S=unescape(S);var J=H(S,!1);(J!==""||(J=t.loadFile(S,!0))!==void 0)&&(S=J)}if(h(S)&&(S=f(S,O)),O=i(S,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ce=j)==null||ce.length===0)&&(j=function(ae){return typeof ae=="string"||L(ae)?x(ae):L(ae.data)?x(ae.data):null}(S)),(ie=g.call(this,j))||(S instanceof Uint8Array||O==="RGBA"||(le=S,S=U(S)),ie=this["process"+O.toUpperCase()](S,c.call(this),j,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:w.NONE}(V),le)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},H=t.__addimage__.convertBase64ToBinaryString=function(S,O){O=typeof O!="boolean"||O;var j,V="";if(typeof S=="string"){var ie;j=(ie=I(S))!==null&&ie!==void 0?ie:S;try{V=Q0(j)}catch(le){if(O)throw _(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};t.getImageProperties=function(S){var O,j,V="";if(h(S)&&(S=f(S)),typeof S=="string"&&i(S)===r&&((V=H(S,!1))===""&&(V=t.loadFile(S)||""),S=V),j=i(S),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(S instanceof Uint8Array||(S=U(S)),!(O=this["process"+j.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=j,O}})(tt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(r.objId),l=r.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(y.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+A.objId+" 0 R",a+=" /T ("+f(m(w))+") >>",y.content=a;var x=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var I=this.annotations._nameMap[n.options.name];n.options.pageNumber=I.page,n.options.top=I.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var L=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+L+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var s=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:A(r),y:l(n),w:A(r+i),h:l(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,s,A=this.getTextWidth(r),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(r,s).length;o=Math.ceil(l*c)}else s=A,o=l;return this.text(r,n,i,a),i+=.2*l,a.align==="center"&&(n-=A/2),a.align==="right"&&(n-=A),this.link(n,i-l,s,o,a),A},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},s=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&a(y)&&e[y.charCodeAt(0)].length<=2},A=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&a(y)&&e[y.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&a(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&a(y)&&e[y.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&a(y)&&e[y.charCodeAt(0)].length==4},u=t.__arabicParser__.resolveLigatures=function(y){var b=0,m=r,w="",x=0;for(b=0;b<y.length;b+=1)m[y.charCodeAt(b)]!==void 0?(x++,typeof(m=m[y.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(m),m=r,x=0),b===y.length-1&&(m=r,w+=y.charAt(b-(x-1)),b-=x-1,x=0)):(m=r,w+=y.charAt(b-x),b-=x,x=0);return w};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(y,b,m){return o(y)?a(y)===!1?-1:!l(y)||!o(b)&&!o(m)||!o(m)&&s(b)||s(y)&&!o(b)||s(y)&&A(b)||s(y)&&s(b)?0:c(y)&&o(b)&&!s(b)&&o(m)&&l(m)?3:s(y)||!o(m)?1:2:-1},f=function(y){var b=0,m=0,w=0,x="",_="",I="",L=(y=y||"").split("\\s+"),U=[];for(b=0;b<L.length;b+=1){for(U.push(""),m=0;m<L[b].length;m+=1)x=L[b][m],_=L[b][m-1],I=L[b][m+1],o(x)?(w=h(x,_,I),U[b]+=w!==-1?String.fromCharCode(e[x.charCodeAt(0)][w]):x):U[b]+=x;U[b]=u(U[b])}return U.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(b)){var w=0;for(m=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?m.push([f(b[w][0]),b[w][1],b[w][2]]):m.push([f(b[w])]);y=m}else y=f(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",g])}(tt.API),tt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(tt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(y){A=y}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},t.getTextDimensions=function(A,l){n.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),u=l.font||this.getFont(),h=l.scaleFactor||this.internal.scaleFactor,f=0,g=0,y=0,b=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var m=l.maxWidth;m>0?typeof A=="string"?A=this.splitTextToSize(A,m):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(x,_){return x.concat(b.splitTextToSize(_,m))},[])):A=Array.isArray(A)?A:[A];for(var w=0;w<A.length;w++)f<(y=this.getStringUnitWidth(A[w],{font:u})*c)&&(f=y);return f!==0&&(g=A.length),{w:f/=h,h:Math.max((g*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var A;A=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===A.lineNumber?(A.x=(l.x||0)+(l.width||0),A.y=l.y||0):l.y+l.height+A.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=u.top,f&&h&&(this.printHeaderRow(A.lineNumber,!0),A.y+=h[0].height)):A.y=l.y+l.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,r===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-c,A.y+c,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+c,{align:"center",baseline:"top",maxWidth:A.width-c-c}):this.text(A.text,A.x+c,A.y+c,{align:"left",baseline:"top",maxWidth:A.width-c-c})),this.internal.__cell__.lastCell=A,this};t.table=function(A,l,c,u,h){if(n.call(this),!c)throw new Error("No data for PDF table.");var f,g,y,b,m=[],w=[],x=[],_={},I={},L=[],U=[],D=(h=h||{}).autoSize||!1,T=h.printHeaders!==!1,H=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,S=h.margins||Object.assign({width:this.getPageWidth()},e),O=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=V,this.setFontSize(H),u==null)w=m=Object.keys(c[0]),x=m.map(function(){return"left"});else if(Array.isArray(u)&&tr(u[0])==="object")for(m=u.map(function(ve){return ve.name}),w=u.map(function(ve){return ve.prompt||ve.name||""}),x=u.map(function(ve){return ve.align||"left"}),f=0;f<u.length;f+=1)I[u[f].name]=.7499990551181103*u[f].width;else Array.isArray(u)&&typeof u[0]=="string"&&(w=m=u,x=m.map(function(){return"left"}));if(D||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<m.length;f+=1){for(_[b=m[f]]=c.map(function(ve){return ve[b]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[b],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)L.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[b]=Math.max.apply(null,L)+O+O,L=[]}if(T){var ie={};for(f=0;f<m.length;f+=1)ie[m[f]]={},ie[m[f]].text=w[f],ie[m[f]].align=x[f];var le=s.call(this,ie,I);U=m.map(function(ve){return new a(A,l,I[ve],le,ie[ve].text,void 0,ie[ve].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var ce=u.reduce(function(ve,pe){return ve[pe.name]=pe.align,ve},{});for(f=0;f<c.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:c[f]},this);var J=s.call(this,c[f],I);for(y=0;y<m.length;y+=1){var ae=c[f][m[y]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:y,data:ae},this),o.call(this,new a(A,l,I[m[y]],J,ae,f+2,ce[m[y]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=l,this};var s=function(A,l){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(A).map(function(f){var g=A[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,l[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/h+c+c},this).reduce(function(f,g){return Math.max(f,g)},0)};t.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},t.printHeaderRow=function(A,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=A;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(tt.API);var G8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sm=V8($8),W8=[100,200,300,400,500,600,700,800,900],RH=V8(W8);function I2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return G8[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof Sm[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function J4(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var jH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Z4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eb(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tb(t){return t.trimLeft()}function MH(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function HH(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var u0,rb,nb,ec,f0,ib,ab,ob,F2=["times"];function sb(t,e,r,n,i){var a=4,o=lb;switch(i){case tt.API.image_compression.FAST:a=1,o=Ab;break;case tt.API.image_compression.MEDIUM:a=6,o=cb;break;case tt.API.image_compression.SLOW:a=9,o=ub}t=function(A,l,c,u){for(var h,f=A.length/l,g=new Uint8Array(A.length+f),y=[KH,Ab,lb,cb,ub],b=0;b<f;b+=1){var m=b*l,w=A.subarray(m,m+l);if(u)g.set(u(w,c,h),m+b);else{for(var x=y.length,_=[],I=0;I<x;I+=1)_[I]=y[I](w,c,h);var L=GH(_.concat());g.set(_[L],m+b)}h=w}return g}(t,e,Math.ceil(r*n/8),o);var s=ym(t,{level:a});return tt.API.__addimage__.arrayBufferToBinaryString(s)}function KH(t){var e=Array.apply([],t);return e.unshift(0),e}function Ab(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function lb(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function cb(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,s=r&&r[a]||0;i[a+1]=t[a]+256-(o+s>>>1)&255}return i}function ub(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=VH(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function VH(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function GH(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function N2(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return z8(t,i)>>a&o}function fb(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),s=(1<<n)-1,A=(e&s)<<o;(function(l,c,u){if(c+1<l.byteLength)l.setUint16(c,u,!1);else{var h=u>>8&255;l.setUint8(c,h)}})(t,a,z8(t,a)&~(s<<o)&65535|A)}function z8(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function $H(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var s=null,A=null;a&&(s=e,A=o,e+=3*o);var l=!0,c=[],u=0,h=null,f=0,g=null;for(this.width=r,this.height=n;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];u=t[e++]|t[e++]<<8,h=t[e++],1&y||(h=null),f=y>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,_=t[e++],I=_>>6&1,L=1<<1+(7&_),U=s,D=A,T=!1;_>>7&&(T=!0,U=e,D=L,e+=3*L);var H=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}c.push({x:b,y:m,width:w,height:x,has_local_palette:T,palette_offset:U,palette_size:D,data_offset:H,data_length:e-H,transparent_index:h,interlaced:!!I,delay:u,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return g},this.frameInfo=function(O){if(O<0||O>=c.length)throw new Error("Frame index out of range.");return c[O]},this.decodeAndBlitFrameBGRA=function(O,j){var V=this.frameInfo(O),ie=V.width*V.height,le=new Uint8Array(ie);db(t,V.data_offset,le,ie);var ce=V.palette_offset,J=V.transparent_index;J===null&&(J=256);var ae=V.width,ve=r-ae,pe=ae,k=4*(V.y*r+V.x),W=4*((V.y+V.height)*r+V.x),G=k,Z=4*ve;V.interlaced===!0&&(Z+=4*r*7);for(var te=8,oe=0,me=le.length;oe<me;++oe){var ge=le[oe];if(pe===0&&(pe=ae,(G+=Z)>=W&&(Z=4*ve+4*r*(te-1),G=k+(ae+ve)*(te<<1),te>>=1)),ge===J)G+=4;else{var we=t[ce+3*ge],Se=t[ce+3*ge+1],Ue=t[ce+3*ge+2];j[G++]=Ue,j[G++]=Se,j[G++]=we,j[G++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(O,j){var V=this.frameInfo(O),ie=V.width*V.height,le=new Uint8Array(ie);db(t,V.data_offset,le,ie);var ce=V.palette_offset,J=V.transparent_index;J===null&&(J=256);var ae=V.width,ve=r-ae,pe=ae,k=4*(V.y*r+V.x),W=4*((V.y+V.height)*r+V.x),G=k,Z=4*ve;V.interlaced===!0&&(Z+=4*r*7);for(var te=8,oe=0,me=le.length;oe<me;++oe){var ge=le[oe];if(pe===0&&(pe=ae,(G+=Z)>=W&&(Z=4*ve+4*r*(te-1),G=k+(ae+ve)*(te<<1),te>>=1)),ge===J)G+=4;else{var we=t[ce+3*ge],Se=t[ce+3*ge+1],Ue=t[ce+3*ge+2];j[G++]=we,j[G++]=Se,j[G++]=Ue,j[G++]=255}--pe}}}function db(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,A=i+1,l=(1<<A)-1,c=0,u=0,h=0,f=t[e++],g=new Int32Array(4096),y=null;;){for(;c<16&&f!==0;)u|=t[e++]<<c,c+=8,f===1?f=t[e++]:--f;if(c<A)break;var b=u&l;if(u>>=A,c-=A,b!==a){if(b===o)break;for(var m=b<s?b:y,w=0,x=m;x>a;)x=g[x]>>8,++w;var _=x;if(h+w+(m!==b?1:0)>n)return void ur.log("Warning, gif stream longer than expected.");r[h++]=_;var I=h+=w;for(m!==b&&(r[h++]=_),x=m;w--;)x=g[x],r[--I]=255&x,x>>=8;y!==null&&s<4096&&(g[s++]=y<<8|_,s>=l+1&&A<12&&(++A,l=l<<1|1)),y=b}else s=o+1,l=(1<<(A=i+1))-1,y=null}return h!==n&&ur.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U2(t){var e,r,n,i,a,o=Math.floor,s=new Array(64),A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),y=[],b=0,m=7,w=new Array(64),x=new Array(64),_=new Array(64),I=new Array(256),L=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(k,W){for(var G=0,Z=0,te=new Array,oe=1;oe<=16;oe++){for(var me=1;me<=k[oe];me++)te[W[Z]]=[],te[W[Z]][0]=G,te[W[Z]][1]=oe,Z++,G++;G*=2}return te}function ce(k){for(var W=k[0],G=k[1]-1;G>=0;)W&1<<G&&(b|=1<<m),G--,--m<0&&(b==255?(J(255),J(0)):J(b),m=7,b=0)}function J(k){y.push(k)}function ae(k){J(k>>8&255),J(255&k)}function ve(k,W,G,Z,te){for(var oe,me=te[0],ge=te[240],we=function(Ee,Me){var Pe,Bt,nt,Nt,pt,wt,Gt,gt,it,ft,at=0;for(it=0;it<8;++it){Pe=Ee[at],Bt=Ee[at+1],nt=Ee[at+2],Nt=Ee[at+3],pt=Ee[at+4],wt=Ee[at+5],Gt=Ee[at+6];var Xt=Pe+(gt=Ee[at+7]),Ie=Pe-gt,Oe=Bt+Gt,ot=Bt-Gt,Ut=nt+wt,ke=nt-wt,ht=Nt+pt,ct=Nt-pt,sr=Xt+ht,An=Xt-ht,Ar=Oe+Ut,yt=Oe-Ut;Ee[at]=sr+Ar,Ee[at+4]=sr-Ar;var $t=.707106781*(yt+An);Ee[at+2]=An+$t,Ee[at+6]=An-$t;var gA=.382683433*((sr=ct+ke)-(yt=ot+Ie)),$n=.5411961*sr+gA,Eo=1.306562965*yt+gA,Ja=.707106781*(Ar=ke+ot),ut=Ie+Ja,So=Ie-Ja;Ee[at+5]=So+$n,Ee[at+3]=So-$n,Ee[at+1]=ut+Eo,Ee[at+7]=ut-Eo,at+=8}for(at=0,it=0;it<8;++it){Pe=Ee[at],Bt=Ee[at+8],nt=Ee[at+16],Nt=Ee[at+24],pt=Ee[at+32],wt=Ee[at+40],Gt=Ee[at+48];var Io=Pe+(gt=Ee[at+56]),Ji=Pe-gt,Zi=Bt+Gt,Qr=Bt-Gt,bn=nt+wt,Nn=nt-wt,vA=Nt+pt,ls=Nt-pt,Ba=Io+vA,Za=Io-vA,ba=Zi+bn,Ca=Zi-bn;Ee[at]=Ba+ba,Ee[at+32]=Ba-ba;var ea=.707106781*(Ca+Za);Ee[at+16]=Za+ea,Ee[at+48]=Za-ea;var mA=.382683433*((Ba=ls+Nn)-(Ca=Qr+Ji)),eo=.5411961*Ba+mA,wA=1.306562965*Ca+mA,El=.707106781*(ba=Nn+Qr),Sl=Ji+El,Il=Ji-El;Ee[at+40]=Il+eo,Ee[at+24]=Il-eo,Ee[at+8]=Sl+wA,Ee[at+56]=Sl-wA,at++}for(it=0;it<64;++it)ft=Ee[it]*Me[it],f[it]=ft>0?ft+.5|0:ft-.5|0;return f}(k,W),Se=0;Se<64;++Se)g[U[Se]]=we[Se];var Ue=g[0]-G;G=g[0],Ue==0?ce(Z[0]):(ce(Z[h[oe=32767+Ue]]),ce(u[oe]));for(var _e=63;_e>0&&g[_e]==0;)_e--;if(_e==0)return ce(me),G;for(var he,$=1;$<=_e;){for(var Je=$;g[$]==0&&$<=_e;)++$;var We=$-Je;if(We>=16){he=We>>4;for(var Ve=1;Ve<=he;++Ve)ce(ge);We&=15}oe=32767+g[$],ce(te[(We<<4)+h[oe]]),ce(u[oe]),$++}return _e!=63&&ce(me),G}function pe(k){k=Math.min(Math.max(k,1),100),a!=k&&(function(W){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var te=o((G[Z]*W+50)/100);te=Math.min(Math.max(te,1),255),s[U[Z]]=te}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ge=o((oe[me]*W+50)/100);ge=Math.min(Math.max(ge,1),255),A[U[me]]=ge}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Ue=0;Ue<8;Ue++)for(var _e=0;_e<8;_e++)l[Se]=1/(s[U[Se]]*we[Ue]*we[_e]*8),c[Se]=1/(A[U[Se]]*we[Ue]*we[_e]*8),Se++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),a=k)}this.encode=function(k,W){W&&pe(W),y=new Array,b=0,m=7,ae(65496),ae(65504),ae(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ae(1),ae(1),J(0),J(0),function(){ae(65499),ae(132),J(0);for(var Bt=0;Bt<64;Bt++)J(s[Bt]);J(1);for(var nt=0;nt<64;nt++)J(A[nt])}(),function(Bt,nt){ae(65472),ae(17),J(8),ae(nt),ae(Bt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(k.width,k.height),function(){ae(65476),ae(418),J(0);for(var Bt=0;Bt<16;Bt++)J(D[Bt+1]);for(var nt=0;nt<=11;nt++)J(T[nt]);J(16);for(var Nt=0;Nt<16;Nt++)J(H[Nt+1]);for(var pt=0;pt<=161;pt++)J(S[pt]);J(1);for(var wt=0;wt<16;wt++)J(O[wt+1]);for(var Gt=0;Gt<=11;Gt++)J(j[Gt]);J(17);for(var gt=0;gt<16;gt++)J(V[gt+1]);for(var it=0;it<=161;it++)J(ie[it])}(),ae(65498),ae(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var G=0,Z=0,te=0;b=0,m=7,this.encode.displayName="_encode_";for(var oe,me,ge,we,Se,Ue,_e,he,$,Je=k.data,We=k.width,Ve=k.height,Ee=4*We,Me=0;Me<Ve;){for(oe=0;oe<Ee;){for(Se=Ee*Me+oe,_e=-1,he=0,$=0;$<64;$++)Ue=Se+(he=$>>3)*Ee+(_e=4*(7&$)),Me+he>=Ve&&(Ue-=Ee*(Me+1+he-Ve)),oe+_e>=Ee&&(Ue-=oe+_e-Ee+4),me=Je[Ue++],ge=Je[Ue++],we=Je[Ue++],w[$]=(L[me]+L[ge+256|0]+L[we+512|0]>>16)-128,x[$]=(L[me+768|0]+L[ge+1024|0]+L[we+1280|0]>>16)-128,_[$]=(L[me+1280|0]+L[ge+1536|0]+L[we+1792|0]>>16)-128;G=ve(w,l,G,e,n),Z=ve(x,c,Z,r,i),te=ve(_,c,te,r,i),oe+=32}Me+=8}if(m>=0){var Pe=[];Pe[1]=m+1,Pe[0]=(1<<m+1)-1,ce(Pe)}return ae(65497),new Uint8Array(y)},t=t||50,function(){for(var k=String.fromCharCode,W=0;W<256;W++)I[W]=k(W)}(),e=le(D,T),r=le(O,j),n=le(H,S),i=le(V,ie),function(){for(var k=1,W=2,G=1;G<=15;G++){for(var Z=k;Z<W;Z++)h[32767+Z]=G,u[32767+Z]=[],u[32767+Z][1]=G,u[32767+Z][0]=Z;for(var te=-(W-1);te<=-k;te++)h[32767+te]=G,u[32767+te]=[],u[32767+te][1]=G,u[32767+te][0]=W-1+te;k<<=1,W<<=1}}(),function(){for(var k=0;k<256;k++)L[k]=19595*k,L[k+256|0]=38470*k,L[k+512|0]=7471*k+32768,L[k+768|0]=-11059*k,L[k+1024|0]=-21709*k,L[k+1280|0]=32768*k+8421375,L[k+1536|0]=-27439*k,L[k+1792|0]=-5329*k}(),pe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Na(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hb(t){function e(T){if(!T)throw Error("assert :P")}function r(T,H,S){for(var O=0;4>O;O++)if(T[H+O]!=S.charCodeAt(O))return!0;return!1}function n(T,H,S,O,j){for(var V=0;V<j;V++)T[H+V]=S[O+V]}function i(T,H,S,O){for(var j=0;j<O;j++)T[H+j]=S}function a(T){return new Int32Array(T)}function o(T,H){for(var S=[],O=0;O<T;O++)S.push(new H);return S}function s(T,H){var S=[];return function O(j,V,ie){for(var le=ie[V],ce=0;ce<le&&(j.push(ie.length>V+1?[]:new H),!(ie.length<V+1));ce++)O(j[ce],V+1,ie)}(S,0,T),S}var A=function(){var T=this;function H(p,v){for(var C=1<<v-1>>>0;p&C;)C>>>=1;return C?(p&C-1)+C:p}function S(p,v,C,E,N){e(!(E%C));do p[v+(E-=C)]=N;while(0<E)}function O(p,v,C,E,N){if(e(2328>=N),512>=N)var P=a(512);else if((P=a(N))==null)return 0;return function(Q,R,M,z,re,de){var q,ne,Ae=R,ye=1<<M,fe=a(16),xe=a(16);for(e(re!=0),e(z!=null),e(Q!=null),e(0<M),ne=0;ne<re;++ne){if(15<z[ne])return 0;++fe[z[ne]]}if(fe[0]==re)return 0;for(xe[1]=0,q=1;15>q;++q){if(fe[q]>1<<q)return 0;xe[q+1]=xe[q]+fe[q]}for(ne=0;ne<re;++ne)q=z[ne],0<z[ne]&&(de[xe[q]++]=ne);if(xe[15]==1)return(z=new j).g=0,z.value=de[0],S(Q,Ae,1,ye,z),ye;var be,Te=-1,Fe=ye-1,et=0,Ge=1,St=1,qe=1<<M;for(ne=0,q=1,re=2;q<=M;++q,re<<=1){if(Ge+=St<<=1,0>(St-=fe[q]))return 0;for(;0<fe[q];--fe[q])(z=new j).g=q,z.value=de[ne++],S(Q,Ae+et,re,qe,z),et=H(et,q)}for(q=M+1,re=2;15>=q;++q,re<<=1){if(Ge+=St<<=1,0>(St-=fe[q]))return 0;for(;0<fe[q];--fe[q]){if(z=new j,(et&Fe)!=Te){for(Ae+=qe,be=1<<(Te=q)-M;15>Te&&!(0>=(be-=fe[Te]));)++Te,be<<=1;ye+=qe=1<<(be=Te-M),Q[R+(Te=et&Fe)].g=be+M,Q[R+Te].value=Ae-R-Te}z.g=q-M,z.value=de[ne++],S(Q,Ae+(et>>M),re,qe,z),et=H(et,q)}}return Ge!=2*xe[15]-1?0:ye}(p,v,C,E,N,P)}function j(){this.value=this.g=0}function V(){this.value=this.g=0}function ie(){this.G=o(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(DA,V)}function le(p,v,C,E){e(p!=null),e(v!=null),e(2147483648>E),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=C,p.Jd=v,p.Yc=C+E,p.Zc=4<=E?C+E-4+1:C,me(p)}function ce(p,v){for(var C=0;0<v--;)C|=we(p,128)<<v;return C}function J(p,v){var C=ce(p,v);return ge(p)?-C:C}function ae(p,v,C,E){var N,P=0;for(e(p!=null),e(v!=null),e(4294967288>E),p.Sb=E,p.Ra=0,p.u=0,p.h=0,4<E&&(E=4),N=0;N<E;++N)P+=v[C+N]<<8*N;p.Ra=P,p.bb=E,p.oa=v,p.pa=C}function ve(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<hs-8>>>0,++p.bb,p.u-=8;Z(p)&&(p.h=1,p.u=0)}function pe(p,v){if(e(0<=v),!p.h&&v<=Ti){var C=G(p)&Ui[v];return p.u+=v,ve(p),C}return p.h=1,p.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(p){return p.Ra>>>(p.u&hs-1)>>>0}function Z(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>hs}function te(p,v){p.u=v,p.h=Z(p)}function oe(p){p.u>=ko&&(e(p.u>=ko),ve(p))}function me(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ge(p){return ce(p,1)}function we(p,v){var C=p.Ca;0>p.b&&me(p);var E=p.b,N=C*v>>>8,P=(p.I>>>E>N)+0;for(P?(C-=N,p.I-=N+1<<E>>>0):C=N+1,E=C,N=0;256<=E;)N+=8,E>>=8;return E=7^N+ps[E],p.b-=E,p.Ca=(C<<E)-1,P}function Se(p,v,C){p[v+0]=C>>24&255,p[v+1]=C>>16&255,p[v+2]=C>>8&255,p[v+3]=255&C}function Ue(p,v){return p[v+0]|p[v+1]<<8}function _e(p,v){return Ue(p,v)|p[v+2]<<16}function he(p,v){return Ue(p,v)|Ue(p,v+2)<<16}function $(p,v){var C=1<<v;return e(p!=null),e(0<v),p.X=a(C),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Je(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),n(v.X,0,p.X,0,1<<v.Xa)}function We(){this.X=[],this.Xa=this.Mb=0}function Ve(p,v,C,E){e(C!=null),e(E!=null);var N=C[0],P=E[0];return N==0&&(N=(p*P+v/2)/v),P==0&&(P=(v*N+p/2)/p),0>=N||0>=P?0:(C[0]=N,E[0]=P,1)}function Ee(p,v){return p+(1<<v)-1>>>v}function Me(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function Pe(p,v){T[v]=function(C,E,N,P,Q,R,M){var z;for(z=0;z<Q;++z){var re=T[p](R[M+z-1],N,P+z);R[M+z]=Me(C[E+z],re)}}}function Bt(){this.ud=this.hd=this.jd=0}function nt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Nt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function pt(p,v){return Nt(p+(p-v+.5>>1))}function wt(p,v,C){return Math.abs(v-C)-Math.abs(p-C)}function Gt(p,v,C,E,N,P,Q){for(E=P[Q-1],C=0;C<N;++C)P[Q+C]=E=Me(p[v+C],E)}function gt(p,v,C,E,N){var P;for(P=0;P<C;++P){var Q=p[v+P],R=Q>>8&255,M=16711935&(M=(M=16711935&Q)+((R<<16)+R));E[N+P]=(4278255360&Q)+M>>>0}}function it(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function ft(p,v,C,E,N,P){var Q;for(Q=0;Q<E;++Q){var R=v[C+Q],M=R>>>8,z=R,re=255&(re=(re=R>>>16)+((p.jd<<24>>24)*(M<<24>>24)>>>5));z=255&(z=(z+=(p.hd<<24>>24)*(M<<24>>24)>>>5)+((p.ud<<24>>24)*(re<<24>>24)>>>5)),N[P+Q]=(4278255360&R)+(re<<16)+z}}function at(p,v,C,E,N){T[v]=function(P,Q,R,M,z,re,de,q,ne){for(M=de;M<q;++M)for(de=0;de<ne;++de)z[re++]=N(R[E(P[Q++])])},T[p]=function(P,Q,R,M,z,re,de){var q=8>>P.b,ne=P.Ea,Ae=P.K[0],ye=P.w;if(8>q)for(P=(1<<P.b)-1,ye=(1<<q)-1;Q<R;++Q){var fe,xe=0;for(fe=0;fe<ne;++fe)fe&P||(xe=E(M[z++])),re[de++]=N(Ae[xe&ye]),xe>>=q}else T["VP8LMapColor"+C](M,z,Ae,ye,re,de,Q,R,ne)}}function Xt(p,v,C,E,N){for(C=v+C;v<C;){var P=p[v++];E[N++]=P>>16&255,E[N++]=P>>8&255,E[N++]=255&P}}function Ie(p,v,C,E,N){for(C=v+C;v<C;){var P=p[v++];E[N++]=P>>16&255,E[N++]=P>>8&255,E[N++]=255&P,E[N++]=P>>24&255}}function Oe(p,v,C,E,N){for(C=v+C;v<C;){var P=(Q=p[v++])>>16&240|Q>>12&15,Q=240&Q|Q>>28&15;E[N++]=P,E[N++]=Q}}function ot(p,v,C,E,N){for(C=v+C;v<C;){var P=(Q=p[v++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;E[N++]=P,E[N++]=Q}}function Ut(p,v,C,E,N){for(C=v+C;v<C;){var P=p[v++];E[N++]=255&P,E[N++]=P>>8&255,E[N++]=P>>16&255}}function ke(p,v,C,E,N,P){if(P==0)for(C=v+C;v<C;)Se(E,((P=p[v++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),N+=32;else n(E,N,p,v,C)}function ht(p,v){T[v][0]=T[p+"0"],T[v][1]=T[p+"1"],T[v][2]=T[p+"2"],T[v][3]=T[p+"3"],T[v][4]=T[p+"4"],T[v][5]=T[p+"5"],T[v][6]=T[p+"6"],T[v][7]=T[p+"7"],T[v][8]=T[p+"8"],T[v][9]=T[p+"9"],T[v][10]=T[p+"10"],T[v][11]=T[p+"11"],T[v][12]=T[p+"12"],T[v][13]=T[p+"13"],T[v][14]=T[p+"0"],T[v][15]=T[p+"0"]}function ct(p){return p==$p||p==Wp||p==zd||p==zp}function sr(){this.eb=[],this.size=this.A=this.fb=0}function An(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sr,this.f.kb=new An,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gA(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function $n(p,v){var C=p.T,E=v.ba.f.RGBA,N=E.eb,P=E.fb+p.ka*E.A,Q=oa[v.ba.S],R=p.y,M=p.O,z=p.f,re=p.N,de=p.ea,q=p.W,ne=v.cc,Ae=v.dc,ye=v.Mc,fe=v.Nc,xe=p.ka,be=p.ka+p.T,Te=p.U,Fe=Te+1>>1;for(xe==0?Q(R,M,null,null,z,re,de,q,z,re,de,q,N,P,null,null,Te):(Q(v.ec,v.fc,R,M,ne,Ae,ye,fe,z,re,de,q,N,P-E.A,N,P,Te),++C);xe+2<be;xe+=2)ne=z,Ae=re,ye=de,fe=q,re+=p.Rc,q+=p.Rc,P+=2*E.A,Q(R,(M+=2*p.fa)-p.fa,R,M,ne,Ae,ye,fe,z,re,de,q,N,P-E.A,N,P,Te);return M+=p.fa,p.j+be<p.o?(n(v.ec,v.fc,R,M,Te),n(v.cc,v.dc,z,re,Fe),n(v.Mc,v.Nc,de,q,Fe),C--):1&be||Q(R,M,null,null,z,re,de,q,z,re,de,q,N,P+E.A,null,null,Te),C}function Eo(p,v,C){var E=p.F,N=[p.J];if(E!=null){var P=p.U,Q=v.ba.S,R=Q==Wd||Q==zd;v=v.ba.f.RGBA;var M=[0],z=p.ka;M[0]=p.T,p.Kb&&(z==0?--M[0]:(--z,N[0]-=p.width),p.j+p.ka+p.T==p.o&&(M[0]=p.o-p.j-z));var re=v.eb;z=v.fb+z*v.A,p=Sy(E,N[0],p.width,P,M,re,z+(R?0:3),v.A),e(C==M),p&&ct(Q)&&Nu(re,z,R,P,M,v.A)}return 0}function Ja(p){var v=p.ma,C=v.ba.S,E=11>C,N=C==Gd||C==$d||C==Wd||C==Gp||C==12||ct(C);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Bu(v.Oa,p,N?11:12))return 0;if(N&&ct(C)&&Rd(),p.da)alert("todo:use_scaling");else{if(E){if(v.Ib=gA,p.Kb){if(C=p.U+1>>1,v.memory=a(p.U+2*C),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+C,v.Ib=$n,Rd()}}else alert("todo:EmitYUV");N&&(v.Jb=Eo,E&&ra())}if(E&&!Ky){for(p=0;256>p;++p)I6[p]=89858*(p-128)+Xd>>qd,U6[p]=-22014*(p-128)+Xd,N6[p]=-45773*(p-128),F6[p]=113618*(p-128)+Xd>>qd;for(p=Tu;p<Yp;++p)v=76283*(p-16)+Xd>>qd,T6[p-Tu]=Rr(v,255),L6[p-Tu]=Rr(v+8>>4,15);Ky=1}return 1}function ut(p){var v=p.ma,C=p.U,E=p.T;return e(!(1&p.ka)),0>=C||0>=E?0:(C=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,C),v.Dc+=C,1)}function So(p){p.ma.memory=null}function Io(p,v,C,E){return pe(p,8)!=47?0:(v[0]=pe(p,14)+1,C[0]=pe(p,14)+1,E[0]=pe(p,1),pe(p,3)!=0?0:!p.h)}function Ji(p,v){if(4>p)return p+1;var C=p-2>>1;return(2+(1&p)<<C)+pe(v,C)+1}function Zi(p,v){return 120<v?v-120:1<=(C=((C=h6[v-1])>>4)*p+(8-(15&C)))?C:1;var C}function Qr(p,v,C){var E=G(C),N=p[v+=255&E].g-8;return 0<N&&(te(C,C.u+8),E=G(C),v+=p[v].value,v+=E&(1<<N)-1),te(C,C.u+p[v].g),p[v].value}function bn(p,v,C){return C.g+=p.g,C.value+=p.value<<v>>>0,e(8>=C.g),p.g}function Nn(p,v,C){var E=p.xc;return e((v=E==0?0:p.vc[p.md*(C>>E)+(v>>E)])<p.Wb),p.Ya[v]}function vA(p,v,C,E){var N=p.ab,P=p.c*v,Q=p.C;v=Q+v;var R=C,M=E;for(E=p.Ta,C=p.Ua;0<N--;){var z=p.gc[N],re=Q,de=v,q=R,ne=M,Ae=(M=E,R=C,z.Ea);switch(e(re<de),e(de<=z.nc),z.hc){case 2:Gr(q,ne,(de-re)*Ae,M,R);break;case 0:var ye=re,fe=de,xe=M,be=R,Te=(qe=z).Ea;ye==0&&(Cu(q,ne,null,null,1,xe,be),Gt(q,ne+1,0,0,Te-1,xe,be+1),ne+=Te,be+=Te,++ye);for(var Fe=1<<qe.b,et=Fe-1,Ge=Ee(Te,qe.b),St=qe.K,qe=qe.w+(ye>>qe.b)*Ge;ye<fe;){var Lt=St,un=qe,It=1;for(Dl(q,ne,xe,be-Te,1,xe,be);It<Te;){var Xe=(It&~et)+Fe;Xe>Te&&(Xe=Te),(0,Eu[Lt[un++]>>8&15])(q,ne+ +It,xe,be+It-Te,Xe-It,xe,be+It),It=Xe}ne+=Te,be+=Te,++ye&et||(qe+=Ge)}de!=z.nc&&n(M,R-Ae,M,R+(de-re-1)*Ae,Ae);break;case 1:for(Ae=q,fe=ne,Te=(q=z.Ea)-(be=q&~(xe=(ne=1<<z.b)-1)),ye=Ee(q,z.b),Fe=z.K,z=z.w+(re>>z.b)*ye;re<de;){for(et=Fe,Ge=z,St=new Bt,qe=fe+be,Lt=fe+q;fe<qe;)it(et[Ge++],St),Su(St,Ae,fe,ne,M,R),fe+=ne,R+=ne;fe<Lt&&(it(et[Ge++],St),Su(St,Ae,fe,Te,M,R),fe+=Te,R+=Te),++re&xe||(z+=ye)}break;case 3:if(q==M&&ne==R&&0<z.b){for(fe=M,q=Ae=R+(de-re)*Ae-(be=(de-re)*Ee(z.Ea,z.b)),ne=M,xe=R,ye=[],be=(Te=be)-1;0<=be;--be)ye[be]=ne[xe+be];for(be=Te-1;0<=be;--be)fe[q+be]=ye[be];Md(z,re,de,M,Ae,M,R)}else Md(z,re,de,q,ne,M,R)}R=E,M=C}M!=C&&n(E,C,R,M,P)}function ls(p,v){var C=p.V,E=p.Ba+p.c*p.C,N=v-p.C;if(e(v<=p.l.o),e(16>=N),0<N){var P=p.l,Q=p.Ta,R=p.Ua,M=P.width;if(vA(p,N,C,E),N=R=[R],e((C=p.C)<(E=v)),e(P.v<P.va),E>P.o&&(E=P.o),C<P.j){var z=P.j-C;C=P.j,N[0]+=z*M}if(C>=E?C=0:(N[0]+=4*P.v,P.ka=C-P.j,P.U=P.va-P.v,P.T=E-C,C=1),C){if(R=R[0],11>(C=p.ca).S){var re=C.f.RGBA,de=(E=C.S,N=P.U,P=P.T,z=re.eb,re.A),q=P;for(re=re.fb+p.Ma*re.A;0<q--;){var ne=Q,Ae=R,ye=N,fe=z,xe=re;switch(E){case Vd:Iu(ne,Ae,ye,fe,xe);break;case Gd:gs(ne,Ae,ye,fe,xe);break;case $p:gs(ne,Ae,ye,fe,xe),Nu(fe,xe,0,ye,1,0);break;case Oy:PA(ne,Ae,ye,fe,xe);break;case $d:ke(ne,Ae,ye,fe,xe,1);break;case Wp:ke(ne,Ae,ye,fe,xe,1),Nu(fe,xe,0,ye,1,0);break;case Wd:ke(ne,Ae,ye,fe,xe,0);break;case zd:ke(ne,Ae,ye,fe,xe,0),Nu(fe,xe,1,ye,1,0);break;case Gp:vs(ne,Ae,ye,fe,xe);break;case zp:vs(ne,Ae,ye,fe,xe),Ey(fe,xe,ye,1,0);break;case ky:ms(ne,Ae,ye,fe,xe);break;default:e(0)}R+=M,re+=de}p.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=C.height)}}p.C=v,e(p.C<=p.i)}function Ba(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var C=p.Ya[v].G,E=p.Ya[v].H;if(0<C[1][E[1]+0].g||0<C[2][E[2]+0].g||0<C[3][E[3]+0].g)return 0}return 1}function Za(p,v,C,E,N,P){if(p.Z!=0){var Q=p.qd,R=p.rd;for(e(xs[p.Z]!=null);v<C;++v)xs[p.Z](Q,R,E,N,E,N,P),Q=E,R=N,N+=P;p.qd=Q,p.rd=R}}function ba(p,v){var C=p.l.ma,E=C.Z==0||C.Z==1?p.l.j:p.C;if(E=p.C<E?E:p.C,e(v<=p.l.o),v>E){var N=p.l.width,P=C.ca,Q=C.tb+N*E,R=p.V,M=p.Ba+p.c*E,z=p.gc;e(p.ab==1),e(z[0].hc==3),no(z[0],E,v,R,M,P,Q),Za(C,E,v,P,Q,N)}p.C=p.Ma=v}function Ca(p,v,C,E,N,P,Q){var R=p.$/E,M=p.$%E,z=p.m,re=p.s,de=C+p.$,q=de;N=C+E*N;var ne=C+E*P,Ae=280+re.ua,ye=p.Pb?R:16777216,fe=0<re.ua?re.Wa:null,xe=re.wc,be=de<ne?Nn(re,M,R):null;e(p.C<P),e(ne<=N);var Te=!1;e:for(;;){for(;Te||de<ne;){var Fe=0;if(R>=ye){var et=de-C;e((ye=p).Pb),ye.wd=ye.m,ye.xd=et,0<ye.s.ua&&Je(ye.s.Wa,ye.s.vb),ye=R+g6}if(M&xe||(be=Nn(re,M,R)),e(be!=null),be.Qb&&(v[de]=be.qb,Te=!0),!Te)if(oe(z),be.jc){Fe=z,et=v;var Ge=de,St=be.pd[G(Fe)&DA-1];e(be.jc),256>St.g?(te(Fe,Fe.u+St.g),et[Ge]=St.value,Fe=0):(te(Fe,Fe.u+St.g-256),e(256<=St.value),Fe=St.value),Fe==0&&(Te=!0)}else Fe=Qr(be.G[0],be.H[0],z);if(z.h)break;if(Te||256>Fe){if(!Te)if(be.nd)v[de]=(be.qb|Fe<<8)>>>0;else{if(oe(z),Te=Qr(be.G[1],be.H[1],z),oe(z),et=Qr(be.G[2],be.H[2],z),Ge=Qr(be.G[3],be.H[3],z),z.h)break;v[de]=(Ge<<24|Te<<16|Fe<<8|et)>>>0}if(Te=!1,++de,++M>=E&&(M=0,++R,Q!=null&&R<=P&&!(R%16)&&Q(p,R),fe!=null))for(;q<de;)Fe=v[q++],fe.X[(506832829*Fe&4294967295)>>>fe.Mb]=Fe}else if(280>Fe){if(Fe=Ji(Fe-256,z),et=Qr(be.G[4],be.H[4],z),oe(z),et=Zi(E,et=Ji(et,z)),z.h)break;if(de-C<et||N-de<Fe)break e;for(Ge=0;Ge<Fe;++Ge)v[de+Ge]=v[de+Ge-et];for(de+=Fe,M+=Fe;M>=E;)M-=E,++R,Q!=null&&R<=P&&!(R%16)&&Q(p,R);if(e(de<=N),M&xe&&(be=Nn(re,M,R)),fe!=null)for(;q<de;)Fe=v[q++],fe.X[(506832829*Fe&4294967295)>>>fe.Mb]=Fe}else{if(!(Fe<Ae))break e;for(Te=Fe-280,e(fe!=null);q<de;)Fe=v[q++],fe.X[(506832829*Fe&4294967295)>>>fe.Mb]=Fe;Fe=de,e(!(Te>>>(et=fe).Xa)),v[Fe]=et.X[Te],Te=!0}Te||e(z.h==Z(z))}if(p.Pb&&z.h&&de<N)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Je(p.s.vb,p.s.Wa);else{if(z.h)break e;Q!=null&&Q(p,R>P?P:R),p.a=0,p.$=de-C}return 1}return p.a=3,0}function ea(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function mA(){var p=new Ze;return p==null?null:(p.a=0,p.xb=Qy,ht("Predictor","VP8LPredictors"),ht("Predictor","VP8LPredictors_C"),ht("PredictorAdd","VP8LPredictorsAdd"),ht("PredictorAdd","VP8LPredictorsAdd_C"),Gr=gt,Su=ft,Iu=Xt,gs=Ie,vs=Oe,ms=ot,PA=Ut,T.VP8LMapColor32b=ro,T.VP8LMapColor8b=_u,p)}function eo(p,v,C,E,N){var P=1,Q=[p],R=[v],M=E.m,z=E.s,re=null,de=0;e:for(;;){if(C)for(;P&&pe(M,1);){var q=Q,ne=R,Ae=E,ye=1,fe=Ae.m,xe=Ae.gc[Ae.ab],be=pe(fe,2);if(Ae.Oc&1<<be)P=0;else{switch(Ae.Oc|=1<<be,xe.hc=be,xe.Ea=q[0],xe.nc=ne[0],xe.K=[null],++Ae.ab,e(4>=Ae.ab),be){case 0:case 1:xe.b=pe(fe,3)+2,ye=eo(Ee(xe.Ea,xe.b),Ee(xe.nc,xe.b),0,Ae,xe.K),xe.K=xe.K[0];break;case 3:var Te,Fe=pe(fe,8)+1,et=16<Fe?0:4<Fe?1:2<Fe?2:3;if(q[0]=Ee(xe.Ea,et),xe.b=et,Te=ye=eo(Fe,1,0,Ae,xe.K)){var Ge,St=Fe,qe=xe,Lt=1<<(8>>qe.b),un=a(Lt);if(un==null)Te=0;else{var It=qe.K[0],Xe=qe.w;for(un[0]=qe.K[0][0],Ge=1;Ge<1*St;++Ge)un[Ge]=Me(It[Xe+Ge],un[Ge-1]);for(;Ge<4*Lt;++Ge)un[Ge]=0;qe.K[0]=null,qe.K[0]=un,Te=1}}ye=Te;break;case 2:break;default:e(0)}P=ye}}if(Q=Q[0],R=R[0],P&&pe(M,1)&&!(P=1<=(de=pe(M,4))&&11>=de)){E.a=3;break e}var De;if(De=P)t:{var Wr,Et,Ot,wr=E,Tn=Q,ai=R,jr=de,zn=C,oi=wr.m,fn=wr.s,Dt=[null],Yt=1,Mr=0,Jt=p6[jr];r:for(;;){if(zn&&pe(oi,1)){var Ln=pe(oi,3)+2,Sa=Ee(Tn,Ln),zr=Ee(ai,Ln),gi=Sa*zr;if(!eo(Sa,zr,0,wr,Dt))break r;for(Dt=Dt[0],fn.xc=Ln,Wr=0;Wr<gi;++Wr){var cr=Dt[Wr]>>8&65535;Dt[Wr]=cr,cr>=Yt&&(Yt=cr+1)}}if(oi.h)break r;for(Et=0;5>Et;++Et){var dn=Dy[Et];!Et&&0<jr&&(dn+=1<<jr),Mr<dn&&(Mr=dn)}var Oi=o(Yt*Jt,j),si=Yt,ki=o(si,ie);if(ki==null)var Di=null;else e(65536>=si),Di=ki;var vi=a(Mr);if(Di==null||vi==null||Oi==null){wr.a=1;break r}var Pi=Oi;for(Wr=Ot=0;Wr<Yt;++Wr){var dr=Di[Wr],Qi=dr.G,Ia=dr.H,RA=0,Qo=1,On=0;for(Et=0;5>Et;++Et){dn=Dy[Et],Qi[Et]=Pi,Ia[Et]=Ot,!Et&&0<jr&&(dn+=1<<jr);i:{var Jd,Jp=dn,Zd=wr,Lu=vi,D6=Pi,P6=Ot,Zp=0,Bs=Zd.m,Q6=pe(Bs,1);if(i(Lu,0,0,Jp),Q6){var R6=pe(Bs,1)+1,j6=pe(Bs,1),$y=pe(Bs,j6==0?1:8);Lu[$y]=1,R6==2&&(Lu[$y=pe(Bs,8)]=1);var eh=1}else{var Wy=a(19),zy=pe(Bs,4)+4;if(19<zy){Zd.a=3;var th=0;break i}for(Jd=0;Jd<zy;++Jd)Wy[d6[Jd]]=pe(Bs,3);var eg=void 0,Ou=void 0,qy=Zd,M6=Wy,rh=Jp,Xy=Lu,tg=0,bs=qy.m,Yy=8,Jy=o(128,j);n:for(;O(Jy,0,7,M6,19);){if(pe(bs,1)){var H6=2+2*pe(bs,3);if((eg=2+pe(bs,H6))>rh)break n}else eg=rh;for(Ou=0;Ou<rh&&eg--;){oe(bs);var Zy=Jy[0+(127&G(bs))];te(bs,bs.u+Zy.g);var Ql=Zy.value;if(16>Ql)Xy[Ou++]=Ql,Ql!=0&&(Yy=Ql);else{var K6=Ql==16,ex=Ql-16,V6=u6[ex],tx=pe(bs,c6[ex])+V6;if(Ou+tx>rh)break n;for(var G6=K6?Yy:0;0<tx--;)Xy[Ou++]=G6}}tg=1;break n}tg||(qy.a=3),eh=tg}(eh=eh&&!Bs.h)&&(Zp=O(D6,P6,8,Lu,Jp)),eh&&Zp!=0?th=Zp:(Zd.a=3,th=0)}if(th==0)break r;if(Qo&&f6[Et]==1&&(Qo=Pi[Ot].g==0),RA+=Pi[Ot].g,Ot+=th,3>=Et){var ku,rg=vi[0];for(ku=1;ku<dn;++ku)vi[ku]>rg&&(rg=vi[ku]);On+=rg}}if(dr.nd=Qo,dr.Qb=0,Qo&&(dr.qb=(Qi[3][Ia[3]+0].value<<24|Qi[1][Ia[1]+0].value<<16|Qi[2][Ia[2]+0].value)>>>0,RA==0&&256>Qi[0][Ia[0]+0].value&&(dr.Qb=1,dr.qb+=Qi[0][Ia[0]+0].value<<8)),dr.jc=!dr.Qb&&6>On,dr.jc){var nh,Ro=dr;for(nh=0;nh<DA;++nh){var Cs=nh,_s=Ro.pd[Cs],ih=Ro.G[0][Ro.H[0]+Cs];256<=ih.value?(_s.g=ih.g+256,_s.value=ih.value):(_s.g=0,_s.value=0,Cs>>=bn(ih,8,_s),Cs>>=bn(Ro.G[1][Ro.H[1]+Cs],16,_s),Cs>>=bn(Ro.G[2][Ro.H[2]+Cs],0,_s),bn(Ro.G[3][Ro.H[3]+Cs],24,_s))}}}fn.vc=Dt,fn.Wb=Yt,fn.Ya=Di,fn.yc=Oi,De=1;break t}De=0}if(!(P=De)){E.a=3;break e}if(0<de){if(z.ua=1<<de,!$(z.Wa,de)){E.a=1,P=0;break e}}else z.ua=0;var ng=E,rx=Q,$6=R,ig=ng.s,ag=ig.xc;if(ng.c=rx,ng.i=$6,ig.md=Ee(rx,ag),ig.wc=ag==0?-1:(1<<ag)-1,C){E.xb=b6;break e}if((re=a(Q*R))==null){E.a=1,P=0;break e}P=(P=Ca(E,re,0,Q,R,R,null))&&!M.h;break e}return P?(N!=null?N[0]=re:(e(re==null),e(C)),E.$=0,C||ea(z)):ea(z),P}function wA(p,v){var C=p.c*p.i,E=C+v+16*v;return e(p.c<=v),p.V=a(E),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+C+v,1)}function El(p,v){var C=p.C,E=v-C,N=p.V,P=p.Ba+p.c*C;for(e(v<=p.l.o);0<E;){var Q=16<E?16:E,R=p.l.ma,M=p.l.width,z=M*Q,re=R.ca,de=R.tb+M*C,q=p.Ta,ne=p.Ua;vA(p,Q,N,P),Iy(q,ne,re,de,z),Za(R,C,C+Q,re,de,M),E-=Q,N+=Q*p.c,C+=Q}e(C==v),p.C=p.Ma=v}function Sl(){this.ub=this.yd=this.td=this.Rb=0}function Il(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ip(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Au(){this.Yb=function(){var p=[];return function v(C,E,N){for(var P=N[E],Q=0;Q<P&&(C.push(N.length>E+1?[]:0),!(N.length<E+1));Q++)v(C[Q],E+1,N)}(p,0,[3,11]),p}()}function Cd(){this.jb=a(3),this.Wc=s([4,8],Au),this.Xc=s([4,17],Au)}function _d(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ta(){this.ld=this.La=this.dd=this.tc=0}function lu(){this.Na=this.la=0}function Ed(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cu(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sd(){this.uc=this.M=this.Nb=0,this.wa=Array(new ta),this.Y=0,this.ya=Array(new cu),this.aa=0,this.l=new Fl}function Id(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Fd(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Sl,this.Kc=new Il,this.ed=new _d,this.Qa=new Ip,this.Ic=this.$c=this.Aa=0,this.D=new Sd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,k),this.ia=0,this.pb=o(4,Ed),this.Pa=new Cd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Id),this.Hd=0,this.rb=Array(new lu),this.sb=0,this.wa=Array(new ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cu),this.L=this.aa=0,this.gd=s([4,2],ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fp(){var p=new Fd;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Uu||(Uu=Fo)),p}function tn(p,v,C){return p.a==0&&(p.a=v,p.sc=C,p.cb=0),0}function Nd(p,v,C){return 3<=C&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Ud(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return tn(p,2,"null VP8Io passed to VP8GetHeaders()");var C=v.data,E=v.w,N=v.ha;if(4>N)return tn(p,7,"Truncated header.");var P=C[E+0]|C[E+1]<<8|C[E+2]<<16,Q=p.Od;if(Q.Rb=!(1&P),Q.td=P>>1&7,Q.yd=P>>4&1,Q.ub=P>>5,3<Q.td)return tn(p,3,"Incorrect keyframe parameters.");if(!Q.yd)return tn(p,4,"Frame not displayable.");E+=3,N-=3;var R=p.Kc;if(Q.Rb){if(7>N)return tn(p,7,"cannot parse picture header");if(!Nd(C,E,N))return tn(p,3,"Bad code word");R.c=16383&(C[E+4]<<8|C[E+3]),R.Td=C[E+4]>>6,R.i=16383&(C[E+6]<<8|C[E+5]),R.Ud=C[E+6]>>6,E+=7,N-=7,p.za=R.c+15>>4,p.Ub=R.i+15>>4,v.width=R.c,v.height=R.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((P=p.Pa).jb,0,255,P.jb.length),e((P=p.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,i(P.Zb,0,0,P.Zb.length),i(P.Lb,0,0,P.Lb)}if(Q.ub>N)return tn(p,7,"bad partition length");le(P=p.m,C,E,Q.ub),E+=Q.ub,N-=Q.ub,Q.Rb&&(R.Ld=ge(P),R.Kd=ge(P)),R=p.Qa;var M,z=p.Pa;if(e(P!=null),e(R!=null),R.Cb=ge(P),R.Cb){if(R.Bb=ge(P),ge(P)){for(R.Fb=ge(P),M=0;4>M;++M)R.Zb[M]=ge(P)?J(P,7):0;for(M=0;4>M;++M)R.Lb[M]=ge(P)?J(P,6):0}if(R.Bb)for(M=0;3>M;++M)z.jb[M]=ge(P)?ce(P,8):255}else R.Bb=0;if(P.Ka)return tn(p,3,"cannot parse segment header");if((R=p.ed).zd=ge(P),R.Tb=ce(P,6),R.wb=ce(P,3),R.Pc=ge(P),R.Pc&&ge(P)){for(z=0;4>z;++z)ge(P)&&(R.vd[z]=J(P,6));for(z=0;4>z;++z)ge(P)&&(R.od[z]=J(P,6))}if(p.L=R.Tb==0?0:R.zd?1:2,P.Ka)return tn(p,3,"cannot parse filter header");var re=N;if(N=M=E,E=M+re,R=re,p.Xb=(1<<ce(p.m,2))-1,re<3*(z=p.Xb))C=7;else{for(M+=3*z,R-=3*z,re=0;re<z;++re){var de=C[N+0]|C[N+1]<<8|C[N+2]<<16;de>R&&(de=R),le(p.Jc[+re],C,M,de),M+=de,R-=de,N+=3}le(p.Jc[+z],C,M,R),C=M<E?0:5}if(C!=0)return tn(p,C,"cannot parse partitions");for(C=ce(M=p.m,7),N=ge(M)?J(M,4):0,E=ge(M)?J(M,4):0,R=ge(M)?J(M,4):0,z=ge(M)?J(M,4):0,M=ge(M)?J(M,4):0,re=p.Qa,de=0;4>de;++de){if(re.Cb){var q=re.Zb[de];re.Fb||(q+=C)}else{if(0<de){p.pb[de]=p.pb[0];continue}q=C}var ne=p.pb[de];ne.Sc[0]=qp[Rr(q+N,127)],ne.Sc[1]=Xp[Rr(q+0,127)],ne.Eb[0]=2*qp[Rr(q+E,127)],ne.Eb[1]=101581*Xp[Rr(q+R,127)]>>16,8>ne.Eb[1]&&(ne.Eb[1]=8),ne.Qc[0]=qp[Rr(q+z,117)],ne.Qc[1]=Xp[Rr(q+M,127)],ne.lc=q+M}if(!Q.Rb)return tn(p,4,"Not a key frame.");for(ge(P),Q=p.Pa,C=0;4>C;++C){for(N=0;8>N;++N)for(E=0;3>E;++E)for(R=0;11>R;++R)z=we(P,x6[C][N][E][R])?ce(P,8):w6[C][N][E][R],Q.Wc[C][N].Yb[E][R]=z;for(N=0;17>N;++N)Q.Xc[C][N]=Q.Wc[C][B6[N]]}return p.kc=ge(P),p.kc&&(p.Bd=ce(P,8)),p.cb=1}function Fo(p,v,C,E,N,P,Q){var R=v[N].Yb[C];for(C=0;16>N;++N){if(!we(p,R[C+0]))return N;for(;!we(p,R[C+1]);)if(R=v[++N].Yb[0],C=0,N==16)return 16;var M=v[N+1].Yb;if(we(p,R[C+2])){var z=p,re=0;if(we(z,(q=R)[(de=C)+3]))if(we(z,q[de+6])){for(R=0,de=2*(re=we(z,q[de+8]))+(q=we(z,q[de+9+re])),re=0,q=v6[de];q[R];++R)re+=re+we(z,q[R]);re+=3+(8<<de)}else we(z,q[de+7])?(re=7+2*we(z,165),re+=we(z,145)):re=5+we(z,159);else re=we(z,q[de+4])?3+we(z,q[de+5]):2;R=M[2]}else re=1,R=M[1];M=Q+m6[N],0>(z=p).b&&me(z);var de,q=z.b,ne=(de=z.Ca>>1)-(z.I>>q)>>31;--z.b,z.Ca+=ne,z.Ca|=1,z.I-=(de+1&ne)<<q,P[M]=((re^ne)-ne)*E[(0<N)+0]}return 16}function yA(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function _a(p,v,C,E,N){N=p[v+C+32*E]+(N>>3),p[v+C+32*E]=-256&N?0>N?0:255:N}function xA(p,v,C,E,N,P){_a(p,v,0,C,E+N),_a(p,v,1,C,E+P),_a(p,v,2,C,E-P),_a(p,v,3,C,E-N)}function Vr(p){return(20091*p>>16)+p}function uu(p,v,C,E){var N,P=0,Q=a(16);for(N=0;4>N;++N){var R=p[v+0]+p[v+8],M=p[v+0]-p[v+8],z=(35468*p[v+4]>>16)-Vr(p[v+12]),re=Vr(p[v+4])+(35468*p[v+12]>>16);Q[P+0]=R+re,Q[P+1]=M+z,Q[P+2]=M-z,Q[P+3]=R-re,P+=4,v++}for(N=P=0;4>N;++N)R=(p=Q[P+0]+4)+Q[P+8],M=p-Q[P+8],z=(35468*Q[P+4]>>16)-Vr(Q[P+12]),_a(C,E,0,0,R+(re=Vr(Q[P+4])+(35468*Q[P+12]>>16))),_a(C,E,1,0,M+z),_a(C,E,2,0,M-z),_a(C,E,3,0,R-re),P++,E+=32}function Np(p,v,C,E){var N=p[v+0]+4,P=35468*p[v+4]>>16,Q=Vr(p[v+4]),R=35468*p[v+1]>>16;xA(C,E,0,N+Q,p=Vr(p[v+1]),R),xA(C,E,1,N+P,p,R),xA(C,E,2,N-P,p,R),xA(C,E,3,N-Q,p,R)}function Up(p,v,C,E,N){uu(p,v,C,E),N&&uu(p,v+16,C,E+4)}function Tp(p,v,C,E){QA(p,v+0,C,E,1),QA(p,v+32,C,E+128,1)}function to(p,v,C,E){var N;for(p=p[v+0]+4,N=0;4>N;++N)for(v=0;4>v;++v)_a(C,E,v,N,p)}function Td(p,v,C,E){p[v+0]&&Wt(p,v+0,C,E),p[v+16]&&Wt(p,v+16,C,E+4),p[v+32]&&Wt(p,v+32,C,E+128),p[v+48]&&Wt(p,v+48,C,E+128+4)}function Ld(p,v,C,E){var N,P=a(16);for(N=0;4>N;++N){var Q=p[v+0+N]+p[v+12+N],R=p[v+4+N]+p[v+8+N],M=p[v+4+N]-p[v+8+N],z=p[v+0+N]-p[v+12+N];P[0+N]=Q+R,P[8+N]=Q-R,P[4+N]=z+M,P[12+N]=z-M}for(N=0;4>N;++N)Q=(p=P[0+4*N]+3)+P[3+4*N],R=P[1+4*N]+P[2+4*N],M=P[1+4*N]-P[2+4*N],z=p-P[3+4*N],C[E+0]=Q+R>>3,C[E+16]=z+M>>3,C[E+32]=Q-R>>3,C[E+48]=z-M>>3,E+=64}function cs(p,v,C){var E,N=v-32,P=Li,Q=255-p[N-1];for(E=0;E<C;++E){var R,M=P,z=Q+p[v-1];for(R=0;R<C;++R)p[v+R]=M[z+p[N+R]];v+=32}}function fu(p,v){cs(p,v,4)}function Lp(p,v){cs(p,v,8)}function Op(p,v){cs(p,v,16)}function kp(p,v){var C;for(C=0;16>C;++C)n(p,v+32*C,p,v-32,16)}function du(p,v){var C;for(C=16;0<C;--C)i(p,v,p[v-1],16),v+=32}function BA(p,v,C){var E;for(E=0;16>E;++E)i(v,C+32*E,p,16)}function us(p,v){var C,E=16;for(C=0;16>C;++C)E+=p[v-1+32*C]+p[v+C-32];BA(E>>5,p,v)}function Dp(p,v){var C,E=8;for(C=0;16>C;++C)E+=p[v-1+32*C];BA(E>>4,p,v)}function bA(p,v){var C,E=8;for(C=0;16>C;++C)E+=p[v+C-32];BA(E>>4,p,v)}function hu(p,v){BA(128,p,v)}function xt(p,v,C){return p+2*v+C+2>>2}function Pp(p,v){var C,E=v-32;for(E=new Uint8Array([xt(p[E-1],p[E+0],p[E+1]),xt(p[E+0],p[E+1],p[E+2]),xt(p[E+1],p[E+2],p[E+3]),xt(p[E+2],p[E+3],p[E+4])]),C=0;4>C;++C)n(p,v+32*C,E,0,E.length)}function Qp(p,v){var C=p[v-1],E=p[v-1+32],N=p[v-1+64],P=p[v-1+96];Se(p,v+0,16843009*xt(p[v-1-32],C,E)),Se(p,v+32,16843009*xt(C,E,N)),Se(p,v+64,16843009*xt(E,N,P)),Se(p,v+96,16843009*xt(N,P,P))}function Rp(p,v){var C,E=4;for(C=0;4>C;++C)E+=p[v+C-32]+p[v-1+32*C];for(E>>=3,C=0;4>C;++C)i(p,v+32*C,E,4)}function jp(p,v){var C=p[v-1+0],E=p[v-1+32],N=p[v-1+64],P=p[v-1-32],Q=p[v+0-32],R=p[v+1-32],M=p[v+2-32],z=p[v+3-32];p[v+0+96]=xt(E,N,p[v-1+96]),p[v+1+96]=p[v+0+64]=xt(C,E,N),p[v+2+96]=p[v+1+64]=p[v+0+32]=xt(P,C,E),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=xt(Q,P,C),p[v+3+64]=p[v+2+32]=p[v+1+0]=xt(R,Q,P),p[v+3+32]=p[v+2+0]=xt(M,R,Q),p[v+3+0]=xt(z,M,R)}function No(p,v){var C=p[v+1-32],E=p[v+2-32],N=p[v+3-32],P=p[v+4-32],Q=p[v+5-32],R=p[v+6-32],M=p[v+7-32];p[v+0+0]=xt(p[v+0-32],C,E),p[v+1+0]=p[v+0+32]=xt(C,E,N),p[v+2+0]=p[v+1+32]=p[v+0+64]=xt(E,N,P),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=xt(N,P,Q),p[v+3+32]=p[v+2+64]=p[v+1+96]=xt(P,Q,R),p[v+3+64]=p[v+2+96]=xt(Q,R,M),p[v+3+96]=xt(R,M,M)}function Uo(p,v){var C=p[v-1+0],E=p[v-1+32],N=p[v-1+64],P=p[v-1-32],Q=p[v+0-32],R=p[v+1-32],M=p[v+2-32],z=p[v+3-32];p[v+0+0]=p[v+1+64]=P+Q+1>>1,p[v+1+0]=p[v+2+64]=Q+R+1>>1,p[v+2+0]=p[v+3+64]=R+M+1>>1,p[v+3+0]=M+z+1>>1,p[v+0+96]=xt(N,E,C),p[v+0+64]=xt(E,C,P),p[v+0+32]=p[v+1+96]=xt(C,P,Q),p[v+1+32]=p[v+2+96]=xt(P,Q,R),p[v+2+32]=p[v+3+96]=xt(Q,R,M),p[v+3+32]=xt(R,M,z)}function Mp(p,v){var C=p[v+0-32],E=p[v+1-32],N=p[v+2-32],P=p[v+3-32],Q=p[v+4-32],R=p[v+5-32],M=p[v+6-32],z=p[v+7-32];p[v+0+0]=C+E+1>>1,p[v+1+0]=p[v+0+64]=E+N+1>>1,p[v+2+0]=p[v+1+64]=N+P+1>>1,p[v+3+0]=p[v+2+64]=P+Q+1>>1,p[v+0+32]=xt(C,E,N),p[v+1+32]=p[v+0+96]=xt(E,N,P),p[v+2+32]=p[v+1+96]=xt(N,P,Q),p[v+3+32]=p[v+2+96]=xt(P,Q,R),p[v+3+64]=xt(Q,R,M),p[v+3+96]=xt(R,M,z)}function Hp(p,v){var C=p[v-1+0],E=p[v-1+32],N=p[v-1+64],P=p[v-1+96];p[v+0+0]=C+E+1>>1,p[v+2+0]=p[v+0+32]=E+N+1>>1,p[v+2+32]=p[v+0+64]=N+P+1>>1,p[v+1+0]=xt(C,E,N),p[v+3+0]=p[v+1+32]=xt(E,N,P),p[v+3+32]=p[v+1+64]=xt(N,P,P),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=P}function Nl(p,v){var C=p[v-1+0],E=p[v-1+32],N=p[v-1+64],P=p[v-1+96],Q=p[v-1-32],R=p[v+0-32],M=p[v+1-32],z=p[v+2-32];p[v+0+0]=p[v+2+32]=C+Q+1>>1,p[v+0+32]=p[v+2+64]=E+C+1>>1,p[v+0+64]=p[v+2+96]=N+E+1>>1,p[v+0+96]=P+N+1>>1,p[v+3+0]=xt(R,M,z),p[v+2+0]=xt(Q,R,M),p[v+1+0]=p[v+3+32]=xt(C,Q,R),p[v+1+32]=p[v+3+64]=xt(E,C,Q),p[v+1+64]=p[v+3+96]=xt(N,E,C),p[v+1+96]=xt(P,N,E)}function pu(p,v){var C;for(C=0;8>C;++C)n(p,v+32*C,p,v-32,8)}function CA(p,v){var C;for(C=0;8>C;++C)i(p,v,p[v-1],8),v+=32}function Ul(p,v,C){var E;for(E=0;8>E;++E)i(v,C+32*E,p,8)}function Tl(p,v){var C,E=8;for(C=0;8>C;++C)E+=p[v+C-32]+p[v-1+32*C];Ul(E>>4,p,v)}function Kp(p,v){var C,E=4;for(C=0;8>C;++C)E+=p[v+C-32];Ul(E>>3,p,v)}function gu(p,v){var C,E=4;for(C=0;8>C;++C)E+=p[v-1+32*C];Ul(E>>3,p,v)}function vu(p,v){Ul(128,p,v)}function _A(p,v,C){var E=p[v-C],N=p[v+0],P=3*(N-E)+Vp[1020+p[v-2*C]-p[v+C]],Q=Kd[112+(P+4>>3)];p[v-C]=Li[255+E+Kd[112+(P+3>>3)]],p[v+0]=Li[255+N-Q]}function EA(p,v,C,E){var N=p[v+0],P=p[v+C];return aa[255+p[v-2*C]-p[v-C]]>E||aa[255+P-N]>E}function mu(p,v,C,E){return 4*aa[255+p[v-C]-p[v+0]]+aa[255+p[v-2*C]-p[v+C]]<=E}function Ll(p,v,C,E,N){var P=p[v-3*C],Q=p[v-2*C],R=p[v-C],M=p[v+0],z=p[v+C],re=p[v+2*C],de=p[v+3*C];return 4*aa[255+R-M]+aa[255+Q-z]>E?0:aa[255+p[v-4*C]-P]<=N&&aa[255+P-Q]<=N&&aa[255+Q-R]<=N&&aa[255+de-re]<=N&&aa[255+re-z]<=N&&aa[255+z-M]<=N}function wu(p,v,C,E){var N=2*E+1;for(E=0;16>E;++E)mu(p,v+E,C,N)&&_A(p,v+E,C)}function SA(p,v,C,E){var N=2*E+1;for(E=0;16>E;++E)mu(p,v+E*C,1,N)&&_A(p,v+E*C,1)}function Od(p,v,C,E){var N;for(N=3;0<N;--N)wu(p,v+=4*C,C,E)}function kd(p,v,C,E){var N;for(N=3;0<N;--N)SA(p,v+=4,C,E)}function To(p,v,C,E,N,P,Q,R){for(P=2*P+1;0<N--;){if(Ll(p,v,C,P,Q))if(EA(p,v,C,R))_A(p,v,C);else{var M=p,z=v,re=C,de=M[z-2*re],q=M[z-re],ne=M[z+0],Ae=M[z+re],ye=M[z+2*re],fe=27*(be=Vp[1020+3*(ne-q)+Vp[1020+de-Ae]])+63>>7,xe=18*be+63>>7,be=9*be+63>>7;M[z-3*re]=Li[255+M[z-3*re]+be],M[z-2*re]=Li[255+de+xe],M[z-re]=Li[255+q+fe],M[z+0]=Li[255+ne-fe],M[z+re]=Li[255+Ae-xe],M[z+2*re]=Li[255+ye-be]}v+=E}}function Lo(p,v,C,E,N,P,Q,R){for(P=2*P+1;0<N--;){if(Ll(p,v,C,P,Q))if(EA(p,v,C,R))_A(p,v,C);else{var M=p,z=v,re=C,de=M[z-re],q=M[z+0],ne=M[z+re],Ae=Kd[112+(4+(ye=3*(q-de))>>3)],ye=Kd[112+(ye+3>>3)],fe=Ae+1>>1;M[z-2*re]=Li[255+M[z-2*re]+fe],M[z-re]=Li[255+de+ye],M[z+0]=Li[255+q-Ae],M[z+re]=Li[255+ne-fe]}v+=E}}function Dd(p,v,C,E,N,P){To(p,v,C,1,16,E,N,P)}function Pd(p,v,C,E,N,P){To(p,v,1,C,16,E,N,P)}function IA(p,v,C,E,N,P){var Q;for(Q=3;0<Q;--Q)Lo(p,v+=4*C,C,1,16,E,N,P)}function Qd(p,v,C,E,N,P){var Q;for(Q=3;0<Q;--Q)Lo(p,v+=4,1,C,16,E,N,P)}function B(p,v,C,E,N,P,Q,R){To(p,v,N,1,8,P,Q,R),To(C,E,N,1,8,P,Q,R)}function F(p,v,C,E,N,P,Q,R){To(p,v,1,N,8,P,Q,R),To(C,E,1,N,8,P,Q,R)}function X(p,v,C,E,N,P,Q,R){Lo(p,v+4*N,N,1,8,P,Q,R),Lo(C,E+4*N,N,1,8,P,Q,R)}function ee(p,v,C,E,N,P,Q,R){Lo(p,v+4,1,N,8,P,Q,R),Lo(C,E+4,1,N,8,P,Q,R)}function se(){this.ba=new Ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Be(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ne(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ze(){this.ua=0,this.Wa=new We,this.vb=new We,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new j}function Ze(){this.xb=this.a=0,this.l=new Fl,this.ca=new Ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ze,this.ab=0,this.gc=o(4,Ne),this.Oc=0}function mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Fl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bt(p,v,C,E,N,P,Q){for(p=p==null?0:p[v+0],v=0;v<Q;++v)N[P+v]=p+C[E+v]&255,p=N[P+v]}function Mt(p,v,C,E,N,P,Q){var R;if(p==null)bt(null,null,C,E,N,P,Q);else for(R=0;R<Q;++R)N[P+R]=p[v+R]+C[E+R]&255}function Ur(p,v,C,E,N,P,Q){if(p==null)bt(null,null,C,E,N,P,Q);else{var R,M=p[v+0],z=M,re=M;for(R=0;R<Q;++R)z=re+(M=p[v+R])-z,re=C[E+R]+(-256&z?0>z?0:255:z)&255,z=M,N[P+R]=re}}function rn(p,v,C,E){var N=v.width,P=v.o;if(e(p!=null&&v!=null),0>C||0>=E||C+E>P)return null;if(!p.Cc){if(p.ga==null){var Q;if(p.ga=new mt,(Q=p.ga==null)||(Q=v.width*v.o,e(p.Gb.length==0),p.Gb=a(Q),p.Uc=0,p.Gb==null?Q=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,Q=1),Q=!Q),!Q){Q=p.ga;var R=p.Fa,M=p.P,z=p.qc,re=p.mb,de=p.nb,q=M+1,ne=z-1,Ae=Q.l;if(e(R!=null&&re!=null&&v!=null),xs[0]=null,xs[1]=bt,xs[2]=Mt,xs[3]=Ur,Q.ca=re,Q.tb=de,Q.c=v.width,Q.i=v.height,e(0<Q.c&&0<Q.i),1>=z)v=0;else if(Q.$a=3&R[M+0],Q.Z=R[M+0]>>2&3,Q.Lc=R[M+0]>>4&3,M=R[M+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||M)v=0;else if(Ae.put=ut,Ae.ac=Ja,Ae.bc=So,Ae.ma=Q,Ae.width=v.width,Ae.height=v.height,Ae.Da=v.Da,Ae.v=v.v,Ae.va=v.va,Ae.j=v.j,Ae.o=v.o,Q.$a)e:{e(Q.$a==1),v=mA();t:for(;;){if(v==null){v=0;break e}if(e(Q!=null),Q.mc=v,v.c=Q.c,v.i=Q.i,v.l=Q.l,v.l.ma=Q,v.l.width=Q.c,v.l.height=Q.i,v.a=0,ae(v.m,R,q,ne),!eo(Q.c,Q.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ba(v.s)?(Q.ic=1,R=v.c*v.i,v.Ta=null,v.Ua=0,v.V=a(R),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Q.ic=0,v=wA(v,Q.c)),!v))break t;v=1;break e}Q.mc=null,v=0}else v=ne>=Q.c*Q.i;Q=!v}if(Q)return null;p.ga.Lc!=1?p.Ga=0:E=P-C}e(p.ga!=null),e(C+E<=P);e:{if(v=(R=p.ga).c,P=R.l.o,R.$a==0){if(q=p.rc,ne=p.Vc,Ae=p.Fa,M=p.P+1+C*v,z=p.mb,re=p.nb+C*v,e(M<=p.P+p.qc),R.Z!=0)for(e(xs[R.Z]!=null),Q=0;Q<E;++Q)xs[R.Z](q,ne,Ae,M,z,re,v),q=z,ne=re,re+=v,M+=v;else for(Q=0;Q<E;++Q)n(z,re,Ae,M,v),q=z,ne=re,re+=v,M+=v;p.rc=q,p.Vc=ne}else{if(e(R.mc!=null),v=C+E,e((Q=R.mc)!=null),e(v<=Q.i),Q.C>=v)v=1;else if(R.ic||ra(),R.ic){R=Q.V,q=Q.Ba,ne=Q.c;var ye=Q.i,fe=(Ae=1,M=Q.$/ne,z=Q.$%ne,re=Q.m,de=Q.s,Q.$),xe=ne*ye,be=ne*v,Te=de.wc,Fe=fe<be?Nn(de,z,M):null;e(fe<=xe),e(v<=ye),e(Ba(de));t:for(;;){for(;!re.h&&fe<be;){if(z&Te||(Fe=Nn(de,z,M)),e(Fe!=null),oe(re),256>(ye=Qr(Fe.G[0],Fe.H[0],re)))R[q+fe]=ye,++fe,++z>=ne&&(z=0,++M<=v&&!(M%16)&&ba(Q,M));else{if(!(280>ye)){Ae=0;break t}ye=Ji(ye-256,re);var et,Ge=Qr(Fe.G[4],Fe.H[4],re);if(oe(re),!(fe>=(Ge=Zi(ne,Ge=Ji(Ge,re)))&&xe-fe>=ye)){Ae=0;break t}for(et=0;et<ye;++et)R[q+fe+et]=R[q+fe+et-Ge];for(fe+=ye,z+=ye;z>=ne;)z-=ne,++M<=v&&!(M%16)&&ba(Q,M);fe<be&&z&Te&&(Fe=Nn(de,z,M))}e(re.h==Z(re))}ba(Q,M>v?v:M);break t}!Ae||re.h&&fe<xe?(Ae=0,Q.a=re.h?5:3):Q.$=fe,v=Ae}else v=Ca(Q,Q.V,Q.Ba,Q.c,Q.i,v,El);if(!v){E=0;break e}}C+E>=P&&(p.Cc=1),E=1}if(!E)return null;if(p.Cc&&((E=p.ga)!=null&&(E.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+C*N}function fr(p,v,C,E,N,P){for(;0<N--;){var Q,R=p,M=v+(C?1:0),z=p,re=v+(C?0:3);for(Q=0;Q<E;++Q){var de=z[re+4*Q];de!=255&&(de*=32897,R[M+4*Q+0]=R[M+4*Q+0]*de>>23,R[M+4*Q+1]=R[M+4*Q+1]*de>>23,R[M+4*Q+2]=R[M+4*Q+2]*de>>23)}v+=P}}function ln(p,v,C,E,N){for(;0<E--;){var P;for(P=0;P<C;++P){var Q=p[v+2*P+0],R=15&(z=p[v+2*P+1]),M=4369*R,z=(240&z|z>>4)*M>>16;p[v+2*P+0]=(240&Q|Q>>4)*M>>16&240|(15&Q|Q<<4)*M>>16>>4&15,p[v+2*P+1]=240&z|R}v+=N}}function nn(p,v,C,E,N,P,Q,R){var M,z,re=255;for(z=0;z<N;++z){for(M=0;M<E;++M){var de=p[v+M];P[Q+4*M]=de,re&=de}v+=C,Q+=R}return re!=255}function Un(p,v,C,E,N){var P;for(P=0;P<N;++P)C[E+P]=p[v+P]>>8}function ra(){Nu=fr,Ey=ln,Sy=nn,Iy=Un}function pi(p,v,C){T[p]=function(E,N,P,Q,R,M,z,re,de,q,ne,Ae,ye,fe,xe,be,Te){var Fe,et=Te-1>>1,Ge=R[M+0]|z[re+0]<<16,St=de[q+0]|ne[Ae+0]<<16;e(E!=null);var qe=3*Ge+St+131074>>2;for(v(E[N+0],255&qe,qe>>16,ye,fe),P!=null&&(qe=3*St+Ge+131074>>2,v(P[Q+0],255&qe,qe>>16,xe,be)),Fe=1;Fe<=et;++Fe){var Lt=R[M+Fe]|z[re+Fe]<<16,un=de[q+Fe]|ne[Ae+Fe]<<16,It=Ge+Lt+St+un+524296,Xe=It+2*(Lt+St)>>3;qe=Xe+Ge>>1,Ge=(It=It+2*(Ge+un)>>3)+Lt>>1,v(E[N+2*Fe-1],255&qe,qe>>16,ye,fe+(2*Fe-1)*C),v(E[N+2*Fe-0],255&Ge,Ge>>16,ye,fe+(2*Fe-0)*C),P!=null&&(qe=It+St>>1,Ge=Xe+un>>1,v(P[Q+2*Fe-1],255&qe,qe>>16,xe,be+(2*Fe-1)*C),v(P[Q+2*Fe+0],255&Ge,Ge>>16,xe,be+(2*Fe+0)*C)),Ge=Lt,St=un}1&Te||(qe=3*Ge+St+131074>>2,v(E[N+Te-1],255&qe,qe>>16,ye,fe+(Te-1)*C),P!=null&&(qe=3*St+Ge+131074>>2,v(P[Q+Te-1],255&qe,qe>>16,xe,be+(Te-1)*C)))}}function Rd(){oa[Vd]=C6,oa[Gd]=Ry,oa[Oy]=_6,oa[$d]=jy,oa[Wd]=My,oa[Gp]=Hy,oa[ky]=E6,oa[$p]=Ry,oa[Wp]=jy,oa[zd]=My,oa[zp]=Hy}function Ol(p){return p&-16384?0>p?0:255:p>>S6}function FA(p,v){return Ol((19077*p>>8)+(26149*v>>8)-14234)}function fs(p,v,C){return Ol((19077*p>>8)-(6419*v>>8)-(13320*C>>8)+8708)}function NA(p,v){return Ol((19077*p>>8)+(33050*v>>8)-17685)}function UA(p,v,C,E,N){E[N+0]=FA(p,C),E[N+1]=fs(p,v,C),E[N+2]=NA(p,v)}function TA(p,v,C,E,N){E[N+0]=NA(p,v),E[N+1]=fs(p,v,C),E[N+2]=FA(p,C)}function Wn(p,v,C,E,N){var P=fs(p,v,C);v=P<<3&224|NA(p,v)>>3,E[N+0]=248&FA(p,C)|P>>5,E[N+1]=v}function LA(p,v,C,E,N){var P=240&NA(p,v)|15;E[N+0]=240&FA(p,C)|fs(p,v,C)>>4,E[N+1]=P}function OA(p,v,C,E,N){E[N+0]=255,UA(p,v,C,E,N+1)}function yu(p,v,C,E,N){TA(p,v,C,E,N),E[N+3]=255}function xu(p,v,C,E,N){UA(p,v,C,E,N),E[N+3]=255}function Rr(p,v){return 0>p?0:p>v?v:p}function Oo(p,v,C){T[p]=function(E,N,P,Q,R,M,z,re,de){for(var q=re+(-2&de)*C;re!=q;)v(E[N+0],P[Q+0],R[M+0],z,re),v(E[N+1],P[Q+0],R[M+0],z,re+C),N+=2,++Q,++M,re+=2*C;1&de&&v(E[N+0],P[Q+0],R[M+0],z,re)}}function kl(p,v,C){return C==0?p==0?v==0?6:5:v==0?4:0:C}function jd(p,v,C,E,N){switch(p>>>30){case 3:QA(v,C,E,N,0);break;case 2:ia(v,C,E,N);break;case 1:Wt(v,C,E,N)}}function na(p,v){var C,E,N=v.M,P=v.Nb,Q=p.oc,R=p.pc+40,M=p.oc,z=p.pc+584,re=p.oc,de=p.pc+600;for(C=0;16>C;++C)Q[R+32*C-1]=129;for(C=0;8>C;++C)M[z+32*C-1]=129,re[de+32*C-1]=129;for(0<N?Q[R-1-32]=M[z-1-32]=re[de-1-32]=129:(i(Q,R-32-1,127,21),i(M,z-32-1,127,9),i(re,de-32-1,127,9)),E=0;E<p.za;++E){var q=v.ya[v.aa+E];if(0<E){for(C=-1;16>C;++C)n(Q,R+32*C-4,Q,R+32*C+12,4);for(C=-1;8>C;++C)n(M,z+32*C-4,M,z+32*C+4,4),n(re,de+32*C-4,re,de+32*C+4,4)}var ne=p.Gd,Ae=p.Hd+E,ye=q.ad,fe=q.Hc;if(0<N&&(n(Q,R-32,ne[Ae].y,0,16),n(M,z-32,ne[Ae].f,0,8),n(re,de-32,ne[Ae].ea,0,8)),q.Za){var xe=Q,be=R-32+16;for(0<N&&(E>=p.za-1?i(xe,be,ne[Ae].y[15],4):n(xe,be,ne[Ae+1].y,0,4)),C=0;4>C;C++)xe[be+128+C]=xe[be+256+C]=xe[be+384+C]=xe[be+0+C];for(C=0;16>C;++C,fe<<=2)xe=Q,be=R+Vy[C],Ea[q.Ob[C]](xe,be),jd(fe,ye,16*+C,xe,be)}else if(xe=kl(E,N,q.Ob[0]),ys[xe](Q,R),fe!=0)for(C=0;16>C;++C,fe<<=2)jd(fe,ye,16*+C,Q,R+Vy[C]);for(C=q.Gc,xe=kl(E,N,q.Dd),Po[xe](M,z),Po[xe](re,de),fe=ye,xe=M,be=z,255&(q=0|C)&&(170&q?io(fe,256,xe,be):lr(fe,256,xe,be)),q=re,fe=de,255&(C>>=8)&&(170&C?io(ye,320,q,fe):lr(ye,320,q,fe)),N<p.Ub-1&&(n(ne[Ae].y,0,Q,R+480,16),n(ne[Ae].f,0,M,z+224,8),n(ne[Ae].ea,0,re,de+224,8)),C=8*P*p.B,ne=p.sa,Ae=p.ta+16*E+16*P*p.R,ye=p.qa,q=p.ra+8*E+C,fe=p.Ha,xe=p.Ia+8*E+C,C=0;16>C;++C)n(ne,Ae+C*p.R,Q,R+32*C,16);for(C=0;8>C;++C)n(ye,q+C*p.B,M,z+32*C,8),n(fe,xe+C*p.B,re,de+32*C,8)}}function kA(p,v,C,E,N,P,Q,R,M){var z=[0],re=[0],de=0,q=M!=null?M.kd:0,ne=M??new Be;if(p==null||12>C)return 7;ne.data=p,ne.w=v,ne.ha=C,v=[v],C=[C],ne.gb=[ne.gb];e:{var Ae=v,ye=C,fe=ne.gb;if(e(p!=null),e(ye!=null),e(fe!=null),fe[0]=0,12<=ye[0]&&!r(p,Ae[0],"RIFF")){if(r(p,Ae[0]+8,"WEBP")){fe=3;break e}var xe=he(p,Ae[0]+4);if(12>xe||4294967286<xe){fe=3;break e}if(q&&xe>ye[0]-8){fe=7;break e}fe[0]=xe,Ae[0]+=12,ye[0]-=12}fe=0}if(fe!=0)return fe;for(xe=0<ne.gb[0],C=C[0];;){e:{var be=p;ye=v,fe=C;var Te=z,Fe=re,et=Ae=[0];if((qe=de=[de])[0]=0,8>fe[0])fe=7;else{if(!r(be,ye[0],"VP8X")){if(he(be,ye[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var Ge=he(be,ye[0]+8),St=1+_e(be,ye[0]+12);if(2147483648<=St*(be=1+_e(be,ye[0]+15))){fe=3;break e}et!=null&&(et[0]=Ge),Te!=null&&(Te[0]=St),Fe!=null&&(Fe[0]=be),ye[0]+=18,fe[0]-=18,qe[0]=1}fe=0}}if(de=de[0],Ae=Ae[0],fe!=0)return fe;if(ye=!!(2&Ae),!xe&&de)return 3;if(P!=null&&(P[0]=!!(16&Ae)),Q!=null&&(Q[0]=ye),R!=null&&(R[0]=0),Q=z[0],Ae=re[0],de&&ye&&M==null){fe=0;break}if(4>C){fe=7;break}if(xe&&de||!xe&&!de&&!r(p,v[0],"ALPH")){C=[C],ne.na=[ne.na],ne.P=[ne.P],ne.Sa=[ne.Sa];e:{Ge=p,fe=v,xe=C;var qe=ne.gb;Te=ne.na,Fe=ne.P,et=ne.Sa,St=22,e(Ge!=null),e(xe!=null),be=fe[0];var Lt=xe[0];for(e(Te!=null),e(et!=null),Te[0]=null,Fe[0]=null,et[0]=0;;){if(fe[0]=be,xe[0]=Lt,8>Lt){fe=7;break e}var un=he(Ge,be+4);if(4294967286<un){fe=3;break e}var It=8+un+1&-2;if(St+=It,0<qe&&St>qe){fe=3;break e}if(!r(Ge,be,"VP8 ")||!r(Ge,be,"VP8L")){fe=0;break e}if(Lt[0]<It){fe=7;break e}r(Ge,be,"ALPH")||(Te[0]=Ge,Fe[0]=be+8,et[0]=un),be+=It,Lt-=It}}if(C=C[0],ne.na=ne.na[0],ne.P=ne.P[0],ne.Sa=ne.Sa[0],fe!=0)break}C=[C],ne.Ja=[ne.Ja],ne.xa=[ne.xa];e:if(qe=p,fe=v,xe=C,Te=ne.gb[0],Fe=ne.Ja,et=ne.xa,Ge=fe[0],be=!r(qe,Ge,"VP8 "),St=!r(qe,Ge,"VP8L"),e(qe!=null),e(xe!=null),e(Fe!=null),e(et!=null),8>xe[0])fe=7;else{if(be||St){if(qe=he(qe,Ge+4),12<=Te&&qe>Te-12){fe=3;break e}if(q&&qe>xe[0]-8){fe=7;break e}Fe[0]=qe,fe[0]+=8,xe[0]-=8,et[0]=St}else et[0]=5<=xe[0]&&qe[Ge+0]==47&&!(qe[Ge+4]>>5),Fe[0]=xe[0];fe=0}if(C=C[0],ne.Ja=ne.Ja[0],ne.xa=ne.xa[0],v=v[0],fe!=0)break;if(4294967286<ne.Ja)return 3;if(R==null||ye||(R[0]=ne.xa?2:1),Q=[Q],Ae=[Ae],ne.xa){if(5>C){fe=7;break}R=Q,q=Ae,ye=P,p==null||5>C?p=0:5<=C&&p[v+0]==47&&!(p[v+4]>>5)?(xe=[0],qe=[0],Te=[0],ae(Fe=new W,p,v,C),Io(Fe,xe,qe,Te)?(R!=null&&(R[0]=xe[0]),q!=null&&(q[0]=qe[0]),ye!=null&&(ye[0]=Te[0]),p=1):p=0):p=0}else{if(10>C){fe=7;break}R=Ae,p==null||10>C||!Nd(p,v+3,C-3)?p=0:(q=p[v+0]|p[v+1]<<8|p[v+2]<<16,ye=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&q||3<(q>>1&7)||!(q>>4&1)||q>>5>=ne.Ja||!ye||!p?p=0:(Q&&(Q[0]=ye),R&&(R[0]=p),p=1))}if(!p||(Q=Q[0],Ae=Ae[0],de&&(z[0]!=Q||re[0]!=Ae)))return 3;M!=null&&(M[0]=ne,M.offset=v-M.w,e(4294967286>v-M.w),e(M.offset==M.ha-C));break}return fe==0||fe==7&&de&&M==null?(P!=null&&(P[0]|=ne.na!=null&&0<ne.na.length),E!=null&&(E[0]=Q),N!=null&&(N[0]=Ae),0):fe}function Bu(p,v,C){var E=v.width,N=v.height,P=0,Q=0,R=E,M=N;if(v.Da=p!=null&&0<p.Da,v.Da&&(R=p.cd,M=p.bd,P=p.v,Q=p.j,11>C||(P&=-2,Q&=-2),0>P||0>Q||0>=R||0>=M||P+R>E||Q+M>N))return 0;if(v.v=P,v.j=Q,v.va=P+R,v.o=Q+M,v.U=R,v.T=M,v.da=p!=null&&0<p.da,v.da){if(!Ve(R,M,C=[p.ib],P=[p.hb]))return 0;v.ib=C[0],v.hb=P[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*E/4&&v.hb<3*N/4,v.Kb=0),1}function bu(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function ds(p,v,C,E){if(E==null||0>=p||0>=v)return 2;if(C!=null){if(C.Da){var N=C.cd,P=C.bd,Q=-2&C.v,R=-2&C.j;if(0>Q||0>R||0>=N||0>=P||Q+N>p||R+P>v)return 2;p=N,v=P}if(C.da){if(!Ve(p,v,N=[C.ib],P=[C.hb]))return 2;p=N[0],v=P[0]}}E.width=p,E.height=v;e:{var M=E.width,z=E.height;if(p=E.S,0>=M||0>=z||!(p>=Vd&&13>p))p=2;else{if(0>=E.Rd&&E.sd==null){Q=P=N=v=0;var re=(R=M*Gy[p])*z;if(11>p||(P=(z+1)/2*(v=(M+1)/2),p==12&&(Q=(N=M)*z)),(z=a(re+2*P+Q))==null){p=1;break e}E.sd=z,11>p?((M=E.f.RGBA).eb=z,M.fb=0,M.A=R,M.size=re):((M=E.f.kb).y=z,M.O=0,M.fa=R,M.Fd=re,M.f=z,M.N=0+re,M.Ab=v,M.Cd=P,M.ea=z,M.W=0+re+P,M.Db=v,M.Ed=P,p==12&&(M.F=z,M.J=0+re+2*P),M.Tc=Q,M.lb=N)}if(v=1,N=E.S,P=E.width,Q=E.height,N>=Vd&&13>N)if(11>N)p=E.f.RGBA,v&=(R=Math.abs(p.A))*(Q-1)+P<=p.size,v&=R>=P*Gy[N],v&=p.eb!=null;else{p=E.f.kb,R=(P+1)/2,re=(Q+1)/2,M=Math.abs(p.fa),z=Math.abs(p.Ab);var de=Math.abs(p.Db),q=Math.abs(p.lb),ne=q*(Q-1)+P;v&=M*(Q-1)+P<=p.Fd,v&=z*(re-1)+R<=p.Cd,v=(v&=de*(re-1)+R<=p.Ed)&M>=P&z>=R&de>=R,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,N==12&&(v&=q>=P,v&=ne<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||C!=null&&C.fd&&(p=bu(E)),p}var DA=64,Ui=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ti=24,hs=32,ko=8,ps=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(p){return p},T.Predictor2=function(p,v,C){return v[C+0]},T.Predictor3=function(p,v,C){return v[C+1]},T.Predictor4=function(p,v,C){return v[C-1]},T.Predictor5=function(p,v,C){return nt(nt(p,v[C+1]),v[C+0])},T.Predictor6=function(p,v,C){return nt(p,v[C-1])},T.Predictor7=function(p,v,C){return nt(p,v[C+0])},T.Predictor8=function(p,v,C){return nt(v[C-1],v[C+0])},T.Predictor9=function(p,v,C){return nt(v[C+0],v[C+1])},T.Predictor10=function(p,v,C){return nt(nt(p,v[C-1]),nt(v[C+0],v[C+1]))},T.Predictor11=function(p,v,C){var E=v[C+0];return 0>=wt(E>>24&255,p>>24&255,(v=v[C-1])>>24&255)+wt(E>>16&255,p>>16&255,v>>16&255)+wt(E>>8&255,p>>8&255,v>>8&255)+wt(255&E,255&p,255&v)?E:p},T.Predictor12=function(p,v,C){var E=v[C+0];return(Nt((p>>24&255)+(E>>24&255)-((v=v[C-1])>>24&255))<<24|Nt((p>>16&255)+(E>>16&255)-(v>>16&255))<<16|Nt((p>>8&255)+(E>>8&255)-(v>>8&255))<<8|Nt((255&p)+(255&E)-(255&v)))>>>0},T.Predictor13=function(p,v,C){var E=v[C-1];return(pt((p=nt(p,v[C+0]))>>24&255,E>>24&255)<<24|pt(p>>16&255,E>>16&255)<<16|pt(p>>8&255,E>>8&255)<<8|pt(255&p,255&E))>>>0};var Cu=T.PredictorAdd0;T.PredictorAdd1=Gt,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var Dl=T.PredictorAdd2;at("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),at("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Gr,Md=T.ColorIndexInverseTransform,ro=T.MapARGB,no=T.VP8LColorIndexInverseTransformAlpha,_u=T.MapAlpha,Eu=T.VP8LPredictorsAdd=[];Eu.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Su,Iu,gs,vs,ms,PA,ws,QA,ia,io,Wt,lr,$r,cn,Do,Fu,Pl,Hd,yy,xy,By,by,Cy,_y,Nu,Ey,Sy,Iy,Fy=a(511),Ny=a(2041),Uy=a(225),Ty=a(767),Ly=0,Vp=Ny,Kd=Uy,Li=Ty,aa=Fy,Vd=0,Gd=1,Oy=2,$d=3,Wd=4,Gp=5,ky=6,$p=7,Wp=8,zd=9,zp=10,c6=[2,3,7],u6=[3,3,11],Dy=[280,256,256,256,40],f6=[0,1,1,1,0],d6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],h6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],p6=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],g6=8,qp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Uu=null,v6=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],m6=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Py=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],w6=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],y6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],x6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],B6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ys=[],Ea=[],Po=[],b6=1,Qy=2,xs=[],oa=[];pi("UpsampleRgbLinePair",UA,3),pi("UpsampleBgrLinePair",TA,3),pi("UpsampleRgbaLinePair",xu,4),pi("UpsampleBgraLinePair",yu,4),pi("UpsampleArgbLinePair",OA,4),pi("UpsampleRgba4444LinePair",LA,2),pi("UpsampleRgb565LinePair",Wn,2);var C6=T.UpsampleRgbLinePair,_6=T.UpsampleBgrLinePair,Ry=T.UpsampleRgbaLinePair,jy=T.UpsampleBgraLinePair,My=T.UpsampleArgbLinePair,Hy=T.UpsampleRgba4444LinePair,E6=T.UpsampleRgb565LinePair,qd=16,Xd=1<<qd-1,Tu=-227,Yp=482,S6=6,Ky=0,I6=a(256),F6=a(256),N6=a(256),U6=a(256),T6=a(Yp-Tu),L6=a(Yp-Tu);Oo("YuvToRgbRow",UA,3),Oo("YuvToBgrRow",TA,3),Oo("YuvToRgbaRow",xu,4),Oo("YuvToBgraRow",yu,4),Oo("YuvToArgbRow",OA,4),Oo("YuvToRgba4444Row",LA,2),Oo("YuvToRgb565Row",Wn,2);var Vy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yd=[0,2,8],O6=[8,7,6,4,4,2,2,2,1,1,1,1],k6=1;this.WebPDecodeRGBA=function(p,v,C,E,N){var P=Gd,Q=new se,R=new Ar;Q.ba=R,R.S=P,R.width=[R.width],R.height=[R.height];var M=R.width,z=R.height,re=new yt;if(re==null||p==null)var de=2;else e(re!=null),de=kA(p,v,C,re.width,re.height,re.Pd,re.Qd,re.format,null);if(de!=0?M=0:(M!=null&&(M[0]=re.width[0]),z!=null&&(z[0]=re.height[0]),M=1),M){R.width=R.width[0],R.height=R.height[0],E!=null&&(E[0]=R.width),N!=null&&(N[0]=R.height);e:{if(E=new Fl,(N=new Be).data=p,N.w=v,N.ha=C,N.kd=1,v=[0],e(N!=null),((p=kA(N.data,N.w,N.ha,null,null,null,v,null,N))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(Q!=null),E.data=N.data,E.w=N.w+N.offset,E.ha=N.ha-N.offset,E.put=ut,E.ac=Ja,E.bc=So,E.ma=Q,N.xa){if((p=mA())==null){Q=1;break e}if(function(q,ne){var Ae=[0],ye=[0],fe=[0];t:for(;;){if(q==null)return 0;if(ne==null)return q.a=2,0;if(q.l=ne,q.a=0,ae(q.m,ne.data,ne.w,ne.ha),!Io(q.m,Ae,ye,fe)){q.a=3;break t}if(q.xb=Qy,ne.width=Ae[0],ne.height=ye[0],!eo(Ae[0],ye[0],1,q,null))break t;return 1}return e(q.a!=0),0}(p,E)){if(E=(v=ds(E.width,E.height,Q.Oa,Q.ba))==0){t:{E=p;r:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((C=E.l)!=null),e((N=C.ma)!=null),E.xb!=0){if(E.ca=N.ba,E.tb=N.tb,e(E.ca!=null),!Bu(N.Oa,C,$d)){E.a=2;break r}if(!wA(E,C.width)||C.da)break r;if((C.da||ct(E.ca.S))&&ra(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ra()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!$(E.s.vb,E.s.Wa.Xa)){E.a=1;break r}E.xb=0}if(!Ca(E,E.V,E.Ba,E.c,E.i,C.o,ls))break r;N.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(v=p.a)}else v=p.a}else{if((p=new Fp)==null){Q=1;break e}if(p.Fa=N.na,p.P=N.P,p.qc=N.Sa,Ud(p,E)){if((v=ds(E.width,E.height,Q.Oa,Q.ba))==0){if(p.Aa=0,C=Q.Oa,e((N=p)!=null),C!=null){if(0<(M=0>(M=C.Md)?0:100<M?255:255*M/100)){for(z=re=0;4>z;++z)12>(de=N.pb[z]).lc&&(de.ia=M*O6[0>de.lc?0:de.lc]>>3),re|=de.ia;re&&(alert("todo:VP8InitRandom"),N.ia=1)}N.Ga=C.Id,100<N.Ga?N.Ga=100:0>N.Ga&&(N.Ga=0)}(function(q,ne){if(q==null)return 0;if(ne==null)return tn(q,2,"NULL VP8Io parameter in VP8Decode().");if(!q.cb&&!Ud(q,ne))return 0;if(e(q.cb),ne.ac==null||ne.ac(ne)){ne.ob&&(q.L=0);var Ae=Yd[q.L];if(q.L==2?(q.yb=0,q.zb=0):(q.yb=ne.v-Ae>>4,q.zb=ne.j-Ae>>4,0>q.yb&&(q.yb=0),0>q.zb&&(q.zb=0)),q.Va=ne.o+15+Ae>>4,q.Hb=ne.va+15+Ae>>4,q.Hb>q.za&&(q.Hb=q.za),q.Va>q.Ub&&(q.Va=q.Ub),0<q.L){var ye=q.ed;for(Ae=0;4>Ae;++Ae){var fe;if(q.Qa.Cb){var xe=q.Qa.Lb[Ae];q.Qa.Fb||(xe+=ye.Tb)}else xe=ye.Tb;for(fe=0;1>=fe;++fe){var be=q.gd[Ae][fe],Te=xe;if(ye.Pc&&(Te+=ye.vd[0],fe&&(Te+=ye.od[0])),0<(Te=0>Te?0:63<Te?63:Te)){var Fe=Te;0<ye.wb&&(Fe=4<ye.wb?Fe>>2:Fe>>1)>9-ye.wb&&(Fe=9-ye.wb),1>Fe&&(Fe=1),be.dd=Fe,be.tc=2*Te+Fe,be.ld=40<=Te?2:15<=Te?1:0}else be.tc=0;be.La=fe}}}Ae=0}else tn(q,6,"Frame setup failed"),Ae=q.a;if(Ae=Ae==0){if(Ae){q.$c=0,0<q.Aa||(q.Ic=k6);t:{Ae=q.Ic,ye=4*(Fe=q.za);var et=32*Fe,Ge=Fe+1,St=0<q.L?Fe*(0<q.Aa?2:1):0,qe=(q.Aa==2?2:1)*Fe;if((be=ye+832+(fe=3*(16*Ae+Yd[q.L])/2*et)+(xe=q.Fa!=null&&0<q.Fa.length?q.Kc.c*q.Kc.i:0))!=be)Ae=0;else{if(be>q.Vb){if(q.Vb=0,q.Ec=a(be),q.Fc=0,q.Ec==null){Ae=tn(q,1,"no memory during frame initialization.");break t}q.Vb=be}be=q.Ec,Te=q.Fc,q.Ac=be,q.Bc=Te,Te+=ye,q.Gd=o(et,Id),q.Hd=0,q.rb=o(Ge+1,lu),q.sb=1,q.wa=St?o(St,ta):null,q.Y=0,q.D.Nb=0,q.D.wa=q.wa,q.D.Y=q.Y,0<q.Aa&&(q.D.Y+=Fe),e(!0),q.oc=be,q.pc=Te,Te+=832,q.ya=o(qe,cu),q.aa=0,q.D.ya=q.ya,q.D.aa=q.aa,q.Aa==2&&(q.D.aa+=Fe),q.R=16*Fe,q.B=8*Fe,Fe=(et=Yd[q.L])*q.R,et=et/2*q.B,q.sa=be,q.ta=Te+Fe,q.qa=q.sa,q.ra=q.ta+16*Ae*q.R+et,q.Ha=q.qa,q.Ia=q.ra+8*Ae*q.B+et,q.$c=0,Te+=fe,q.mb=xe?be:null,q.nb=xe?Te:null,e(Te+xe<=q.Fc+q.Vb),yA(q),i(q.Ac,q.Bc,0,ye),Ae=1}}if(Ae){if(ne.ka=0,ne.y=q.sa,ne.O=q.ta,ne.f=q.qa,ne.N=q.ra,ne.ea=q.Ha,ne.Vd=q.Ia,ne.fa=q.R,ne.Rc=q.B,ne.F=null,ne.J=0,!Ly){for(Ae=-255;255>=Ae;++Ae)Fy[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)Ny[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)Uy[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)Ty[255+Ae]=0>Ae?0:255<Ae?255:Ae;Ly=1}ws=Ld,QA=Up,io=Tp,Wt=to,lr=Td,ia=Np,$r=Dd,cn=Pd,Do=B,Fu=F,Pl=IA,Hd=Qd,yy=X,xy=ee,By=wu,by=SA,Cy=Od,_y=kd,Ea[0]=Rp,Ea[1]=fu,Ea[2]=Pp,Ea[3]=Qp,Ea[4]=jp,Ea[5]=Uo,Ea[6]=No,Ea[7]=Mp,Ea[8]=Nl,Ea[9]=Hp,ys[0]=us,ys[1]=Op,ys[2]=kp,ys[3]=du,ys[4]=Dp,ys[5]=bA,ys[6]=hu,Po[0]=Tl,Po[1]=Lp,Po[2]=pu,Po[3]=CA,Po[4]=gu,Po[5]=Kp,Po[6]=vu,Ae=1}else Ae=0}Ae&&(Ae=function(Lt,un){for(Lt.M=0;Lt.M<Lt.Va;++Lt.M){var It,Xe=Lt.Jc[Lt.M&Lt.Xb],De=Lt.m,Wr=Lt;for(It=0;It<Wr.za;++It){var Et=De,Ot=Wr,wr=Ot.Ac,Tn=Ot.Bc+4*It,ai=Ot.zc,jr=Ot.ya[Ot.aa+It];if(Ot.Qa.Bb?jr.$b=we(Et,Ot.Pa.jb[0])?2+we(Et,Ot.Pa.jb[2]):we(Et,Ot.Pa.jb[1]):jr.$b=0,Ot.kc&&(jr.Ad=we(Et,Ot.Bd)),jr.Za=!we(Et,145)+0,jr.Za){var zn=jr.Ob,oi=0;for(Ot=0;4>Ot;++Ot){var fn,Dt=ai[0+Ot];for(fn=0;4>fn;++fn){Dt=y6[wr[Tn+fn]][Dt];for(var Yt=Py[we(Et,Dt[0])];0<Yt;)Yt=Py[2*Yt+we(Et,Dt[Yt])];Dt=-Yt,wr[Tn+fn]=Dt}n(zn,oi,wr,Tn,4),oi+=4,ai[0+Ot]=Dt}}else Dt=we(Et,156)?we(Et,128)?1:3:we(Et,163)?2:0,jr.Ob[0]=Dt,i(wr,Tn,Dt,4),i(ai,0,Dt,4);jr.Dd=we(Et,142)?we(Et,114)?we(Et,183)?1:3:2:0}if(Wr.m.Ka)return tn(Lt,7,"Premature end-of-partition0 encountered.");for(;Lt.ja<Lt.za;++Lt.ja){if(Wr=Xe,Et=(De=Lt).rb[De.sb-1],wr=De.rb[De.sb+De.ja],It=De.ya[De.aa+De.ja],Tn=De.kc?It.Ad:0)Et.la=wr.la=0,It.Za||(Et.Na=wr.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var Mr,Jt;if(Et=wr,wr=Wr,Tn=De.Pa.Xc,ai=De.ya[De.aa+De.ja],jr=De.pb[ai.$b],Ot=ai.ad,zn=0,oi=De.rb[De.sb-1],Dt=fn=0,i(Ot,zn,0,384),ai.Za)var Ln=0,Sa=Tn[3];else{Yt=a(16);var zr=Et.Na+oi.Na;if(zr=Uu(wr,Tn[1],zr,jr.Eb,0,Yt,0),Et.Na=oi.Na=(0<zr)+0,1<zr)ws(Yt,0,Ot,zn);else{var gi=Yt[0]+3>>3;for(Yt=0;256>Yt;Yt+=16)Ot[zn+Yt]=gi}Ln=1,Sa=Tn[0]}var cr=15&Et.la,dn=15&oi.la;for(Yt=0;4>Yt;++Yt){var Oi=1&dn;for(gi=Jt=0;4>gi;++gi)cr=cr>>1|(Oi=(zr=Uu(wr,Sa,zr=Oi+(1&cr),jr.Sc,Ln,Ot,zn))>Ln)<<7,Jt=Jt<<2|(3<zr?3:1<zr?2:Ot[zn+0]!=0),zn+=16;cr>>=4,dn=dn>>1|Oi<<7,fn=(fn<<8|Jt)>>>0}for(Sa=cr,Ln=dn>>4,Mr=0;4>Mr;Mr+=2){for(Jt=0,cr=Et.la>>4+Mr,dn=oi.la>>4+Mr,Yt=0;2>Yt;++Yt){for(Oi=1&dn,gi=0;2>gi;++gi)zr=Oi+(1&cr),cr=cr>>1|(Oi=0<(zr=Uu(wr,Tn[2],zr,jr.Qc,0,Ot,zn)))<<3,Jt=Jt<<2|(3<zr?3:1<zr?2:Ot[zn+0]!=0),zn+=16;cr>>=2,dn=dn>>1|Oi<<5}Dt|=Jt<<4*Mr,Sa|=cr<<4<<Mr,Ln|=(240&dn)<<Mr}Et.la=Sa,oi.la=Ln,ai.Hc=fn,ai.Gc=Dt,ai.ia=43690&Dt?0:jr.ia,Tn=!(fn|Dt)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[It.$b][It.Za],De.wa[De.Y+De.ja].La|=!Tn),Wr.Ka)return tn(Lt,7,"Premature end-of-file encountered.")}if(yA(Lt),De=un,Wr=1,It=(Xe=Lt).D,Et=0<Xe.L&&Xe.M>=Xe.zb&&Xe.M<=Xe.Va,Xe.Aa==0)t:{if(It.M=Xe.M,It.uc=Et,na(Xe,It),Wr=1,It=(Jt=Xe.D).Nb,Et=(Dt=Yd[Xe.L])*Xe.R,wr=Dt/2*Xe.B,Yt=16*It*Xe.R,gi=8*It*Xe.B,Tn=Xe.sa,ai=Xe.ta-Et+Yt,jr=Xe.qa,Ot=Xe.ra-wr+gi,zn=Xe.Ha,oi=Xe.Ia-wr+gi,dn=(cr=Jt.M)==0,fn=cr>=Xe.Va-1,Xe.Aa==2&&na(Xe,Jt),Jt.uc)for(Oi=(zr=Xe).D.M,e(zr.D.uc),Jt=zr.yb;Jt<zr.Hb;++Jt){Ln=Jt,Sa=Oi;var si=(ki=(On=zr).D).Nb;Mr=On.R;var ki=ki.wa[ki.Y+Ln],Di=On.sa,vi=On.ta+16*si*Mr+16*Ln,Pi=ki.dd,dr=ki.tc;if(dr!=0)if(e(3<=dr),On.L==1)0<Ln&&by(Di,vi,Mr,dr+4),ki.La&&_y(Di,vi,Mr,dr),0<Sa&&By(Di,vi,Mr,dr+4),ki.La&&Cy(Di,vi,Mr,dr);else{var Qi=On.B,Ia=On.qa,RA=On.ra+8*si*Qi+8*Ln,Qo=On.Ha,On=On.Ia+8*si*Qi+8*Ln;si=ki.ld,0<Ln&&(cn(Di,vi,Mr,dr+4,Pi,si),Fu(Ia,RA,Qo,On,Qi,dr+4,Pi,si)),ki.La&&(Hd(Di,vi,Mr,dr,Pi,si),xy(Ia,RA,Qo,On,Qi,dr,Pi,si)),0<Sa&&($r(Di,vi,Mr,dr+4,Pi,si),Do(Ia,RA,Qo,On,Qi,dr+4,Pi,si)),ki.La&&(Pl(Di,vi,Mr,dr,Pi,si),yy(Ia,RA,Qo,On,Qi,dr,Pi,si))}}if(Xe.ia&&alert("todo:DitherRow"),De.put!=null){if(Jt=16*cr,cr=16*(cr+1),dn?(De.y=Xe.sa,De.O=Xe.ta+Yt,De.f=Xe.qa,De.N=Xe.ra+gi,De.ea=Xe.Ha,De.W=Xe.Ia+gi):(Jt-=Dt,De.y=Tn,De.O=ai,De.f=jr,De.N=Ot,De.ea=zn,De.W=oi),fn||(cr-=Dt),cr>De.o&&(cr=De.o),De.F=null,De.J=null,Xe.Fa!=null&&0<Xe.Fa.length&&Jt<cr&&(De.J=rn(Xe,De,Jt,cr-Jt),De.F=Xe.mb,De.F==null&&De.F.length==0)){Wr=tn(Xe,3,"Could not decode alpha data.");break t}Jt<De.j&&(Dt=De.j-Jt,Jt=De.j,e(!(1&Dt)),De.O+=Xe.R*Dt,De.N+=Xe.B*(Dt>>1),De.W+=Xe.B*(Dt>>1),De.F!=null&&(De.J+=De.width*Dt)),Jt<cr&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=Jt-De.j,De.U=De.va-De.v,De.T=cr-Jt,Wr=De.put(De))}It+1!=Xe.Ic||fn||(n(Xe.sa,Xe.ta-Et,Tn,ai+16*Xe.R,Et),n(Xe.qa,Xe.ra-wr,jr,Ot+8*Xe.B,wr),n(Xe.Ha,Xe.Ia-wr,zn,oi+8*Xe.B,wr))}if(!Wr)return tn(Lt,6,"Output aborted.")}return 1}(q,ne)),ne.bc!=null&&ne.bc(ne),Ae&=1}return Ae?(q.cb=0,Ae):0})(p,E)||(v=p.a)}}else v=p.a}v==0&&Q.Oa!=null&&Q.Oa.fd&&(v=bu(Q.ba))}Q=v}P=Q!=0?null:11>P?R.f.RGBA.eb:R.f.kb.y}else P=null;return P};var Gy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(T,H){for(var S="",O=0;O<4;O++)S+=String.fromCharCode(T[H++]);return S}function c(T,H){return T[H+0]|T[H+1]<<8}function u(T,H){return(T[H+0]|T[H+1]<<8|T[H+2]<<16)>>>0}function h(T,H){return(T[H+0]|T[H+1]<<8|T[H+2]<<16|T[H+3]<<24)>>>0}new A;var f=[0],g=[0],y=[],b=new A,m=t,w=function(T,H){var S={},O=0,j=!1,V=0,ie=0;if(S.frames=[],!function(k,W){for(var G=0;G<4;G++)if(k[W+G]!="RIFF".charCodeAt(G))return!0;return!1}(T,H)){for(h(T,H+=4),H+=8;H<T.length;){var le=l(T,H),ce=h(T,H+=4);H+=4;var J=ce+(1&ce);switch(le){case"VP8 ":case"VP8L":S.frames[O]===void 0&&(S.frames[O]={}),(pe=S.frames[O]).src_off=j?ie:H-8,pe.src_size=V+ce+8,O++,j&&(j=!1,V=0,ie=0);break;case"VP8X":(pe=S.header={}).feature_flags=T[H];var ae=H+4;pe.canvas_width=1+u(T,ae),ae+=3,pe.canvas_height=1+u(T,ae),ae+=3;break;case"ALPH":j=!0,V=J+8,ie=H-8;break;case"ANIM":(pe=S.header).bgcolor=h(T,H),ae=H+4,pe.loop_count=c(T,ae),ae+=2;break;case"ANMF":var ve,pe;(pe=S.frames[O]={}).offset_x=2*u(T,H),H+=3,pe.offset_y=2*u(T,H),H+=3,pe.width=1+u(T,H),H+=3,pe.height=1+u(T,H),H+=3,pe.duration=u(T,H),H+=3,ve=T[H++],pe.dispose=1&ve,pe.blend=ve>>1&1}le!="ANMF"&&(H+=J)}return S}}(m,0);w.response=m,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,_=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,f=[x.canvas_height],g=[x.canvas_width];for(var I=0;I<_.length&&_[I].blend!=0;I++);}var L=_[0],U=b.WebPDecodeRGBA(m,L.src_off,L.src_size,g,f);L.rgba=U,L.imgwidth=g[0],L.imgheight=f[0];for(var D=0;D<g[0]*f[0]*4;D++)y[D]=U[D];return this.width=g,this.height=f,this.data=y,this}(function(t){var e,r,n,i,a,o,s,A,l,c=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new A,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,A=this.internal.Matrix,l=new c}]);var u=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=k;Object.defineProperty(this,"pdf",{get:function(){return W}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(he){G=!!he}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(he){Z=!!he}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(he){isNaN(he)||(te=he)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(he){isNaN(he)||(oe=he)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(he){var $;typeof he=="number"?$=[he,he,he,he]:(($=new Array(4))[0]=he[0],$[1]=he.length>=2?he[1]:$[0],$[2]=he.length>=3?he[2]:$[0],$[3]=he.length>=4?he[3]:$[1]),l.margin=$}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(he){me=he}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(he){ge=he}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(he){we=he}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(he){he instanceof c&&(l=he)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(he){l.path=he}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(he){Se=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var $;$=h(he),this.ctx.fillStyle=$.style,this.ctx.isFillTransparent=$.a===0,this.ctx.fillOpacity=$.a,this.pdf.setFillColor($.r,$.g,$.b,{a:$.a}),this.pdf.setTextColor($.r,$.g,$.b,{a:$.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var $=h(he);this.ctx.strokeStyle=$.style,this.ctx.isStrokeTransparent=$.a===0,this.ctx.strokeOpacity=$.a,$.a===0?this.pdf.setDrawColor(255,255,255):($.a,this.pdf.setDrawColor($.r,$.g,$.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Ue=null,_e=null;Object.defineProperty(this,"fontFaces",{get:function(){return _e},set:function(he){Ue=null,_e=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var $;if(this.ctx.font=he,($=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Je=$[1];$[2];var We=$[3],Ve=$[4];$[5];var Ee=$[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(Me==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var Pe=function(ft){var at,Xt,Ie=[],Oe=ft.trim();if(Oe==="")return F2;if(Oe in Z4)return[Z4[Oe]];for(;Oe!=="";){switch(Xt=null,at=(Oe=tb(Oe)).charAt(0)){case'"':case"'":Xt=MH(Oe.substring(1),at);break;default:Xt=HH(Oe)}if(Xt===null||(Ie.push(Xt[0]),(Oe=tb(Xt[1]))!==""&&Oe.charAt(0)!==","))return F2;Oe=Oe.replace(/^,/,"")}return Ie}(Ee);if(this.fontFaces){var Bt=function(ft,at){if(Ue===null){var Xt=function(Ie){var Oe=[];return Object.keys(Ie).forEach(function(ot){Ie[ot].forEach(function(Ut){var ke=null;switch(Ut){case"bold":ke={family:ot,weight:"bold"};break;case"italic":ke={family:ot,style:"italic"};break;case"bolditalic":ke={family:ot,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:ot}}ke!==null&&(ke.ref={name:ot,style:Ut},Oe.push(ke))})}),Oe}(ft.getFontList());Ue=function(Ie){for(var Oe={},ot=0;ot<Ie.length;++ot){var Ut=I2(Ie[ot]),ke=Ut.family,ht=Ut.stretch,ct=Ut.style,sr=Ut.weight;Oe[ke]=Oe[ke]||{},Oe[ke][ht]=Oe[ke][ht]||{},Oe[ke][ht][ct]=Oe[ke][ht][ct]||{},Oe[ke][ht][ct][sr]=Ut}return Oe}(Xt.concat(at))}return Ue}(this.pdf,this.fontFaces),nt=Pe.map(function(ft){return{family:ft,stretch:"normal",weight:We,style:Je}}),Nt=function(ft,at,Xt){for(var Ie=(Xt=Xt||{}).defaultFontFamily||"times",Oe=Object.assign({},jH,Xt.genericFontFamilies||{}),ot=null,Ut=null,ke=0;ke<at.length;++ke)if(Oe[(ot=I2(at[ke])).family]&&(ot.family=Oe[ot.family]),ft.hasOwnProperty(ot.family)){Ut=ft[ot.family];break}if(!(Ut=Ut||ft[Ie]))throw new Error("Could not find a font-family for the rule '"+eb(ot)+"' and default family '"+Ie+"'.");if(Ut=function(ht,ct){if(ct[ht])return ct[ht];var sr=Sm[ht],An=sr<=Sm.normal?-1:1,Ar=J4(ct,$8,sr,An);if(!Ar)throw new Error("Could not find a matching font-stretch value for "+ht);return Ar}(ot.stretch,Ut),Ut=function(ht,ct){if(ct[ht])return ct[ht];for(var sr=G8[ht],An=0;An<sr.length;++An)if(ct[sr[An]])return ct[sr[An]];throw new Error("Could not find a matching font-style for "+ht)}(ot.style,Ut),!(Ut=function(ht,ct){if(ct[ht])return ct[ht];if(ht===400&&ct[500])return ct[500];if(ht===500&&ct[400])return ct[400];var sr=RH[ht],An=J4(ct,W8,sr,ht<400?-1:1);if(!An)throw new Error("Could not find a matching font-weight for value "+ht);return An}(ot.weight,Ut)))throw new Error("Failed to resolve a font for the rule '"+eb(ot)+"'.");return Ut}(Bt,nt);this.pdf.setFont(Nt.ref.name,Nt.ref.style)}else{var pt="";(We==="bold"||parseInt(We,10)>=700||Je==="bold")&&(pt="bold"),Je==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var wt="",Gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Pe.length;gt++){if(this.pdf.internal.getFont(Pe[gt],pt,{noFallback:!0,disableWarning:!0})!==void 0){wt=Pe[gt];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Pe[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)wt=Pe[gt],pt="bold";else if(this.pdf.internal.getFont(Pe[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){wt=Pe[gt],pt="normal";break}}if(wt===""){for(var it=0;it<Pe.length;it++)if(Gt[Pe[it]]){wt=Gt[Pe[it]];break}}wt=wt===""?"Times":wt,this.pdf.setFont(wt,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};u.prototype.setLineDash=function(k){this.lineDash=k},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){_.call(this,"fill",!1)},u.prototype.stroke=function(){_.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(k,W){if(isNaN(k)||isNaN(W))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(k,W));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(k,W)},u.prototype.closePath=function(){var k=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&tr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){k=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},u.prototype.lineTo=function(k,W){if(isNaN(k)||isNaN(W))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(k,W));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},u.prototype.quadraticCurveTo=function(k,W,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(k)||isNaN(W))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new o(G,Z)),oe=this.ctx.transform.applyToPoint(new o(k,W));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},u.prototype.bezierCurveTo=function(k,W,G,Z,te,oe){if(isNaN(te)||isNaN(oe)||isNaN(k)||isNaN(W)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(te,oe)),ge=this.ctx.transform.applyToPoint(new o(k,W)),we=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:we.x,y2:we.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},u.prototype.arc=function(k,W,G,Z,te,oe){if(isNaN(k)||isNaN(W)||isNaN(G)||isNaN(Z)||isNaN(te))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(k,W));k=me.x,W=me.y;var ge=this.ctx.transform.applyToPoint(new o(0,G)),we=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(ge.x-we.x,2)+Math.pow(ge.y-we.y,2))}Math.abs(te-Z)>=2*Math.PI&&(Z=0,te=2*Math.PI),this.path.push({type:"arc",x:k,y:W,radius:G,startAngle:Z,endAngle:te,counterclockwise:oe})},u.prototype.arcTo=function(k,W,G,Z,te){throw new Error("arcTo not implemented.")},u.prototype.rect=function(k,W,G,Z){if(isNaN(k)||isNaN(W)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,W),this.lineTo(k+G,W),this.lineTo(k+G,W+Z),this.lineTo(k,W+Z),this.lineTo(k,W),this.lineTo(k+G,W),this.lineTo(k,W)},u.prototype.fillRect=function(k,W,G,Z){if(isNaN(k)||isNaN(W)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,W,G,Z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},u.prototype.strokeRect=function(k,W,G,Z){if(isNaN(k)||isNaN(W)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(k,W,G,Z),this.stroke())},u.prototype.clearRect=function(k,W,G,Z){if(isNaN(k)||isNaN(W)||isNaN(G)||isNaN(Z))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,W,G,Z))},u.prototype.save=function(k){k=typeof k!="boolean"||k;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},u.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(W),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(k){var W,G,Z,te;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))W=0,G=0,Z=0,te=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(oe!==null)W=parseInt(oe[1]),G=parseInt(oe[2]),Z=parseInt(oe[3]),te=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)W=parseInt(oe[1]),G=parseInt(oe[2]),Z=parseInt(oe[3]),te=parseFloat(oe[4]);else{if(te=1,typeof k=="string"&&k.charAt(0)!=="#"){var me=new Q8(k);k=me.ok?me.toHex():"#000000"}k.length===4?(W=k.substring(1,2),W+=W,G=k.substring(2,3),G+=G,Z=k.substring(3,4),Z+=Z):(W=k.substring(1,3),G=k.substring(3,5),Z=k.substring(5,7)),W=parseInt(W,16),G=parseInt(G,16),Z=parseInt(Z,16)}}return{r:W,g:G,b:Z,a:te,style:k}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(k,W,G,Z){if(isNaN(W)||isNaN(G)||typeof k!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var te=J(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;O.call(this,{text:k,x:W,y:G,scale:oe,angle:te,align:this.textAlign,maxWidth:Z})}},u.prototype.strokeText=function(k,W,G,Z){if(isNaN(W)||isNaN(G)||typeof k!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Z=isNaN(Z)?void 0:Z;var te=J(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;O.call(this,{text:k,x:W,y:G,scale:oe,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Z})}},u.prototype.measureText=function(k){if(typeof k!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,G=this.pdf.internal.scaleFactor,Z=W.internal.getFontSize(),te=W.getStringUnitWidth(k)*Z/W.internal.scaleFactor;return new function(oe){var me=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:te*=Math.round(96*G/72*1e4)/1e4})},u.prototype.scale=function(k,W){if(isNaN(k)||isNaN(W))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new A(k,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.rotate=function(k){if(isNaN(k))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new A(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},u.prototype.translate=function(k,W){if(isNaN(k)||isNaN(W))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new A(1,0,0,1,k,W);this.ctx.transform=this.ctx.transform.multiply(G)},u.prototype.transform=function(k,W,G,Z,te,oe){if(isNaN(k)||isNaN(W)||isNaN(G)||isNaN(Z)||isNaN(te)||isNaN(oe))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new A(k,W,G,Z,te,oe);this.ctx.transform=this.ctx.transform.multiply(me)},u.prototype.setTransform=function(k,W,G,Z,te,oe){k=isNaN(k)?1:k,W=isNaN(W)?0:W,G=isNaN(G)?0:G,Z=isNaN(Z)?1:Z,te=isNaN(te)?0:te,oe=isNaN(oe)?0:oe,this.ctx.transform=new A(k,W,G,Z,te,oe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(k,W,G,Z,te,oe,me,ge,we){var Se=this.pdf.getImageProperties(k),Ue=1,_e=1,he=1,$=1;Z!==void 0&&ge!==void 0&&(he=ge/Z,$=we/te,Ue=Se.width/Z*ge/Z,_e=Se.height/te*we/te),oe===void 0&&(oe=W,me=G,W=0,G=0),Z!==void 0&&ge===void 0&&(ge=Z,we=te),Z===void 0&&ge===void 0&&(ge=Se.width,we=Se.height);for(var Je,We=this.ctx.transform.decompose(),Ve=J(We.rotate.shx),Ee=new A,Me=(Ee=(Ee=(Ee=Ee.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new s(oe-W*he,me-G*$,Z*Ue,te*_e)),Pe=b.call(this,Me),Bt=[],nt=0;nt<Pe.length;nt+=1)Bt.indexOf(Pe[nt])===-1&&Bt.push(Pe[nt]);if(x(Bt),this.autoPaging)for(var Nt=Bt[0],pt=Bt[Bt.length-1],wt=Nt;wt<pt+1;wt++){this.pdf.setPage(wt);var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=wt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=wt===1?0:it+(wt-2)*ft;if(this.ctx.clip_path.length!==0){var Xt=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Je,this.posX+this.margin[3],-at+gt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=Xt}var Ie=JSON.parse(JSON.stringify(Me));Ie=w([Ie],this.posX+this.margin[3],-at+gt+this.ctx.prevPageLastElemOffset)[0];var Oe=(wt>Nt||wt<pt)&&y.call(this);Oe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,ft,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Ve),Oe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Ve)};var b=function(k,W,G){var Z=[];W=W||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":Z.push(Math.floor((k.y+te)/G)+1);break;case"arc":Z.push(Math.floor((k.y+te-k.radius)/G)+1),Z.push(Math.floor((k.y+te+k.radius)/G)+1);break;case"qct":var oe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);Z.push(Math.floor((oe.y+te)/G)+1),Z.push(Math.floor((oe.y+oe.h+te)/G)+1);break;case"bct":var me=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);Z.push(Math.floor((me.y+te)/G)+1),Z.push(Math.floor((me.y+me.h+te)/G)+1);break;case"rect":Z.push(Math.floor((k.y+te)/G)+1),Z.push(Math.floor((k.y+k.h+te)/G)+1)}for(var ge=0;ge<Z.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ge];)m.call(this);return Z},m=function(){var k=this.fillStyle,W=this.strokeStyle,G=this.font,Z=this.lineCap,te=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=W,this.font=G,this.lineCap=Z,this.lineWidth=te,this.lineJoin=oe},w=function(k,W,G){for(var Z=0;Z<k.length;Z++)switch(k[Z].type){case"bct":k[Z].x2+=W,k[Z].y2+=G;case"qct":k[Z].x1+=W,k[Z].y1+=G;default:k[Z].x+=W,k[Z].y+=G}return k},x=function(k){return k.sort(function(W,G){return W-G})},_=function(k,W){for(var G,Z,te=this.fillStyle,oe=this.strokeStyle,me=this.lineCap,ge=this.lineWidth,we=Math.abs(ge*this.ctx.transform.scaleX),Se=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),he=[],$=0;$<_e.length;$++)if(_e[$].x!==void 0)for(var Je=b.call(this,_e[$]),We=0;We<Je.length;We+=1)he.indexOf(Je[We])===-1&&he.push(Je[We]);for(var Ve=0;Ve<he.length;Ve++)for(;this.pdf.internal.getNumberOfPages()<he[Ve];)m.call(this);if(x(he),this.autoPaging)for(var Ee=he[0],Me=he[he.length-1],Pe=Ee;Pe<Me+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=te,this.strokeStyle=oe,this.lineCap=me,this.lineWidth=we,this.lineJoin=Se;var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Pe===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Pe===1?0:Nt+(Pe-2)*pt;if(this.ctx.clip_path.length!==0){var Gt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-wt+nt+this.ctx.prevPageLastElemOffset),I.call(this,k,!0),this.path=Gt}if(Z=JSON.parse(JSON.stringify(Ue)),this.path=w(Z,this.posX+this.margin[3],-wt+nt+this.ctx.prevPageLastElemOffset),W===!1||Pe===0){var gt=(Pe>Ee||Pe<Me)&&y.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,pt,null).clip().discardPath()),I.call(this,k,W),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=we,I.call(this,k,W),this.lineWidth=ge;this.path=Ue},I=function(k,W){if((k!=="stroke"||W||!g.call(this))&&(k==="stroke"||W||!f.call(this))){for(var G,Z,te=[],oe=this.path,me=0;me<oe.length;me++){var ge=oe[me];switch(ge.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ge,deltas:[],abs:[]});break;case"lt":var we=te.length;if(oe[me-1]&&!isNaN(oe[me-1].x)&&(G=[ge.x-oe[me-1].x,ge.y-oe[me-1].y],we>0)){for(;we>=0;we--)if(te[we-1].close!==!0&&te[we-1].begin!==!0){te[we-1].deltas.push(G),te[we-1].abs.push(ge);break}}break;case"bct":G=[ge.x1-oe[me-1].x,ge.y1-oe[me-1].y,ge.x2-oe[me-1].x,ge.y2-oe[me-1].y,ge.x-oe[me-1].x,ge.y-oe[me-1].y],te[te.length-1].deltas.push(G);break;case"qct":var Se=oe[me-1].x+2/3*(ge.x1-oe[me-1].x),Ue=oe[me-1].y+2/3*(ge.y1-oe[me-1].y),_e=ge.x+2/3*(ge.x1-ge.x),he=ge.y+2/3*(ge.y1-ge.y),$=ge.x,Je=ge.y;G=[Se-oe[me-1].x,Ue-oe[me-1].y,_e-oe[me-1].x,he-oe[me-1].y,$-oe[me-1].x,Je-oe[me-1].y],te[te.length-1].deltas.push(G);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ge)}}Z=W?null:k==="stroke"?"stroke":"fill";for(var We=!1,Ve=0;Ve<te.length;Ve++)if(te[Ve].arc)for(var Ee=te[Ve].abs,Me=0;Me<Ee.length;Me++){var Pe=Ee[Me];Pe.type==="arc"?D.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,W,!We):j.call(this,Pe.x,Pe.y),We=!0}else if(te[Ve].close===!0)this.pdf.internal.out("h"),We=!1;else if(te[Ve].begin!==!0){var Bt=te[Ve].start.x,nt=te[Ve].start.y;V.call(this,te[Ve].deltas,Bt,nt),We=!0}Z&&T.call(this,Z),W&&H.call(this)}},L=function(k){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-G;case"top":return k+W-G;case"hanging":return k+W-2*G;case"middle":return k+W/2-G;default:return k}},U=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(W,G){this.colorStops.push([W,G])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(k,W,G,Z,te,oe,me,ge,we){for(var Se=le.call(this,G,Z,te,oe),Ue=0;Ue<Se.length;Ue++){var _e=Se[Ue];Ue===0&&(we?S.call(this,_e.x1+k,_e.y1+W):j.call(this,_e.x1+k,_e.y1+W)),ie.call(this,k,W,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}ge?H.call(this):T.call(this,me)},T=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(k,W){this.pdf.internal.out(r(k)+" "+n(W)+" m")},O=function(k){var W;switch(k.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var G=this.pdf.getTextDimensions(k.text),Z=L.call(this,k.y),te=U.call(this,Z)-G.h,oe=this.ctx.transform.applyToPoint(new o(k.x,Z)),me=this.ctx.transform.decompose(),ge=new A;ge=(ge=(ge=ge.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var we,Se,Ue,_e=this.ctx.transform.applyToRectangle(new s(k.x,Z,G.w,G.h)),he=ge.applyToRectangle(new s(k.x,te,G.w,G.h)),$=b.call(this,he),Je=[],We=0;We<$.length;We+=1)Je.indexOf($[We])===-1&&Je.push($[We]);if(x(Je),this.autoPaging)for(var Ve=Je[0],Ee=Je[Je.length-1],Me=Ve;Me<Ee+1;Me++){this.pdf.setPage(Me);var Pe=Me===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[2],Nt=nt-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],wt=pt-this.margin[3],Gt=Me===1?0:Bt+(Me-2)*Nt;if(this.ctx.clip_path.length!==0){var gt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(we,this.posX+this.margin[3],-1*Gt+Pe),I.call(this,"fill",!0),this.path=gt}var it=w([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-Gt+Pe+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*k.scale),Ue=this.lineWidth,this.lineWidth=Ue*k.scale);var ft=this.autoPaging!=="text";if(ft||it.y+it.h<=nt){if(ft||it.y>=Pe&&it.x<=pt){var at=ft?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||pt-it.x)[0],Xt=w([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-Gt+Pe+this.ctx.prevPageLastElemOffset)[0],Ie=ft&&(Me>Ve||Me<Ee)&&y.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Nt,null).clip().discardPath()),this.pdf.text(at,Xt.x,Xt.y,{angle:k.angle,align:W,renderingMode:k.renderingMode}),Ie&&this.pdf.restoreGraphicsState()}}else it.y<nt&&(this.ctx.prevPageLastElemOffset+=nt-it.y);k.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Ue)}else k.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*k.scale),Ue=this.lineWidth,this.lineWidth=Ue*k.scale),this.pdf.text(k.text,oe.x+this.posX,oe.y+this.posY,{angle:k.angle,align:W,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Ue)},j=function(k,W,G,Z){G=G||0,Z=Z||0,this.pdf.internal.out(r(k+G)+" "+n(W+Z)+" l")},V=function(k,W,G){return this.pdf.lines(k,W,G,null,null)},ie=function(k,W,G,Z,te,oe,me,ge){this.pdf.internal.out([e(i(G+k)),e(a(Z+W)),e(i(te+k)),e(a(oe+W)),e(i(me+k)),e(a(ge+W)),"c"].join(" "))},le=function(k,W,G,Z){for(var te=2*Math.PI,oe=Math.PI/2;W>G;)W-=te;var me=Math.abs(G-W);me<te&&Z&&(me=te-me);for(var ge=[],we=Z?-1:1,Se=W;me>1e-5;){var Ue=Se+we*Math.min(me,oe);ge.push(ce.call(this,k,Se,Ue)),me-=Math.abs(Ue-Se),Se=Ue}return ge},ce=function(k,W,G){var Z=(G-W)/2,te=k*Math.cos(Z),oe=k*Math.sin(Z),me=te,ge=-oe,we=me*me+ge*ge,Se=we+me*te+ge*oe,Ue=4/3*(Math.sqrt(2*we*Se)-Se)/(me*oe-ge*te),_e=me-Ue*ge,he=ge+Ue*me,$=_e,Je=-he,We=Z+W,Ve=Math.cos(We),Ee=Math.sin(We);return{x1:k*Math.cos(W),y1:k*Math.sin(W),x2:_e*Ve-he*Ee,y2:_e*Ee+he*Ve,x3:$*Ve-Je*Ee,y3:$*Ee+Je*Ve,x4:k*Math.cos(G),y4:k*Math.sin(G)}},J=function(k){return 180*k/Math.PI},ae=function(k,W,G,Z,te,oe){var me=k+.5*(G-k),ge=W+.5*(Z-W),we=te+.5*(G-te),Se=oe+.5*(Z-oe),Ue=Math.min(k,te,me,we),_e=Math.max(k,te,me,we),he=Math.min(W,oe,ge,Se),$=Math.max(W,oe,ge,Se);return new s(Ue,he,_e-Ue,$-he)},ve=function(k,W,G,Z,te,oe,me,ge){var we,Se,Ue,_e,he,$,Je,We,Ve,Ee,Me,Pe,Bt,nt,Nt=G-k,pt=Z-W,wt=te-G,Gt=oe-Z,gt=me-te,it=ge-oe;for(Se=0;Se<41;Se++)Ve=(Je=(Ue=k+(we=Se/40)*Nt)+we*((he=G+we*wt)-Ue))+we*(he+we*(te+we*gt-he)-Je),Ee=(We=(_e=W+we*pt)+we*(($=Z+we*Gt)-_e))+we*($+we*(oe+we*it-$)-We),Se==0?(Me=Ve,Pe=Ee,Bt=Ve,nt=Ee):(Me=Math.min(Me,Ve),Pe=Math.min(Pe,Ee),Bt=Math.max(Bt,Ve),nt=Math.max(nt,Ee));return new s(Math.round(Me),Math.round(Pe),Math.round(Bt-Me),Math.round(nt-Pe))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,W,G=(k=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:W}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(tt.API),function(t){var e=function(o){var s,A,l,c,u,h,f,g,y,b;for(A=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(u=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(b=u%85))/85)-(y=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)%85,A.push(h+33,f+33,g+33,y+33,b+33)):A.push(122);return function(m,w){for(var x=w;x>0;x--)m.pop()}(A,s.length),String.fromCharCode.apply(String,A)+"~>"},r=function(o){var s,A,l,c,u,h=String,f="length",g=255,y="charCodeAt",b="slice",m="replace";for(o[b](-2),o=o[b](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),l=[],c=0,u=(o+=s="uuuuu"[b](o[f]%5||5))[f];u>c;c+=5)A=52200625*(o[y](c)-33)+614125*(o[y](c+1)-33)+7225*(o[y](c+2)-33)+85*(o[y](c+3)-33)+(o[y](c+4)-33),l.push(g&A>>24,g&A>>16,g&A>>8,g&A);return function(w,x){for(var _=x;_>0;_--)w.pop()}(l,s[f]),h.fromCharCode.apply(h,l)},n=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var A="",l=0;l<o.length;l+=2)A+=String.fromCharCode("0x"+(o[l]+o[l+1]));return A},a=function(o){for(var s=new Uint8Array(o.length),A=o.length;A--;)s[A]=o.charCodeAt(A);return(s=ym(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,s){var A=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),A=0;A<s.length;A+=1)switch(s[A]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(tt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(A,l,c){var u=new XMLHttpRequest,h=0,f=function(g){var y=g.length,b=[],m=String.fromCharCode;for(h=0;h<y;h+=1)b.push(m(255&g.charCodeAt(h)));return b.join("")};if(u.open("GET",A,!l),u.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(u.onload=function(){u.status===200?c(f(this.responseText)):c(void 0)}),u.send(null),l&&u.status===200)return f(u.responseText)}(i,a,o)}catch{}return s}(e,r,n)},t.loadImageFile=t.loadFile}(tt.API),function(t){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):Zo(()=>Promise.resolve().then(()=>wj),void 0)).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):Zo(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var A=tr(s);return A==="undefined"?"undefined":A==="string"||s instanceof String?"string":A==="number"||s instanceof Number?"number":A==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":A==="object"?"object":"unknown"},i=function(s,A){var l=document.createElement(s);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},a=function s(A,l){for(var c=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),u=A.firstChild;u;u=u.nextSibling)l!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||c.appendChild(s(u,l));return A.nodeType===1&&(A.nodeName==="CANVAS"?(c.width=A.width,c.height=A.height,c.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(c.value=A.value),c.addEventListener("load",function(){c.scrollTop=A.scrollTop,c.scrollLeft=A.scrollLeft},!0)),c},o=function s(A){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return(c=c.setProgress(1,s,1,[s])).set(A)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,A){return s.__proto__=A||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,A){return this.then(function(){switch(A=A||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),A){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var g=c[f],y=g.src.find(function(b){return b.format==="truetype"});y&&l.addFont(y.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),A(this.prop.container,h)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,A):this.outputPdf(s,A)},o.prototype.outputPdf=function(s,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,A)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var A=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(A)})},o.prototype.get=function(s,A){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return A?A(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:A(s.inner.width,s.k),height:A(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,A,l,c){return s!=null&&(this.progress.val=s),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,A,l,c){return this.setProgress(s?this.progress.val+s:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,A){var l=this;return this.thenCore(s,A,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},o.prototype.thenCore=function(s,A,l){l=l||Promise.prototype.then;var c=this;s&&(s=s.bind(c)),A&&(A=A.bind(c));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),h=l.call(u,s,A);return o.convert(h,c.__proto__)},o.prototype.thenExternal=function(s,A){return Promise.prototype.then.call(this,s,A)},o.prototype.thenList=function(s){var A=this;return s.forEach(function(l){A=A.thenCore(l)}),A},o.prototype.catch=function(s){s&&(s=s.bind(this));var A=Promise.prototype.catch.call(this,s);return o.convert(A,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,tt.getPageSize=function(s,A,l){if(tr(s)==="object"){var c=s;s=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+A}var g,y=0,b=0;if(f.hasOwnProperty(h))y=f[h][1]/u,b=f[h][0]/u;else try{y=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",b>y&&(g=b,b=y,y=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>b&&(g=b,b=y,y=g)}return{width:b,height:y,unit:A,k:u,orientation:s}},t.html=function(s,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(I2):null;var l=new o(A);return A.worker?l:l.from(s).doCallback()}}(tt.API),tt.API.addJS=function(t){return nb=t,this.internal.events.subscribe("postPutResources",function(){u0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(u0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){u0!==void 0&&rb!==void 0&&this.internal.out("/Names <</JavaScript "+u0+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var A=s[1];r.internal.newObjectDeferredBegin(A,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var u=r.internal.newObject();c.push(u);var h=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<c.length;a++)r.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var A=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(tt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,s){var A,l=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,A=function(u){for(var h,f=256*u.charCodeAt(4)+u.charCodeAt(5),g=u.length,y={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=f,e.indexOf(u.charCodeAt(b+1))!==-1){h=256*u.charCodeAt(b+5)+u.charCodeAt(b+6),y={width:256*u.charCodeAt(b+7)+u.charCodeAt(b+8),height:h,numcomponents:u.charCodeAt(b+9)};break}f=256*u.charCodeAt(b+2)+u.charCodeAt(b+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),A.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:r,width:A.width,height:A.height,colorSpace:s,bitsPerComponent:8,filter:l,index:n,alias:i}}return c}}(tt.API),tt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=_H(t,{checkCrc:!0}),o=a.width,s=a.height,A=a.channels,l=a.palette,c=a.depth;i=l&&A===1?function(D){for(var T=D.width,H=D.height,S=D.data,O=D.palette,j=D.depth,V=!1,ie=[],le=[],ce=void 0,J=!1,ae=0,ve=0;ve<O.length;ve++){var pe=s4(O[ve],4),k=pe[0],W=pe[1],G=pe[2],Z=pe[3];ie.push(k,W,G),Z!=null&&(Z===0?(ae++,le.length<1&&le.push(ve)):Z<255&&(J=!0))}if(J||ae>1){V=!0,le=void 0;var te=T*H;ce=new Uint8Array(te);for(var oe=new DataView(S.buffer),me=0;me<te;me++){var ge=N2(oe,me,j),we=s4(O[ge],4)[3];ce[me]=we}}else ae===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:S,alphaBytes:ce,needSMask:V,palette:ie,mask:le}}(a):A===2||A===4?function(D){for(var T=D.data,H=D.width,S=D.height,O=D.channels,j=D.depth,V=O===2?"DeviceGray":"DeviceRGB",ie=O-1,le=H*S,ce=ie,J=le*ce,ae=1*le,ve=Math.ceil(J*j/8),pe=Math.ceil(ae*j/8),k=new Uint8Array(ve),W=new Uint8Array(pe),G=new DataView(T.buffer),Z=new DataView(k.buffer),te=new DataView(W.buffer),oe=!1,me=0;me<le;me++){for(var ge=me*O,we=0;we<ce;we++)fb(Z,N2(G,ge+we,j),me*ce+we,j);var Se=N2(G,ge+ce,j);Se<(1<<j)-1&&(oe=!0),fb(te,Se,1*me,j)}return{colorSpace:V,colorsPerPixel:ie,sMaskBitsPerComponent:oe?j:void 0,colorBytes:k,alphaBytes:W,needSMask:oe}}(a):function(D){var T=D.data,H=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(S){for(var O=S.length,j=new Uint8Array(2*O),V=new DataView(j.buffer,j.byteOffset,j.byteLength),ie=0;ie<O;ie++)V.setUint16(2*ie,S[ie],!1);return j}(T):T,needSMask:!1}}(a);var u,h,f,g=i,y=g.colorSpace,b=g.colorsPerPixel,m=g.sMaskBitsPerComponent,w=g.colorBytes,x=g.alphaBytes,_=g.needSMask,I=g.palette,L=g.mask,U=null;return n!==tt.API.image_compression.NONE&&typeof ym=="function"?(U=function(D){var T;switch(D){case tt.API.image_compression.FAST:T=11;break;case tt.API.image_compression.MEDIUM:T=13;break;case tt.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(U," /Colors ").concat(b," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=sb(w,Math.ceil(o*b*c/8),b,c,n),_&&(f=sb(x,Math.ceil(o*m/8),1,m,n))):(u=void 0,h=void 0,t=w,_&&(f=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:u,decodeParameters:h,transparency:L,palette:I,sMask:f,predictor:U,width:o,height:s,bitsPerComponent:c,sMaskBitsPerComponent:m,colorSpace:y}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new $H(e),o=a.width,s=a.height,A=[];a.decodeAndBlitFrameRGBA(0,A);var l={data:A,width:o,height:s},c=new U2(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(tt.API),Na.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Na.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ur.log("bit decode error:"+r)}},Na.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var A=this.palette[a>>7-s&1];this.data[o+4*s]=A.blue,this.data[o+4*s+1]=A.green,this.data[o+4*s+2]=A.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Na.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,A=15&a,l=this.palette[s];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*i+1>=this.width)break;l=this.palette[A],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Na.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Na.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,A=(a>>10&e)/e*255|0,l=a>>15?255:0,c=n*this.width*4+4*i;this.data[c]=A,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=l}this.pos+=t}},Na.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,A=(o>>5&r)/r*255|0,l=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=l,this.data[c+1]=A,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Na.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Na.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},Na.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new Na(e,!1),o=a.width,s=a.height,A={data:a.getData(),width:o,height:s},l=new U2(100).encode(A,100);return t.processJPEG.call(this,l,r,n,i)}}(tt.API),hb.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new hb(e),o=a.width,s=a.height,A={data:a.getData(),width:o,height:s},l=new U2(100).encode(A,100);return t.processJPEG.call(this,l,r,n,i)}}(tt.API),tt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,A=0,l=0;l<i;l+=4){var c=n[l],u=n[l+1],h=n[l+2],f=n[l+3];a[s++]=c,a[s++]=u,a[s++]=h,o[A++]=f}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},tt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ec=tt.API,f0=ec.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,A=s.fof?s.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=l.fof?l.fof:1,u=e.doKerning!==!1,h=0,f=t.length,g=0,y=s[0]||A,b=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(h=u&&tr(l[n])==="object"&&!isNaN(parseInt(l[n][g],10))?l[n][g]/c:0,b.push((s[n]||y)/A+h)),g=n;return b},ib=ec.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ec.processArabic&&(t=ec.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:f0.apply(this,arguments).reduce(function(a,o){return a+o},0)},ab=function(t,e,r,n){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<r;)s+=e[a],a++;i.push(t.slice(0,a));var A=a;for(s=0;a!==o;)s+e[a]>n&&(i.push(t.slice(A,a)),s=0,A=a),s+=e[a],a++;return A!==a&&i.push(t.slice(A,a)),i},ob=function(t,e,r){r||(r={});var n,i,a,o,s,A,l,c=[],u=[c],h=r.textIndent||0,f=0,g=0,y=t.split(" "),b=f0.apply(this,[" ",r])[0];if(A=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var m=Array(A).join(" "),w=[];y.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(I,L){return(L&&I.length?`
`:"")+I})):w.push(_[0])}),y=w,A=ib.apply(this,[m,r])}for(a=0,o=y.length;a<o;a++){var x=0;if(n=y[a],A&&n[0]==`
`&&(n=n.substr(1),x=1),h+f+(g=(i=f0.apply(this,[n,r])).reduce(function(_,I){return _+I},0))>e||x){if(g>e){for(s=ab.apply(this,[n,i,e-(h+f),e]),c.push(s.shift()),c=[s.pop()];s.length;)u.push([s.shift()]);g=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(_,I){return _+I},0)}else c=[n];u.push(c),h=g+A,f=b}else c.push(n),h+=f+g,f=b}return l=A?function(_,I){return(I?m:"")+_.join(" ")}:function(_){return _.join(" ")},u.map(l)},ec.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle),h="Unicode";return u.metadata[h]?{widths:u.metadata[h].widths||{0:1},kerning:u.metadata[h].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,A,l=[];for(s=0,A=n.length;s<A;s++)l=l.concat(ob.apply(this,[n[s],o,a]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(h){return"0x"+parseInt(h,10).toString(16)},s=t.__fontmetrics__.compress=function(h){var f,g,y,b,m=["{"];for(var w in h){if(f=h[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=o(w).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof f=="number")f<0?(y=o(f).slice(3),b="-"):(y=o(f).slice(2),b=""),y=b+y.slice(0,-1)+i[y.slice(-1)];else{if(tr(f)!=="object")throw new Error("Don't know what to do with value type "+tr(f)+".");y=s(f)}m.push(g+y)}return m.push("}"),m.join("")},A=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,y,b,m={},w=1,x=m,_=[],I="",L="",U=h.length-1,D=1;D<U;D+=1)(b=h[D])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(_.push([x,y]),x={},y=void 0):b=="}"?((g=_.pop())[0][g[1]]=x,y=void 0,x=g[0]):b=="-"?w=-1:y===void 0?n.hasOwnProperty(b)?(I+=n[b],y=parseInt(I,16)*w,w=1,I=""):I+=b:n.hasOwnProperty(b)?(L+=n[b],x[y]=parseInt(L,16)*w,w=1,y=void 0,L=""):L+=b;return m},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var y=c.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])}(tt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(Q0(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(tt),tt.API.addSvgAsImage=function(t,e,r,n,i,a,o,s){if(isNaN(e)||isNaN(r))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=n,A.height=i;var l=A.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,A.width,A.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(vt.canvg?Promise.resolve(vt.canvg):Zo(()=>import("./index.es-CETg2xzJ.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(l,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(c)}).then(function(){u.addImage(A.toDataURL("image/jpeg",1),e,r,n,i,o,s)})},tt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},tt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),A=[],l=0,c=0,u=0;function h(g,y){var b,m=!1;for(b=0;b<g.length;b+=1)g[b]===y&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=s.length;for(u=0;u<f;u+=1)r[s[u]].value=r[s[u]].defaultValue,r[s[u]].explicitSet=!1}if(tr(t)==="object"){for(i in t)if(a=t[i],h(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&h(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(l=0;l<a.length;l+=1)if(n=!0,a[l].length===1&&typeof a[l][0]=="number")A.push(String(a[l]-1));else if(a[l].length>1){for(c=0;c<a[l].length;c+=1)typeof a[l][c]!="number"&&(n=!1);n===!0&&A.push([a[l][0]-1,a[l][1]-1].join(" "))}r[i].value="["+A.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?y.push("/"+g+" /"+r[g].value):y.push("/"+g+" "+r[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),l=a.length+o.length+s.length+i.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+A),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(tt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var s,A=o.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],u=0,h=a.length;u<h;++u){if(s=o.metadata.characterToGlyph(a.charCodeAt(u)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(u),A.indexOf(s)==-1&&(A.push(s),A.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(l[4-s.length],s)}return c.join("")},n=function(a){var o,s,A,l,c,u,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],u=0,h=(s=Object.keys(a).sort(function(f,g){return f-g})).length;u<h;u++)o=s[u],A.length>=100&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(l=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+l+">"));return A.length&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,A=o.out,l=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var u=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var y=l();c({data:f,addLength1:!0,objectId:y}),A("endobj");var b=l();c({data:n(s.metadata.toUnicode),addLength1:!0,objectId:b}),A("endobj");var m=l();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+sc(s.fontName)),A("/FontFile2 "+y+" 0 R"),A("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),A("/Flags "+s.metadata.flags),A("/StemV "+s.metadata.stemV),A("/ItalicAngle "+s.metadata.italicAngle),A("/Ascent "+s.metadata.ascender),A("/Descent "+s.metadata.decender),A("/CapHeight "+s.metadata.capHeight),A(">>"),A("endobj");var w=l();A("<<"),A("/Type /Font"),A("/BaseFont /"+sc(s.fontName)),A("/FontDescriptor "+m+" 0 R"),A("/W "+t.API.PDFObject.convert(u)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+s.encoding+")"),A(">>"),A(">>"),A("endobj"),s.objectNumber=l(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+b+" 0 R"),A("/BaseFont /"+sc(s.fontName)),A("/Encoding /"+s.encoding),A("/DescendantFonts ["+w+" 0 R]"),A(">>"),A("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,A=o.out,l=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var u=s.metadata.rawData,h="",f=0;f<u.length;f++)h+=String.fromCharCode(u[f]);var g=l();c({data:h,addLength1:!0,objectId:g}),A("endobj");var y=l();c({data:n(s.metadata.toUnicode),addLength1:!0,objectId:y}),A("endobj");var b=l();A("<<"),A("/Descent "+s.metadata.decender),A("/CapHeight "+s.metadata.capHeight),A("/StemV "+s.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+g+" 0 R"),A("/Flags 96"),A("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),A("/FontName /"+sc(s.fontName)),A("/ItalicAngle "+s.metadata.italicAngle),A("/Ascent "+s.metadata.ascender),A(">>"),A("endobj"),s.objectNumber=l();for(var m=0;m<s.metadata.hmtx.widths.length;m++)s.metadata.hmtx.widths[m]=parseInt(s.metadata.hmtx.widths[m]*(1e3/s.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+sc(s.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),A("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",A=a.x,l=a.y,c=a.options||{},u=a.mutex||{},h=u.pdfEscape,f=u.activeFontKey,g=u.fonts,y=f,b="",m=0,w="",x=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:s,x:A,y:l,options:c,mutex:u};for(w=s,y=f,Array.isArray(s)&&(w=s[0]),m=0;m<w.length;m+=1)g[y].metadata.hasOwnProperty("cmap")&&(o=g[y].metadata.cmap.unicode.codeMap[w[m].charCodeAt(0)]),o||w[m].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?b+=w[m]:b+="";var _="";return parseInt(y.slice(1))<14||x==="WinAnsiEncoding"?_=h(b,y).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(_=r(b,g[y])),u.isHex=!0,{text:_,x:A,y:l,options:c,mutex:u}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],A={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var l=0;for(l=0;l<o.length;l+=1)Array.isArray(o[l])&&o[l].length===3?s.push([i(Object.assign({},A,{text:o[l][0]})).text,o[l][1],o[l][2]]):s.push(i(Object.assign({},A,{text:o[l]})).text);a.text=s}else a.text=i(Object.assign({},A,{text:o})).text}])}(tt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,s,A,l,c,u=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,x=0;this.__bidiEngine__={};var _=function(S){var O=S.charCodeAt(),j=O>>8,V=y[j];return V!==void 0?u[256*V+(255&O)]:j===252||j===253?"AL":m.test(j)?"L":j===8?"R":"N"},I=function(S){for(var O,j=0;j<S.length;j++){if((O=_(S.charAt(j)))==="L")return!1;if(O==="R")return!0}return!1},L=function(S,O,j,V){var ie,le,ce,J,ae=O[V];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ae="AN");break;case"AL":w=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":V<1||V+1>=O.length||(ie=j[V-1])!=="EN"&&ie!=="AN"||(le=O[V+1])!=="EN"&&le!=="AN"?ae="N":w&&(le="AN"),ae=le===ie?le:"N";break;case"ES":ae=(ie=V>0?j[V-1]:"B")==="EN"&&V+1<O.length&&O[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&j[V-1]==="EN"){ae="EN";break}if(w){ae="N";break}for(ce=V+1,J=O.length;ce<J&&O[ce]==="ET";)ce++;ae=ce<J&&O[ce]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(J=O.length,ce=V+1;ce<J&&O[ce]==="NSM";)ce++;if(ce<J){var ve=S[V],pe=ve>=1425&&ve<=2303||ve===64286;if(ie=O[ce],pe&&(ie==="R"||ie==="AL")){ae="R";break}}}ae=V<1||(ie=O[V-1])==="B"?"N":j[V-1];break;case"B":w=!1,i=!0,ae=x;break;case"S":a=!0,ae="N"}return ae},U=function(S,O,j){var V=S.split("");return j&&D(V,j,{hiLevel:x}),V.reverse(),O&&O.reverse(),V.join("")},D=function(S,O,j){var V,ie,le,ce,J,ae=-1,ve=S.length,pe=0,k=[],W=x?f:h,G=[];for(w=!1,i=!1,a=!1,ie=0;ie<ve;ie++)G[ie]=_(S[ie]);for(le=0;le<ve;le++){if(J=pe,k[le]=L(S,G,k,le),V=240&(pe=W[J][g[k[le]]]),pe&=15,O[le]=ce=W[pe][5],V>0)if(V===16){for(ie=ae;ie<le;ie++)O[ie]=1;ae=-1}else ae=-1;if(W[pe][6])ae===-1&&(ae=le);else if(ae>-1){for(ie=ae;ie<le;ie++)O[ie]=ce;ae=-1}G[le]==="B"&&(O[le]=0),j.hiLevel|=ce}a&&function(Z,te,oe){for(var me=0;me<oe;me++)if(Z[me]==="S"){te[me]=x;for(var ge=me-1;ge>=0&&Z[ge]==="WS";ge--)te[ge]=x}}(G,O,ve)},T=function(S,O,j,V,ie){if(!(ie.hiLevel<S)){if(S===1&&x===1&&!i)return O.reverse(),void(j&&j.reverse());for(var le,ce,J,ae,ve=O.length,pe=0;pe<ve;){if(V[pe]>=S){for(J=pe+1;J<ve&&V[J]>=S;)J++;for(ae=pe,ce=J-1;ae<ce;ae++,ce--)le=O[ae],O[ae]=O[ce],O[ce]=le,j&&(le=j[ae],j[ae]=j[ce],j[ce]=le);pe=J}pe++}}},H=function(S,O,j){var V=S.split(""),ie={hiLevel:x};return j||(j=[]),D(V,j,ie),function(le,ce,J){if(J.hiLevel!==0&&c)for(var ae,ve=0;ve<le.length;ve++)ce[ve]===1&&(ae=b.indexOf(le[ve]))>=0&&(le[ve]=b[ae+1])}(V,j,ie),T(2,V,O,j,ie),T(1,V,O,j,ie),V.join("")};return this.__bidiEngine__.doBidiReorder=function(S,O,j){if(function(ie,le){if(le)for(var ce=0;ce<ie.length;ce++)le[ce]=ce;s===void 0&&(s=I(ie)),l===void 0&&(l=I(ie))}(S,O),o||!A||l)if(o&&A&&s^l)x=s?1:0,S=U(S,O,j);else if(!o&&A&&l)x=s?1:0,S=H(S,O,j),S=U(S,O);else if(!o||s||A||l){if(o&&!A&&s^l)S=U(S,O),s?(x=0,S=H(S,O,j)):(x=1,S=H(S,O,j),S=U(S,O));else if(o&&s&&!A&&l)x=1,S=H(S,O,j),S=U(S,O);else if(!o&&!A&&s^l){var V=c;s?(x=1,S=H(S,O,j),x=0,c=!1,S=H(S,O,j),c=V):(x=0,S=H(S,O,j),S=U(S,O),x=1,c=!1,S=H(S,O,j),c=V,S=U(S,O))}}else x=0,S=H(S,O,j);else x=s?1:0,S=H(S,O,j);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,A=S.isOutputVisual,s=S.isInputRtl,l=S.isOutputRtl,c=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([r.doBidiReorder(i[s])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new cA(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sK(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new WH(this.contents),this.head=new qH(this),this.name=new eK(this),this.cmap=new q8(this),this.toUnicode={},this.hhea=new XH(this),this.maxp=new tK(this),this.hmtx=new rK(this),this.post=new JH(this),this.os2=new YH(this),this.loca=new oK(this),this.glyf=new nK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,A,l;for(l=[],o=0,s=(A=this.bbox).length;o<s;o++)e=A[o],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ya,cA=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,s,A;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^A)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+A},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),WH=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,s,A,l,c,u,h,f,g,y;for(y in f=Object.keys(r).length,A=Math.log(2),u=16*Math.floor(Math.log(f)/A),o=Math.floor(u/A),c=16*f-u,(i=new cA).writeInt(this.scalarType),i.writeShort(f),i.writeShort(u),i.writeShort(o),i.writeShort(c),a=16*f,l=i.pos+a,s=null,g=[],r)for(h=r[y],i.writeString(y),i.writeInt(t(h)),i.writeInt(l),i.writeInt(h.length),g=g.concat(h),y==="head"&&(s=l),l+=h.length;l%4;)g.push(0),l++;return i.write(g),n=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=X8.call(r);r.length%4;)r.push(0);for(a=new cA(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),zH={}.hasOwnProperty,_o=function(t,e){for(var r in e)zH.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ya=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var qH=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new cA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),pb=function(){function t(e,r){var n,i,a,o,s,A,l,c,u,h,f,g,y,b,m,w,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,a=function(){var _,I;for(I=[],A=_=0;0<=h?_<h:_>h;A=0<=h?++_:--_)I.push(e.readUInt16());return I}(),e.pos+=2,y=function(){var _,I;for(I=[],A=_=0;0<=h?_<h:_>h;A=0<=h?++_:--_)I.push(e.readUInt16());return I}(),l=function(){var _,I;for(I=[],A=_=0;0<=h?_<h:_>h;A=0<=h?++_:--_)I.push(e.readUInt16());return I}(),c=function(){var _,I;for(I=[],A=_=0;0<=h?_<h:_>h;A=0<=h?++_:--_)I.push(e.readUInt16());return I}(),i=(this.length-e.pos+this.offset)/2,s=function(){var _,I;for(I=[],A=_=0;0<=i?_<i:_>i;A=0<=i?++_:--_)I.push(e.readUInt16());return I}(),A=m=0,x=a.length;m<x;A=++m)for(b=a[A],n=w=g=y[A];g<=b?w<=b:w>=b;n=g<=b?++w:--w)c[A]===0?o=n+l[A]:(o=s[c[A]/2+(n-g)-(h-A)]||0)!==0&&(o+=l[A]),this.codeMap[n]=65535&o}e.pos=u}return t.encode=function(e,r){var n,i,a,o,s,A,l,c,u,h,f,g,y,b,m,w,x,_,I,L,U,D,T,H,S,O,j,V,ie,le,ce,J,ae,ve,pe,k,W,G,Z,te,oe,me,ge,we,Se,Ue;switch(V=new cA,o=Object.keys(e).sort(function(_e,he){return _e-he}),r){case"macroman":for(y=0,b=function(){var _e=[];for(g=0;g<256;++g)_e.push(0);return _e}(),w={0:0},a={},ie=0,ae=o.length;ie<ae;ie++)w[ge=e[i=o[ie]]]==null&&(w[ge]=++y),a[i]={old:e[i],new:w[e[i]]},b[i]=w[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(b),{charMap:a,subtable:V.data,maxGlyphID:y+1};case"unicode":for(O=[],u=[],x=0,w={},n={},m=l=null,le=0,ve=o.length;le<ve;le++)w[I=e[i=o[le]]]==null&&(w[I]=++x),n[i]={old:I,new:w[I]},s=w[I]-i,m!=null&&s===l||(m&&u.push(m),O.push(i),l=s),m=i;for(m&&u.push(m),u.push(65535),O.push(65535),H=2*(T=O.length),D=2*Math.pow(Math.log(T)/Math.LN2,2),h=Math.log(D/2)/Math.LN2,U=2*T-D,A=[],L=[],f=[],g=ce=0,pe=O.length;ce<pe;g=++ce){if(S=O[g],c=u[g],S===65535){A.push(0),L.push(0);break}if(S-(j=n[S].new)>=32768)for(A.push(0),L.push(2*(f.length+T-g)),i=J=S;S<=c?J<=c:J>=c;i=S<=c?++J:--J)f.push(n[i].new);else A.push(j-S),L.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*T+2*f.length),V.writeUInt16(0),V.writeUInt16(H),V.writeUInt16(D),V.writeUInt16(h),V.writeUInt16(U),oe=0,k=u.length;oe<k;oe++)i=u[oe],V.writeUInt16(i);for(V.writeUInt16(0),me=0,W=O.length;me<W;me++)i=O[me],V.writeUInt16(i);for(we=0,G=A.length;we<G;we++)s=A[we],V.writeUInt16(s);for(Se=0,Z=L.length;Se<Z;Se++)_=L[Se],V.writeUInt16(_);for(Ue=0,te=f.length;Ue<te;Ue++)y=f[Ue],V.writeUInt16(y);return{charMap:n,subtable:V.data,maxGlyphID:x+1}}},t}(),q8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new pb(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=pb.encode(e,r),(i=new cA).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),XH=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),YH=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),JH=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,s,A;for(A=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)A.push(e.readUInt32());return A}).call(this)}},t}(),ZH=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},eK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,s,A,l,c,u,h;for(e.pos=this.offset,e.readShort(),r=e.readShort(),s=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(A={},a=c=0,u=n.length;c<u;a=++c)i=n[a],e.pos=i.offset,l=e.readString(i.length),o=new ZH(l,i),A[h=i.nameID]==null&&(A[h]=[]),A[i.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},t}(),tK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),rK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,s,A;for(e.pos=this.offset,this.metrics=[],r=0,s=this.file.hhea.numberOfMetrics;0<=s?r<s:r>s;r=0<=s?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,c;for(c=[],r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l)c.push(e.readInt16());return c}(),this.widths=(function(){var l,c,u,h;for(h=[],l=0,c=(u=this.metrics).length;l<c;l++)a=u[l],h.push(a.advance);return h}).call(this),n=this.widths[this.widths.length-1],A=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)A.push(this.widths.push(n));return A},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),X8=[].slice,nK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,s,A,l,c,u;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(s=new cA(r.read(i))).readShort(),l=s.readShort(),u=s.readShort(),A=s.readShort(),c=s.readShort(),this.cache[e]=o===-1?new aK(s,l,u,A,c):new iK(s,o,l,u,A,c),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,s,A;for(o=[],a=[],s=0,A=r.length;s<A;s++)i=e[r[s]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t}(),iK=function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),aK=function(){function t(e,r,n,i,a){var o,s;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new cA(X8.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),oK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,Ya),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var s=this.offsets[o],A=this.offsets[o+1]-s;A>0&&(i+=A)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},t}(),sK=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,s,A;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in A=this.glyphsFor(r))n=A[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,s,A,l,c,u,h,f,g,y,b,m;for(i in n=q8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},m=n.charMap)f[(A=m[i]).old]=A.new;for(g in h=n.maxGlyphID,o)g in f||(f[g]=h++);return c=function(w){var x,_;for(x in _={},w)_[w[x]]=x;return _}(f),u=Object.keys(c).sort(function(w,x){return w-x}),y=function(){var w,x,_;for(_=[],w=0,x=u.length;w<x;w++)s=u[w],_.push(c[s]);return _}(),a=this.font.glyf.encode(o,y,f),l=this.font.loca.encode(a.offsets,y),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();tt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var s,A,l;for(l=[],s=0,A=r.length;s<A;s++)n=r[s],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e}();function AK(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function lK(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var cK=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uK=function(t){cK(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),AK(a,i.prototype),lK(a),a}return e}(Error),fK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fi=function(t){fK(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(uK),dK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oa=function(t){dK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Fi),hK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),At=function(t){hK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Fi),pK=function(){function t(e){if(this.binarizer=e,e===null)throw new At("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),gK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jn=function(t){gK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Fi),vK=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),mr=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),mK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fy=function(t){mK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Fi),wK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gb=function(t){wK(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(fy),yK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Si=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new At("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new gb(r);if(n>e)throw new gb(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=yK(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(A){r={error:A}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return mr.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),kt=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),In=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);mr.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+kt.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+kt.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new At;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,A=o<i?31:r&31,l=(2<<A)-(1<<s);a[o]|=l}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new At;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var A=s>i?0:e&31,l=s<a?31:r&31,c=(2<<l)-(1<<A)&4294967295;if((o[s]&c)!==(n?c:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new At("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new At("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,A=e[0]>>>s,a=1;a<n;a++){var l=e[a];A|=l<<32-s,e[a-1]=A,A=l>>>s}e[n-1]=A}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Si.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Si.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t}(),Im;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Im||(Im={}));const kr=Im;var xK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qe=function(t){xK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Fi),BK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},er;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(er||(er={}));var xn=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var A=this.values,l=0,c=A.length;l!==c;l++){var u=A[l];t.VALUES_TO_ECI.set(u,this)}try{for(var h=BK(o),f=h.next();!f.done;f=h.next()){var g=f.value;t.NAME_TO_ECI.set(g,this)}}catch(y){i={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Qe("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Qe("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Qe("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(er.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(er.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(er.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(er.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(er.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(er.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(er.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(er.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(er.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(er.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(er.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(er.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(er.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(er.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(er.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(er.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(er.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(er.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(er.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(er.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(er.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(er.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(er.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(er.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(er.Big5,28,"Big5"),t.GB18030=new t(er.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(er.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),bK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K0=function(t){bK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Fi),mo=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof xn?e:xn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(xn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new K0("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(xn.UTF8)||e.equals(xn.ISO8859_1)||e.equals(xn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),pr=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return mo.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(kr.CHARACTER_SET)!==void 0)return r.get(kr.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,A=0,l=0,c=0,u=0,h=0,f=0,g=0,y=0,b=0,m=0,w=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,x=0;x<n&&(i||a||o);x++){var _=e[x]&255;o&&(s>0?_&128?s--:o=!1:_&128&&(_&64?(s++,_&32?(s++,_&16?(s++,_&8?o=!1:c++):l++):A++):o=!1)),i&&(_>127&&_<160?i=!1:_>159&&(_<192||_===215||_===247)&&m++),a&&(u>0?_<64||_===127||_>252?a=!1:u--:_===128||_===160||_>239?a=!1:_>160&&_<224?(h++,g=0,f++,f>y&&(y=f)):_>127?(u++,f=0,g++,g>b&&(b=g)):(f=0,g=0))}return o&&s>0&&(o=!1),a&&u>0&&(a=!1),o&&(w||A+l+c>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||y>=3||b>=3)?t.SHIFT_JIS:i&&a?y===2&&h===2||m*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,A,l,c,u,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=c?parseInt(c.substr(1)):void 0;var f=u?parseInt(u.substr(1)):void 0,g;switch(h){case"s":g=r[i];break;case"c":g=r[i][0];break;case"f":g=parseFloat(r[i]).toFixed(s);break;case"p":g=parseFloat(r[i]).toPrecision(s);break;case"e":g=parseFloat(r[i]).toExponential(s);break;case"x":g=parseInt(r[i]).toString(f||16);break;case"d":g=parseFloat(parseInt(r[i],f||10).toPrecision(s)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(f);for(var y=parseInt(l),b=l&&l[0]+""=="0"?"0":" ";g.length<y;)g=A!==void 0?g+b:b+g;return g}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return mo.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=xn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=xn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=xn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),ir=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=pr.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)},t}(),xo=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new At("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new At("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,A=0,l=0;l<e.length;)if(e.charAt(l)===`
`||e.charAt(l)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new At("row lengths do not match");o=a,A++}l++}else if(e.substring(l,l+r.length)===r)l+=r.length,i[a]=!0,a++;else if(e.substring(l,l+n.length)===n)l+=n.length,i[a]=!1,a++;else throw new At("illegal character encountered: "+e.substring(l));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new At("row lengths do not match");A++}for(var c=new t(s,A),u=0;u<a;u++)i[u]&&c.set(Math.floor(u%s),Math.floor(u/s));return c},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new At("input matrix dimensions do not match");for(var r=new In(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,A=e.getRow(a,r).getBitArray(),l=0;l<n;l++)i[s+l]^=A[l]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new At("Left and top must be nonnegative");if(i<1||n<1)throw new At("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new At("The region must fit inside the matrix");for(var s=this.rowSize,A=this.bits,l=r;l<o;l++)for(var c=l*s,u=e;u<a;u++)A[c+Math.floor(u/32)]|=1<<(u&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new In(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){mr.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new In(e),i=new In(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,A=-1,l=0;l<r;l++)for(var c=0;c<n;c++){var u=i[l*n+c];if(u!==0){if(l<o&&(o=l),l>A&&(A=l),c*32<a){for(var h=0;!(u<<31-h&4294967295);)h++;c*32+h<a&&(a=c*32+h)}if(c*32+31>s){for(var h=31;!(u>>>h);)h--;c*32+h>s&&(s=c*32+h)}}}return s<a||A<o?null:Int32Array.from([a,o,s-a+1,A-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Si.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Si.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new ir,a=0,o=this.height;a<o;a++){for(var s=0,A=this.width;s<A;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),CK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ce=function(t){CK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Fi),_K=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EK=function(t){_K(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new In(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,A=0;A<a;A++)s[(o[A]&255)>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(s);if(a<3)for(var A=0;A<a;A++)(o[A]&255)<l&&n.set(A);else for(var c=o[0]&255,u=o[1]&255,A=1;A<a-1;A++){var h=o[A+1]&255;(u*4-c-h)/2<l&&n.set(A),c=u,u=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new xo(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var A=Math.floor(i*s/5),l=r.getRow(A,this.luminances),c=Math.floor(n*4/5),u=Math.floor(n/5);u<c;u++){var h=l[u]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var f=e.estimateBlackPoint(o),g=r.getMatrix(),s=0;s<i;s++)for(var y=s*n,u=0;u<n;u++){var h=g[y+u]&255;h<f&&a.set(u,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var A=0,l=0,s=0;s<n;s++){var c=s-a,u=r[s]*c*c;u>l&&(A=s,l=u)}if(a>A){var h=a;a=A,A=h}if(A-a<=n/16)throw new Ce;for(var f=A-1,g=-1,s=A-1;s>a;s--){var y=s-a,u=y*y*(A-s)*(i-r[s]);u>g&&(f=s,g=u)}return f<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(vK),SK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IK=function(t){SK(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var A=e.calculateBlackPoints(a,o,s,n,i),l=new xo(n,i);e.calculateThresholdForBlock(a,o,s,n,i,A,l),this.matrix=l}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,A){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,u=0;u<i;u++){var h=u<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var f=e.cap(u,2,i-3),g=0;g<n;g++){var y=g<<e.BLOCK_SIZE_POWER;y>c&&(y=c);for(var b=e.cap(g,2,n-3),m=0,w=-2;w<=2;w++){var x=s[f+w];m+=x[b-2]+x[b-1]+x[b]+x[b+1]+x[b+2]}var _=m/25;e.thresholdBlock(r,y,h,_,a,A)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var A=0,l=i*o+n;A<e.BLOCK_SIZE;A++,l+=o)for(var c=0;c<e.BLOCK_SIZE;c++)(r[l+c]&255)<=a&&s.set(n+c,i+A)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,A=a-e.BLOCK_SIZE,l=new Array(i),c=0;c<i;c++){l[c]=new Int32Array(n);var u=c<<e.BLOCK_SIZE_POWER;u>s&&(u=s);for(var h=0;h<n;h++){var f=h<<e.BLOCK_SIZE_POWER;f>A&&(f=A);for(var g=0,y=255,b=0,m=0,w=u*a+f;m<e.BLOCK_SIZE;m++,w+=a){for(var x=0;x<e.BLOCK_SIZE;x++){var _=r[w+x]&255;g+=_,_<y&&(y=_),_>b&&(b=_)}if(b-y>e.MIN_DYNAMIC_RANGE)for(m++,w+=a;m<e.BLOCK_SIZE;m++,w+=a)for(var x=0;x<e.BLOCK_SIZE;x++)g+=r[w+x]&255}var I=g>>e.BLOCK_SIZE_POWER*2;if(b-y<=e.MIN_DYNAMIC_RANGE&&(I=y/2,c>0&&h>0)){var L=(l[c-1][h]+2*l[c][h-1]+l[c-1][h-1])/4;y<L&&(I=L)}l[c][h]=I}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(EK),_p=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new K0("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new K0("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new K0("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new ir,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),FK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dy=function(t){FK(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(_p),NK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UK=function(t){NK(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,A=r.length;o<A;o+=4,s++){var l=void 0,c=r[o+3];if(c===0)l=255;else{var u=r[o],h=r[o+1],f=r[o+2];l=306*u+601*h+117*f+512>>10}a[s]=l}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new At("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,A=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),l=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=A,n.height=l,i.translate(A/2,l/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new dy(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(_p),TK=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Ai=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(u){o(u)}}function A(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){c.done?a(c.value):i(c.value).then(s,A)}l((n=n.apply(t,e||[])).next())})},li=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},LK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},su=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Ai(this,void 0,void 0,function(){var e,r,n,i,a,o,s,A,l,c,u,h;return li(this,function(f){switch(f.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=f.sent(),r=[];try{for(n=LK(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,A=a.label||"Video device "+(r.length+1),l=a.groupId,c={deviceId:s,label:A,kind:o,groupId:l},r.push(c))}catch(g){u={error:g}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(u)throw u.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Ai(this,void 0,void 0,function(){var e;return li(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new TK(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Ai(this,void 0,void 0,function(){var r;return li(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Ai(this,void 0,void 0,function(){return li(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Ai(this,void 0,void 0,function(){var n,i;return li(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Ai(this,void 0,void 0,function(){var n;return li(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Ai(this,void 0,void 0,function(){var n,i;return li(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Ai(this,void 0,void 0,function(){return li(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Ai(this,void 0,void 0,function(){var i,a;return li(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Ai(this,void 0,void 0,function(){var i;return li(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Ai(this,void 0,void 0,function(){var i;return li(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Ai(this,void 0,void 0,function(){var n;return li(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Ai(this,void 0,void 0,function(){return li(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Oa("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Oa("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Oa("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Oa("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Oa("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Oa("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Oa("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Oa("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Oa("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Oa("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Ai(this,void 0,void 0,function(){return li(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Ai(this,void 0,void 0,function(){return li(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new Ce("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var A=i.decode(e);o(A)}catch(h){var l=r&&h instanceof Ce,c=h instanceof jn||h instanceof Qe,u=c&&n;if(l||u)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(A){r(null,A);var o=A instanceof jn||A instanceof Qe,s=A instanceof Ce;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype._isHTMLVideoElement=function(e){var r=e;return r.videoWidth!==0},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new UK(r),i=new IK(n);return new pK(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Ni=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=mr.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=mr.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);mr.arraycopy(r,0,n,0,r.length),mr.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Fm;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fm||(Fm={}));const dt=Fm;var Nm;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Nm||(Nm={}));const Hn=Nm;var Ep=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),df=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new At;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),aA=function(){function t(e,r){if(r.length===0)throw new At;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),mr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=df.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,A=this.field,i=1;i<s;i++)n=df.addOrSubtract(A.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new At("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;mr.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=df.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new At("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,A=0;A<n;A++)for(var l=r[A],c=0;c<a;c++)o[A+c]=df.addOrSubtract(o[A+c],s.multiply(l,i[c]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new At;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new At("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new At("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),A=r.multiply(i.getCoefficient(i.getDegree()),o),l=e.multiplyByMonomial(s,A),c=r.buildMonomial(s,A);n=n.addOrSubtract(c),i=i.addOrSubtract(l)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),OK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y8=function(t){OK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Fi),kK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bi=function(t){kK(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,A=0;A<n;A++)o[A]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var l=new Int32Array(n),A=0;A<n-1;A++)l[o[A]]=A;return a.logTable=l,a.zero=new aA(a,Int32Array.from([0])),a.one=new aA(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new At;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new aA(this,i)},e.prototype.inverse=function(r){if(r===0)throw new Y8;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+kt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(df),DK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d0=function(t){DK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Fi),PK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bd=function(t){PK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Fi),Sp=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new aA(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var A=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=A,A!==0&&(o=!1)}if(!o)for(var l=new aA(n,a),c=this.runEuclideanAlgorithm(n.buildMonomial(r,1),l,r),u=c[0],h=c[1],f=this.findErrorLocations(u),g=this.findErrorMagnitudes(h,f),s=0;s<f.length;s++){var y=e.length-1-n.log(f[s]);if(y<0)throw new d0("Bad error location");e[y]=Bi.addOrSubtract(e[y],g[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,A=a.getZero(),l=a.getOne();s.getDegree()>=(n/2|0);){var c=o,u=A;if(o=s,A=l,o.isZero())throw new d0("r_{i-1} was zero");s=c;for(var h=a.getZero(),f=o.getCoefficient(o.getDegree()),g=a.inverse(f);s.getDegree()>=o.getDegree()&&!s.isZero();){var y=s.getDegree()-o.getDegree(),b=a.multiply(s.getCoefficient(s.getDegree()),g);h=h.addOrSubtract(a.buildMonomial(y,b)),s=s.addOrSubtract(o.multiplyByMonomial(y,b))}if(l=h.multiply(A).addOrSubtract(u),s.getDegree()>=o.getDegree())throw new bd("Division algorithm failed to reduce polynomial?")}var m=l.getCoefficient(0);if(m===0)throw new d0("sigmaTilde(0) was zero");var w=a.inverse(m),x=l.multiplyScalar(w),_=s.multiplyScalar(w);return[x,_]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new d0("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),A=1,l=0;l<n;l++)if(o!==l){var c=a.multiply(r[l],s),u=c&1?c&-2:c|1;A=a.multiply(A,u)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(A)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),Dn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Dn||(Dn={}));var vb=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new Ep(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Dn.UPPER,i=Dn.UPPER,a="",o=0;o<r;)if(i===Dn.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var A=0;A<s;A++){if(r-o<8){o=r;break}var l=t.readCode(e,o,8);a+=pr.castAsNonUtf8Char(l),o+=8}i=n}else{var c=i===Dn.DIGIT?4:5;if(r-o<c)break;var l=t.readCode(e,o,c);o+=c;var u=t.getCharacter(i,l);u.startsWith("CTRL_")?(n=i,i=t.getTable(u.charAt(5)),u.charAt(6)==="L"&&(n=i)):(a+=u,i=n)}return a},t.getTable=function(e){switch(e){case"L":return Dn.LOWER;case"P":return Dn.PUNCT;case"M":return Dn.MIXED;case"D":return Dn.DIGIT;case"B":return Dn.BINARY;case"U":default:return Dn.UPPER}},t.getCharacter=function(e,r){switch(e){case Dn.UPPER:return t.UPPER_TABLE[r];case Dn.LOWER:return t.LOWER_TABLE[r];case Dn.MIXED:return t.MIXED_TABLE[r];case Dn.PUNCT:return t.PUNCT_TABLE[r];case Dn.DIGIT:return t.DIGIT_TABLE[r];default:throw new bd("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Bi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Bi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Bi.AZTEC_DATA_10):(n=12,r=Bi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new Qe;for(var o=e.length%n,s=new Int32Array(a),A=0;A<a;A++,o+=n)s[A]=t.readCode(e,o,n);try{var l=new Sp(r);l.decode(s,a-i)}catch(b){throw new Qe(b)}for(var c=(1<<n)-1,u=0,A=0;A<i;A++){var h=s[A];if(h===0||h===c)throw new Qe;(h===1||h===c-1)&&u++}for(var f=new Array(i*n-u),g=0,A=0;A<i;A++){var h=s[A];if(h===1||h===c-1)f.fill(h>1,g,g+n-1),g+=n-1;else for(var y=n-1;y>=0;--y)f[g++]=(h&1<<y)!==0}return f},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var A=i+1+2*kt.truncDivision(kt.truncDivision(i,2)-1,15),l=i/2,c=kt.truncDivision(A,2),s=0;s<l;s++){var u=s+kt.truncDivision(s,15);a[l-s-1]=c-u-1,a[l+s]=c+u+1}for(var s=0,h=0;s<n;s++){for(var f=(n-s)*4+(r?9:12),g=s*2,y=i-1-g,b=0;b<f;b++)for(var m=b*2,w=0;w<2;w++)o[h+m+w]=e.get(a[g+w],a[g+b]),o[h+2*f+m+w]=e.get(a[g+b],a[y-w]),o[h+4*f+m+w]=e.get(a[y-w],a[y-b]),o[h+6*f+m+w]=e.get(a[y-b],a[g+w]);h+=f*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Rt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),Um=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),rt=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Um.floatToIntBits(this.x)+Um.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var A=a;a=s,s=A}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return Rt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),hy=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),QK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),RK=function(t){QK(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(hy),Tm=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ce}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,A=!1,l=!1,c=!1,u=!1,h=this.width,f=this.height;o;){o=!1;for(var g=!0;(g||!A)&&r<h;)g=this.containsBlackPoint(n,i,r,!1),g?(r++,o=!0,A=!0):A||r++;if(r>=h){a=!0;break}for(var y=!0;(y||!l)&&i<f;)y=this.containsBlackPoint(e,r,i,!0),y?(i++,o=!0,l=!0):l||i++;if(i>=f){a=!0;break}for(var b=!0;(b||!c)&&e>=0;)b=this.containsBlackPoint(n,i,e,!1),b?(e--,o=!0,c=!0):c||e--;if(e<0){a=!0;break}for(var m=!0;(m||!u)&&n>=0;)m=this.containsBlackPoint(e,r,n,!0),m?(n--,o=!0,u=!0):u||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var w=r-e,x=null,_=1;x===null&&_<w;_++)x=this.getBlackPointOnSegment(e,i-_,e+_,i);if(x==null)throw new Ce;for(var I=null,_=1;I===null&&_<w;_++)I=this.getBlackPointOnSegment(e,n+_,e+_,n);if(I==null)throw new Ce;for(var L=null,_=1;L===null&&_<w;_++)L=this.getBlackPointOnSegment(r,n+_,r-_,n);if(L==null)throw new Ce;for(var U=null,_=1;U===null&&_<w;_++)U=this.getBlackPointOnSegment(r,i-_,r-_,i);if(U==null)throw new Ce;return this.centerEdges(U,x,L,I)}else throw new Ce},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=Rt.round(Rt.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,A=this.image,l=0;l<a;l++){var c=Rt.round(e+l*o),u=Rt.round(r+l*s);if(A.get(c,u))return new rt(c,u)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),A=r.getY(),l=n.getX(),c=n.getY(),u=i.getX(),h=i.getY(),f=t.CORR;return a<this.width/2?[new rt(u-f,h+f),new rt(s+f,A+f),new rt(l-f,c-f),new rt(a+f,o-f)]:[new rt(u+f,h+f),new rt(s+f,A-f),new rt(l-f,c+f),new rt(a-f,o-f)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),mb=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),A=Math.floor(r[o+1]);if(s<-1||s>n||A<-1||A>i)throw new Ce;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),A===-1?(r[o+1]=0,a=!0):A===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),A=Math.floor(r[o+1]);if(s<-1||s>n||A<-1||A>i)throw new Ce;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),A===-1?(r[o+1]=0,a=!0):A===i&&(r[o+1]=i-1,a=!0)}},t}(),J8=function(){function t(e,r,n,i,a,o,s,A,l){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=A,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,A,l,c,u,h,f,g,y,b){var m=t.quadrilateralToSquare(e,r,n,i,a,o,s,A),w=t.squareToQuadrilateral(l,c,u,h,f,g,y,b);return w.times(m)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,A=this.a23,l=this.a31,c=this.a32,u=this.a33,h=0;h<r;h+=2){var f=e[h],g=e[h+1],y=a*f+A*g+u;e[h]=(n*f+o*g+l)/y,e[h+1]=(i*f+s*g+c)/y}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,A=this.a23,l=this.a31,c=this.a32,u=this.a33,h=e.length,f=0;f<h;f++){var g=e[f],y=r[f],b=a*g+A*y+u;e[f]=(n*g+o*y+l)/b,r[f]=(i*g+s*y+c)/b}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,A){var l=e-n+a-s,c=r-i+o-A;if(l===0&&c===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var u=n-a,h=s-a,f=i-o,g=A-o,y=u*g-h*f,b=(l*g-h*c)/y,m=(u*c-l*f)/y;return new t(n-e+b*n,s-e+m*s,e,i-r+b*i,A-r+m*A,r,b,m,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,A){return t.squareToQuadrilateral(e,r,n,i,a,o,s,A).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),jK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MK=function(t){jK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,A,l,c,u,h,f,g,y,b,m,w,x,_){var I=J8.quadrilateralToQuadrilateral(a,o,s,A,l,c,u,h,f,g,y,b,m,w,x,_);return this.sampleGridWithTransform(r,n,i,I)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new Ce;for(var o=new xo(n,i),s=new Float32Array(2*n),A=0;A<i;A++){for(var l=s.length,c=A+.5,u=0;u<l;u+=2)s[u]=u/2+.5,s[u+1]=c;a.transformPoints(s),mb.checkAndNudgePoints(r,s);try{for(var u=0;u<l;u+=2)r.get(Math.floor(s[u]),Math.floor(s[u+1]))&&o.set(u/2,A)}catch{throw new Ce}}return o},e}(mb),py=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new MK,t}(),mi=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new rt(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),HK=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new RK(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Ce;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var A=(a>>r-2<<1)+(a&1);n=(n<<3)+A}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(kt.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Ce},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var A=new Sp(Bi.AZTEC_PARAM);A.decode(o,a)}catch{throw new Ce}for(var l=0,s=0;s<i;s++)l=(l<<4)+o[s];return l},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),A=this.getFirstDifferent(n,o,1,1),l=this.getFirstDifferent(i,o,-1,1),c=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var u=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(u<.75||u>1.25||!this.isWhiteOrBlackRectangle(s,A,l,c))break}r=s,n=A,i=l,a=c,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ce;this.compact=this.nbCenterLayers===5;var h=new rt(r.getX()+.5,r.getY()-.5),f=new rt(n.getX()+.5,n.getY()+.5),g=new rt(i.getX()-.5,i.getY()+.5),y=new rt(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,f,g,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new Tm(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new mi(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new mi(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new mi(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new mi(o-7,s-7),!1,-1,-1).toResultPoint()}var A=Rt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=Rt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new Tm(this.image,15,A,l).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new mi(A+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new mi(A+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new mi(A-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new mi(A-7,l-7),!1,-1,-1).toResultPoint()}return A=Rt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=Rt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new mi(A,l)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=py.getInstance(),s=this.getDimension(),A=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,A,A,l,A,l,l,A,l,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),A=e.getY(),l=o*(r.getX()-e.getX())/a,c=o*(r.getY()-e.getY())/a,u=0;u<n;u++)this.image.get(Rt.round(s+u*l),Rt.round(A+u*c))&&(i|=1<<n-u-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new mi(e.getX()-a,e.getY()+a),r=new mi(r.getX()-a,r.getY()-a),n=new mi(n.getX()+a,n.getY()-a),i=new mi(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),A=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),u=0;u<c;u++)s+=i,A+=a,this.image.get(Rt.round(s),Rt.round(A))!==l&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===l?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new mi(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,A=(e[0].getY()+e[2].getY())/2,l=new rt(s+i*a,A+i*o),c=new rt(s-i*a,A-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,A=(e[1].getY()+e[3].getY())/2;var u=new rt(s+i*a,A+i*o),h=new rt(s-i*a,A-i*o),f=[l,u,c,h];return f},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Rt.round(e.getX()),n=Rt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Rt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Rt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(kt.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Lm=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new HK(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new vb().decode(s)}catch(u){n=u}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new vb().decode(s)}catch(u){throw n??u}var A=new Ni(o.getText(),o.getRawBytes(),o.getNumBits(),a,dt.AZTEC,mr.currentTimeMillis()),l=o.getByteSegments();l!=null&&A.putMetadata(Hn.BYTE_SEGMENTS,l);var c=o.getECLevel();return c!=null&&A.putMetadata(Hn.ERROR_CORRECTION_LEVEL,c),A},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(kr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),KK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){KK(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Lm,r)||this}return e})(su);var Kn=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(kr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(Hn.ORIENTATION)===!0&&(s=s+o.get(Hn.ORIENTATION)%360),a.putMetadata(Hn.ORIENTATION,s);var A=a.getResultPoints();if(A!==null)for(var l=i.getHeight(),c=0;c<A.length;c++)A[c]=new rt(l-A[c].getY()-1,A[c].getX());return a}else throw new Ce}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new In(n),o=r&&r.get(kr.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),A;o?A=i:A=15;for(var l=Math.trunc(i/2),c=0;c<A;c++){var u=Math.trunc((c+1)/2),h=(c&1)===0,f=l+s*(h?u:-u);if(f<0||f>=i)break;try{a=e.getBlackRow(f,a)}catch{continue}for(var g=function(w){if(w===1&&(a.reverse(),r&&r.get(kr.NEED_RESULT_POINT_CALLBACK)===!0)){var x=new Map;r.forEach(function(L,U){return x.set(U,L)}),x.delete(kr.NEED_RESULT_POINT_CALLBACK),r=x}try{var _=y.decodeRow(f,a,r);if(w===1){_.putMetadata(Hn.ORIENTATION,180);var I=_.getResultPoints();I!==null&&(I[0]=new rt(n-I[0].getX()-1,I[0].getY()),I[1]=new rt(n-I[1].getX()-1,I[1].getY()))}return{value:_}}catch{}},y=this,b=0;b<2;b++){var m=g(b);if(typeof m=="object")return m.value}}throw new Ce},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new Ce;for(var s=!e.get(r),A=0,l=r;l<o;){if(e.get(l)!==s)n[A]++;else{if(++A===i)break;n[A]=1,s=!s}l++}if(!(A===i||A===i-1&&l===o))throw new Ce},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new Ce;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var A=a/o;n*=A;for(var l=0,c=0;c<i;c++){var u=e[c],h=r[c]*A,f=u>h?u-h:h-u;if(f>n)return Number.POSITIVE_INFINITY;l+=f}return l/a},t}(),VK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wb=function(t){VK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,A=!1,l=6,c=i;c<n;c++)if(r.get(c)!==A)o[a]++;else{if(a===l-1){for(var u=e.MAX_AVG_VARIANCE,h=-1,f=e.CODE_START_A;f<=e.CODE_START_C;f++){var g=Kn.patternMatchVariance(o,e.CODE_PATTERNS[f],e.MAX_INDIVIDUAL_VARIANCE);g<u&&(u=g,h=f)}if(h>=0&&r.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,h]);s+=o[0]+o[1],o=o.slice(2,o.length-1),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,A=!A}throw new Ce},e.decodeCode=function(r,n,i){Kn.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var A=e.CODE_PATTERNS[s],l=this.patternMatchVariance(n,A,e.MAX_INDIVIDUAL_VARIANCE);l<a&&(a=l,o=s)}if(o>=0)return o;throw new Ce},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(kr.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],A=0,l=new Uint8Array(20);l[A++]=s;var c;switch(s){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new Qe}for(var u=!1,h=!1,f="",g=o[0],y=o[1],b=Int32Array.from([0,0,0,0,0,0]),m=0,w=0,x=s,_=0,I=!0,L=!1,U=!1;!u;){var D=h;switch(h=!1,m=w,w=e.decodeCode(n,b,y),l[A++]=w,w!==e.CODE_STOP&&(I=!0),w!==e.CODE_STOP&&(_++,x+=_*w),g=y,y+=b.reduce(function(ce,J){return ce+J},0),w){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Qe}switch(c){case e.CODE_CODE_A:if(w<64)U===L?f+=String.fromCharCode(32+w):f+=String.fromCharCode(32+w+128),U=!1;else if(w<96)U===L?f+=String.fromCharCode(w-64):f+=String.fromCharCode(w+64),U=!1;else switch(w!==e.CODE_STOP&&(I=!1),w){case e.CODE_FNC_1:a&&(f.length===0?f+="]C1":f+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!L&&U?(L=!0,U=!1):L&&U?(L=!1,U=!1):U=!0;break;case e.CODE_SHIFT:h=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:u=!0;break}break;case e.CODE_CODE_B:if(w<96)U===L?f+=String.fromCharCode(32+w):f+=String.fromCharCode(32+w+128),U=!1;else switch(w!==e.CODE_STOP&&(I=!1),w){case e.CODE_FNC_1:a&&(f.length===0?f+="]C1":f+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!L&&U?(L=!0,U=!1):L&&U?(L=!1,U=!1):U=!0;break;case e.CODE_SHIFT:h=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:u=!0;break}break;case e.CODE_CODE_C:if(w<100)w<10&&(f+="0"),f+=w;else switch(w!==e.CODE_STOP&&(I=!1),w){case e.CODE_FNC_1:a&&(f.length===0?f+="]C1":f+="");break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:u=!0;break}break}D&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var T=y-g;if(y=n.getNextUnset(y),!n.isRange(y,Math.min(n.getSize(),y+(y-g)/2),!1))throw new Ce;if(x-=_*m,x%103!==m)throw new jn;var H=f.length;if(H===0)throw new Ce;H>0&&I&&(c===e.CODE_CODE_C?f=f.substring(0,H-2):f=f.substring(0,H-1));for(var S=(o[1]+o[0])/2,O=g+T/2,j=l.length,V=new Uint8Array(j),ie=0;ie<j;ie++)V[ie]=l[ie];var le=[new rt(S,r),new rt(O,r)];return new Ni(f,V,0,le,dt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Kn),GK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yb=function(t){GK(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,A,l=this.counters;l.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,l),u=n.getNextSet(c[1]),h=n.getSize(),f,g;do{e.recordPattern(n,u,l);var y=e.toNarrowWidePattern(l);if(y<0)throw new Ce;f=e.patternToChar(y),this.decodeRowResult+=f,g=u;try{for(var b=(a=void 0,T2(l)),m=b.next();!m.done;m=b.next()){var w=m.value;u+=w}}catch(j){a={error:j}}finally{try{m&&!m.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}u=n.getNextSet(u)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var x=0;try{for(var _=T2(l),I=_.next();!I.done;I=_.next()){var w=I.value;x+=w}}catch(j){s={error:j}}finally{try{I&&!I.done&&(A=_.return)&&A.call(_)}finally{if(s)throw s.error}}var L=u-g-x;if(u!==h&&L*2<x)throw new Ce;if(this.usingCheckDigit){for(var U=this.decodeRowResult.length-1,D=0,T=0;T<U;T++)D+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(T));if(this.decodeRowResult.charAt(U)!==e.ALPHABET_STRING.charAt(D%43))throw new jn;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new Ce;var H;this.extendedMode?H=e.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;var S=(c[1]+c[0])/2,O=g+x/2;return new Ni(H,null,0,[new rt(S,r),new rt(O,r)],dt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,A=!1,l=n.length,c=a;c<i;c++)if(r.get(c)!==A)n[o]++;else{if(o===l-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,A=!A}throw new Ce},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var A=2147483647;try{for(var l=(n=void 0,T2(r)),c=l.next();!c.done;c=l.next()){var u=c.value;u<A&&u>o&&(A=u)}}catch(y){n={error:y}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}o=A,s=0;for(var h=0,f=0,g=0;g<a;g++){var u=r[g];u>o&&(f|=1<<a-1-g,s++,h+=u)}if(s===3){for(var g=0;g<a&&s>0;g++){var u=r[g];if(u>o&&(s--,u*2>=h))return-1}return f}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Ce},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),A="\0";switch(o){case"+":if(s>="A"&&s<="Z")A=String.fromCharCode(s.charCodeAt(0)+32);else throw new Qe;break;case"$":if(s>="A"&&s<="Z")A=String.fromCharCode(s.charCodeAt(0)-64);else throw new Qe;break;case"%":if(s>="A"&&s<="E")A=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")A=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")A=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")A=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")A="\0";else if(s==="V")A="@";else if(s==="W")A="`";else if(s==="X"||s==="Y"||s==="Z")A="";else throw new Qe;break;case"/":if(s>="A"&&s<="O")A=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")A=":";else throw new Qe;break}i+=A,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Kn),$K=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xb=function(t){$K(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),A=this.decodeEnd(n),l=new ir;e.decodeMiddle(n,s[1],A[0],l);var c=l.toString(),u=null;i!=null&&(u=i.get(kr.ALLOWED_LENGTHS)),u==null&&(u=e.DEFAULT_ALLOWED_LENGTHS);var h=c.length,f=!1,g=0;try{for(var y=WK(u),b=y.next();!b.done;b=y.next()){var m=b.value;if(h===m){f=!0;break}m>g&&(g=m)}}catch(_){a={error:_}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}if(!f&&h>g&&(f=!0),!f)throw new Qe;var w=[new rt(s[1],r),new rt(A[0],r)],x=new Ni(c,null,0,w,dt.ITF,new Date().getTime());return x},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),A=new Int32Array(5);for(o.fill(0),s.fill(0),A.fill(0);n<i;){Kn.recordPattern(r,n,o);for(var l=0;l<5;l++){var c=2*l;s[l]=o[c],A[l]=o[c+1]}var u=e.decodeDigit(s);a.append(u.toString()),u=this.decodeDigit(A),a.append(u.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new Ce},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new Ce;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof Ce&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),A=!1,l=0,c=n;o.fill(0);for(var u=n;u<s;u++)if(r.get(u)!==A)o[l]++;else{if(l===a-1){if(Kn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,u];c+=o[0]+o[1],mr.arraycopy(o,2,o,0,l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,A=!A}throw new Ce},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],A=Kn.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);A<n?(n=A,i=o):A===n&&(i=-1)}if(i>=0)return i%10;throw new Ce},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Kn),zK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zc=function(t){zK(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var A=s-(a-s);A>=0&&(n=r.isRange(A,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Qe;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Qe;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var A=0,l=n,c=a.length,u=i,h=n;h<s;h++)if(r.get(h)!==u)o[A]++;else{if(A===c-1){if(Kn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,h]);l+=o[0]+o[1];for(var f=o.slice(2,o.length-1),g=0;g<A-1;g++)o[g]=f[g];o[A-1]=0,o[A]=0,A--}else A++;o[A]=1,u=!u}throw new Ce},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,A=a.length,l=0;l<A;l++){var c=a[l],u=Kn.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<o&&(o=u,s=l)}if(s>=0)return s;throw new Ce},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Kn),qK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XK=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),A=[new rt((n[0]+n[1])/2,e),new rt(a,e)],l=new Ni(o,null,0,A,dt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),A=r[1],l=0,c=0;c<5&&A<s;c++){var u=zc.decodeDigit(e,o,A,zc.L_AND_G_PATTERNS);n+=String.fromCharCode(48+u%10);try{for(var h=(i=void 0,qK(o)),f=h.next();!f.done;f=h.next()){var g=f.value;A+=g}}catch(b){i={error:b}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u>=10&&(l|=1<<4-c),c!==4&&(A=e.getNextSet(A),A=e.getNextUnset(A))}if(n.length!==5)throw new Ce;var y=this.determineCheckDigit(l);if(t.extensionChecksum(n.toString())!==y)throw new Ce;return A},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Ce},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Hn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),YK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JK=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),A=[new rt((n[0]+n[1])/2,e),new rt(a,e)],l=new Ni(o,null,0,A,dt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),A=r[1],l=0,c=0;c<2&&A<s;c++){var u=zc.decodeDigit(e,o,A,zc.L_AND_G_PATTERNS);n+=String.fromCharCode(48+u%10);try{for(var h=(i=void 0,YK(o)),f=h.next();!f.done;f=h.next()){var g=f.value;A+=g}}catch(y){i={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u>=10&&(l|=1<<1-c),c!==1&&(A=e.getNextSet(A),A=e.getNextUnset(A))}if(n.length!==2)throw new Ce;if(parseInt(n.toString())%4!==l)throw new Ce;return A},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Hn.ISSUE_NUMBER,parseInt(e)]])},t}(),ZK=function(){function t(){}return t.decodeRow=function(e,r,n){var i=zc.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new XK;return a.decodeRow(e,r,i)}catch{var o=new JK;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),eV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wn=function(t){eV(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(kr.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new rt((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var A=this.decodeMiddle(n,a,this.decodeRowStringBuffer),l=A.rowOffset,c=A.resultString;if(o!=null){var u=new rt(l,r);o.foundPossibleResultPoint(u)}var h=e.decodeEnd(n,l);if(o!=null){var f=new rt((h[0]+h[1])/2,r);o.foundPossibleResultPoint(f)}var g=h[1],y=g+(g-h[0]);if(y>=n.getSize()||!n.isRange(g,y,!1))throw new Ce;var b=c.toString();if(b.length<8)throw new Qe;if(!e.checkChecksum(b))throw new jn;var m=(a[1]+a[0])/2,w=(h[1]+h[0])/2,x=this.getBarcodeFormat(),_=[new rt(m,r),new rt(w,r)],I=new Ni(b,null,0,_,x,new Date().getTime()),L=0;try{var U=ZK.decodeRow(r,n,h[1]);I.putMetadata(Hn.UPC_EAN_EXTENSION,U.getText()),I.putAllMetadata(U.getResultMetadata()),I.addResultPoints(U.getResultPoints()),L=U.getText().length}catch{}var D=i==null?null:i.get(kr.ALLOWED_EAN_EXTENSIONS);if(D!=null){var T=!1;for(var H in D)if(L.toString()===H){T=!0;break}if(!T)throw new Ce}return x===dt.EAN_13||dt.UPC_A,I},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Qe;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Qe;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(zc),tV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Om=function(t){tV(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,A,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],h=0,f=0;f<6&&u<c;f++){var g=wn.decodeDigit(r,l,u,wn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var y=(a=void 0,Bb(l)),b=y.next();!b.done;b=y.next()){var m=b.value;u+=m}}catch(I){a={error:I}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}g>=10&&(h|=1<<5-f)}i=e.determineFirstDigit(i,h);var w=wn.findGuardPattern(r,u,!0,wn.MIDDLE_PATTERN,new Int32Array(wn.MIDDLE_PATTERN.length).fill(0));u=w[1];for(var f=0;f<6&&u<c;f++){var g=wn.decodeDigit(r,l,u,wn.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var x=(s=void 0,Bb(l)),_=x.next();!_.done;_=x.next()){var m=_.value;u+=m}}catch(U){s={error:U}}finally{try{_&&!_.done&&(A=x.return)&&A.call(x)}finally{if(s)throw s.error}}}return{rowOffset:u,resultString:i}},e.prototype.getBarcodeFormat=function(){return dt.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new Ce},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(wn),rV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cb=function(t){rV(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,A,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],h=0;h<4&&u<c;h++){var f=wn.decodeDigit(r,l,u,wn.L_PATTERNS);i+=String.fromCharCode(48+f);try{for(var g=(a=void 0,bb(l)),y=g.next();!y.done;y=g.next()){var b=y.value;u+=b}}catch(_){a={error:_}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}}var m=wn.findGuardPattern(r,u,!0,wn.MIDDLE_PATTERN,new Int32Array(wn.MIDDLE_PATTERN.length).fill(0));u=m[1];for(var h=0;h<4&&u<c;h++){var f=wn.decodeDigit(r,l,u,wn.L_PATTERNS);i+=String.fromCharCode(48+f);try{for(var w=(s=void 0,bb(l)),x=w.next();!x.done;x=w.next()){var b=x.value;u+=b}}catch(L){s={error:L}}finally{try{x&&!x.done&&(A=w.return)&&A.call(w)}finally{if(s)throw s.error}}}return{rowOffset:u,resultString:i}},e.prototype.getBarcodeFormat=function(){return dt.EAN_8},e}(wn),nV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_b=function(t){nV(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Om,r}return e.prototype.getBarcodeFormat=function(){return dt.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Ni(n.substring(1),null,null,r.getResultPoints(),dt.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new Ce},e.prototype.reset=function(){this.ean13Reader.reset()},e}(wn),iV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eb=function(t){iV(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(b){return b});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var A=r.getSize(),l=n[1],c=0,u=0;u<6&&l<A;u++){var h=e.decodeDigit(r,s,l,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var f=(a=void 0,aV(s)),g=f.next();!g.done;g=f.next()){var y=g.value;l+=y}}catch(b){a={error:b}}finally{try{g&&!g.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}h>=10&&(c|=1<<5-u)}return e.determineNumSysAndCheckDigit(new ir(i),c),l},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return wn.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw Ce.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return dt.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new ir;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(wn),oV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L2=function(t){oV(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(kr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(dt.EAN_13)>-1&&a.push(new Om),i.indexOf(dt.UPC_A)>-1&&a.push(new _b),i.indexOf(dt.EAN_8)>-1&&a.push(new Cb),i.indexOf(dt.UPC_E)>-1&&a.push(new Eb)),a.length===0&&(a.push(new Om),a.push(new _b),a.push(new Cb),a.push(new Eb)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=Sb(this.readers),A=s.next();!A.done;A=s.next()){var l=A.value;try{var c=l.decodeRow(r,n,i),u=c.getBarcodeFormat()===dt.EAN_13&&c.getText().charAt(0)==="0",h=i==null?null:i.get(kr.POSSIBLE_FORMATS),f=h==null||h.includes(dt.UPC_A);if(u&&f){var g=c.getRawBytes(),y=new Ni(c.getText().substring(1),g,g?g.length:null,c.getResultPoints(),dt.UPC_A);return y.putAllMetadata(c.getResultMetadata()),y}return c}catch{}}}catch(b){a={error:b}}finally{try{A&&!A.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new Ce},e.prototype.reset=function(){var r,n;try{for(var i=Sb(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Kn),sV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XA=function(t){sV(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Kn.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Ce},e.count=function(r){return Rt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var A=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var c=AV(r),u=c.next();!u.done;u=c.next()){var h=u.value;h>l&&(l=h),h<A&&(A=h)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l<10*A}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Kn),H1=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),Z8=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new rt(n,a)),this.resultPoints.push(new rt(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),lV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bc=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=lV(e),A=s.next();!A.done;A=s.next()){var l=A.value;o+=l}}catch(w){i={error:w}}finally{try{A&&!A.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var c=0,u=0,h=e.length,f=0;f<h-1;f++){var g=void 0;for(g=1,u|=1<<f;g<e[f];g++,u&=~(1<<f)){var y=t.combins(o-g-1,h-f-2);if(n&&u===0&&o-g-(h-f-1)>=h-f-1&&(y-=t.combins(o-g-(h-f),h-f-2)),h-f-1>1){for(var b=0,m=o-g-(h-f-2);m>r;m--)b+=t.combins(o-g-m-1,h-f-3);y-=b*(h-1-f)}else o-g>r&&y--;c+=y}o-=g}return c},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),cV=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new In(n),a=0,o=e[0],s=o.getRightChar().getValue(),A=11;A>=0;--A)s&1<<A&&i.set(a),a++;for(var A=1;A<e.length;++A){for(var l=e[A],c=l.getLeftChar().getValue(),u=11;u>=0;--u)c&1<<u&&i.set(a),a++;if(l.getRightChar()!=null)for(var h=l.getRightChar().getValue(),u=11;u>=0;--u)h&1<<u&&i.set(a),a++}return i},t}(),VA=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),gy=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),uV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ua=function(t){uV(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(gy),fV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GA=function(t){fV(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(gy),dV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tc=function(t){dV(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new Qe;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(gy),h0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hV=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,A,l;if(!e)return null;if(e.length<2)throw new Ce;var c=e.substring(0,2);try{for(var u=h0(t.TWO_DIGIT_DATA_LENGTH),h=u.next();!h.done;h=u.next()){var f=h.value;if(f[0]===c)return f[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,f[2],e):t.processFixedAI(2,f[1],e)}}catch(L){r={error:L}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(e.length<3)throw new Ce;var g=e.substring(0,3);try{for(var y=h0(t.THREE_DIGIT_DATA_LENGTH),b=y.next();!b.done;b=y.next()){var f=b.value;if(f[0]===g)return f[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,f[2],e):t.processFixedAI(3,f[1],e)}}catch(L){i={error:L}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}try{for(var m=h0(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),w=m.next();!w.done;w=m.next()){var f=w.value;if(f[0]===g)return f[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,f[2],e):t.processFixedAI(4,f[1],e)}}catch(L){o={error:L}}finally{try{w&&!w.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(e.length<4)throw new Ce;var x=e.substring(0,4);try{for(var _=h0(t.FOUR_DIGIT_DATA_LENGTH),I=_.next();!I.done;I=_.next()){var f=I.value;if(f[0]===x)return f[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,f[2],e):t.processFixedAI(4,f[1],e)}}catch(L){A={error:L}}finally{try{I&&!I.done&&(l=_.return)&&l.call(_)}finally{if(A)throw A.error}}throw new Ce},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Ce;var i=n.substring(0,e);if(n.length<e+r)throw new Ce;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,A=t.parseFieldsInGeneralPurpose(o);return A==null?s:s+A},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),A="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(s);return l==null?A:A+l},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),V0=function(){function t(e){this.buffer=new ir,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=hV.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new tc(this.information.getSize(),tc.FNC1,tc.FNC1):new tc(this.information.getSize(),r-1,tc.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new tc(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new GA(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new GA(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new GA(this.current.getPosition(),this.buffer.toString()):r=new GA(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new VA(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new GA(this.current.getPosition(),this.buffer.toString());return new VA(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new VA(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new GA(this.current.getPosition(),this.buffer.toString());return new VA(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new VA(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new GA(this.current.getPosition(),this.buffer.toString());return new VA(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new VA(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ua(e+5,Ua.FNC1);if(r>=5&&r<15)return new Ua(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ua(e+7,""+(n+1));if(n>=90&&n<116)return new Ua(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new Qe}return new Ua(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ua(e+5,Ua.FNC1);if(r>=5&&r<15)return new Ua(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ua(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new bd("Decoding invalid alphanumeric value: "+n)}return new Ua(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),e6=function(){function t(e){this.information=e,this.generalDecoder=new V0(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),pV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ma=function(t){pV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(e6),gV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vV=function(t){gV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new ir;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Ma),mV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wV=function(t){mV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new ir;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(e6),yV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G0=function(t){yV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,A=0;A<5;++A)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(Ma),xV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t6=function(t){xV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+G0.GTIN_SIZE+e.WEIGHT_SIZE)throw new Ce;var r=new ir;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+G0.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(G0),BV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bV=function(t){BV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(t6),CV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_V=function(t){CV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(t6),EV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SV=function(t){EV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ma.GTIN_SIZE)throw new Ce;var r=new ir;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ma.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ma.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Ma),IV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FV=function(t){IV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ma.GTIN_SIZE)throw new Ce;var r=new ir;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ma.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ma.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&r.append("0"),i/10==0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ma.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Ma),NV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Us=function(t){NV(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Ce;var r=new ir;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!=38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10==0&&r.append("0"),r.append(s),o/10==0&&r.append("0"),r.append(o),a/10==0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(G0);function UV(t){try{if(t.get(1))return new vV(t);if(!t.get(2))return new wV(t);var e=V0.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new bV(t);case 5:return new _V(t)}var r=V0.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new SV(t);case 13:return new FV(t)}var n=V0.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Us(t,"310","11");case 57:return new Us(t,"320","11");case 58:return new Us(t,"310","13");case 59:return new Us(t,"320","13");case 60:return new Us(t,"310","15");case 61:return new Us(t,"320","15");case 62:return new Us(t,"310","17");case 63:return new Us(t,"320","17")}}catch(i){throw console.log(i),new bd("unknown decoder: "+t)}}var Ib=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),TV=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),LV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ts=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OV=function(t){LV(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof Ce){if(!this.pairs.length)throw new Ce;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Ce},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var A=(i=void 0,Ts(r)),l=A.next();!l.done;l=A.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(h){i={error:h}}finally{try{l&&!l.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var u=new Array(r);u.push(s);try{return this.checkRows(u,o+1)}catch(h){console.log(h)}}}throw new Ce},e.isValidSequence=function(r){var n,i;try{for(var a=Ts(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var A=!0,l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!=s[l]){A=!1;break}if(A)return!0}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new TV(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,A,l;try{for(var c=Ts(n),u=c.next();!u.done;u=c.next()){var h=u.value;if(h.getPairs().length!==r.length){var f=!0;try{for(var g=(o=void 0,Ts(h.getPairs())),y=g.next();!y.done;y=g.next()){var b=y.value,m=!1;try{for(var w=(A=void 0,Ts(r)),x=w.next();!x.done;x=w.next()){var _=x.value;if(Ib.equals(b,_)){m=!0;break}}}catch(I){A={error:I}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(A)throw A.error}}m||(f=!1)}}catch(I){o={error:I}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}}}catch(I){i={error:I}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,A,l;try{for(var c=Ts(n),u=c.next();!u.done;u=c.next()){var h=u.value,f=!0;try{for(var g=(o=void 0,Ts(r)),y=g.next();!y.done;y=g.next()){var b=y.value,m=!1;try{for(var w=(A=void 0,Ts(h.getPairs())),x=w.next();!x.done;x=w.next()){var _=x.value;if(b.equals(_)){m=!0;break}}}catch(I){A={error:I}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(A)throw A.error}}if(!m){f=!1;break}}}catch(I){o={error:I}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}if(f)return!0}}catch(I){i={error:I}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=cV.buildBitArray(r),i=UV(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),A=[o[0],o[1],s[0],s[1]];return new Ni(a,null,null,A,dt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i==null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var A=this.pairs.get(s);a+=A.getLeftChar().getChecksumPortion(),o++;var l=A.getRightChar();l!=null&&(a+=l.getChecksumPortion(),o++)}a%=211;var c=211*(o-4)+a;return c==n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2==0;this.startFromEven&&(a=!a);var o,s=!0,A=-1;do this.findNextPair(r,n,A),o=this.parseFoundFinderPattern(r,i,a),o==null?A=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var l=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Ce;var c;try{c=this.decodeDataCharacter(r,o,a,!1)}catch(u){c=null,console.log(u)}return new Ib(l,c,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var A=n[n.length-1];s=A.getFinderPattern().getStartEnd()[1]}var l=n.length%2!=0;this.startFromEven&&(l=!l);for(var c=!1;s<o&&(c=!r.get(s),!!c);)s++;for(var u=0,h=s,f=s;f<o;f++)if(r.get(f)!=c)a[u]++;else{if(u==3){if(l&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=f;return}l&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,u--}else u++;a[u]=1,c=!c}throw new Ce},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var A=this.startEnd[0]-1;A>=0&&!r.get(A);)A--;A++,a=this.startEnd[0]-A,o=A,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var l=this.getDecodeFinderCounters();mr.arraycopy(l,0,l,1,l.length-1),l[0]=a;var c;try{c=this.parseFinderValue(l,e.FINDER_PATTERNS)}catch{return null}return new Z8(c,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var A=0,l=o.length-1;A<l;A++,l--){var c=o[A];o[A]=o[l],o[l]=c}}var u=17,h=Rt.sum(new Int32Array(o))/u,f=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-f)/f>.3)throw new Ce;for(var g=this.getOddCounts(),y=this.getEvenCounts(),b=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),A=0;A<o.length;A++){var w=1*o[A]/h,x=w+.5;if(x<1){if(w<.3)throw new Ce;x=1}else if(x>8){if(w>8.7)throw new Ce;x=8}var _=A/2;A&1?(y[_]=x,m[_]=w-x):(g[_]=x,b[_]=w-x)}this.adjustOddEvenCounts(u);for(var I=4*n.getValue()+(i?0:2)+(a?0:1)-1,L=0,U=0,A=g.length-1;A>=0;A--){if(e.isNotA1left(n,i,a)){var D=e.WEIGHTS[I][2*A];U+=g[A]*D}L+=g[A]}for(var T=0,A=y.length-1;A>=0;A--)if(e.isNotA1left(n,i,a)){var D=e.WEIGHTS[I][2*A+1];T+=y[A]*D}var H=U+T;if(L&1||L>13||L<4)throw new Ce;var S=(13-L)/2,O=e.SYMBOL_WIDEST[S],j=9-O,V=bc.getRSSvalue(g,O,!0),ie=bc.getRSSvalue(y,j,!1),le=e.EVEN_TOTAL_SUBSET[S],ce=e.GSUM[S],J=V*le+ie+ce;return new H1(J,H)},e.isNotA1left=function(r,n,i){return!(r.getValue()==0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=Rt.sum(new Int32Array(this.getOddCounts())),i=Rt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,A=!1;i>13?A=!0:i<4&&(s=!0);var l=n+i-r,c=(n&1)==1,u=(i&1)==0;if(l==1)if(c){if(u)throw new Ce;o=!0}else{if(!u)throw new Ce;A=!0}else if(l==-1)if(c){if(u)throw new Ce;a=!0}else{if(!u)throw new Ce;s=!0}else if(l==0){if(c){if(!u)throw new Ce;n<i?(a=!0,A=!0):(o=!0,s=!0)}else if(u)throw new Ce}else throw new Ce;if(a){if(o)throw new Ce;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(A)throw new Ce;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(XA),kV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DV=function(t){kV(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(H1),PV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fb=function(t){PV(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,A,l=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,l),n.reverse();var c=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var u=O2(this.possibleLeftPairs),h=u.next();!h.done;h=u.next()){var f=h.value;if(f.getCount()>1)try{for(var g=(s=void 0,O2(this.possibleRightPairs)),y=g.next();!y.done;y=g.next()){var b=y.value;if(b.getCount()>1&&e.checkChecksum(f,b))return e.constructResult(f,b)}}catch(m){s={error:m}}finally{try{y&&!y.done&&(A=g.return)&&A.call(g)}finally{if(s)throw s.error}}}}catch(m){a={error:m}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}throw new Ce},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=O2(r),A=s.next();!A.done;A=s.next()){var l=A.value;if(l.getValue()===n.getValue()){l.incrementCount(),o=!0;break}}}catch(c){i={error:c}}finally{try{A&&!A.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new ir,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var A=0,s=0;s<13;s++){var l=o.charAt(s).charCodeAt(0)-48;A+=s&1?l:3*l}A=10-A%10,A===10&&(A=0),o.append(A.toString());var c=r.getFinderPattern().getResultPoints(),u=n.getFinderPattern().getResultPoints();return new Ni(o.toString(),null,0,[c[0],c[1],u[0],u[1]],dt.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),A=a==null?null:a.get(kr.NEED_RESULT_POINT_CALLBACK);if(A!=null){var l=(o[0]+o[1])/2;n&&(l=r.getSize()-1-l),A.foundPossibleResultPoint(new rt(l,i))}var c=this.decodeDataCharacter(r,s,!0),u=this.decodeDataCharacter(r,s,!1);return new DV(1597*c.getValue()+u.getValue(),c.getChecksumPortion()+4*u.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Kn.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Kn.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,A=a.length-1;s<A;s++,A--){var l=a[s];a[s]=a[A],a[A]=l}}for(var c=i?16:15,u=Rt.sum(new Int32Array(a))/c,h=this.getOddCounts(),f=this.getEvenCounts(),g=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var b=a[s]/u,m=Math.floor(b+.5);m<1?m=1:m>8&&(m=8);var w=Math.floor(s/2);s&1?(f[w]=m,y[w]=b-m):(h[w]=m,g[w]=b-m)}this.adjustOddEvenCounts(i,c);for(var x=0,_=0,s=h.length-1;s>=0;s--)_*=9,_+=h[s],x+=h[s];for(var I=0,L=0,s=f.length-1;s>=0;s--)I*=9,I+=f[s],L+=f[s];var U=_+3*I;if(i){if(x&1||x>12||x<4)throw new Ce;var D=(12-x)/2,T=e.OUTSIDE_ODD_WIDEST[D],H=9-T,S=bc.getRSSvalue(h,T,!1),O=bc.getRSSvalue(f,H,!0),j=e.OUTSIDE_EVEN_TOTAL_SUBSET[D],V=e.OUTSIDE_GSUM[D];return new H1(S*j+O+V,U)}else{if(L&1||L>10||L<4)throw new Ce;var D=(10-L)/2,T=e.INSIDE_ODD_WIDEST[D],H=9-T,S=bc.getRSSvalue(h,T,!0),O=bc.getRSSvalue(f,H,!1),ie=e.INSIDE_ODD_TOTAL_SUBSET[D],V=e.INSIDE_GSUM[D];return new H1(O*ie+S+V,U)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var A=0,l=s,c=s;c<a;c++)if(r.get(c)!==o)i[A]++;else{if(A===3){if(XA.isFinderPattern(i))return[l,c];l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,A--}else A++;i[A]=1,o=!o}throw new Ce},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var A=a[0]-s,l=this.getDecodeFinderCounters(),c=new Int32Array(l.length);mr.arraycopy(l,0,c,1,l.length-1),c[0]=A;var u=this.parseFinderValue(c,e.FINDER_PATTERNS),h=s,f=a[1];return i&&(h=r.getSize()-1-h,f=r.getSize()-1-f),new Z8(u,[s,a[1]],h,f,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=Rt.sum(new Int32Array(this.getOddCounts())),a=Rt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,A=!1,l=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?l=!0:a<4&&(A=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?l=!0:a<4&&(A=!0));var c=i+a-n,u=(i&1)===(r?1:0),h=(a&1)===1;if(c===1)if(u){if(h)throw new Ce;s=!0}else{if(!h)throw new Ce;l=!0}else if(c===-1)if(u){if(h)throw new Ce;o=!0}else{if(!h)throw new Ce;A=!0}else if(c===0){if(u){if(!h)throw new Ce;i<a?(o=!0,l=!0):(s=!0,A=!0)}else if(h)throw new Ce}else throw new Ce;if(o){if(s)throw new Ce;XA.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&XA.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(l)throw new Ce;XA.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&XA.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(XA),QV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hf=function(t){QV(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(kr.POSSIBLE_FORMATS):null,a=r&&r.get(kr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(dt.EAN_13)||i.includes(dt.UPC_A)||i.includes(dt.EAN_8)||i.includes(dt.UPC_E))&&n.readers.push(new L2(r)),i.includes(dt.CODE_39)&&n.readers.push(new yb(a)),i.includes(dt.CODE_128)&&n.readers.push(new wb),i.includes(dt.ITF)&&n.readers.push(new xb),i.includes(dt.RSS_14)&&n.readers.push(new Fb),i.includes(dt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new OV))),n.readers.length===0&&(n.readers.push(new L2(r)),n.readers.push(new yb),n.readers.push(new L2(r)),n.readers.push(new wb),n.readers.push(new xb),n.readers.push(new Fb)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new Ce},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Kn),RV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){RV(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new hf(n),r,n)||this}return e})(su);var Nb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zt=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Kt=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),jV=function(){function t(e,r,n,i,a,o){var s,A;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var l=0,c=o.getECCodewords(),u=o.getECBlocks();try{for(var h=Nb(u),f=h.next();!f.done;f=h.next()){var g=f.value;l+=g.getCount()*(g.getDataCodewords()+c)}}catch(y){s={error:y}}finally{try{f&&!f.done&&(A=h.return)&&A.call(h)}finally{if(s)throw s.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new Qe;try{for(var a=Nb(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(A){n={error:A}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new Qe},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new zt(5,new Kt(1,3))),new t(2,12,12,10,10,new zt(7,new Kt(1,5))),new t(3,14,14,12,12,new zt(10,new Kt(1,8))),new t(4,16,16,14,14,new zt(12,new Kt(1,12))),new t(5,18,18,16,16,new zt(14,new Kt(1,18))),new t(6,20,20,18,18,new zt(18,new Kt(1,22))),new t(7,22,22,20,20,new zt(20,new Kt(1,30))),new t(8,24,24,22,22,new zt(24,new Kt(1,36))),new t(9,26,26,24,24,new zt(28,new Kt(1,44))),new t(10,32,32,14,14,new zt(36,new Kt(1,62))),new t(11,36,36,16,16,new zt(42,new Kt(1,86))),new t(12,40,40,18,18,new zt(48,new Kt(1,114))),new t(13,44,44,20,20,new zt(56,new Kt(1,144))),new t(14,48,48,22,22,new zt(68,new Kt(1,174))),new t(15,52,52,24,24,new zt(42,new Kt(2,102))),new t(16,64,64,14,14,new zt(56,new Kt(2,140))),new t(17,72,72,16,16,new zt(36,new Kt(4,92))),new t(18,80,80,18,18,new zt(48,new Kt(4,114))),new t(19,88,88,20,20,new zt(56,new Kt(4,144))),new t(20,96,96,22,22,new zt(68,new Kt(4,174))),new t(21,104,104,24,24,new zt(56,new Kt(6,136))),new t(22,120,120,18,18,new zt(68,new Kt(6,175))),new t(23,132,132,20,20,new zt(62,new Kt(8,163))),new t(24,144,144,22,22,new zt(62,new Kt(8,156),new Kt(2,155))),new t(25,8,18,6,16,new zt(7,new Kt(1,5))),new t(26,8,32,6,14,new zt(11,new Kt(1,10))),new t(27,12,26,10,24,new zt(14,new Kt(1,16))),new t(28,12,36,10,16,new zt(18,new Kt(1,22))),new t(29,16,36,14,16,new zt(24,new Kt(1,32))),new t(30,16,48,14,22,new zt(28,new Kt(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),MV=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new Qe;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new xo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return jV.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,A=!1,l=!1,c=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!A)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,A=!0;else if(n===a+4&&i===2&&!(o&7)&&!l)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(o&7)===4&&!c)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,c=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new Qe;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new At("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,A=o*i,l=s*a,c=new xo(l,A),u=0;u<o;++u)for(var h=u*i,f=0;f<s;++f)for(var g=f*a,y=0;y<i;++y)for(var b=u*(i+2)+1+y,m=h+y,w=0;w<a;++w){var x=f*(a+2)+1+w;if(e.get(x,b)){var _=g+w;c.set(_,m)}}return c},t}(),Ub=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HV=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),A=0,l=s.getECBlocks();try{for(var c=Ub(l),u=c.next();!u.done;u=c.next()){var h=u.value;A+=h.getCount()}}catch(V){n={error:V}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var f=new Array(A),g=0;try{for(var y=Ub(l),b=y.next();!b.done;b=y.next())for(var h=b.value,m=0;m<h.getCount();m++){var w=h.getDataCodewords(),x=s.getECCodewords()+w;f[g++]=new t(w,new Uint8Array(x))}}catch(V){a={error:V}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}for(var _=f[0].codewords.length,I=_-s.getECCodewords(),L=I-1,U=0,m=0;m<L;m++)for(var D=0;D<g;D++)f[D].codewords[m]=e[U++];for(var T=r.getVersionNumber()===24,H=T?8:g,D=0;D<H;D++)f[D].codewords[I-1]=e[U++];for(var S=f[0].codewords.length,m=I;m<S;m++)for(var D=0;D<g;D++){var O=T?(D+8)%g:D,j=T&&O>7?m-1:m;f[O].codewords[j]=e[U++]}if(U!==e.length)throw new At;return f},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),r6=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new At(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,A=o-s,l=255>>8-s<<A;r=(a[i]&l)>>A,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var A=8-e,l=255>>A<<A;r=r<<e|(a[i]&l)>>A,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),vn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(vn||(vn={}));var KV=function(){function t(){}return t.decode=function(e){var r=new r6(e),n=new ir,i=new ir,a=new Array,o=vn.ASCII_ENCODE;do if(o===vn.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case vn.C40_ENCODE:this.decodeC40Segment(r,n);break;case vn.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case vn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case vn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case vn.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new Qe}o=vn.ASCII_ENCODE}while(o!==vn.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Ep(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Qe;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),vn.ASCII_ENCODE;if(a===129)return vn.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return vn.C40_ENCODE;case 231:return vn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return vn.ANSIX12_ENCODE;case 239:return vn.TEXT_ENCODE;case 240:return vn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Qe;break}}while(e.available()>0);return vn.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var A=i[s];switch(a){case 0:if(A<3)a=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new Qe;break;case 1:n?(r.append(String.fromCharCode(A+128)),n=!1):r.append(String.fromCharCode(A)),a=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(A){case 27:r.append("");break;case 30:n=!0;break;default:throw new Qe}a=0;break;case 3:n?(r.append(String.fromCharCode(A+224)),n=!1):r.append(String.fromCharCode(A+96)),a=0;break;default:throw new Qe}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var A=i[s];switch(a){case 0:if(A<3)a=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new Qe;break;case 1:n?(r.append(String.fromCharCode(A+128)),n=!1):r.append(String.fromCharCode(A)),a=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(A){case 27:r.append("");break;case 30:n=!0;break;default:throw new Qe}a=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l),a=0}else throw new Qe;break;default:throw new Qe}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new Qe;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new Qe;for(var s=new Uint8Array(o),A=0;A<o;A++){if(e.available()<8)throw new Qe;s[A]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(mo.decode(s,pr.ISO88591))}catch(l){throw new bd("Platform does not support required encoding: "+l.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),VV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GV=function(){function t(){this.rsDecoder=new Sp(Bi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new MV(e),a=i.getVersion(),o=i.readCodewords(),s=HV.getDataBlocks(o,a),A=0;try{for(var l=VV(s),c=l.next();!c.done;c=l.next()){var u=c.value;A+=u.getNumDataCodewords()}}catch(x){r={error:x}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var h=new Uint8Array(A),f=s.length,g=0;g<f;g++){var y=s[g],b=y.getCodewords(),m=y.getNumDataCodewords();this.correctErrors(b,m);for(var w=0;w<m;w++)h[w*f+g]=b[w]}return KV.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new jn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),$V=function(){function t(e){this.image=e,this.rectangleDetector=new Tm(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Ce;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,A=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(A&1)===1&&(A+=1),4*s<7*A&&4*A<7*s&&(s=A=Math.max(s,A));var l=t.sampleGrid(this.image,n,i,a,o,s,A);return new hy(l,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new rt(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new rt(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),A=this.transitionsBetween(i,a),l=this.transitionsBetween(a,r),c=o,u=[a,r,n,i];return c>s&&(c=s,u[0]=r,u[1]=n,u[2]=i,u[3]=a),c>A&&(c=A,u[0]=n,u[1]=i,u[2]=a,u[3]=r),c>l&&(u[0]=i,u[1]=a,u[2]=r,u[3]=n),u},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),A=t.shiftPoint(i,n,(o+1)*4),l=this.transitionsBetween(s,r),c=this.transitionsBetween(A,a);return l<c?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),A=t.shiftPoint(r,n,(s+1)*4),l=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(A,a),s=this.transitionsBetween(l,a);var c=new rt(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),u=new rt(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(c))return this.isValid(u)?u:null;if(!this.isValid(u))return c;var h=this.transitionsBetween(A,c)+this.transitionsBetween(l,c),f=this.transitionsBetween(A,u)+this.transitionsBetween(l,u);return h>f?c:u},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,A=t.shiftPoint(r,n,s*4),l=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(A,a)+1,s=this.transitionsBetween(l,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var c=(r.getX()+n.getX()+i.getX()+a.getX())/4,u=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,c,u),n=t.moveAway(n,c,u),i=t.moveAway(i,c,u),a=t.moveAway(a,c,u);var h,f;return A=t.shiftPoint(r,n,s*4),A=t.shiftPoint(A,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),l=t.shiftPoint(i,a,s*4),l=t.shiftPoint(l,n,o*4),f=t.shiftPoint(a,i,s*4),f=t.shiftPoint(f,r,o*4),[A,h,l,f]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var A=py.getInstance();return A.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var A=n;n=i,i=A,A=a,a=o,o=A}for(var l=Math.abs(a-n),c=Math.abs(o-i),u=-l/2,h=i<o?1:-1,f=n<a?1:-1,g=0,y=this.image.get(s?i:n,s?n:i),b=n,m=i;b!==a;b+=f){var w=this.image.get(s?m:b,s?b:m);if(w!==y&&(g++,y=w),u+=c,u>0){if(m===o)break;m+=h,u-=l}}return g},t}(),km=function(){function t(){this.decoder=new GV}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(kr.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new $V(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),A=new Ni(n.getText(),s,8*s.length,i,dt.DATA_MATRIX,mr.currentTimeMillis()),l=n.getByteSegments();l!=null&&A.putMetadata(Hn.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!=null&&A.putMetadata(Hn.ERROR_CORRECTION_LEVEL,c),A},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Ce;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],A=n[0],l=(A-s+1)/i,c=(o-a+1)/i;if(l<=0||c<=0)throw new Ce;var u=i/2;a+=u,s+=u;for(var h=new xo(l,c),f=0;f<c;f++)for(var g=a+f*i,y=0;y<l;y++)e.get(s+y*i,g)&&h.set(y,f);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new Ce;var o=i-e[0];if(o===0)throw new Ce;return o},t.NO_POINTS=[],t}(),WV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){WV(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new km,r)||this}return e})(su);var Cc;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Cc||(Cc={}));var zV=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Oa(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new At;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Cc.L,"L",1),t.M=new t(Cc.M,"M",0),t.Q=new t(Cc.Q,"Q",3),t.H=new t(Cc.H,"H",2),t}(),qV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n6=function(){function t(e){this.errorCorrectionLevel=zV.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return kt.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=qV(t.FORMAT_INFO_DECODE_LOOKUP),A=s.next();!A.done;A=s.next()){var l=A.value,c=l[0];if(c===e||c===r)return new t(l[1]);var u=t.numBitsDiffering(e,c);u<a&&(o=l[1],a=u),e!==r&&(u=t.numBitsDiffering(r,c),u<a&&(o=l[1],a=u))}}catch(h){n={error:h}}finally{try{A&&!A.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),XV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ue=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=XV(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(A){e={error:A}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),K=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),YV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fl=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,A=a[0].getECCodewordsPerBlock(),l=a[0].getECBlocks();try{for(var c=YV(l),u=c.next();!u.done;u=c.next()){var h=u.value;s+=h.getCount()*(h.getDataCodewords()+A)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Qe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Qe}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new At;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=n6.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new xo(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new ue(7,new K(1,19)),new ue(10,new K(1,16)),new ue(13,new K(1,13)),new ue(17,new K(1,9))),new t(2,Int32Array.from([6,18]),new ue(10,new K(1,34)),new ue(16,new K(1,28)),new ue(22,new K(1,22)),new ue(28,new K(1,16))),new t(3,Int32Array.from([6,22]),new ue(15,new K(1,55)),new ue(26,new K(1,44)),new ue(18,new K(2,17)),new ue(22,new K(2,13))),new t(4,Int32Array.from([6,26]),new ue(20,new K(1,80)),new ue(18,new K(2,32)),new ue(26,new K(2,24)),new ue(16,new K(4,9))),new t(5,Int32Array.from([6,30]),new ue(26,new K(1,108)),new ue(24,new K(2,43)),new ue(18,new K(2,15),new K(2,16)),new ue(22,new K(2,11),new K(2,12))),new t(6,Int32Array.from([6,34]),new ue(18,new K(2,68)),new ue(16,new K(4,27)),new ue(24,new K(4,19)),new ue(28,new K(4,15))),new t(7,Int32Array.from([6,22,38]),new ue(20,new K(2,78)),new ue(18,new K(4,31)),new ue(18,new K(2,14),new K(4,15)),new ue(26,new K(4,13),new K(1,14))),new t(8,Int32Array.from([6,24,42]),new ue(24,new K(2,97)),new ue(22,new K(2,38),new K(2,39)),new ue(22,new K(4,18),new K(2,19)),new ue(26,new K(4,14),new K(2,15))),new t(9,Int32Array.from([6,26,46]),new ue(30,new K(2,116)),new ue(22,new K(3,36),new K(2,37)),new ue(20,new K(4,16),new K(4,17)),new ue(24,new K(4,12),new K(4,13))),new t(10,Int32Array.from([6,28,50]),new ue(18,new K(2,68),new K(2,69)),new ue(26,new K(4,43),new K(1,44)),new ue(24,new K(6,19),new K(2,20)),new ue(28,new K(6,15),new K(2,16))),new t(11,Int32Array.from([6,30,54]),new ue(20,new K(4,81)),new ue(30,new K(1,50),new K(4,51)),new ue(28,new K(4,22),new K(4,23)),new ue(24,new K(3,12),new K(8,13))),new t(12,Int32Array.from([6,32,58]),new ue(24,new K(2,92),new K(2,93)),new ue(22,new K(6,36),new K(2,37)),new ue(26,new K(4,20),new K(6,21)),new ue(28,new K(7,14),new K(4,15))),new t(13,Int32Array.from([6,34,62]),new ue(26,new K(4,107)),new ue(22,new K(8,37),new K(1,38)),new ue(24,new K(8,20),new K(4,21)),new ue(22,new K(12,11),new K(4,12))),new t(14,Int32Array.from([6,26,46,66]),new ue(30,new K(3,115),new K(1,116)),new ue(24,new K(4,40),new K(5,41)),new ue(20,new K(11,16),new K(5,17)),new ue(24,new K(11,12),new K(5,13))),new t(15,Int32Array.from([6,26,48,70]),new ue(22,new K(5,87),new K(1,88)),new ue(24,new K(5,41),new K(5,42)),new ue(30,new K(5,24),new K(7,25)),new ue(24,new K(11,12),new K(7,13))),new t(16,Int32Array.from([6,26,50,74]),new ue(24,new K(5,98),new K(1,99)),new ue(28,new K(7,45),new K(3,46)),new ue(24,new K(15,19),new K(2,20)),new ue(30,new K(3,15),new K(13,16))),new t(17,Int32Array.from([6,30,54,78]),new ue(28,new K(1,107),new K(5,108)),new ue(28,new K(10,46),new K(1,47)),new ue(28,new K(1,22),new K(15,23)),new ue(28,new K(2,14),new K(17,15))),new t(18,Int32Array.from([6,30,56,82]),new ue(30,new K(5,120),new K(1,121)),new ue(26,new K(9,43),new K(4,44)),new ue(28,new K(17,22),new K(1,23)),new ue(28,new K(2,14),new K(19,15))),new t(19,Int32Array.from([6,30,58,86]),new ue(28,new K(3,113),new K(4,114)),new ue(26,new K(3,44),new K(11,45)),new ue(26,new K(17,21),new K(4,22)),new ue(26,new K(9,13),new K(16,14))),new t(20,Int32Array.from([6,34,62,90]),new ue(28,new K(3,107),new K(5,108)),new ue(26,new K(3,41),new K(13,42)),new ue(30,new K(15,24),new K(5,25)),new ue(28,new K(15,15),new K(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new ue(28,new K(4,116),new K(4,117)),new ue(26,new K(17,42)),new ue(28,new K(17,22),new K(6,23)),new ue(30,new K(19,16),new K(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new ue(28,new K(2,111),new K(7,112)),new ue(28,new K(17,46)),new ue(30,new K(7,24),new K(16,25)),new ue(24,new K(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new ue(30,new K(4,121),new K(5,122)),new ue(28,new K(4,47),new K(14,48)),new ue(30,new K(11,24),new K(14,25)),new ue(30,new K(16,15),new K(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new ue(30,new K(6,117),new K(4,118)),new ue(28,new K(6,45),new K(14,46)),new ue(30,new K(11,24),new K(16,25)),new ue(30,new K(30,16),new K(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new ue(26,new K(8,106),new K(4,107)),new ue(28,new K(8,47),new K(13,48)),new ue(30,new K(7,24),new K(22,25)),new ue(30,new K(22,15),new K(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new ue(28,new K(10,114),new K(2,115)),new ue(28,new K(19,46),new K(4,47)),new ue(28,new K(28,22),new K(6,23)),new ue(30,new K(33,16),new K(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new ue(30,new K(8,122),new K(4,123)),new ue(28,new K(22,45),new K(3,46)),new ue(30,new K(8,23),new K(26,24)),new ue(30,new K(12,15),new K(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new ue(30,new K(3,117),new K(10,118)),new ue(28,new K(3,45),new K(23,46)),new ue(30,new K(4,24),new K(31,25)),new ue(30,new K(11,15),new K(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new ue(30,new K(7,116),new K(7,117)),new ue(28,new K(21,45),new K(7,46)),new ue(30,new K(1,23),new K(37,24)),new ue(30,new K(19,15),new K(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new ue(30,new K(5,115),new K(10,116)),new ue(28,new K(19,47),new K(10,48)),new ue(30,new K(15,24),new K(25,25)),new ue(30,new K(23,15),new K(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new ue(30,new K(13,115),new K(3,116)),new ue(28,new K(2,46),new K(29,47)),new ue(30,new K(42,24),new K(1,25)),new ue(30,new K(23,15),new K(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new ue(30,new K(17,115)),new ue(28,new K(10,46),new K(23,47)),new ue(30,new K(10,24),new K(35,25)),new ue(30,new K(19,15),new K(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new ue(30,new K(17,115),new K(1,116)),new ue(28,new K(14,46),new K(21,47)),new ue(30,new K(29,24),new K(19,25)),new ue(30,new K(11,15),new K(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new ue(30,new K(13,115),new K(6,116)),new ue(28,new K(14,46),new K(23,47)),new ue(30,new K(44,24),new K(7,25)),new ue(30,new K(59,16),new K(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new ue(30,new K(12,121),new K(7,122)),new ue(28,new K(12,47),new K(26,48)),new ue(30,new K(39,24),new K(14,25)),new ue(30,new K(22,15),new K(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new ue(30,new K(6,121),new K(14,122)),new ue(28,new K(6,47),new K(34,48)),new ue(30,new K(46,24),new K(10,25)),new ue(30,new K(2,15),new K(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new ue(30,new K(17,122),new K(4,123)),new ue(28,new K(29,46),new K(14,47)),new ue(30,new K(49,24),new K(10,25)),new ue(30,new K(24,15),new K(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new ue(30,new K(4,122),new K(18,123)),new ue(28,new K(13,46),new K(32,47)),new ue(30,new K(48,24),new K(14,25)),new ue(30,new K(42,15),new K(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new ue(30,new K(20,117),new K(4,118)),new ue(28,new K(40,47),new K(7,48)),new ue(30,new K(43,24),new K(22,25)),new ue(30,new K(10,15),new K(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new ue(30,new K(19,118),new K(6,119)),new ue(28,new K(18,47),new K(31,48)),new ue(30,new K(34,24),new K(34,25)),new ue(30,new K(20,15),new K(61,16)))],t}(),_n;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(_n||(_n={}));var Tb=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[_n.DATA_MASK_000,new t(_n.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[_n.DATA_MASK_001,new t(_n.DATA_MASK_001,function(e,r){return(e&1)===0})],[_n.DATA_MASK_010,new t(_n.DATA_MASK_010,function(e,r){return r%3===0})],[_n.DATA_MASK_011,new t(_n.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[_n.DATA_MASK_100,new t(_n.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[_n.DATA_MASK_101,new t(_n.DATA_MASK_101,function(e,r){return e*r%6===0})],[_n.DATA_MASK_110,new t(_n.DATA_MASK_110,function(e,r){return e*r%6<3})],[_n.DATA_MASK_111,new t(_n.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),JV=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Qe;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=n6.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Qe},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return fl.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=fl.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=fl.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Qe},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Tb.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),A=0,l=0,c=0,u=i-1;u>0;u-=2){u===6&&u--;for(var h=0;h<i;h++)for(var f=o?i-1-h:h,g=0;g<2;g++)a.get(u-g,f)||(c++,l<<=1,this.bitMatrix.get(u-g,f)&&(l|=1),c===8&&(s[A++]=l,c=0,l=0));o=!o}if(A!==r.getTotalCodewords())throw new Qe;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Tb.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),Lb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZV=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new At;var A=r.getECBlocksForLevel(n),l=0,c=A.getECBlocks();try{for(var u=Lb(c),h=u.next();!h.done;h=u.next()){var f=h.value;l+=f.getCount()}}catch(j){i={error:j}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var g=new Array(l),y=0;try{for(var b=Lb(c),m=b.next();!m.done;m=b.next())for(var f=m.value,w=0;w<f.getCount();w++){var x=f.getDataCodewords(),_=A.getECCodewordsPerBlock()+x;g[y++]=new t(x,new Uint8Array(_))}}catch(j){o={error:j}}finally{try{m&&!m.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}for(var I=g[0].codewords.length,L=g.length-1;L>=0;){var U=g[L].codewords.length;if(U===I)break;L--}L++;for(var D=I-A.getECCodewordsPerBlock(),T=0,w=0;w<D;w++)for(var H=0;H<y;H++)g[H].codewords[w]=e[T++];for(var H=L;H<y;H++)g[H].codewords[D]=e[T++];for(var S=g[0].codewords.length,w=D;w<S;w++)for(var H=0;H<y;H++){var O=H<L?w:w+1;g[H].codewords[O]=e[T++]}return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),la;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(la||(la={}));var br=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new At;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(la.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(la.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(la.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(la.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(la.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(la.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(la.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(la.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(la.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(la.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),eG=function(){function t(){}return t.decode=function(e,r,n,i){var a=new r6(e),o=new ir,s=new Array,A=-1,l=-1;try{var c=null,u=!1,h=void 0;do{if(a.available()<4)h=br.TERMINATOR;else{var f=a.readBits(4);h=br.forBits(f)}switch(h){case br.TERMINATOR:break;case br.FNC1_FIRST_POSITION:case br.FNC1_SECOND_POSITION:u=!0;break;case br.STRUCTURED_APPEND:if(a.available()<16)throw new Qe;A=a.readBits(8),l=a.readBits(8);break;case br.ECI:var g=t.parseECIValue(a);if(c=xn.getCharacterSetECIByValue(g),c===null)throw new Qe;break;case br.HANZI:var y=a.readBits(4),b=a.readBits(h.getCharacterCountBits(r));y===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,b);break;default:var m=a.readBits(h.getCharacterCountBits(r));switch(h){case br.NUMERIC:t.decodeNumericSegment(a,o,m);break;case br.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,m,u);break;case br.BYTE:t.decodeByteSegment(a,o,m,c,s,i);break;case br.KANJI:t.decodeKanjiSegment(a,o,m);break;default:throw new Qe}break}}while(h!==br.TERMINATOR)}catch{throw new Qe}return new Ep(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),A,l)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Qe;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(mo.decode(i,pr.GB2312))}catch(A){throw new Qe(A)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Qe;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(mo.decode(i,pr.SHIFT_JIS))}catch(A){throw new Qe(A)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new Qe;for(var s=new Uint8Array(n),A=0;A<n;A++)s[A]=e.readBits(8);var l;i===null?l=pr.guessEncoding(s,o):l=i.getName();try{r.append(mo.decode(s,l))}catch(c){throw new Qe(c)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Qe;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new Qe;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new Qe;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Qe;var i=e.readBits(10);if(i>=1e3)throw new Qe;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Qe;var a=e.readBits(7);if(a>=100)throw new Qe;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new Qe;var o=e.readBits(4);if(o>=10)throw new Qe;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Qe},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),i6=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),Ob=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tG=function(){function t(){this.rsDecoder=new Sp(Bi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(xo.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new JV(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new i6(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),A=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=ZV.getDataBlocks(l,s,A),u=0;try{for(var h=Ob(c),f=h.next();!f.done;f=h.next()){var g=f.value;u+=g.getNumDataCodewords()}}catch(L){n={error:L}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var y=new Uint8Array(u),b=0;try{for(var m=Ob(c),w=m.next();!w.done;w=m.next()){var g=w.value,x=g.getCodewords(),_=g.getNumDataCodewords();this.correctErrors(x,_);for(var I=0;I<_;I++)y[b++]=x[I]}}catch(L){a={error:L}}finally{try{w&&!w.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}return eG.decode(y,s,A,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new jn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),rG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nG=function(t){rG(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(rt),iG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aG=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,A=0;A<r;A++){var l=a+(A&1?-Math.floor((A+1)/2):Math.floor((A+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var c=e;c<i&&!s.get(c,l);)c++;for(var u=0;c<i;){if(s.get(c,l))if(u===1)o[1]++;else if(u===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,l,c);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,u=1}else o[++u]++;else u===1&&u++,o[u]++;c++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,l,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ce},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var A=e;A>=0&&a.get(r,A)&&s[1]<=n;)s[1]++,A--;if(A<0||s[1]>n)return NaN;for(;A>=0&&!a.get(r,A)&&s[0]<=n;)s[0]++,A--;if(s[0]>n)return NaN;for(A=e+1;A<o&&a.get(r,A)&&s[1]<=n;)s[1]++,A++;if(A===o||s[1]>n)return NaN;for(;A<o&&!a.get(r,A)&&s[2]<=n;)s[2]++,A++;if(s[2]>n)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,A):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),A=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(A)){var l=(e[0]+e[1]+e[2])/3;try{for(var c=iG(this.possibleCenters),u=c.next();!u.done;u=c.next()){var h=u.value;if(h.aboutEquals(l,A,s))return h.combineEstimate(A,s,l)}}catch(g){i={error:g}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var f=new nG(s,A,l);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},t}(),oG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sG=function(t){oG(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,A=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,A,a)},e}(rt),AG=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Yu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lG=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(kr.TRY_HARDER)!==void 0,n=e!=null&&e.get(kr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var A=!1,l=new Int32Array(5),c=s-1;c<a&&!A;c+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var u=0,h=0;h<o;h++)if(i.get(h,c))(u&1)===1&&u++,l[u]++;else if(u&1)l[u]++;else if(u===4)if(t.foundPatternCross(l)){var f=this.handlePossibleCenter(l,c,h,n);if(f===!0)if(s=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>l[2]&&(c+=g-l[2]-s,h=o-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,u=3;continue}u=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,u=3;else l[++u]++;if(t.foundPatternCross(l)){var f=this.handlePossibleCenter(l,c,o,n);f===!0&&(s=l[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}}var y=this.selectBestPatterns();return rt.orderBestPatterns(y),new AG(y)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var A=s.getHeight(),l=s.getWidth();for(o=1;e+o<A&&r+o<l&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=A||r+o>=l)return!1;for(;e+o<A&&r+o<l&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=A||r+o>=l||a[3]>=n)return!1;for(;e+o<A&&r+o<l&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),A=e;A>=0&&a.get(r,A);)s[2]++,A--;if(A<0)return NaN;for(;A>=0&&!a.get(r,A)&&s[1]<=n;)s[1]++,A--;if(A<0||s[1]>n)return NaN;for(;A>=0&&a.get(r,A)&&s[0]<=n;)s[0]++,A--;if(s[0]>n)return NaN;for(A=e+1;A<o&&a.get(r,A);)s[2]++,A++;if(A===o)return NaN;for(;A<o&&!a.get(r,A)&&s[3]<n;)s[3]++,A++;if(A===o||s[3]>=n)return NaN;for(;A<o&&a.get(r,A)&&s[4]<n;)s[4]++,A++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,A):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),A=e;A>=0&&a.get(A,r);)s[2]++,A--;if(A<0)return NaN;for(;A>=0&&!a.get(A,r)&&s[1]<=n;)s[1]++,A--;if(A<0||s[1]>n)return NaN;for(;A>=0&&a.get(A,r)&&s[0]<=n;)s[0]++,A--;if(s[0]>n)return NaN;for(A=e+1;A<o&&a.get(A,r);)s[2]++,A++;if(A===o)return NaN;for(;A<o&&!a.get(A,r)&&s[3]<n;)s[3]++,A++;if(A===o||s[3]>=n)return NaN;for(;A<o&&a.get(A,r)&&s[4]<n;)s[4]++,A++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,A):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var A=a/7,l=!1,c=this.possibleCenters,u=0,h=c.length;u<h;u++){var f=c[u];if(f.aboutEquals(A,s,o)){c[u]=f.combineEstimate(s,o,A),l=!0;break}}if(!l){var g=new sG(o,s,A);c.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Yu(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(A){e={error:A}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var A=Yu(this.possibleCenters),l=A.next();!l.done;l=A.next()){var c=l.value;c.getCount()>=t.CENTER_QUORUM&&(a++,o+=c.getEstimatedModuleSize())}}catch(y){e={error:y}}finally{try{l&&!l.done&&(r=A.return)&&r.call(A)}finally{if(e)throw e.error}}if(a<3)return!1;var u=o/s,h=0;try{for(var f=Yu(this.possibleCenters),g=f.next();!g.done;g=f.next()){var c=g.value;h+=Math.abs(c.getEstimatedModuleSize()-u)}}catch(y){n={error:y}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new Ce;var o=this.possibleCenters,s;if(a>3){var A=0,l=0;try{for(var c=Yu(this.possibleCenters),u=c.next();!u.done;u=c.next()){var h=u.value,f=h.getEstimatedModuleSize();A+=f,l+=f*f}}catch(I){e={error:I}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}s=A/a;var g=Math.sqrt(l/a-s*s);o.sort(function(I,L){var U=Math.abs(L.getEstimatedModuleSize()-s),D=Math.abs(I.getEstimatedModuleSize()-s);return U<D?-1:U>D?1:0});for(var y=Math.max(.2*s,g),b=0;b<o.length&&o.length>3;b++){var m=o[b];Math.abs(m.getEstimatedModuleSize()-s)>y&&(o.splice(b,1),b--)}}if(o.length>3){var A=0;try{for(var w=Yu(o),x=w.next();!x.done;x=w.next()){var _=x.value;A+=_.getEstimatedModuleSize()}}catch(L){n={error:L}}finally{try{x&&!x.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}s=A/o.length,o.sort(function(L,U){if(U.getCount()===L.getCount()){var D=Math.abs(U.getEstimatedModuleSize()-s),T=Math.abs(L.getEstimatedModuleSize()-s);return D<T?1:D>T?-1:0}else return U.getCount()-L.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),cG=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(kr.NEED_RESULT_POINT_CALLBACK);var r=new lG(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new Ce("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=fl.getProvisionalVersionForDimension(o),A=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var c=n.getX()-r.getX()+i.getX(),u=n.getY()-r.getY()+i.getY(),h=1-3/A,f=Math.floor(r.getX()+h*(c-r.getX())),g=Math.floor(r.getY()+h*(u-r.getY())),y=4;y<=16;y<<=1)try{l=this.findAlignmentInRegion(a,f,g,y);break}catch(x){if(!(x instanceof Ce))throw x}var b=t.createTransform(r,n,i,l,o),m=t.sampleGrid(this.image,b,o),w;return l===null?w=[i,r,n]:w=[i,r,n,l],new hy(m,w)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,A,l,c;return i!==null?(s=i.getX(),A=i.getY(),l=o-3,c=l):(s=r.getX()-e.getX()+n.getX(),A=r.getY()-e.getY()+n.getY(),l=o,c=o),J8.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,l,c,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,A,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=py.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=Rt.round(rt.distance(e,r)/i),o=Rt.round(rt.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Ce("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var A=Math.floor(r-(i-r)*o);return o=1,A<0?(o=r/(r-A),A=0):A>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(A-r),A=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,A),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),A=Math.abs(i-r),l=-s/2,c=e<n?1:-1,u=r<i?1:-1,h=0,f=n+c,g=e,y=r;g!==f;g+=c){var b=a?y:g,m=a?g:y;if(h===1===this.image.get(b,m)){if(h===2)return Rt.distance(g,y,e,r);h++}if(l+=A,l>0){if(y===i)break;y+=u,l-=s}}return h===2?Rt.distance(n+c,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new Ce("Alignment top exceeds estimated module size.");var A=Math.max(0,n-a),l=Math.min(this.image.getHeight()-1,n+a);if(l-A<e*3)throw new Ce("Alignment bottom exceeds estimated module size.");var c=new aG(this.image,o,A,s-o,l-A,e,this.resultPointCallback);return c.find()},t}(),Dm=function(){function t(){this.decoder=new tG}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(kr.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new cG(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof i6&&n.getOther().applyMirroredCorrection(i);var s=new Ni(n.getText(),n.getRawBytes(),void 0,i,dt.QR_CODE,void 0),A=n.getByteSegments();A!==null&&s.putMetadata(Hn.BYTE_SEGMENTS,A);var l=n.getECLevel();return l!==null&&s.putMetadata(Hn.ERROR_CORRECTION_LEVEL,l),n.hasStructuredAppend()&&(s.putMetadata(Hn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Hn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Ce;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],A=n[0];if(s>=A||a>=o)throw new Ce;if(o-a!==A-s&&(A=s+(o-a),A>=e.getWidth()))throw new Ce;var l=Math.round((A-s+1)/i),c=Math.round((o-a+1)/i);if(l<=0||c<=0)throw new Ce;if(c!==l)throw new Ce;var u=Math.floor(i/2);a+=u,s+=u;var h=s+Math.floor((l-1)*i)-A;if(h>0){if(h>u)throw new Ce;s-=h}var f=a+Math.floor((c-1)*i)-o;if(f>0){if(f>u)throw new Ce;a-=f}for(var g=new xo(l,c),y=0;y<c;y++)for(var b=a+Math.floor(y*i),m=0;m<l;m++)e.get(s+Math.floor(m*i),b)&&g.set(m,y);return g},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,A=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++A===5)break;s=!s}a++,o++}if(a===i||o===n)throw new Ce;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),uG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Rt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=uG(e),s=o.next();!s.done;s=o.next()){var A=s.value;i[a++]=A}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Si.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),fG=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),dG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hG=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new fG(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,A=!1;o<r.getHeight();){var l=t.findVertices(r,o,s);if(l[0]==null&&l[3]==null){if(!A)break;A=!1,s=0;try{for(var c=(n=void 0,dG(a)),u=c.next();!u.done;u=c.next()){var h=u.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(A=!0,a.push(l),!e)break;l[2]!=null?(s=Math.trunc(l[2].getX()),o=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),o=Math.trunc(l[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),A=!1,l=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var c=t.findGuardPattern(e,a,i,n,!1,o,l);if(c!=null){for(;i>0;){var u=t.findGuardPattern(e,a,--i,n,!1,o,l);if(u!=null)c=u;else{i++;break}}s[0]=new rt(c[0],i),s[1]=new rt(c[1],i),A=!0;break}}var h=i+1;if(A){for(var f=0,u=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var c=t.findGuardPattern(e,u[0],h,n,!1,o,l);if(c!=null&&Math.abs(u[0]-c[0])<t.MAX_PATTERN_DRIFT&&Math.abs(u[1]-c[1])<t.MAX_PATTERN_DRIFT)u=c,f=0;else{if(f>t.SKIPPED_ROW_COUNT_MAX)break;f++}}h-=f+1,s[2]=new rt(u[0],h),s[3]=new rt(u[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&Si.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){Si.fillWithin(s,0,s.length,0);for(var A=r,l=0;e.get(A,n)&&A>0&&l++<t.MAX_PIXEL_DRIFT;)A--;for(var c=A,u=0,h=o.length,f=a;c<i;c++){var g=e.get(c,n);if(g!==f)s[u]++;else{if(u===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([A,c]);A+=s[0]+s[1],mr.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,f=!f}}return u===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([A,c-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var A=a/o;n*=A;for(var l=0,c=0;c<i;c++){var u=e[c],h=r[c]*A,f=u>h?u-h:h-u;if(f>n)return 1/0;l+=f}return l/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),pG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ol=function(){function t(e,r){if(r.length===0)throw new At;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),mr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=pG(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var A=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)A=this.field.add(this.field.multiply(e,A),this.coefficients[c]);return A},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new At("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;mr.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new At("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new At("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var A=r[s],l=0;l<a;l++)o[s+l]=this.field.add(o[s+l],this.field.multiply(A,i[l]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new At;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new ir,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),gG=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new At;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new Y8;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),vG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mG=function(t){vG(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new ol(i,new Int32Array([0])),i.one=new ol(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new At;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new ol(this,i)},e.PDF417_GF=new e(Pt.NUMBER_OF_CODEWORDS,3),e}(gG),wG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yG=function(){function t(){this.field=mG.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new ol(this.field,e),s=new Int32Array(r),A=!1,l=r;l>0;l--){var c=o.evaluateAt(this.field.exp(l));s[r-l]=c,c!==0&&(A=!0)}if(!A)return 0;var u=this.field.getOne();if(n!=null)try{for(var h=wG(n),f=h.next();!f.done;f=h.next()){var g=f.value,y=this.field.exp(e.length-1-g),b=new ol(this.field,new Int32Array([this.field.subtract(0,y),1]));u=u.multiply(b)}}catch(D){i={error:D}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var m=new ol(this.field,s),w=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),m,r),x=w[0],_=w[1],I=this.findErrorLocations(x),L=this.findErrorMagnitudes(_,x,I),l=0;l<I.length;l++){var U=e.length-1-this.field.log(I[l]);if(U<0)throw jn.getChecksumInstance();e[U]=this.field.subtract(e[U],L[l])}return I.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),A=this.field.getOne();o.getDegree()>=Math.round(n/2);){var l=a,c=s;if(a=o,s=A,a.isZero())throw jn.getChecksumInstance();o=l;for(var u=this.field.getZero(),h=a.getCoefficient(a.getDegree()),f=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var g=o.getDegree()-a.getDegree(),y=this.field.multiply(o.getCoefficient(o.getDegree()),f);u=u.add(this.field.buildMonomial(g,y)),o=o.subtract(a.multiplyByMonomial(g,y))}A=u.multiply(s).subtract(c).negative()}var b=A.getCoefficient(0);if(b===0)throw jn.getChecksumInstance();var m=this.field.inverse(b),w=A.multiply(m),x=o.multiply(m);return[w,x]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw jn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new ol(this.field,a),A=n.length,l=new Int32Array(A),o=0;o<A;o++){var c=this.field.inverse(n[o]),u=this.field.subtract(0,e.evaluateAt(c)),h=this.field.inverse(s.evaluateAt(c));l[o]=this.field.multiply(u,h)}return l},t}(),Pm=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new Ce;o?(r=new rt(0,i.getY()),n=new rt(0,a.getY())):s&&(i=new rt(e.getWidth()-1,r.getY()),a=new rt(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var A=n?this.topLeft:this.topRight,l=Math.trunc(A.getY()-e);l<0&&(l=0);var c=new rt(A.getX(),l);n?i=c:o=c}if(r>0){var u=n?this.bottomLeft:this.bottomRight,h=Math.trunc(u.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var f=new rt(u.getX(),h);n?a=f:s=f}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),xG=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),vy=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,A,l,c,u){if(o==="%%")return"%";if(r[++n]!==void 0){o=l?parseInt(l.substr(1)):void 0;var h=c?parseInt(c.substr(1)):void 0,f;switch(u){case"s":f=r[n];break;case"c":f=r[n][0];break;case"f":f=parseFloat(r[n]).toFixed(o);break;case"p":f=parseFloat(r[n]).toPrecision(o);break;case"e":f=parseFloat(r[n]).toExponential(o);break;case"x":f=parseInt(r[n]).toString(h||16);break;case"d":f=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}f=typeof f=="object"?JSON.stringify(f):(+f).toString(h);for(var g=parseInt(A),y=A&&A[0]+""=="0"?"0":" ";f.length<g;)f=s!==void 0?f+y:y+f;return f}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),BG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a6=function(){function t(e){this.boundingBox=new Pm(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new vy,i=0;try{for(var a=BG(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(A){e={error:A}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),bG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CG=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},pf=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(u,h){var f={getKey:function(){return u},getValue:function(){return h}};f.getValue()>n?(n=f.getValue(),i=[],i.push(f.getKey())):f.getValue()===n&&i.push(f.getKey())};try{for(var o=bG(this.values.entries()),s=o.next();!s.done;s=o.next()){var A=CG(s.value,2),l=A[0],c=A[1];a(l,c)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return Pt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),_G=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),k2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kb=function(t){_G(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=k2(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),A=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=-1,c=1,u=0,h=s;h<A;h++)if(n[h]!=null){var f=n[h],g=f.getRowNumber()-l;if(g===0)u++;else if(g===1)c=Math.max(c,u),u=1,l=f.getRowNumber();else if(g<0||f.getRowNumber()>=r.getRowCount()||g>h)n[h]=null;else{var y=void 0;c>2?y=(c-2)*g:y=g;for(var b=y>=h,m=1;m<=y&&!b;m++)b=n[h-m]!=null;b?n[h]=null:(l=f.getRowNumber(),u=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=k2(this.getCodewords()),s=o.next();!s.done;s=o.next()){var A=s.value;if(A!=null){var l=A.getRowNumber();if(l>=a.length)continue;a[l]++}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),A=this.getCodewords(),l=-1,c=o;c<s;c++)if(A[c]!=null){var u=A[c];u.setRowNumberAsRowIndicatorColumn();var h=u.getRowNumber()-l;h===0||(h===1?l=u.getRowNumber():u.getRowNumber()>=r.getRowCount()?A[c]=null:l=u.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new pf,o=new pf,s=new pf,A=new pf;try{for(var l=k2(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(u!=null){u.setRowNumberAsRowIndicatorColumn();var h=u.getValue()%30,f=u.getRowNumber();switch(this._isLeft||(f+=2),f%3){case 0:o.setValue(h*3+1);break;case 1:A.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(y){r={error:y}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||A.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Pt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Pt.MAX_ROWS_IN_BARCODE)return null;var g=new xG(a.getValue()[0],o.getValue()[0],s.getValue()[0],A.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(a6),EG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SG=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Pt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),A=s;this.detectionResultColumns[e+1]!=null&&(A=this.detectionResultColumns[e+1].getCodewords());var l=new Array(14);l[2]=s[r],l[3]=A[r],r>0&&(l[0]=n[r-1],l[4]=s[r-1],l[5]=A[r-1]),r>1&&(l[8]=n[r-2],l[10]=s[r-2],l[11]=A[r-2]),r<n.length-1&&(l[1]=n[r+1],l[6]=s[r+1],l[7]=A[r+1]),r<n.length-2&&(l[9]=n[r+2],l[12]=s[r+2],l[13]=A[r+2]);try{for(var c=EG(l),u=c.next();!u.done;u=c.next()){var h=u.value;if(t.adjustRowNumber(o,h))return}}catch(f){i={error:f}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new vy,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),IG=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),FG=function(){function t(){}return t.initialize=function(){for(var e=0;e<Pt.SYMBOL_TABLE.length;e++)for(var r=Pt.SYMBOL_TABLE[e],n=r&1,i=0;i<Pt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Pt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Pt.BARS_IN_MODULE-i-1]=Math.fround(a/Pt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Rt.sum(e),n=new Int32Array(Pt.BARS_IN_MODULE),i=0,a=0,o=0;o<Pt.MODULES_IN_CODEWORD;o++){var s=r/(2*Pt.MODULES_IN_CODEWORD)+o*r/Pt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Pt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Rt.sum(e),n=new Array(Pt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=Um.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var A=0,l=t.RATIOS_TABLE[s],c=0;c<Pt.BARS_IN_MODULE;c++){var u=Math.fround(l[c]-n[c]);if(A+=Math.fround(u*u),A>=a)break}A<a&&(a=A,o=Pt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Pt.SYMBOL_TABLE.length).map(function(e){return new Array(Pt.BARS_IN_MODULE)}),t}(),NG=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),Db=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),UG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TG=function(t){UG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Fi),LG=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new TG;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new fy;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),OG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kG=function(t){OG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Fi),DG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PG=function(t){DG(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new At("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new kG;i=kt.MAX_VALUE}this.buf=Si.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new fy;this.ensureCapacity(this.count+i),mr.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Si.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(LG),nr;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nr||(nr={}));function o6(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var p0;function Rs(t){if(typeof p0>"u"&&(p0=o6()),p0===null)throw new Error("BigInt is not supported!");return p0(t)}function QG(){var t=[];t[0]=Rs(1);var e=Rs(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var RG=function(){function t(){}return t.decode=function(e,r){var n=new ir(""),i=xn.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new NG;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:xn.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Qe;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw Qe.getFormatInstance()}if(n.length()===0)throw Qe.getFormatInstance();var A=new Ep(null,n.toString(),null,r);return A.setOther(s),A},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Qe.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(kt.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new ir;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var A=new ir;r=t.textCompaction(e,r+1,A),n.setFileName(A.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new ir;r=t.textCompaction(e,r+1,l),n.setSender(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new ir;r=t.textCompaction(e,r+1,c),n.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var u=new ir;r=t.numericCompaction(e,r+1,u),n.setSegmentCount(kt.parseInt(u.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new ir;r=t.numericCompaction(e,r+1,h),n.setTimestamp(Db.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new ir;r=t.numericCompaction(e,r+1,f),n.setChecksum(kt.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new ir;r=t.numericCompaction(e,r+1,g),n.setFileSize(Db.parseLong(g.toString()));break;default:throw Qe.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Qe.getFormatInstance()}if(s!==-1){var y=r-s;n.isLastSegment()&&y--,n.setOptionalData(Si.copyOfRange(e,s,s+y))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var A=e[r++];if(A<t.TEXT_COMPACTION_MODE_LATCH)i[o]=A/30,i[o+1]=A%30,o+=2;else switch(A){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=e[r++],a[o]=A,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=nr.ALPHA,o=nr.ALPHA,s=0;s<n;){var A=e[s],l="";switch(a){case nr.ALPHA:if(A<26)l=String.fromCharCode(65+A);else switch(A){case 26:l=" ";break;case t.LL:a=nr.LOWER;break;case t.ML:a=nr.MIXED;break;case t.PS:o=a,a=nr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=nr.ALPHA;break}break;case nr.LOWER:if(A<26)l=String.fromCharCode(97+A);else switch(A){case 26:l=" ";break;case t.AS:o=a,a=nr.ALPHA_SHIFT;break;case t.ML:a=nr.MIXED;break;case t.PS:o=a,a=nr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=nr.ALPHA;break}break;case nr.MIXED:if(A<t.PL)l=t.MIXED_CHARS[A];else switch(A){case t.PL:a=nr.PUNCT;break;case 26:l=" ";break;case t.LL:a=nr.LOWER;break;case t.AL:a=nr.ALPHA;break;case t.PS:o=a,a=nr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=nr.ALPHA;break}break;case nr.PUNCT:if(A<t.PAL)l=t.PUNCT_CHARS[A];else switch(A){case t.PAL:a=nr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=nr.ALPHA;break}break;case nr.ALPHA_SHIFT:if(a=o,A<26)l=String.fromCharCode(65+A);else switch(A){case 26:l=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=nr.ALPHA;break}break;case nr.PUNCT_SHIFT:if(a=o,A<t.PAL)l=t.PUNCT_CHARS[A];else switch(A){case t.PAL:a=nr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=nr.ALPHA;break}break}l!==""&&i.append(l),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new PG,s=0,A=0,l=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),u=r[i++];i<r[0]&&!l;)switch(c[s++]=u,A=900*A+u,u=r[i++],u){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Rs(A)>>Rs(8*(5-h))));A=0,s=0}break}i===r[0]&&u<t.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=u);for(var f=0;f<s;f++)o.write(c[f]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!l;){var g=r[i++];if(g<t.TEXT_COMPACTION_MODE_LATCH)s++,A=900*A+g;else switch(g){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Rs(A)>>Rs(8*(5-h))));A=0,s=0}}break}return a.append(mo.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Rs(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Rs(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new Qe;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=o6()?QG():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Ju=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jG=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var A=new Pm(e,r,n,i,a),l=null,c=null,u,h=!0;;h=!1){if(r!=null&&(l=t.getRowIndicatorColumn(e,A,r,!0,o,s)),i!=null&&(c=t.getRowIndicatorColumn(e,A,i,!1,o,s)),u=t.merge(l,c),u==null)throw Ce.getNotFoundInstance();var f=u.getBoundingBox();if(h&&f!=null&&(f.getMinY()<A.getMinY()||f.getMaxY()>A.getMaxY()))A=f;else break}u.setBoundingBox(A);var g=u.getBarcodeColumnCount()+1;u.setDetectionResultColumn(0,l),u.setDetectionResultColumn(g,c);for(var y=l!=null,b=1;b<=g;b++){var m=y?b:g-b;if(u.getDetectionResultColumn(m)===void 0){var w=void 0;m===0||m===g?w=new kb(A,m===0):w=new a6(A),u.setDetectionResultColumn(m,w);for(var x=-1,_=x,I=A.getMinY();I<=A.getMaxY();I++){if(x=t.getStartColumn(u,m,I,y),x<0||x>A.getMaxX()){if(_===-1)continue;x=_}var L=t.detectCodeword(e,A.getMinX(),A.getMaxX(),y,x,I,o,s);L!=null&&(w.setCodeword(I,L),_=x,o=Math.min(o,L.getWidth()),s=Math.max(s,L.getWidth()))}}}return t.createDecoderResult(u)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=Pm.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new SG(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=Ju(i),A=s.next();!A.done;A=s.next()){var l=A.value;if(o+=a-l,l>0)break}}catch(f){r={error:f}}finally{try{A&&!A.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var c=e.getCodewords(),u=0;o>0&&c[u]==null;u++)o--;for(var h=0,u=i.length-1;u>=0&&(h+=a-i[u],!(i[u]>0));u--);for(var u=c.length-1;h>0&&c[u]==null;u--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Ju(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(A){r={error:A}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new kb(r,i),A=0;A<2;A++)for(var l=A===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),u=Math.trunc(Math.trunc(n.getY()));u<=r.getMaxY()&&u>=r.getMinY();u+=l){var h=t.detectCodeword(e,0,e.getWidth(),i,c,u,a,o);h!=null&&(s.setCodeword(u,h),i?c=h.getStartX():c=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Pt.MAX_CODEWORDS_IN_BARCODE)throw Ce.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var A=0;A<e.getBarcodeColumnCount();A++){var l=r[s][A+1].getValue(),c=s*e.getBarcodeColumnCount()+A;l.length===0?n.push(c):l.length===1?i[c]=l[0]:(o.push(c),a.push(l))}for(var u=new Array(a.length),h=0;h<u.length;h++)u[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Pt.toIntArray(n),Pt.toIntArray(o),u)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var A=0;A<o.length;A++)r[i[A]]=a[A][o[A]];try{return t.decodeCodewords(r,e,n)}catch(c){var l=c instanceof jn;if(!l)throw c}if(o.length===0)throw jn.getChecksumInstance();for(var A=0;A<o.length;A++)if(o[A]<a[A].length-1){o[A]++;break}else if(o[A]=0,A===o.length-1)throw jn.getChecksumInstance()}throw jn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var A=0;A<o[s].length;A++)o[s][A]=new pf;var l=0;try{for(var c=Ju(e.getDetectionResultColumns()),u=c.next();!u.done;u=c.next()){var h=u.value;if(h!=null)try{for(var f=(i=void 0,Ju(h.getCodewords())),g=f.next();!g.done;g=f.next()){var y=g.value;if(y!=null){var b=y.getRowNumber();if(b>=0){if(b>=o.length)continue;o[b][l].setValue(y.getValue())}}}}catch(m){i={error:m}}finally{try{g&&!g.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}l++}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,A=null;if(t.isValidBarcodeColumn(e,r-s)&&(A=e.getDetectionResultColumn(r-s).getCodeword(n)),A!=null)return i?A.getEndX():A.getStartX();if(A=e.getDetectionResultColumn(r).getCodewordNearby(n),A!=null)return i?A.getStartX():A.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(A=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),A!=null)return i?A.getEndX():A.getStartX();for(var l=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var c=(a=void 0,Ju(e.getDetectionResultColumn(r).getCodewords())),u=c.next();!u.done;u=c.next()){var h=u.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*l*(h.getEndX()-h.getStartX())}}catch(f){a={error:f}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}l++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,A){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var l=t.getModuleBitCount(e,r,n,i,a,o);if(l==null)return null;var c,u=Rt.sum(l);if(i)c=a+u;else{for(var h=0;h<l.length/2;h++){var f=l[h];l[h]=l[l.length-1-h],l[l.length-1-h]=f}c=a,a=c-u}if(!t.checkCodewordSkew(u,s,A))return null;var g=FG.getDecodedValue(l),y=Pt.getCodeword(g);return y===-1?null:new IG(a,c,t.getCodewordBucketNumber(g),y)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,A=new Int32Array(8),l=0,c=i?1:-1,u=i;(i?s<n:s>=r)&&l<A.length;)e.get(s,o)===u?(A[l]++,s+=c):(l++,u=!u);return l===A.length||s===(i?n:r)&&l===A.length-1?A:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,A=i?-1:1,l=0;l<2;l++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=A}A=-A,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw Qe.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=RG.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw jn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Qe.getFormatInstance();var n=e[0];if(n>e.length)throw Qe.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw Qe.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new vy,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new yG,t}(),MG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qm=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Ce.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof Qe||n instanceof jn?Ce.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=hG.detectMultiple(e,r,n);try{for(var A=MG(s.getPoints()),l=A.next();!l.done;l=A.next()){var c=l.value,u=jG.decode(s.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),h=new Ni(u.getText(),u.getRawBytes(),void 0,c,dt.PDF_417);h.putMetadata(Hn.ERROR_CORRECTION_LEVEL,u.getECLevel());var f=u.getOther();f!=null&&h.putMetadata(Hn.PDF417_EXTRA_METADATA,f),o.push(h)}}catch(g){i={error:g}}finally{try{l&&!l.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}return o.map(function(g){return g})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?kt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),HG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pb=function(t){HG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Fi),Qb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KG=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(kr.TRY_HARDER)!==void 0,n=e==null?null:e.get(kr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===dt.UPC_A||o===dt.UPC_E||o===dt.EAN_13||o===dt.EAN_8||o===dt.CODABAR||o===dt.CODE_39||o===dt.CODE_93||o===dt.CODE_128||o===dt.ITF||o===dt.RSS_14||o===dt.RSS_EXPANDED});a&&!r&&i.push(new hf(e)),n.includes(dt.QR_CODE)&&i.push(new Dm),n.includes(dt.DATA_MATRIX)&&i.push(new km),n.includes(dt.AZTEC)&&i.push(new Lm),n.includes(dt.PDF_417)&&i.push(new Qm),a&&r&&i.push(new hf(e))}i.length===0&&(r||i.push(new hf(e)),i.push(new Dm),i.push(new km),i.push(new Lm),i.push(new Qm),r&&i.push(new hf(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=Qb(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new Pb("No readers where selected, nothing can be read.");try{for(var i=Qb(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Pb)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new Ce("No MultiFormat Readers were able to detect the code.")},t}(),VG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GG=function(t){VG(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new KG;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(su),$G=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){$G(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Qm,r)||this}return e})(su);var WG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){WG(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Dm,r)||this}return e})(su);var Rm;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"})(Rm||(Rm={}));const g0=Rm;var s6=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new aA(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new aA(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new At("No error correction bytes");var n=e.length-r;if(n<=0)throw new At("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);mr.arraycopy(e,0,a,0,n);var o=new aA(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],A=s.getCoefficients(),l=r-A.length,c=0;c<l;c++)e[n+c]=0;mr.arraycopy(A,0,e,n+l,A.length)},t}(),gf=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],A=0;A<i-1;A++){var l=s[A];l===s[A+1]&&l===n[o+1][A]&&l===n[o+1][A+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var A=n[o];s+6<i&&A[s]===1&&A[s+1]===0&&A[s+2]===1&&A[s+3]===1&&A[s+4]===1&&A[s+5]===0&&A[s+6]===1&&(t.isWhiteHorizontal(A,s-4,s)||t.isWhiteHorizontal(A,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],A=0;A<i;A++)s[A]===1&&r++;var l=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(r*2-l)*10/l);return c*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new At("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var A=0,l=-1,c=0;c<a;c++){var u=r?o[s][c]:o[c][s];u===l?A++:(A>=5&&(n+=t.N1+(A-5)),A=1,l=u)}A>=5&&(n+=t.N1+(A-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),zG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qG=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=zG(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Si.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,A=this.width;s<A;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new ir,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),jm=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new ir;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),XG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xr=function(t){XG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Fi),Rb=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new In;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),A=t.TYPE_INFO_COORDINATES[a],l=A[0],c=A[1];if(n.setBoolean(l,c,s),a<8){var u=n.getWidth()-a-1,h=8;n.setBoolean(u,h,s)}else{var u=8,h=n.getHeight()-7+(a-8);n.setBoolean(u,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new In;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var A=0;A<2;++A){var l=o-A;if(t.isEmpty(n.get(l,s))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,r!==255&&gf.getDataMaskBit(r,l,s)&&(c=!c),n.setBoolean(l,s,c)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new xr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-kt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new At("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!jm.isValidMaskPattern(r))throw new xr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new In;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new xr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new xr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new xr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new xr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new xr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var A=0;A!==o;A++){var l=i[A];l>=0&&t.isEmpty(r.get(l,s))&&t.embedPositionAdjustmentPattern(l-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),YG=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),jb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return gf.applyMaskPenaltyRule1(e)+gf.applyMaskPenaltyRule2(e)+gf.applyMaskPenaltyRule3(e)+gf.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(g0.CHARACTER_SET)!==void 0;a&&(i=n.get(g0.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new In;if(o===br.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var A=xn.getCharacterSetECIByName(i);A!==void 0&&this.appendECI(A,s)}this.appendModeInfo(o,s);var l=new In;this.appendBytes(e,o,l,i);var c;if(n!==null&&n.get(g0.QR_VERSION)!==void 0){var u=Number.parseInt(n.get(g0.QR_VERSION).toString(),10);c=fl.getVersionForNumber(u);var h=this.calculateBitsNeeded(o,s,l,c);if(!this.willFit(h,c,r))throw new xr("Data too big for requested version")}else c=this.recommendVersion(r,o,s,l);var f=new In;f.appendBitArray(s);var g=o===br.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(g,c,o,f),f.appendBitArray(l);var y=c.getECBlocksForLevel(r),b=c.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(b,f);var m=this.interleaveWithECBytes(f,c.getTotalCodewords(),b,y.getNumBlocks()),w=new jm;w.setECLevel(r),w.setMode(o),w.setVersion(c);var x=c.getDimensionForVersion(),_=new qG(x,x),I=this.chooseMaskPattern(m,r,c,_);return w.setMaskPattern(I),Rb.buildMatrix(m,r,c,I,_),w.setMatrix(_),w},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,fl.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),xn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return br.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return br.BYTE}return i?br.ALPHANUMERIC:n?br.NUMERIC:br.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=mo.encode(e,xn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<jm.NUM_MASK_PATTERNS;s++){Rb.buildMatrix(e,r,n,s,i);var A=this.calculateMaskPenalty(i);A<a&&(a=A,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=fl.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new xr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,A=(e+7)/8;return s>=A},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new xr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new xr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new xr("Block ID too large");var s=e%n,A=n-s,l=Math.floor(e/n),c=l+1,u=Math.floor(r/n),h=u+1,f=l-u,g=c-h;if(f!==g)throw new xr("EC bytes mismatch");if(n!==A+s)throw new xr("RS blocks mismatch");if(e!==(u+f)*A+(h+g)*s)throw new xr("Total bytes mismatch");i<A?(a[0]=u,o[0]=f):(a[0]=h,o[0]=g)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,A;if(e.getSizeInBytes()!==n)throw new xr("Number of bits and data bytes does not match");for(var l=0,c=0,u=0,h=new Array,f=0;f<i;++f){var g=new Int32Array(1),y=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,f,g,y);var b=g[0],m=new Uint8Array(b);e.toBytes(8*l,m,0,b);var w=t.generateECBytes(m,y[0]);h.push(new YG(m,w)),c=Math.max(c,b),u=Math.max(u,w.length),l+=g[0]}if(n!==l)throw new xr("Data bytes does not match offset");for(var x=new In,f=0;f<c;++f)try{for(var _=(a=void 0,jb(h)),I=_.next();!I.done;I=_.next()){var L=I.value,m=L.getDataBytes();f<m.length&&x.appendBits(m[f],8)}}catch(H){a={error:H}}finally{try{I&&!I.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}for(var f=0;f<u;++f)try{for(var U=(s=void 0,jb(h)),D=U.next();!D.done;D=U.next()){var L=D.value,w=L.getErrorCorrectionBytes();f<w.length&&x.appendBits(w[f],8)}}catch(H){s={error:H}}finally{try{D&&!D.done&&(A=U.return)&&A.call(U)}finally{if(s)throw s.error}}if(r!==x.getSizeInBytes())throw new xr("Interleaving error: "+r+" and "+x.getSizeInBytes()+" differ.");return x},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new s6(Bi.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new xr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case br.NUMERIC:t.appendNumericBytes(e,n);break;case br.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case br.BYTE:t.append8BitBytes(e,n,i);break;case br.KANJI:t.appendKanjiBytes(e,n);break;default:throw new xr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new xr;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new xr;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=mo.encode(e,n)}catch(A){throw new xr(A)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=mo.encode(e,xn.SJIS)}catch(u){throw new xr(u)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,A=o<<8&4294967295|s,l=-1;if(A>=33088&&A<=40956?l=A-33088:A>=57408&&A<=60351&&(l=A-49472),l===-1)throw new xr("Invalid byte sequence");var c=(l>>8)*192+(l&255);r.appendBits(c,13)}},t.appendECI=function(e,r){r.appendBits(br.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=xn.UTF8.getName(),t})();var JG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){JG(e,t);function e(r,n,i,a,o,s,A,l){var c=t.call(this,s,A)||this;if(c.yuvData=r,c.dataWidth=n,c.dataHeight=i,c.left=a,c.top=o,a+s>n||o+A>i)throw new At("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(s,A),c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new At("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return mr.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return mr.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var A=s*r;mr.arraycopy(this.yuvData,o,a,A,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var A=s*r,l=0;l<r;l++){var c=a[o+l*e.THUMBNAIL_SCALE_FACTOR]&255;i[A+l]=4278190080|c*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,A=o,l=o+r-1;A<s;A++,l--){var c=i[A];i[A]=i[l],i[l]=c}},e.prototype.invert=function(){return new dy(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(_p);var ZG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ZG(e,t);function e(r,n,i,a,o,s,A){var l=t.call(this,n,i)||this;if(l.dataWidth=a,l.dataHeight=o,l.left=s,l.top=A,r.BYTES_PER_ELEMENT===4){for(var c=n*i,u=new Uint8ClampedArray(c),h=0;h<c;h++){var f=r[h],g=f>>16&255,y=f>>7&510,b=f&255;u[h]=(g+y+b)/4&255}l.luminances=u}else l.luminances=r;if(a===void 0&&(l.dataWidth=n),o===void 0&&(l.dataHeight=i),s===void 0&&(l.left=0),A===void 0&&(l.top=0),l.left+n>l.dataWidth||l.top+i>l.dataHeight)throw new At("Crop rectangle does not fit within image data.");return l}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new At("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return mr.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return mr.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var A=s*r;mr.arraycopy(this.luminances,o,a,A,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new dy(this)},e})(_p);var e$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){e$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(xn);(function(){function t(){}return t.ISO_8859_1=xn.ISO8859_1,t})();var t$=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),Mb=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),r$=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),n$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),my=function(t){n$(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+kt.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(r$),i$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),a$=function(t){i$(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(my);function o$(t,e,r){return new a$(t,e,r)}function Zu(t,e,r){return new my(t,e,r)}var s$=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oA=0,K1=1,va=2,A6=3,po=4,A$=new my(null,0,0),D2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],l$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function c$(t){var e,r;try{for(var n=l$(t),i=n.next();!i.done;i=n.next()){var a=i.value;Si.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[oA][po]=0,t[K1][po]=0,t[K1][oA]=28,t[A6][po]=0,t[va][po]=0,t[va][oA]=15,t}var l6=c$(Si.createInt32Array(6,6)),u$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f$=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=D2[this.mode][e];i=Zu(i,a&65535,a>>16),n+=a>>16}var o=e===va?4:5;return i=Zu(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===va?4:5;return n=Zu(n,l6[this.mode][e],i),n=Zu(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===po||this.mode===va){var a=D2[n][oA];r=Zu(r,a&65535,a>>16),i+=a>>16,n=oA}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=o$(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(D2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new In;try{for(var s=u$(i),A=s.next();!A.done;A=s.next()){var l=A.value;l.appendTo(o,e)}}catch(c){r={error:c}}finally{try{A&&!A.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return pr.format("%s bits=%d bytes=%d",s$[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(A$,oA,0,0),t}();function d$(t){var e=pr.getCharCode(" "),r=pr.getCharCode("."),n=pr.getCharCode(",");t[oA][e]=1;for(var i=pr.getCharCode("Z"),a=pr.getCharCode("A"),o=a;o<=i;o++)t[oA][o]=o-a+2;t[K1][e]=1;for(var s=pr.getCharCode("z"),A=pr.getCharCode("a"),o=A;o<=s;o++)t[K1][o]=o-A+2;t[va][e]=1;for(var l=pr.getCharCode("9"),c=pr.getCharCode("0"),o=c;o<=l;o++)t[va][o]=o-c+2;t[va][n]=12,t[va][r]=13;for(var u=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<u.length;h++)t[A6][pr.getCharCode(u[h])]=h;for(var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<f.length;h++)pr.getCharCode(f[h])>0&&(t[po][pr.getCharCode(f[h])]=h);return t}var P2=d$(Si.createInt32Array(5,256)),v0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h$=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=pr.getCharCode(" "),r=pr.getCharCode(`
`),n=Mb.singletonList(f$.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case pr.getCharCode("\r"):a=o===r?2:0;break;case pr.getCharCode("."):a=o===e?3:0;break;case pr.getCharCode(","):a=o===e?4:0;break;case pr.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=Mb.min(n,function(A,l){return A.getBitCount()-l.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=v0(e),s=o.next();!s.done;s=o.next()){var A=s.value;this.updateStateForChar(A,r,a)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=P2[e.getMode()][i]>0,o=null,s=0;s<=po;s++){var A=P2[s][i];if(A>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===va){var l=o.latchAndAppend(s,A);n.push(l)}if(!a&&l6[e.getMode()][s]>=0){var c=o.shiftAndAppend(s,A);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||P2[e.getMode()][i]===0){var u=e.addBinaryShiftChar(r);n.push(u)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=v0(e),A=s.next();!A.done;A=s.next()){var l=A.value;this.updateStateForPair(l,r,n,o)}}catch(c){i={error:c}}finally{try{A&&!A.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(po,n)),e.getMode()!==po&&i.push(a.shiftAndAppend(po,n)),n===3||n===4){var o=a.latchAndAppend(va,16-n).latchAndAppend(va,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=v0(e),A=s.next();!A.done;A=s.next()){var l=A.value,c=!0,u=function(b){if(b.isBetterThanOrEqualTo(l))return c=!1,"break";l.isBetterThanOrEqualTo(b)&&(o=o.filter(function(m){return m!==b}))};try{for(var h=(i=void 0,v0(o)),f=h.next();!f.done;f=h.next()){var g=f.value,y=u(g);if(y==="break")break}}catch(b){i={error:b}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}c&&o.push(l)}}catch(b){r={error:b}}finally{try{A&&!A.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),p$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new h$(e).encode(),a=kt.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,A,l,c,u;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,A=Math.abs(n),A>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new At(pr.format("Illegal value %s for layers",n));l=t.totalBitsInLayer(A,s),c=t.WORD_SIZE[A];var h=l-l%c;if(u=t.stuffBits(i,c),u.getSize()+a>h)throw new At("Data to large for user specified layer");if(s&&u.getSize()>c*64)throw new At("Data to large for user specified layer")}else{c=0,u=null;for(var f=0;;f++){if(f>t.MAX_NB_BITS)throw new At("Data too large for an Aztec code");if(s=f<=3,A=s?f+1:f,l=t.totalBitsInLayer(A,s),!(o>l)){(u==null||c!==t.WORD_SIZE[A])&&(c=t.WORD_SIZE[A],u=t.stuffBits(i,c));var h=l-l%c;if(!(s&&u.getSize()>c*64)&&u.getSize()+a<=h)break}}}var g=t.generateCheckWords(u,l,c),y=u.getSize()/c,b=t.generateModeMessage(s,A,y),m=(s?11:14)+A*4,w=new Int32Array(m),x;if(s){x=m;for(var f=0;f<w.length;f++)w[f]=f}else{x=m+1+2*kt.truncDivision(kt.truncDivision(m,2)-1,15);for(var _=kt.truncDivision(m,2),I=kt.truncDivision(x,2),f=0;f<_;f++){var L=f+kt.truncDivision(f,15);w[_-f-1]=I-L-1,w[_+f]=I+L+1}}for(var U=new xo(x),f=0,D=0;f<A;f++){for(var T=(A-f)*4+(s?9:12),H=0;H<T;H++)for(var S=H*2,O=0;O<2;O++)g.get(D+S+O)&&U.set(w[f*2+O],w[f*2+H]),g.get(D+T*2+S+O)&&U.set(w[f*2+H],w[m-1-f*2-O]),g.get(D+T*4+S+O)&&U.set(w[m-1-f*2-O],w[m-1-f*2-H]),g.get(D+T*6+S+O)&&U.set(w[m-1-f*2-H],w[f*2+O]);D+=T*8}if(t.drawModeMessage(U,s,x,b),s)t.drawBullsEye(U,kt.truncDivision(x,2),5);else{t.drawBullsEye(U,kt.truncDivision(x,2),7);for(var f=0,H=0;f<kt.truncDivision(m,2)-1;f+=15,H+=16)for(var O=kt.truncDivision(x,2)&1;O<x;O+=2)U.set(kt.truncDivision(x,2)-H,O),U.set(kt.truncDivision(x,2)+H,O),U.set(O,kt.truncDivision(x,2)-H),U.set(O,kt.truncDivision(x,2)+H)}var j=new t$;return j.setCompact(s),j.setSize(x),j.setLayers(A),j.setCodeWords(y),j.setMatrix(U),j},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new In;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=kt.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+kt.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new s6(t.getGF(n)),A=kt.truncDivision(r,n),l=t.bitsToWords(e,n,A);s.encode(l,A-o);var c=r%n,u=new In;u.appendBits(0,c);try{for(var h=p$(Array.from(l)),f=h.next();!f.done;f=h.next()){var g=f.value;u.appendBits(g,n)}}catch(y){i={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return u},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,A=0;A<r;A++)s|=e.get(a*r+A)?1<<r-A-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return Bi.AZTEC_PARAM;case 6:return Bi.AZTEC_DATA_6;case 8:return Bi.AZTEC_DATA_8;case 10:return Bi.AZTEC_DATA_10;case 12:return Bi.AZTEC_DATA_12;default:throw new At("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new In,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,A=0;A<r;A++)(o+A>=i||e.get(o+A))&&(s|=1<<r-1-A);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var g$={audio:!1,video:{facingMode:"environment"}},v$=300,m$=function(t){var e=t===void 0?{}:t,r=e.timeBetweenDecodingAttempts,n=r===void 0?v$:r,i=e.hints;return Y.useMemo(function(){var a=new GG(i);return a.timeBetweenDecodingAttempts=n,a},[i,n])},Hb=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(u){o(u)}}function A(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){c.done?a(c.value):i(c.value).then(s,A)}l((n=n.apply(t,e||[])).next())})},Kb=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},w$=function(t){var e=t.resetStream,r=Y.useState(!1),n=r[0],i=r[1],a=Y.useState(null),o=a[0],s=a[1],A=Y.useRef(null),l=Y.useRef(e),c=Y.useCallback(function(f){A.current=f,s(f.getCapabilities().torch!==void 0)},[]),u=Y.useCallback(function(){return Hb(void 0,void 0,void 0,function(){return Kb(this,function(f){switch(f.label){case 0:return!A.current||!o?[2]:[4,A.current.applyConstraints({advanced:[{torch:!0}]})];case 1:return f.sent(),i(!0),[2]}})})},[o]),h=Y.useCallback(function(){return Hb(void 0,void 0,void 0,function(){return Kb(this,function(f){switch(f.label){case 0:return!A.current||!o?[2]:(A.current=null,s(null),i(!1),[4,l.current()]);case 1:return f.sent(),[2]}})})},[o]);return Y.useEffect(function(){l.current=e},[e]),{init:c,isOn:n,isAvailable:o,on:u,off:h}},y$=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},Vb=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(u){o(u)}}function A(c){try{l(n.throw(c))}catch(u){o(u)}}function l(c){c.done?a(c.value):i(c.value).then(s,A)}l((n=n.apply(t,e||[])).next())})},Gb=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},x$=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function $b(t){return t.deviceId!==void 0}var B$=function(t){t===void 0&&(t={});var e=t.paused,r=e===void 0?!1:e,n=t.hints,i=t.timeBetweenDecodingAttempts,a=t.onResult,o=a===void 0?function(){}:a,s=t.onError,A=s===void 0?function(){}:s,l=$b(t)?t.deviceId:void 0,c=Y.useState($b(t)?void 0:t.constraints),u=c[0],h=c[1],f=Y.useRef(o),g=Y.useRef(A),y=Y.useRef(null),b=m$({hints:n,timeBetweenDecodingAttempts:i}),m=w$({resetStream:function(){return Vb(void 0,void 0,void 0,function(){return Gb(this,function(U){switch(U.label){case 0:return L(),[4,I()];case 1:return U.sent(),[2]}})})}}),w=m.init,x=x$(m,["init"]),_=Y.useCallback(function(U,D){U&&f.current(U),D&&g.current(D)},[]),I=Y.useCallback(function(){return Vb(void 0,void 0,void 0,function(){var U,D;return Gb(this,function(T){switch(T.label){case 0:return y.current?r?[2]:l?[4,b.decodeFromVideoDevice(l,y.current,_)]:[3,2]:[2];case 1:return T.sent(),[3,4];case 2:return[4,b.decodeFromConstraints(u??g$,y.current,_)];case 3:T.sent(),T.label=4;case 4:return U=y.current.srcObject,D=U.getVideoTracks()[0],D&&w(D),[2]}})})},[b,l,u,r,_,w]),L=Y.useCallback(function(){b.reset()},[b]);return Y.useEffect(function(){f.current=o},[o]),Y.useEffect(function(){g.current=A},[A]),Y.useEffect(function(){var U=y$(u,t.constraints);U||h(t.constraints)},[u,t]),Y.useEffect(function(){return I(),function(){L()}},[I,L]),{ref:y,torch:x}};const b$=({onClose:t})=>{const{products:e,currentUser:r,recordEmployeeConsumption:n}=jt(),[i,a]=Y.useState([]),[o,s]=Y.useState(""),A=o?e.filter(f=>f.name.toLowerCase().includes(o.toLowerCase())):[],l=f=>{i.some(g=>g.id===f.id)||a([...i,{id:f.id,name:f.name,quantity:1}]),s("")},c=(f,g)=>{const y=Math.max(1,parseInt(g,10)||1);a(i.map(b=>b.id===f?{...b,quantity:y}:b))},u=f=>{a(i.filter(g=>g.id!==f))},h=f=>{if(f.preventDefault(),i.length===0){alert("Por favor, aade al menos un producto para registrar el consumo.");return}n(i,r),t()};return d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar Producto"}),d.jsx(ar,{icon:tu,type:"text",placeholder:"Escribe para buscar...",value:o,onChange:f=>s(f.target.value)}),o&&d.jsx("ul",{className:"mt-2 border rounded-md max-h-40 overflow-y-auto",children:A.map(f=>d.jsx("li",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>l(f),children:f.name},f.id))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Productos a Consumir"}),i.length===0?d.jsx("p",{className:"text-sm text-gray-500",children:"An no has aadido productos para consumo."}):i.map(f=>d.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded-md",children:[d.jsx("span",{children:f.name}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ar,{type:"number",value:f.quantity,onChange:g=>c(f.id,g.target.value),className:"w-20 text-center",min:"1"}),d.jsx(Ke,{onClick:()=>u(f.id),className:"text-red-500 hover:text-red-700",children:d.jsx(yo,{size:18})})]})]},f.id))]}),d.jsx("div",{className:"pt-4 flex justify-end",children:d.jsx(Ke,{type:"submit",className:"bg-indigo-600 text-white hover:bg-indigo-700",children:"Registrar Consumo"})})]})},C$=({onClose:t,onResult:e})=>{const[r,n]=Y.useState("0"),[i,a]=Y.useState(null),[o,s]=Y.useState(null),[A,l]=Y.useState(!1),c=w=>{A?(n(String(w)),l(!1)):n(r==="0"?String(w):r+w)},u=()=>{A?(n("0."),l(!1)):r.indexOf(".")===-1&&n(r+".")},h=()=>{n("0"),a(null),s(null),l(!1)},f=()=>{n(String(parseFloat(r)*-1))},g=()=>{const w=parseFloat(r);n(String(w/100))},y=w=>{const x=parseFloat(r);if(i===null)a(x);else if(o){const _=b(i,x,o);n(String(_)),a(_)}l(!0),s(w)},b=(w,x,_)=>{switch(_){case"+":return w+x;case"-":return w-x;case"*":return w*x;case"/":return w/x;default:return x}},m=()=>{if(i!==null&&o!==null&&!A){const w=b(i,parseFloat(r),o);n(String(w)),a(null),s(null),l(!1),e(w),t()}else e&&(e(parseFloat(r)),t())};return d.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-lg w-64 mx-auto",children:[d.jsx(ar,{type:"text",value:r,readOnly:!0,className:"w-full text-right text-2xl mb-4 p-2 border rounded"}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[d.jsx(Ke,{onClick:h,className:"col-span-1 bg-gray-300 hover:bg-gray-400",children:"AC"}),d.jsx(Ke,{onClick:f,className:"col-span-1 bg-gray-300 hover:bg-gray-400",children:"+/-"}),d.jsx(Ke,{onClick:g,className:"col-span-1 bg-gray-300 hover:bg-gray-400",children:"%"}),d.jsx(Ke,{onClick:()=>y("/"),className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"/"}),d.jsx(Ke,{onClick:()=>c(7),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"7"}),d.jsx(Ke,{onClick:()=>c(8),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"8"}),d.jsx(Ke,{onClick:()=>c(9),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"9"}),d.jsx(Ke,{onClick:()=>y("*"),className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"x"}),d.jsx(Ke,{onClick:()=>c(4),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"4"}),d.jsx(Ke,{onClick:()=>c(5),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"5"}),d.jsx(Ke,{onClick:()=>c(6),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"6"}),d.jsx(Ke,{onClick:()=>y("-"),className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"-"}),d.jsx(Ke,{onClick:()=>c(1),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"1"}),d.jsx(Ke,{onClick:()=>c(2),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"2"}),d.jsx(Ke,{onClick:()=>c(3),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"3"}),d.jsx(Ke,{onClick:()=>y("+"),className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"+"}),d.jsx(Ke,{onClick:()=>c(0),className:"col-span-2 bg-gray-200 hover:bg-gray-300",children:"0"}),d.jsx(Ke,{onClick:u,className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"."}),d.jsx(Ke,{onClick:m,className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"="})]})]})},_$=({onClose:t})=>{const{ticketSettings:e,updateTicketSettings:r}=jt(),[n,i]=Y.useState(e);Y.useEffect(()=>{i(e)},[e]);const a=s=>{const{name:A,value:l,type:c,checked:u}=s.target;i(h=>({...h,[A]:c==="checkbox"?u:l}))},o=s=>{s.preventDefault(),r(n),t()};return d.jsxs("form",{onSubmit:o,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"headerText",className:"block text-sm font-medium text-gray-700",children:"Texto de Encabezado"}),d.jsx(ar,{id:"headerText",name:"headerText",type:"text",value:n.headerText,onChange:a})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"footerText",className:"block text-sm font-medium text-gray-700",children:"Texto de Pie de Pgina"}),d.jsx(ar,{id:"footerText",name:"footerText",type:"text",value:n.footerText,onChange:a})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"logoUrl",className:"block text-sm font-medium text-gray-700",children:"URL del Logo"}),d.jsx(ar,{id:"logoUrl",name:"logoUrl",type:"text",value:n.logoUrl,onChange:a})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(ar,{id:"showQrCode",name:"showQrCode",type:"checkbox",checked:n.showQrCode,onChange:a,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"showQrCode",className:"ml-2 block text-sm text-gray-900",children:"Mostrar Cdigo QR"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"fontSize",className:"block text-sm font-medium text-gray-700",children:"Tamao de Fuente"}),d.jsxs("select",{id:"fontSize",name:"fontSize",value:n.fontSize,onChange:a,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[d.jsx("option",{value:"sm",children:"Pequeo"}),d.jsx("option",{value:"base",children:"Normal"}),d.jsx("option",{value:"lg",children:"Grande"})]})]}),d.jsx(Ke,{type:"submit",className:"w-full bg-indigo-600 text-white hover:bg-indigo-700",children:"Guardar Diseo"})]})},E$=({onClose:t})=>{const{setDiscount:e}=jt(),[r,n]=Y.useState("percentage"),[i,a]=Y.useState(0),o=()=>{e({type:r,value:parseFloat(i)}),t()};return d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Aplicar Descuento"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de Descuento"}),d.jsxs("select",{value:r,onChange:s=>n(s.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[d.jsx("option",{value:"percentage",children:"Porcentaje (%)"}),d.jsx("option",{value:"amount",children:"Monto Fijo ($)"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor del Descuento"}),d.jsx(ar,{type:"number",value:i,onChange:s=>a(s.target.value),placeholder:"0"})]}),d.jsx(Ke,{onClick:o,className:"w-full bg-blue-600 text-white py-2 hover:bg-blue-700",children:"Aplicar Descuento"})]})},S$=({onClose:t})=>{const{note:e,setNote:r}=jt(),[n,i]=Y.useState(e),a=()=>{r(n),t()};return d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Aadir Nota a la Venta"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"saleNote",className:"block text-sm font-medium text-gray-700",children:"Nota"}),d.jsx("textarea",{id:"saleNote",rows:"4",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:n,onChange:o=>i(o.target.value)})]}),d.jsx(Ke,{onClick:a,className:"w-full bg-blue-600 text-white py-2 hover:bg-blue-700",children:"Guardar Nota"})]})},I$=({onClose:t,onPayment:e,total:r})=>{const[n,i]=Y.useState(0),[a,o]=Y.useState(0),[s,A]=Y.useState(!1),[l,c]=Y.useState(0),u=a>0?a*.04:0,h=r+(s?0:u);Y.useEffect(()=>{const y=Number(n)+Number(a)-h;c(y)},[n,a,h]);const f=()=>{e({cash:n,card:a,cardCommission:u,commissionInCash:s})};return d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Procesar Pago"}),d.jsx("div",{className:"mb-4",children:d.jsxs("p",{className:"text-lg font-semibold",children:["Total a Pagar: $",r.toFixed(2)]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Efectivo"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ar,{type:"number",value:n,onChange:g=>i(g.target.value),placeholder:"0.00",className:"flex-grow"}),d.jsx(Ke,{onClick:()=>i(r-a),className:"bg-gray-200 hover:bg-gray-300",children:"Exacto"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tarjeta"}),d.jsx(ar,{type:"number",value:a,onChange:g=>o(g.target.value),placeholder:"0.00"}),a>0&&d.jsxs("div",{className:"mt-2",children:[d.jsxs("p",{className:"text-sm text-gray-600",children:["Comisin (4%): $",(a*.04).toFixed(2)]}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx("input",{type:"checkbox",id:"commissionInCash",checked:s,onChange:()=>A(!s),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"commissionInCash",className:"ml-2 block text-sm text-gray-900",children:"Pagar comisin en efectivo"})]})]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsxs("p",{className:`text-lg font-semibold ${l<0?"text-red-500":"text-green-500"}`,children:["Cambio: $",l.toFixed(2)]})}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx(Ke,{onClick:t,className:"bg-gray-300 hover:bg-gray-400",children:"Cancelar"}),d.jsx(Ke,{onClick:f,className:"bg-blue-600 text-white hover:bg-blue-700",disabled:l<0,children:"Aceptar"})]})]})},Wb=({cashClosingDetails:t})=>{const{date:e,cashier:r,initialCash:n,totalSalesAmount:i,totalCashSales:a,totalCardSales:o,finalCash:s,sales:A}=t;return d.jsxs("div",{className:"bg-white p-6 font-mono text-sm",children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("h2",{className:"text-lg font-bold",children:"Cierre de Caja"}),d.jsxs("p",{children:["Fecha: ",new Date(e).toLocaleString()]}),d.jsxs("p",{children:["Cajero: ",r]})]}),d.jsxs("div",{className:"border-t border-b border-gray-300 py-2 mb-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Efectivo Inicial:"}),d.jsxs("span",{children:["$",n.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Ventas en Efectivo:"}),d.jsxs("span",{children:["$",a.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Ventas con Tarjeta:"}),d.jsxs("span",{children:["$",o.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[d.jsx("span",{children:"Total en Caja:"}),d.jsxs("span",{children:["$",s.toFixed(2)]})]})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx("h3",{className:"font-bold",children:"Detalle de Ventas:"}),A.map(l=>d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsxs("span",{children:["Venta ",l.saleId.substring(l.saleId.length-4),":"]}),d.jsxs("span",{children:["$",l.total.toFixed(2)]})]},l.saleId))]}),d.jsx("div",{className:"border-t border-gray-300 pt-2 text-center",children:d.jsx("p",{children:"Gracias por su trabajo!"})})]})},F$=({onClose:t})=>{const{salesHistory:e,currentUser:r,handleCashClosing:n,cashClosings:i}=jt(),[a,o]=Y.useState(0),[s,A]=Y.useState(!1),l=Y.useRef(),c=e.filter(x=>x.cashier===r.name),u=c.reduce((x,_)=>x+_.total,0),h=c.filter(x=>x.cash).reduce((x,_)=>x+_.cash,0),f=c.filter(x=>x.card).reduce((x,_)=>x+_.card,0),g=a+h,y={date:new Date().toISOString(),cashier:r==null?void 0:r.name,initialCash:a,totalSalesAmount:u,totalCashSales:h,totalCardSales:f,finalCash:g,sales:c},b=tS.useReactToPrint({content:()=>l.current,documentTitle:`Cierre_Caja_${r==null?void 0:r.name}_${new Date().toLocaleDateString()}`}),m=async()=>{const x=l.current;if(x){const _=await a8(x),I=_.toDataURL("image/png"),L=new tt({orientation:"portrait",unit:"px",format:[_.width,_.height]});L.addImage(I,"PNG",0,0,_.width,_.height),L.save(`cierre_caja_${r==null?void 0:r.name}_${new Date().toLocaleDateString()}.pdf`)}t()},w=()=>{n(a),b(),A(!0)};return d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Cierre de Caja"}),d.jsxs("p",{children:["Usuario: ",r==null?void 0:r.name]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Efectivo Inicial en Caja"}),d.jsx(ar,{type:"number",value:a,onChange:x=>o(parseFloat(x.target.value)||0),placeholder:"0.00"})]}),d.jsxs("p",{children:["Ventas en Efectivo: $",h.toLocaleString()]}),d.jsxs("p",{children:["Ventas con Tarjeta: $",f.toLocaleString()]}),d.jsxs("p",{children:["Total de ventas: ",c.length]}),d.jsxs("p",{children:["Monto total de ventas: $",u.toLocaleString()]}),d.jsxs("p",{className:"text-lg font-bold",children:["Total en Caja (Efectivo Inicial + Ventas Efectivo): $",g.toLocaleString()]}),d.jsx(Ke,{onClick:w,className:"w-full bg-blue-600 text-white py-2 hover:bg-blue-700 mt-4",children:"Realizar Cierre de Caja e Imprimir"}),d.jsx("div",{style:{display:"none"},children:d.jsx(Wb,{ref:l,cashClosingDetails:y})}),d.jsxs(Tr,{isOpen:s,onClose:()=>t(),title:"Ticket de Cierre de Caja",children:[d.jsx(Wb,{cashClosingDetails:y}),d.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[d.jsx(Ke,{onClick:m,className:"bg-green-600 text-white hover:bg-green-700",children:"Guardar Ticket"}),d.jsx(Ke,{onClick:()=>t(),className:"bg-gray-300 hover:bg-gray-400",children:"Cerrar"})]})]})]})},N$=(t,e)=>{const r={};if(!t.name||t.name.trim()===""?r.name="El nombre del producto es obligatorio":t.name.length>200&&(r.name="El nombre del producto debe tener mximo 200 caracteres"),t.price===null||t.price===void 0||isNaN(t.price)||t.price<0?r.price="El precio debe ser un nmero positivo":t.price>999999999&&(r.price="El precio es demasiado alto"),t.cost<0?r.cost="El costo debe ser un nmero positivo":t.cost>999999999&&(r.cost="El costo es demasiado alto"),t.cost>t.price&&(r.cost="El costo no puede ser mayor que el precio de venta"),t.sku&&t.sku.length>100&&(r.sku="El SKU debe tener mximo 100 caracteres"),t.barcode&&t.barcode.length>50&&(r.barcode="El cdigo de barras debe tener mximo 50 caracteres"),t.description&&t.description.length>1e3&&(r.description="La descripcin debe tener mximo 1000 caracteres"),t.brand&&t.brand.length>100&&(r.brand="La marca debe tener mximo 100 caracteres"),t.supplierId&&t.supplierId.length>100&&(r.supplierId="El ID del proveedor debe tener mximo 100 caracteres"),t.weight<0&&(r.weight="El peso debe ser un nmero positivo"),(t.taxRate<0||t.taxRate>100)&&(r.taxRate="La tasa de impuesto debe estar entre 0 y 100"),t.dimensions.length<0&&(r.dimensions="La longitud debe ser un nmero positivo"),t.dimensions.width<0&&(r.dimensions="El ancho debe ser un nmero positivo"),t.dimensions.height<0&&(r.dimensions="La altura debe ser un nmero positivo"),!e||!Array.isArray(e))r.inventory="Datos de inventario invlidos";else{const n=e.map(a=>a.locationId),i=[...new Set(n)];n.length!==i.length&&(r.inventory="No se pueden tener mltiples entradas para el mismo almacn"),e.forEach((a,o)=>{a.quantity<0&&(r[`inventory-${o}`]=`La cantidad en el almacn ${a.locationId} debe ser positiva`),a.cost<0&&(r[`inventory-${o}-cost`]=`El costo en el almacn ${a.locationId} debe ser positivo`),a.minStock<0&&(r[`inventory-${o}-minStock`]=`El stock mnimo en el almacn ${a.locationId} debe ser positivo`),a.expirationDate&&a.expirationDate!==""&&new Date(a.expirationDate)<new Date&&(r[`inventory-${o}-expiration`]=`La fecha de vencimiento en el almacn ${a.locationId} no puede ser en el pasado`)})}return t.tags&&t.tags.length>20&&(r.tags="No se pueden agregar ms de 20 etiquetas"),t.tags&&t.tags.some(n=>n.length>50)&&(r.tags="Cada etiqueta debe tener mximo 50 caracteres"),r},U$=({product:t,onClose:e,onSuccess:r,mode:n="modal"})=>{const{categories:i,stores:a,addProduct:o,updateProduct:s,isOnline:A,offlineMode:l}=jt(),[c,u]=Y.useState({name:"",price:0,cost:0,barcode:"",unit:"unidad",image:"",description:"",categoryId:"",sku:"",minStockThreshold:{},tags:[],brand:"",supplierId:"",weight:0,dimensions:{length:0,width:0,height:0},taxRate:0,isActive:!0,notes:""}),[h,f]=Y.useState([]),[g,y]=Y.useState({}),[b,m]=Y.useState(!1),[w,x]=Y.useState(!1);Y.useEffect(()=>{if(t){if(u({name:t.name||"",price:t.price||0,cost:t.cost||0,barcode:t.barcode||"",unit:t.unit||"unidad",image:t.image||"",description:t.description||"",categoryId:t.categoryId||"",sku:t.sku||"",minStockThreshold:t.minStockThreshold||{},tags:t.tags||[],brand:t.brand||"",supplierId:t.supplierId||"",weight:t.weight||0,dimensions:t.dimensions||{length:0,width:0,height:0},taxRate:t.taxRate||0,isActive:t.isActive!==void 0?t.isActive:!0,notes:t.notes||""}),t.id){const{inventoryBatches:S}=jt.getState(),O=S.filter(V=>V.productId===t.id),j=a.map(V=>{var le;const ie=O.find(ce=>ce.locationId===V.id);return{locationId:V.id,quantity:ie?ie.quantity:0,cost:ie?ie.cost:0,expirationDate:ie?ie.expirationDate:"",minStock:((le=t.minStockThreshold)==null?void 0:le[V.id])||0}});f(j)}}else{u({name:"",price:0,cost:0,barcode:"",unit:"unidad",image:"",description:"",categoryId:"",sku:"",minStockThreshold:{},tags:[],brand:"",supplierId:"",weight:0,dimensions:{length:0,width:0,height:0},taxRate:0,isActive:!0,notes:""});const S=a.map(O=>({locationId:O.id,quantity:0,cost:0,expirationDate:"",minStock:0}));f(S)}},[t,a]);const _=S=>{const{name:O,value:j,type:V,checked:ie}=S.target;if(O.startsWith("dimensions.")){const le=O.split(".")[1];u(ce=>({...ce,dimensions:{...ce.dimensions,[le]:V==="number"?parseFloat(j)||0:j}}))}else u(le=>({...le,[O]:V==="checkbox"?ie:V==="number"?parseFloat(j)||0:j}));g[O]&&y(le=>{const ce={...le};return delete ce[O],ce})},I=(S,O,j)=>{f(V=>V.map(ie=>ie.locationId===S?{...ie,[O]:O==="quantity"||O==="cost"||O==="minStock"?parseFloat(j)||0:j}:ie))},L=S=>{if(S.key==="Enter"||S.key===","){S.preventDefault();const O=S.target.value.trim();O&&!c.tags.includes(O)&&(u(j=>({...j,tags:[...j.tags,O]})),S.target.value="")}},U=S=>{u(O=>({...O,tags:O.tags.filter(j=>j!==S)}))},D=()=>{const S=N$(c,h);return y(S),Object.keys(S).length===0},T=async S=>{if(S.preventDefault(),!!D()){m(!0);try{const O={...c,price:parseFloat(c.price)||0,cost:parseFloat(c.cost)||0,minStockThreshold:h.reduce((j,V)=>(j[V.locationId]=V.minStock,j),{})};if(O.inventoryData=h,t)await s(t.id,O);else{const j=await o(O);if(!j.success)throw new Error(j.error||"Error creating product")}r&&r(O),l&&(x(!0),setTimeout(()=>x(!1),5e3)),e()}catch(O){console.error("Error saving product:",O),y({submit:O.message})}finally{m(!1)}}},H=()=>d.jsxs("div",{className:`${n==="modal"?"p-6":""} bg-[#282837] rounded-xl border border-[#3a3a4a]`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:t?"Editar Producto":"Agregar Producto"}),l&&d.jsxs("div",{className:"flex items-center bg-yellow-500/20 text-yellow-300 px-2 py-1 rounded-full text-xs",children:[d.jsx(B1,{className:"w-3 h-3 mr-1"}),"Modo Offline"]}),!A&&d.jsxs("div",{className:"flex items-center bg-red-500/20 text-red-300 px-2 py-1 rounded-full text-xs",children:[d.jsx(B1,{className:"w-3 h-3 mr-1"}),"Sin conexin"]})]}),n==="modal"&&d.jsx("button",{onClick:e,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:d.jsx(yo,{className:"w-5 h-5"})})]}),w&&d.jsxs("div",{className:"mb-4 p-3 bg-yellow-500/20 border border-yellow-500/30 rounded-lg flex items-center",children:[d.jsx(Lv,{className:"w-5 h-5 text-yellow-500 mr-2"}),d.jsx("span",{className:"text-yellow-300 text-sm",children:"El producto se guard localmente. Se sincronizar cuando haya conexin."})]}),d.jsxs("form",{onSubmit:T,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Nombre del Producto *"}),d.jsx("input",{type:"text",name:"name",value:c.name,onChange:_,required:!0,className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${g.name?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,placeholder:"Nombre del producto"}),g.name&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"SKU"}),d.jsx("input",{type:"text",name:"sku",value:c.sku,onChange:_,className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${g.sku?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,placeholder:"Cdigo SKU"}),g.sku&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.sku})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Cdigo de Barras"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"barcode",value:c.barcode,onChange:_,className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${g.barcode?"border-red-500":"border-[#3a3a4a]"} rounded-lg pl-10 pr-4 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,placeholder:"Escanear o ingresar cdigo"}),d.jsx(AU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-4 h-4"})]}),g.barcode&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.barcode})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Precio de Venta *"}),d.jsx("input",{type:"number",name:"price",value:c.price,onChange:_,required:!0,min:"0",step:"0.01",className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${g.price?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`}),g.price&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.price})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Costo"}),d.jsx("input",{type:"number",name:"cost",value:c.cost,onChange:_,min:"0",step:"0.01",className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${g.cost?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`}),g.cost&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.cost})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Categora"}),d.jsxs("select",{name:"categoryId",value:c.categoryId,onChange:_,className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${g.categoryId?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,children:[d.jsx("option",{value:"",children:"Selecciona una categora"}),i.map(S=>d.jsx("option",{value:S.id,children:S.name},S.id))]}),g.categoryId&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.categoryId})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Unidad de Medida"}),d.jsxs("select",{name:"unit",value:c.unit,onChange:_,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",children:[d.jsx("option",{value:"unidad",children:"Unidad"}),d.jsx("option",{value:"kg",children:"Kilogramo (kg)"}),d.jsx("option",{value:"gr",children:"Gramo (gr)"}),d.jsx("option",{value:"lb",children:"Libra (lb)"}),d.jsx("option",{value:"oz",children:"Onza (oz)"}),d.jsx("option",{value:"lt",children:"Litro (lt)"}),d.jsx("option",{value:"ml",children:"Mililitro (ml)"}),d.jsx("option",{value:"m",children:"Metro (m)"}),d.jsx("option",{value:"cm",children:"Centmetro (cm)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Marca"}),d.jsx("input",{type:"text",name:"brand",value:c.brand,onChange:_,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",placeholder:"Marca del producto"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Proveedor"}),d.jsx("input",{type:"text",name:"supplierId",value:c.supplierId,onChange:_,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",placeholder:"ID o nombre del proveedor"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Etiquetas"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:c.tags.map((S,O)=>d.jsxs("span",{className:"bg-[#8A2BE2]/20 text-[#8A2BE2] px-2 py-1 rounded-full text-xs flex items-center",children:[S,d.jsx("button",{type:"button",onClick:()=>U(S),className:"ml-1 text-white hover:text-red-400",children:""})]},O))}),d.jsx("input",{type:"text",onKeyDown:L,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",placeholder:"Presiona Enter para agregar etiquetas"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Imagen URL"}),d.jsx("input",{type:"text",name:"image",value:c.image,onChange:_,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",placeholder:"URL de la imagen del producto"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Peso (kg)"}),d.jsx("input",{type:"number",name:"weight",value:c.weight,onChange:_,min:"0",step:"0.01",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Largo (cm)"}),d.jsx("input",{type:"number",name:"dimensions.length",value:c.dimensions.length,onChange:_,min:"0",step:"0.1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Ancho (cm)"}),d.jsx("input",{type:"number",name:"dimensions.width",value:c.dimensions.width,onChange:_,min:"0",step:"0.1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Alto (cm)"}),d.jsx("input",{type:"number",name:"dimensions.height",value:c.dimensions.height,onChange:_,min:"0",step:"0.1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Tasa de Impuesto (%)"}),d.jsx("input",{type:"number",name:"taxRate",value:c.taxRate,onChange:_,min:"0",max:"100",step:"0.1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{className:"flex items-center pt-6",children:[d.jsx("input",{type:"checkbox",name:"isActive",checked:c.isActive,onChange:_,className:"h-4 w-4 text-[#8A2BE2] focus:ring-[#8A2BE2] border-[#3a3a4a] rounded bg-[#1D1D27]"}),d.jsx("label",{className:"ml-2 block text-sm text-[#F0F0F0]",children:"Producto Activo"})]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Descripcin"}),d.jsx("textarea",{name:"description",value:c.description,onChange:_,rows:"3",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none resize-none transition-colors",placeholder:"Descripcin detallada del producto"})]}),d.jsxs("div",{className:"border border-[#3a3a4a] rounded-xl p-4",children:[d.jsxs("h4",{className:"text-lg font-semibold text-[#F0F0F0] mb-4 flex items-center",children:[d.jsx(Va,{className:"w-5 h-5 mr-2"}),"Inventario por Almacn"]}),d.jsx("div",{className:"space-y-4",children:h.map((S,O)=>{const j=a.find(V=>V.id===S.locationId);return d.jsxs("div",{className:"border border-[#3a3a4a] rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx(UU,{className:"w-4 h-4 text-[#a0a0b0] mr-2"}),d.jsx("h5",{className:"font-medium text-[#F0F0F0]",children:(j==null?void 0:j.name)||"Almacn"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Cantidad"}),d.jsx("input",{type:"number",value:S.quantity,onChange:V=>I(S.locationId,"quantity",V.target.value),min:"0",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Costo Unitario"}),d.jsx("input",{type:"number",value:S.cost,onChange:V=>I(S.locationId,"cost",V.target.value),min:"0",step:"0.01",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Stock Mnimo"}),d.jsx("input",{type:"number",value:S.minStock,onChange:V=>I(S.locationId,"minStock",V.target.value),min:"0",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Fecha de Vencimiento"}),d.jsx("input",{type:"date",value:S.expirationDate,onChange:V=>I(S.locationId,"expirationDate",V.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]})]})]},S.locationId)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Notas Adicionales"}),d.jsx("textarea",{name:"notes",value:c.notes,onChange:_,rows:"2",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none resize-none transition-colors",placeholder:"Notas adicionales sobre el producto"})]}),g.submit&&d.jsxs("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg flex items-center",children:[d.jsx(Lv,{className:"w-5 h-5 text-red-500 mr-2"}),d.jsx("span",{className:"text-red-300",children:g.submit})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-[#3a3a4a] text-[#F0F0F0] hover:bg-[#4a4a5a] py-2 px-4 rounded-lg transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:b,className:"bg-[#8A2BE2] text-white hover:bg-[#7a1bd2] py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:b?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):`${t?"Actualizar":"Agregar"} Producto`})]})]})]});return n==="modal"?d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsx("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:H()})}):H()},wy=({product:t,onClose:e,onSuccess:r})=>d.jsx(U$,{product:t,onClose:e,onSuccess:r,mode:"modal"}),T$=({onClose:t})=>{const{salesHistory:e}=jt(),[r,n]=Y.useState(null);return d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Ventas Anteriores"}),d.jsx("div",{className:"space-y-2",children:e.map(i=>d.jsxs("div",{className:"flex justify-between items-center p-2 border rounded-md",children:[d.jsxs("div",{children:[d.jsxs("p",{children:["ID de Venta: ",i.saleId]}),d.jsxs("p",{children:["Total: $",i.total.toFixed(2)]})]}),d.jsx(Ke,{onClick:()=>n(i),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Ver Ticket"})]},i.saleId))}),r&&d.jsx(Tr,{isOpen:!!r,onClose:()=>n(null),title:"Ticket de Venta",children:d.jsx(ZE,{saleDetails:r})})]})},L$=({onClose:t})=>{const[e,r]=Y.useState(""),[n,i]=Y.useState(""),[a,o]=Y.useState(""),[s,A]=Y.useState(""),[l,c]=Y.useState(""),[u,h]=Y.useState(""),f=()=>{t()};return d.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Agendar Visita de Proveedor"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(ar,{icon:nU,label:"Nombre del Proveedor",placeholder:"Ej: Coca-Cola",value:e,onChange:g=>r(g.target.value)}),d.jsx(ar,{icon:Vc,label:"Nmero de Orden de Compra",placeholder:"Ej: OC-12345",value:n,onChange:g=>i(g.target.value)}),d.jsx(ar,{icon:EU,label:"Artculos a Recibir",placeholder:"Ej: 24-pack Coca-Cola, 12-pack Sprite",value:a,onChange:g=>o(g.target.value)}),d.jsx(ar,{icon:Hw,label:"Monto a Pagar (Estimado)",type:"number",placeholder:"Ej: 1500.00",value:s,onChange:g=>A(g.target.value)}),d.jsx(ar,{icon:m1,label:"Fecha de Visita",type:"date",value:l,onChange:g=>c(g.target.value)}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas Adicionales"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(T_,{className:"h-5 w-5 text-gray-400"})}),d.jsx("textarea",{value:u,onChange:g=>h(g.target.value),placeholder:"Ej: El proveedor llegar por la tarde.",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[d.jsx(Ke,{onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancelar"}),d.jsx(Ke,{onClick:f,className:"bg-blue-600 text-white hover:bg-blue-700",children:"Agendar Visita"})]})]})},O$=({onClose:t})=>{const{addExpense:e}=jt(),[r,n]=Y.useState(0),a=r*.04,o=r+a,s=()=>{r>0&&(e({concept:"Retiro de Efectivo (Tarjeta)",amount:o,type:"Retiro",details:`Monto retirado: $${r.toFixed(2)}, Comisin (4%): $${a.toFixed(2)}`}),t())};return d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Retiro de Efectivo (Tarjeta)"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monto a Retirar"}),d.jsx(ar,{type:"number",value:r,onChange:A=>n(parseFloat(A.target.value)||0),placeholder:"0.00",prefix:"$",icon:Hw})]}),d.jsxs("p",{className:"text-gray-700",children:["Comisin (4%): $",a.toFixed(2)]}),d.jsxs("p",{className:"text-lg font-bold mt-2",children:["Total a Deducir: $",o.toFixed(2)]}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(Ke,{onClick:t,className:"bg-gray-300 hover:bg-gray-400",children:"Cancelar"}),d.jsx(Ke,{onClick:s,className:"bg-blue-600 text-white hover:bg-blue-700",disabled:r<=0,children:"Confirmar Retiro"})]})]})},k$=({onClose:t})=>{const{products:e,inventoryBatches:r,currentUser:n,updateProduct:i,deleteProduct:a}=jt(),[o,s]=Y.useState(""),A=Y.useMemo(()=>{const h=n==null?void 0:n.storeId;if(!h)return[];const f=r.reduce((g,y)=>(y.locationId===h&&(g[y.productId]=(g[y.productId]||0)+y.quantity),g),{});return e.map(g=>({...g,stockInLocation:f[g.id]||0})).filter(g=>g.stockInLocation>0).filter(g=>g.name.toLowerCase().includes(o.toLowerCase()))},[e,r,n,o]),l=h=>{alert(`Edit product ${h}`)},c=h=>{window.confirm("Ests seguro de que quieres eliminar este producto?")&&a(h)},u=n&&(n.role==="admin"||n.role==="gerente");return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx("div",{className:"p-3 rounded-xl bg-blue-100 text-blue-600 mr-4",children:d.jsx(Va,{size:24})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Coleccin de Productos"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Gestiona los productos disponibles en tu tienda"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[d.jsxs("div",{className:"relative flex-1 w-full",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:d.jsx(tu,{size:20})}),d.jsx("input",{type:"text",placeholder:"Buscar productos...",value:o,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition duration-200"})]}),d.jsx(Ke,{onClick:t,variant:"outline",className:"px-4 py-3 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cerrar"})]}),d.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:A.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("div",{className:"p-3 rounded-full bg-gray-100 dark:bg-gray-700",children:d.jsx(Lv,{size:32,className:"text-gray-400"})})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No se encontraron productos"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay productos en esta tienda o no coinciden con la bsqueda."})]}):d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Producto"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Categora"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Stock"}),d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Precio"}),u&&d.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A.map((h,f)=>d.jsxs("tr",{className:`transition-colors hover:bg-gray-50 dark:hover:bg-gray-750 ${f%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-850"}`,children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 dark:bg-gray-700 rounded-md flex items-center justify-center",children:h.image?d.jsx("img",{src:h.image,alt:h.name,className:"h-8 w-8 object-cover rounded-md"}):d.jsx(Va,{size:20,className:"text-gray-500"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.name}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.barcodes&&h.barcodes.length>0?h.barcodes[0]:"Sin cdigo"})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-200",children:h.categoryId||"Sin categora"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h.stockInLocation<10?"bg-red-100 text-red-800 dark:bg-red-800/30 dark:text-red-300":h.stockInLocation<20?"bg-yellow-100 text-yellow-800 dark:bg-yellow-800/30 dark:text-yellow-300":"bg-green-100 text-green-800 dark:bg-green-800/30 dark:text-green-300"}`,children:h.stockInLocation})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200 font-semibold",children:["$",h.price.toFixed(2)]}),u&&d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ke,{onClick:()=>l(h.id),variant:"outline",className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 border border-blue-200 dark:border-blue-800",children:d.jsx(RU,{size:16})}),d.jsx(Ke,{onClick:()=>c(h.id),variant:"outline",className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 border border-red-200 dark:border-red-800",children:d.jsx(vd,{size:16})})]})})]},h.id))})]})}),A.length>0&&d.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 flex justify-between",children:[d.jsxs("span",{children:["Mostrando ",A.length," producto",A.length!==1?"s":""]}),d.jsxs("span",{children:["Total en stock: ",A.reduce((h,f)=>h+f.stockInLocation,0)]})]})]})};class D${constructor(){this.connection=null,this.isConnected=!1,this.weightListeners=[],this.statusListeners=[],this.currentWeight=0,this.currentUnit="kg",this.connectionType=null,this.simulatedMode=!1,this.simulationInterval=null}async connect(e,r={}){try{switch(this.connectionType=e,e){case"serial":return await this.connectSerial(r);case"bluetooth":return await this.connectBluetooth(r);case"tcp":return await this.connectTCP(r);case"simulate":return this.startSimulation(r);default:throw new Error(`Unsupported connection type: ${e}`)}}catch(n){throw console.error("Scale connection error:",n),n}}async connectSerial(e={}){if(!("serial"in navigator))throw new Error("Web Serial API not supported");try{return this.connection=await navigator.serial.requestPort(e),await this.connection.open({baudRate:e.baudRate||9600}),this.isConnected=!0,this.updateStatus("connected","Serial scale connected"),this.readSerialData(),{success:!0,message:"Serial scale connected successfully"}}catch(r){throw this.isConnected=!1,this.updateStatus("error",`Serial connection failed: ${r.message}`),r}}async connectBluetooth(e={}){if(!("bluetooth"in navigator))throw new Error("Web Bluetooth API not supported");try{const r=await navigator.bluetooth.requestDevice({filters:[{name:e.name||"scale"},{namePrefix:e.namePrefix||"SCA"},{services:[e.serviceUUID||"serial_port"]}]}),n=await r.gatt.connect();return this.connection={device:r,server:n},this.isConnected=!0,this.updateStatus("connected","Bluetooth scale connected"),this.readBluetoothData(),{success:!0,message:"Bluetooth scale connected successfully"}}catch(r){throw this.isConnected=!1,this.updateStatus("error",`Bluetooth connection failed: ${r.message}`),r}}async connectTCP(e={}){try{const{host:r="localhost",port:n=8080}=e,i=`ws://${r}:${n}`;return this.connection=new WebSocket(i),this.connection.onopen=()=>{this.isConnected=!0,this.updateStatus("connected","TCP scale connected")},this.connection.onmessage=a=>{const o=this.parseWeightData(a.data);o&&this.setCurrentWeight(o.weight,o.unit)},this.connection.onerror=a=>{this.isConnected=!1,this.updateStatus("error",`TCP connection error: ${a.message}`)},this.connection.onclose=()=>{this.isConnected=!1,this.updateStatus("disconnected","TCP scale disconnected")},{success:!0,message:"TCP scale connection initiated"}}catch(r){throw this.isConnected=!1,this.updateStatus("error",`TCP connection failed: ${r.message}`),r}}startSimulation(e={}){return this.simulatedMode=!0,this.isConnected=!0,this.updateStatus("connected","Scale simulation mode active"),this.simulationInterval=setInterval(()=>{const r=Math.random()*5;this.setCurrentWeight(parseFloat(r.toFixed(3)),"kg")},e.interval||1e3),{success:!0,message:"Scale simulation started"}}async readSerialData(){if(!this.connection)return;const e=this.connection.readable.getReader();try{for(;this.isConnected;){const{value:r,done:n}=await e.read();if(n){this.isConnected=!1,this.updateStatus("disconnected","Serial connection closed");break}const i=new TextDecoder().decode(r),a=this.parseWeightData(i);a&&this.setCurrentWeight(a.weight,a.unit)}}catch(r){console.error("Serial reading error:",r),this.updateStatus("error",`Serial reading error: ${r.message}`)}finally{e.releaseLock()}}async readBluetoothData(){if(this.connection)try{const r=await(await this.connection.server.getPrimaryService("serial_port")).getCharacteristic("weight");await r.startNotifications(),r.addEventListener("characteristicvaluechanged",n=>{const i=n.target.value,a=new TextDecoder().decode(i),o=this.parseWeightData(a);o&&this.setCurrentWeight(o.weight,o.unit)})}catch(e){console.error("Bluetooth reading error:",e),this.updateStatus("error",`Bluetooth reading error: ${e.message}`)}}parseWeightData(e){typeof e!="string"&&(e=String.fromCharCode.apply(null,new Uint8Array(e)));const r=[/([+-]?\d+\.?\d*)\s*([a-z]+)/i,/.*\|([+-]?\d+\.?\d*)\s*([a-z]+)\|/];for(const n of r){const i=e.match(n);if(i){const a=parseFloat(i[1]),o=i[2].toLowerCase();return{weight:a,unit:o}}}return null}setCurrentWeight(e,r="kg"){this.currentWeight=e,this.currentUnit=r,this.notifyWeightListeners(e,r)}addWeightListener(e){this.weightListeners.push(e)}removeWeightListener(e){const r=this.weightListeners.indexOf(e);r!==-1&&this.weightListeners.splice(r,1)}addStatusListener(e){this.statusListeners.push(e)}removeStatusListener(e){const r=this.statusListeners.indexOf(e);r!==-1&&this.statusListeners.splice(r,1)}notifyWeightListeners(e,r){this.weightListeners.forEach(n=>{try{n(e,r)}catch(i){console.error("Error in weight listener:",i)}})}notifyStatusListeners(e,r){this.statusListeners.forEach(n=>{try{n(e,r)}catch(i){console.error("Error in status listener:",i)}})}updateStatus(e,r){this.notifyStatusListeners(e,r)}getCurrentWeight(){return{weight:this.currentWeight,unit:this.currentUnit,isConnected:this.isConnected}}async disconnect(){try{return this.simulationInterval&&(clearInterval(this.simulationInterval),this.simulationInterval=null),this.connectionType==="serial"&&this.connection?await this.connection.close():this.connectionType==="bluetooth"&&this.connection?await this.connection.server.disconnect():this.connectionType==="tcp"&&this.connection&&this.connection.close(),this.connection=null,this.isConnected=!1,this.connectionType=null,this.simulatedMode=!1,this.updateStatus("disconnected","Scale disconnected"),{success:!0,message:"Scale disconnected successfully"}}catch(e){return console.error("Error disconnecting from scale:",e),{success:!1,message:e.message}}}}const Br=new D$,P$=({isOpen:t,onClose:e,product:r,onAddToCart:n})=>{var H;const{currentUser:i,inventoryBatches:a}=jt(),[o,s]=Y.useState(""),[A,l]=Y.useState(0),[c,u]=Y.useState(""),[h,f]=Y.useState("disconnected"),[g,y]=Y.useState("Scale not connected"),[b,m]=Y.useState(!1),[w,x]=Y.useState(!1);Y.useEffect(()=>{const S="serial"in navigator,O="bluetooth"in navigator;m(S||O)},[]);const _=a.filter(S=>(r==null?void 0:r.id)&&(S==null?void 0:S.productId)===r.id&&(i==null?void 0:i.storeId)&&(S==null?void 0:S.locationId)===i.storeId).reduce((S,O)=>S+((O==null?void 0:O.quantity)||0),0);Y.useEffect(()=>{if(r&&o&&!isNaN(o)&&o>0){const S=parseFloat(o);if(r&&S>_)u(`Stock insuficiente. Disponible: ${_.toFixed(3)} ${r.unit||"kg"}`);else if(S<=0)u("El peso debe ser mayor a 0");else if(u(""),r&&r.price){const O=S*r.price;l(O)}}else l(0),u("")},[o,r,_]),Y.useEffect(()=>{if(!t)return;const S=(O,j)=>{f(O),y(j)};return Br.addStatusListener(S),Br.isConnected||(async()=>{try{await Br.connect("simulate")}catch(j){console.error("Could not connect to simulated scale:",j)}})(),()=>{Br.removeStatusListener(S)}},[t]),Y.useEffect(()=>{if(!t||!w)return;const S=(O,j)=>{(j===r.unit||!r.unit||r.unit==="kg")&&s(O.toFixed(3))};return Br.addWeightListener(S),()=>{Br.removeWeightListener(S)}},[t,w,r.unit]);const I=()=>{!c&&o&&parseFloat(o)>0&&(parseFloat(o)>0&&n(parseFloat(o)),e())},L=async()=>{try{f("connecting"),y("Connecting to scale..."),await Br.connect("simulate")}catch(S){f("error"),y(`Connection failed: ${S.message}`)}},U=async()=>{try{await Br.disconnect(),x(!1)}catch(S){console.error("Error disconnecting from scale:",S)}},D=()=>{x(!w)},T=()=>{const{weight:S,unit:O,isConnected:j}=Br.getCurrentWeight();j&&O===(r.unit||"kg")&&s(S.toFixed(3))};return!t||!r||!i?null:d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Pesar Producto"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("div",{className:`flex items-center ${h==="connected"?"text-green-500":h==="error"?"text-red-500":"text-yellow-500"}`,children:[b?d.jsx(P_,{className:`w-4 h-4 ${h==="connected"?"text-green-500":h==="error"?"text-red-500":"text-yellow-500"}`}):d.jsx(B1,{className:"w-4 h-4 text-gray-500"}),d.jsx("span",{className:"ml-1 text-xs",children:h})]}),d.jsx("button",{onClick:e,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:d.jsx(yo,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx("div",{className:"w-16 h-16 bg-[#3a3a4a] rounded-lg flex items-center justify-center",children:r!=null&&r.image?d.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain rounded"}):d.jsx("span",{className:"text-[#a0a0b0] text-xs",children:"No imagen"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-[#F0F0F0]",children:(r==null?void 0:r.name)||"Producto"}),d.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:["$",(H=r==null?void 0:r.price)==null?void 0:H.toFixed(2)," / ",(r==null?void 0:r.unit)||"kg"]})]})]}),d.jsxs("div",{className:"mb-4 p-3 bg-[#1D1D27] rounded-lg border border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("h4",{className:"font-semibold text-[#F0F0F0] text-sm",children:"Conexin de Balanza"}),d.jsx("div",{className:"flex space-x-2",children:Br.isConnected?d.jsx("button",{onClick:U,className:"text-xs bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded",children:"Desconectar"}):d.jsx("button",{onClick:L,className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded",children:"Conectar"})})]}),d.jsx("div",{className:"text-xs text-[#a0a0b0] mb-3",children:g}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:D,disabled:!Br.isConnected,className:`text-xs px-2 py-1 rounded ${w?"bg-green-600 text-white":Br.isConnected?"bg-[#8A2BE2] text-white hover:bg-purple-700":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:w?"Actualizar automtico ON":"Actualizar automtico OFF"}),d.jsxs("button",{onClick:T,disabled:!Br.isConnected,className:`text-xs px-2 py-1 rounded flex items-center ${Br.isConnected?"bg-[#8A2BE2] text-white hover:bg-purple-700":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[d.jsx(GU,{className:"w-3 h-3 mr-1"})," Usar lectura"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{className:"block text-[#a0a0b0] mb-2",children:["Cantidad (",(r==null?void 0:r.unit)||"kg",")"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",step:"0.001",min:"0",value:o,onChange:S=>{s(S.target.value),w&&x(!1)},className:`w-full bg-[#1D1D27] text-[#F0F0F0] border rounded-lg px-3 py-3 focus:border-[#8A2BE2] outline-none transition-colors ${c?"border-red-500":"border-[#3a3a4a]"}`,placeholder:`Ingrese ${(r==null?void 0:r.unit)||"kg"}`,autoFocus:!0,disabled:w}),Br.isConnected&&d.jsxs("div",{className:"absolute right-3 top-3 text-xs text-[#8A2BE2]",children:[Br.getCurrentWeight().weight," ",(r==null?void 0:r.unit)||"kg"]})]}),c&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:c}),d.jsxs("p",{className:"text-[#a0a0b0] text-sm mt-1",children:["Disponible: ",_.toFixed(3)," ",(r==null?void 0:r.unit)||"kg"]})]}),d.jsx("div",{className:"bg-[#1D1D27] rounded-lg p-4 border border-[#3a3a4a]",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#a0a0b0]",children:"Precio Total:"}),d.jsxs("span",{className:"text-[#8A2BE2] font-bold text-lg",children:["$",A.toFixed(2)]})]})})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:e,className:"flex-1 bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] py-3 rounded-lg border border-[#3a3a4a] transition-colors",children:"Cancelar"}),d.jsx("button",{onClick:I,disabled:!!c||!o||parseFloat(o)<=0,className:`flex-1 py-3 rounded-lg transition-colors ${c||!o||parseFloat(o)<=0?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-[#8A2BE2] hover:bg-purple-700 text-white"}`,children:"Agregar al Carrito"})]})]})})},Q$=({children:t})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-md p-6",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Pesar Producto"})}),d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-[#F0F0F0] mb-4",children:"Error al cargar el panel de peso"}),d.jsx("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white py-2 px-4 rounded-lg",children:"Intentar de nuevo"})]})]})}),R$=t=>t.product?d.jsx(P$,{...t}):d.jsx(Q$,{});function zb(){const{currentUser:t,cart:e,searchTerm:r="",setSearchTerm:n,categories:i,products:a,inventoryBatches:o,addToCart:s,removeFromCart:A,updateCartItemQuantity:l,handleCheckout:c,lastSale:u,darkMode:h,isOnline:f,offlineMode:g,isWeightModalOpen:y,weighingProduct:b,openWeightModal:m,closeWeightModal:w,addToCartWithWeight:x}=jt(),[_,I]=Y.useState(!1),[L,U]=Y.useState(!1),[D,T]=Y.useState(!1),[H,S]=Y.useState(!1),[O,j]=Y.useState(!1),[V,ie]=Y.useState(!1),[le,ce]=Y.useState(!1),[J,ae]=Y.useState(!1),[ve,pe]=Y.useState(!1),[k,W]=Y.useState(!1),[G,Z]=Y.useState(!1),[te,oe]=Y.useState(!1),[me,ge]=Y.useState(!1),[we,Se]=Y.useState(!1),[Ue,_e]=Y.useState(!1),[he,$]=Y.useState("disconnected"),[Je,We]=Y.useState("Scale not connected");Y.useEffect(()=>{const Ie=(Oe,ot)=>{$(Oe),We(ot)};return Br.addStatusListener(Ie),Br.isConnected?($("connected"),We("Scale connected")):($("disconnected"),We("Scale not connected")),()=>{Br.removeStatusListener(Ie)}},[]);const Ve=Y.useRef(),Ee=tS.useReactToPrint({content:()=>Ve.current,documentTitle:`Ticket_Venta_${u==null?void 0:u.saleId}`}),Me=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},Pe=Y.useMemo(()=>{const Ie=(t==null?void 0:t.storeId)||"1";console.log("storeId:",Ie),console.log("inventoryBatches:",o),console.log("productCatalog length:",a.length);const Oe=o.reduce((ke,ht)=>{const ct=ht.locationId||ht.location_id;if(String(ct)===String(Ie)){const sr=ht.productId||ht.product_id;console.log("Batch location match:",{batchLocationId:ct,storeId:Ie,productId:sr,quantity:ht.quantity}),ke[String(sr)]=(ke[String(sr)]||0)+ht.quantity}return ke},{});console.log("stockByProduct:",Oe),console.log("Products in catalog:",a.map(ke=>({id:ke.id,name:ke.name})));let ot=a.map(ke=>{var ct;const ht=Oe[String(ke.id)]||0;return{...ke,categoryId:ke.categoryId||ke.category_id,stockInLocation:ht>0?ht:0,name:ke.name||ke.nombre||ke.productName||"Producto sin nombre",categoryName:((ct=i.find(sr=>sr.id===(ke.categoryId||ke.category_id)))==null?void 0:ct.name)||"Sin categora"}});console.log("allCatalogProducts count:",ot.length),ot.length===0&&(console.log("No products in catalog, showing all available products"),ot=a.map(ke=>{var ht;return{...ke,stockInLocation:0,name:ke.name||ke.nombre||ke.productName||"Producto sin nombre",categoryName:((ht=i.find(ct=>ct.id===(ke.categoryId||ke.category_id)))==null?void 0:ht.name)||"Sin categora"}}));const Ut=ot.filter(ke=>String(ke.name).toLowerCase().includes(String(r).toLowerCase())||String(ke.nombre||"").toLowerCase().includes(String(r).toLowerCase())||String(ke.productName||"").toLowerCase().includes(String(r).toLowerCase())||String(ke.description||"").toLowerCase().includes(String(r).toLowerCase()));return console.log("productsToShow count:",Ut.length),Ut},[a,o,t,r,i]);Ac.useEffect(()=>{const Ie=()=>{alert("Conexin restaurada. Los datos se sincronizarn automticamente.")},Oe=()=>{alert("Sin conexin a Internet. La aplicacin est trabajando en modo sin conexin.")};return window.addEventListener("online",Ie),window.addEventListener("offline",Oe),()=>{window.removeEventListener("online",Ie),window.removeEventListener("offline",Oe)}},[]);const Bt=async()=>{if(_)I(!1);else try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(Oe=>Oe.stop()),I(!0)}catch(Ie){console.error("Error accessing camera:",Ie),alert("No se pudo acceder a la cmara. Por favor, verifica los permisos.")}},[nt,Nt]=Y.useState(!1),pt=Y.useRef(0),wt=5,{ref:Gt}=B$({onResult(Ie){if(nt)return;Nt(!0);const Oe=Ie.getText();if(!Oe||Oe.trim()===""){Nt(!1);return}const ot=Pe.find(Ut=>Ut.barcodes&&(Array.isArray(Ut.barcodes)&&Ut.barcodes.includes(Oe)||typeof Ut.barcodes=="string"&&Ut.barcodes.split(",").map(ke=>ke.trim()).includes(Oe)));ot?(s(ot),I(!1),pt.current=0,console.log(`Producto agregado: ${ot.name}`)):(console.warn(`Product with barcode ${Oe} not found or out of stock in this location.`),pt.current<wt&&alert(`Producto con cdigo ${Oe} no encontrado o sin existencias en esta tienda.`),pt.current++),Nt(!1)},onError(Ie){Ie.message.includes("No MultiFormat Readers were able to detect the code")||console.error("Error en escaneo de cdigo de barras:",Ie),nt&&Nt(!1)},paused:!_,video:{facingMode:"environment",width:{min:640,ideal:1920,max:1920},height:{min:480,ideal:1080,max:1080},frameRate:{ideal:30,max:60},aspectRatio:16/9,focusMode:"continuous"},formats:["code_128","code_39","ean_13","ean_8","upc_a","upc_e","data_matrix"],delay:100}),gt=e.reduce((Ie,Oe)=>Ie+Oe.price*Oe.quantity,0),it=(Ie,Oe)=>{const ot=parseInt(Oe.target.value,10);l(Ie,ot)},ft=()=>{ae(!0)},at=async Ie=>{(await c(Ie)).offline&&alert("Venta procesada en modo sin conexin. Se sincronizar cuando haya conexin a Internet."),ae(!1),ge(!0)},Xt=t&&(t.role==="admin"||t.role==="gerente");return d.jsxs("main",{className:"flex-1 flex flex-col md:flex-row gap-6 p-6 h-screen bg-[#1D1D27]",children:[d.jsxs("div",{className:"w-full md:w-2/3 flex flex-col gap-6",children:[d.jsxs("header",{className:"flex justify-between items-center text-[#f5f5f5]",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Punto de Venta"}),d.jsxs("p",{className:"text-sm text-[#a0a0b0]",children:["Tienda: ",(t==null?void 0:t.storeName)||"Principal"]}),g&&d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx("div",{className:"w-2 h-2 bg-[#ff5252] rounded-full mr-2"}),d.jsx("span",{className:"text-xs text-[#ff5252] font-medium",children:"Modo Sin Conexin"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!f&&d.jsxs("div",{className:"flex items-center bg-[#ffab00]/20 text-[#ffab00] px-2 py-1 rounded-md text-xs font-medium border border-[#ffab00]/30",children:[d.jsx(wT,{size:14,className:"mr-1"}),d.jsx("span",{children:"Sin conexin"})]}),d.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md text-xs font-medium border ${he==="connected"?"bg-green-500/20 text-green-500 border-green-500/30":he==="error"?"bg-red-500/20 text-red-500 border-red-500/30":"bg-yellow-500/20 text-yellow-500 border-yellow-500/30"}`,children:[he==="connected"?d.jsx(P_,{size:14,className:"mr-1"}):d.jsx(B1,{size:14,className:"mr-1"}),d.jsxs("span",{children:["Balance: ",he]})]}),d.jsx(Ke,{onClick:Me,variant:"outline",className:"p-2",children:d.jsx(LU,{size:20})})]})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] flex-1 flex flex-col",children:[d.jsx("div",{className:"flex-1 overflow-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[d.jsx("th",{className:"py-3 px-4 text-left text-[#a0a0b0] text-sm font-semibold uppercase tracking-wider",children:"Cantidad"}),d.jsx("th",{className:"py-3 px-4 text-left text-[#a0a0b0] text-sm font-semibold uppercase tracking-wider",children:"Producto"}),d.jsx("th",{className:"py-3 px-4 text-right text-[#a0a0b0] text-sm font-semibold uppercase tracking-wider",children:"Precio"}),d.jsx("th",{className:"py-3 px-4 text-right text-[#a0a0b0] text-sm font-semibold uppercase tracking-wider",children:"Acciones"})]})}),d.jsx("tbody",{children:e.map(Ie=>d.jsxs("tr",{className:"border-b border-[#3a3a4a] last:border-none",children:[d.jsx("td",{className:"py-3 px-4",children:d.jsx("input",{type:"number",value:Ie.quantity,onChange:Oe=>it(Ie.id,Oe),min:"1",className:"w-16 border rounded-lg text-center bg-[#1D1D27] text-[#F0F0F0] border-[#3a3a4a] focus:ring-2 focus:ring-[#8A2BE2] focus:border-[#8A2BE2]"})}),d.jsx("td",{className:"py-3 px-4 font-medium text-[#F0F0F0]",children:Ie.name}),d.jsxs("td",{className:"py-3 px-4 text-right font-semibold text-[#F0F0F0]",children:["$",(Ie.price*Ie.quantity).toLocaleString()]}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsx(Ke,{onClick:()=>A(Ie.id),variant:"ghost",size:"sm",className:"text-[#a0a0b0] hover:text-[#ff5252]",children:d.jsx(yo,{size:18})})})]},Ie.id))})]})}),d.jsxs("div",{className:"mt-4 flex flex-col xs:flex-row justify-between items-center gap-4 pt-4 border-t border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(Ke,{onClick:()=>oe(!0),variant:"outline",className:"font-medium flex items-center space-x-2 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:[d.jsx(m1,{size:16}),d.jsx("span",{children:"Agendar"})]}),d.jsxs(Ke,{onClick:()=>ie(!0),variant:"outline",className:"font-medium flex items-center space-x-2 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:[d.jsx(MU,{size:16}),d.jsx("span",{children:"Descuento"})]}),d.jsxs(Ke,{onClick:()=>ce(!0),variant:"outline",className:"font-medium flex items-center space-x-2 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:[d.jsx(m5,{size:16}),d.jsx("span",{children:"Nota"})]}),Xt&&d.jsxs(Ke,{onClick:()=>T(!0),variant:"outline",className:"font-medium flex items-center space-x-2 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:[d.jsx(mU,{size:16}),d.jsx("span",{children:"Consumo"})]})]}),d.jsxs("div",{className:"text-right text-[#F0F0F0]",children:[d.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:["Subtotal: $",gt.toLocaleString()]}),d.jsxs("p",{className:"text-2xl font-bold text-[#F0F0F0]",children:["Total: $",gt.toLocaleString()]})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-3",children:[d.jsxs(Ke,{onClick:()=>Z(!0),variant:"outline",className:"font-medium flex-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:[d.jsx(L_,{size:16,className:"mr-2"}),"Ventas Anteriores"]}),d.jsxs(Ke,{onClick:()=>pe(!0),variant:"outline",className:"font-medium flex-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:[d.jsx(m5,{size:16,className:"mr-2"}),"Cierre de Caja"]}),d.jsxs(Ke,{onClick:()=>Se(!0),variant:"outline",className:"font-medium flex-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:[d.jsx(yU,{size:16,className:"mr-2"}),"Retiro"]})]}),d.jsx(Ke,{onClick:ft,className:"w-full mt-3 py-3 text-lg bg-[#8A2BE2] hover:bg-purple-700",size:"lg",variant:"primary",disabled:g&&e.length===0,children:g?"Modo Sin Conexin - Procesar Pago Local":`Procesar Pago - ${gt.toLocaleString()}`})]})]}),d.jsxs("div",{className:"w-full md:w-1/3 flex flex-col bg-[#282837] rounded-xl border border-[#3a3a4a] p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ke,{onClick:()=>j(!0),size:"sm",className:"bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] border border-[#3a3a4a]",children:d.jsx(aU,{size:20})}),d.jsx(Ke,{onClick:()=>_e(!0),size:"sm",className:"bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] border border-[#3a3a4a]",children:d.jsx(Va,{size:20})}),d.jsx(Ke,{onClick:Bt,size:"sm",className:"bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] border border-[#3a3a4a]",children:d.jsx(qU,{size:20})})]}),d.jsx(ar,{icon:tu,type:"text",placeholder:"Buscar producto...",className:"flex-1 ml-2 max-w-xs bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] placeholder-[#a0a0b0]",onChange:Ie=>n(Ie.target.value)})]}),d.jsxs("div",{className:`p-3 rounded-lg border text-sm flex items-center justify-between mb-4 ${he==="connected"?"bg-green-500/10 border-green-500/30 text-green-300":he==="error"?"bg-red-500/10 border-red-500/30 text-red-300":"bg-yellow-500/10 border-yellow-500/30 text-yellow-300"}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(WU,{size:16,className:"mr-2"}),d.jsxs("span",{className:"font-medium",children:["Balanza: ",Je]})]}),d.jsx("div",{className:"flex space-x-2",children:d.jsx(Ke,{size:"sm",variant:Br.isConnected?"outline":"default",onClick:()=>{Br.isConnected?Br.disconnect():Br.connect("simulate")},className:Br.isConnected?"border border-[#3a3a4a] text-[#F0F0F0] hover:bg-[#3a3a4a]":"bg-[#8A2BE2] text-white hover:bg-purple-700",children:Br.isConnected?"Desconectar":"Conectar"})})]}),_&&d.jsxs("div",{className:"mb-4",children:[d.jsx("video",{ref:Gt,className:"w-full max-w-md h-auto aspect-video bg-[#3a3a4a] rounded-lg mx-auto"}),d.jsx("p",{className:"text-center text-sm text-[#a0a0b0] mt-2",children:"Escaneando cdigo de barras..."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[i.slice(0,6).map(Ie=>d.jsx(Ke,{variant:"outline",size:"sm",className:"py-1 font-medium whitespace-nowrap text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:Ie.name},Ie.id)),i.length>6&&d.jsxs(Ke,{variant:"outline",size:"sm",className:"py-1 font-medium text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",onClick:()=>_e(!0),children:["+",i.length-6]})]}),d.jsx("div",{className:"flex-1 overflow-auto",style:{maxHeight:"calc(100vh - 220px)"},children:d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:Pe.map(Ie=>d.jsxs("div",{className:`relative rounded-lg p-4 text-center cursor-pointer transition-all duration-200 hover:scale-[1.02] border ${Ie.stockInLocation===0?"bg-[#3a3a4a] border-[#5c5c6c] cursor-not-allowed opacity-60":"bg-[#1D1D27] border-[#3a3a4a] hover:bg-[#3a3a4a]"} ${Ie.unit==="kg"||Ie.unit==="gr"||Ie.unit==="lb"||Ie.unit==="oz"?"ring-2 ring-[#8A2BE2] ring-opacity-50":""}`,onClick:()=>{Ie.stockInLocation>0?Ie.unit==="kg"||Ie.unit==="gr"||Ie.unit==="lb"||Ie.unit==="oz"?m(Ie):s(Ie):alert(`No hay existencias disponibles para ${Ie.name}`)},children:[d.jsxs("div",{className:`absolute top-1 right-1 text-xs font-bold px-2 py-0.5 rounded-full ${Ie.stockInLocation===0?"bg-[#666666] text-white":Ie.stockInLocation<10?"bg-[#ff5252] text-white":Ie.stockInLocation<20?"bg-[#ffab00] text-[#1f1f1f]":"bg-[#00c853] text-white"}`,children:[Ie.stockInLocation," ",Ie.unit==="unidad"?"":Ie.unit||""]}),d.jsx("div",{className:"bg-[#3a3a4a] rounded-lg w-16 h-16 mx-auto mb-2 flex items-center justify-center",children:Ie.image?d.jsx("img",{src:Ie.image,alt:Ie.name,className:"w-full h-full object-contain rounded"}):d.jsx(Va,{className:"w-8 h-8 text-[#a0a0b0]"})}),d.jsx("p",{className:"text-xs font-semibold text-[#F0F0F0]",children:Ie.name}),d.jsxs("p",{className:"text-sm font-bold text-[#8A2BE2]",children:["$",Ie.price,Ie.unit==="kg"||Ie.unit==="gr"||Ie.unit==="lb"||Ie.unit==="oz"?`/${Ie.unit}`:""]}),Ie.unit!=="unidad"&&(Ie.unit==="kg"||Ie.unit==="gr"||Ie.unit==="lb"||Ie.unit==="oz")&&d.jsxs("p",{className:"text-xs text-[#a0a0b0] mt-1",children:["Por ",Ie.unit]})]},Ie.id))})}),d.jsxs(Ke,{className:"w-full mt-3 py-3 font-semibold flex items-center justify-center space-x-2 bg-[#8A2BE2] hover:bg-purple-700",onClick:()=>W(!0),children:[d.jsx(wo,{size:18}),d.jsx("span",{children:"Agregar Producto"})]})]}),u&&d.jsx(Tr,{isOpen:me,onClose:()=>ge(!1),title:"Opciones de Ticket",children:d.jsxs("div",{className:"p-4",children:[d.jsx(ZE,{saleDetails:u}),d.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[d.jsx(Ke,{onClick:Ee,className:"bg-blue-600 text-white hover:bg-blue-700",children:"Imprimir Ticket"}),d.jsx(Ke,{onClick:()=>{alert("Funcionalidad de guardar ticket no implementada an."),ge(!1)},className:"bg-green-600 text-white hover:bg-green-700",children:"Guardar Ticket"}),d.jsx(Ke,{onClick:()=>ge(!1),className:"bg-gray-300 hover:bg-gray-400",children:"Cerrar"})]})]})}),Xt&&d.jsx(Tr,{isOpen:D,onClose:()=>T(!1),title:"Registrar Consumo de Empleados",children:d.jsx(b$,{onClose:()=>T(!1)})}),d.jsx(Tr,{isOpen:H,onClose:()=>S(!1),title:"Editar Diseo de Ticket",children:d.jsx(_$,{onClose:()=>S(!1)})}),d.jsx(Tr,{isOpen:O,onClose:()=>j(!1),title:"Calculadora",children:d.jsx(C$,{onClose:()=>j(!1)})}),d.jsx(Tr,{isOpen:V,onClose:()=>ie(!1),title:"Aplicar Descuento",children:d.jsx(E$,{onClose:()=>ie(!1)})}),d.jsx(Tr,{isOpen:le,onClose:()=>ce(!1),title:"Aadir Nota a la Venta",children:d.jsx(S$,{onClose:()=>ce(!1)})}),d.jsx(Tr,{isOpen:J,onClose:()=>ae(!1),title:"Procesar Pago",children:d.jsx(I$,{onClose:()=>ae(!1),onPayment:at,total:gt})}),d.jsx(Tr,{isOpen:ve,onClose:()=>pe(!1),title:"Cierre de Caja",children:d.jsx(F$,{onClose:()=>pe(!1)})}),d.jsx(Tr,{isOpen:k,onClose:()=>W(!1),title:"Aadir Producto",children:d.jsx(wy,{onClose:()=>W(!1)})}),d.jsx(Tr,{isOpen:G,onClose:()=>Z(!1),title:"Ventas Anteriores",children:d.jsx(T$,{onClose:()=>Z(!1)})}),d.jsx(Tr,{isOpen:te,onClose:()=>oe(!1),title:"Agendar Visita de Proveedor",children:d.jsx(L$,{onClose:()=>oe(!1)})}),d.jsx(Tr,{isOpen:we,onClose:()=>Se(!1),title:"Retiro de Efectivo",children:d.jsx(O$,{onClose:()=>Se(!1)})}),d.jsx(Tr,{isOpen:Ue,onClose:()=>_e(!1),title:"Coleccin de Productos",children:d.jsx(k$,{onClose:()=>_e(!1)})}),d.jsx(R$,{isOpen:y,onClose:w,product:b,onAddToCart:Ie=>{x(b,Ie),w()}})]})}const j$=({batch:t,onClose:e})=>{const{products:r,stores:n,addInventoryBatch:i,updateInventoryBatch:a}=jt(),[o,s]=Y.useState({productId:"",locationId:"",quantity:0,cost:0,expirationDate:""});Y.useEffect(()=>{s(t?{productId:t.productId||"",locationId:t.locationId||"",quantity:t.quantity||0,cost:t.cost||0,expirationDate:t.expirationDate||""}:{productId:"",locationId:"",quantity:0,cost:0,expirationDate:""})},[t]);const A=c=>{const{name:u,value:h}=c.target;s(f=>({...f,[u]:u==="quantity"||u==="cost"?parseFloat(h)||0:h}))},l=async c=>{c.preventDefault();try{t?await a(t.id,o):await i(o),e()}catch(u){console.error("Error saving inventory batch:",u)}};return d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"productId",className:"block text-sm font-medium text-gray-700",children:"Producto"}),d.jsxs("select",{id:"productId",name:"productId",value:o.productId,onChange:A,required:!0,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md bg-white text-black",children:[d.jsx("option",{value:"",children:"Selecciona un producto"}),r.map(c=>d.jsx("option",{value:c.id,children:c.name},c.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-gray-700",children:"Ubicacin"}),d.jsxs("select",{id:"locationId",name:"locationId",value:o.locationId,onChange:A,required:!0,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md bg-white text-black",children:[d.jsx("option",{value:"",children:"Selecciona una ubicacin"}),n.map(c=>d.jsx("option",{value:c.id,children:c.name},c.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Cantidad"}),d.jsx(ar,{id:"quantity",name:"quantity",type:"number",value:o.quantity,onChange:A,required:!0,min:"0"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-700",children:"Costo por unidad"}),d.jsx(ar,{id:"cost",name:"cost",type:"number",value:o.cost,onChange:A,required:!0,min:"0",step:"0.01"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"expirationDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de Vencimiento (Opcional)"}),d.jsx(ar,{id:"expirationDate",name:"expirationDate",type:"date",value:o.expirationDate,onChange:A})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(Ke,{type:"button",onClick:e,className:"bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar"}),d.jsx(Ke,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:t?"Actualizar Lote":"Agregar Lote"})]})]})},qb=()=>{const{products:t,categories:e,inventoryBatches:r,stores:n,addToShoppingList:i,addInventoryBatch:a}=jt();Bl();const[o,s]=Y.useState(""),[A,l]=Y.useState("all"),[c,u]=Y.useState(!1),[h,f]=Y.useState(null),[g,y]=Y.useState(!1),[b,m]=Y.useState(null),x=r.map(U=>{var S;const D=t.find(O=>O.id===U.productId)||{},T=e.find(O=>O.id===D.categoryId)||{},H=n.find(O=>O.id===U.locationId)||{name:U.locationId};return{...U,productName:D.name||"Producto Desconocido",productCategory:T.name||"Sin Categora",productPrice:D.price||0,minStockThreshold:((S=D.minStockThreshold)==null?void 0:S[U.locationId])||0,locationName:H.name||U.locationId,productSku:D.sku||"",expirationDate:U.expirationDate||null}}).filter(U=>{const D=!o||U.productName.toLowerCase().includes(o.toLowerCase())||U.productSku.toLowerCase().includes(o.toLowerCase()),T=A==="all"||U.productCategory===A;return D&&T}),_={};x.forEach(U=>{const D=`${U.productId}-${U.locationId}`;_[D]||(_[D]={...U,totalQuantity:0,batches:[]}),_[D].totalQuantity+=U.quantity,_[D].batches.push(U)});const I=Object.values(_),L=[...new Set(t.map(U=>{var D;return(D=e.find(T=>T.id===U.categoryId))==null?void 0:D.name}).filter(Boolean))];return d.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Inventario por Lotes"}),d.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{m(null),y(!0)},children:[d.jsx(wo,{className:"w-4 h-4"}),d.jsx("span",{children:"Agregar Lote"})]})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Buscar productos o SKU...",value:o,onChange:U=>s(U.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg pl-10 pr-4 py-2 focus:border-[#8A2BE2] outline-none transition-colors"}),d.jsx(tu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-4 h-4"})]})}),d.jsxs("select",{value:A,onChange:U=>l(U.target.value),className:"bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",children:[d.jsx("option",{value:"all",className:"bg-[#282837] text-[#F0F0F0]",children:"Todas las categoras"}),L.map(U=>d.jsx("option",{value:U,className:"bg-[#282837] text-[#F0F0F0]",children:U},U))]})]}),d.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Producto"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Categora"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Stock"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Mnimo"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Ubicacin"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Vencimiento"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Costo Total"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Acciones"})]})}),d.jsx("tbody",{children:I.map(U=>d.jsxs("tr",{className:`border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors ${U.totalQuantity<=U.minStockThreshold?"bg-red-500 bg-opacity-10":""}`,children:[d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0] font-medium",children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{children:U.productName}),d.jsx("span",{className:"text-xs text-[#a0a0b0]",children:U.productSku})]})}),d.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:U.productCategory}),d.jsx("td",{className:"py-4 px-6",children:d.jsx("span",{className:`font-bold ${U.totalQuantity<=U.minStockThreshold?"text-red-500":U.totalQuantity<=U.minStockThreshold*1.5?"text-yellow-500":"text-green-500"}`,children:U.totalQuantity})}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:U.minStockThreshold}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:U.locationName}),d.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:U.expirationDate?new Date(U.expirationDate).toLocaleDateString():"N/A"}),d.jsxs("td",{className:"py-4 px-6 text-[#8A2BE2] font-bold",children:["$",(U.totalQuantity*U.cost).toFixed(2)]}),d.jsx("td",{className:"py-4 px-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{className:"p-2 text-[#a0a0b0] hover:text-[#8A2BE2] hover:bg-[#3a3a4a] rounded-lg transition-colors",children:d.jsx(Ap,{className:"w-4 h-4"})}),d.jsx("button",{className:"p-2 text-[#a0a0b0] hover:text-red-500 hover:bg-[#3a3a4a] rounded-lg transition-colors",children:d.jsx(vd,{className:"w-4 h-4"})})]})})]},`${U.productId}-${U.locationId}`))})]})})})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Gestin de Productos"}),d.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{f(null),u(!0)},children:[d.jsx(wo,{className:"w-4 h-4"}),d.jsx("span",{children:"Agregar Producto al Catlogo"})]}),d.jsx("p",{className:"text-[#a0a0b0] text-sm mt-2",children:"Para gestionar el catlogo de productos (qu vendes), use el mdulo de Productos."})]}),d.jsx(Tr,{isOpen:c,title:h?"Editar Producto":"Agregar Producto",onClose:()=>{u(!1),f(null)},children:d.jsx(wy,{product:h,onClose:()=>{u(!1),f(null)}})}),d.jsx(Tr,{isOpen:g,title:b?"Editar Lote de Inventario":"Agregar Lote de Inventario",onClose:()=>{y(!1),m(null)},children:d.jsx(j$,{batch:b,onClose:()=>{y(!1),m(null)}})})]})},Xb=()=>{const{products:t,categories:e,addProduct:r,updateProduct:n,deleteProduct:i}=jt(),a=Bl(),[o,s]=Y.useState(""),[A,l]=Y.useState("all"),[c,u]=Y.useState(!1),[h,f]=Y.useState(null),g=t.filter(b=>{var _,I;const m=!o||b.name.toLowerCase().includes(o.toLowerCase())||((_=b.sku)==null?void 0:_.toLowerCase().includes(o.toLowerCase()))||((I=b.barcode)==null?void 0:I.toLowerCase().includes(o.toLowerCase())),w=e.find(L=>L.id===b.categoryId),x=A==="all"||(w==null?void 0:w.name)===A;return m&&x}),y=[...new Set(e.map(b=>b.name).filter(Boolean))];return d.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Catlogo de Productos"}),d.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{f(null),u(!0)},children:[d.jsx(wo,{className:"w-4 h-4"}),d.jsx("span",{children:"Agregar Producto"})]})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Buscar productos, SKU o cdigo de barras...",value:o,onChange:b=>s(b.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg pl-10 pr-4 py-2 focus:border-[#8A2BE2] outline-none transition-colors"}),d.jsx(tu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-4 h-4"})]})}),d.jsxs("select",{value:A,onChange:b=>l(b.target.value),className:"bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",children:[d.jsx("option",{value:"all",className:"bg-[#282837] text-[#F0F0F0]",children:"Todas las categoras"}),y.map(b=>d.jsx("option",{value:b,className:"bg-[#282837] text-[#F0F0F0]",children:b},b))]})]}),d.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Producto"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Categora"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Precio"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Costo"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"SKU"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Cdigo de Barras"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Unidad"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Acciones"})]})}),d.jsx("tbody",{children:g.map(b=>{var w,x;const m=e.find(_=>_.id===b.categoryId)||{};return d.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0] font-medium",children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{children:b.name}),d.jsx("span",{className:"text-xs text-[#a0a0b0]",children:b.description||"Sin descripcin"})]})}),d.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:m.name||"Sin categora"}),d.jsxs("td",{className:"py-4 px-6 text-[#8A2BE2] font-bold",children:["$",((w=b.price)==null?void 0:w.toFixed(2))||"0.00"]}),d.jsxs("td",{className:"py-4 px-6 text-[#F0F0F0]",children:["$",((x=b.cost)==null?void 0:x.toFixed(2))||"0.00"]}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:b.sku||"N/A"}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:b.barcode||"N/A"}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:b.unit||"unidad"}),d.jsx("td",{className:"py-4 px-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{className:"p-2 text-[#a0a0b0] hover:text-[#8A2BE2] hover:bg-[#3a3a4a] rounded-lg transition-colors",children:d.jsx(Ap,{className:"w-4 h-4"})}),d.jsx("button",{className:"p-2 text-[#a0a0b0] hover:text-red-500 hover:bg-[#3a3a4a] rounded-lg transition-colors",onClick:()=>i(b.id),children:d.jsx(vd,{className:"w-4 h-4"})})]})})]},b.id)})})]})})})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Gestin de Inventario"}),d.jsx("p",{className:"text-[#a0a0b0] mb-2",children:"Para gestionar el stock real (cunto tienes y dnde est), use el mdulo de Inventario por Lotes."}),d.jsx("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",onClick:()=>{a("/inventory")},children:"Ir a Inventario por Lotes"})]}),d.jsx(Tr,{isOpen:c,title:h?"Editar Producto":"Agregar Producto",onClose:()=>{u(!1),f(null)},children:d.jsx(wy,{product:h,onClose:()=>{u(!1),f(null)}})})]})},M$=({className:t})=>{var g,y,b;const{salesReport:e,fetchSalesReport:r,currentUser:n}=jt(),[i,a]=Y.useState({startDate:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[o,s]=Y.useState("all"),[A,l]=Y.useState("daily");Y.useEffect(()=>{c()},[i,o,A]);const c=async()=>{try{await r({startDate:i.startDate,endDate:i.endDate,storeId:o==="all"?void 0:o,reportType:A})}catch(m){console.error("Error fetching sales report:",m)}},u=(m,w)=>{a(x=>({...x,[m]:w}))},h=()=>{c()},f=()=>{alert("Download functionality would be implemented here")};return d.jsxs("div",{className:`space-y-6 ${t}`,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Reporte de Ventas"}),d.jsx("p",{className:"text-gray-500",children:"Anlisis detallado de las ventas por perodo"})]}),d.jsxs(Ke,{onClick:f,children:[d.jsx(bU,{className:"mr-2 h-4 w-4"}),"Descargar Reporte"]})]}),d.jsx(Gl,{children:d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filtros de Reporte"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha Inicio"}),d.jsxs("div",{className:"relative",children:[d.jsx(ar,{id:"startDate",type:"date",value:i.startDate,onChange:m=>u("startDate",m.target.value),className:"pl-8 w-full"}),d.jsx(m1,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha Fin"}),d.jsxs("div",{className:"relative",children:[d.jsx(ar,{id:"endDate",type:"date",value:i.endDate,onChange:m=>u("endDate",m.target.value),className:"pl-8 w-full"}),d.jsx(m1,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"storeFilter",className:"block text-sm font-medium text-gray-700",children:"Sucursal"}),d.jsxs("select",{id:"storeFilter",value:o,onChange:m=>s(m.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[d.jsx("option",{value:"all",children:"Todas las sucursales"}),(g=n==null?void 0:n.assigned_stores)==null?void 0:g.map(m=>d.jsx("option",{value:m.id,children:m.name},m.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reportType",className:"block text-sm font-medium text-gray-700",children:"Agrupamiento"}),d.jsxs("select",{id:"reportType",value:A,onChange:m=>l(m.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[d.jsx("option",{value:"daily",children:"Diario"}),d.jsx("option",{value:"weekly",children:"Semanal"}),d.jsx("option",{value:"monthly",children:"Mensual"})]})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(Gl,{children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Ventas Totales"}),d.jsx(y1,{className:"h-4 w-4 text-gray-400"})]}),d.jsxs("div",{className:"text-2xl font-bold",children:["$",((y=e==null?void 0:e.totalSales)==null?void 0:y.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"]}),d.jsx("p",{className:"text-xs text-gray-500",children:e!=null&&e.dateRange?`Del ${e.dateRange.startDate} al ${e.dateRange.endDate}`:"No hay datos"})]})}),d.jsx(Gl,{children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Transacciones"}),d.jsx(Vc,{className:"h-4 w-4 text-gray-400"})]}),d.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalTransactions)||0}),d.jsx("p",{className:"text-xs text-gray-500",children:"Ventas totales"})]})}),d.jsx(Gl,{children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Ticket Promedio"}),d.jsx(Hw,{className:"h-4 w-4 text-gray-400"})]}),d.jsxs("div",{className:"text-2xl font-bold",children:["$",((b=e==null?void 0:e.avgTicket)==null?void 0:b.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"]}),d.jsx("p",{className:"text-xs text-gray-500",children:"Promedio por venta"})]})}),d.jsx(Gl,{children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Margen de Ganancia"}),d.jsx(cU,{className:"h-4 w-4 text-gray-400"})]}),d.jsx("div",{className:"text-2xl font-bold",children:e!=null&&e.profitMargin?`${e.profitMargin.toFixed(2)}%`:"0.00%"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Promedio"})]})})]}),d.jsx(Gl,{children:d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Detalles de Ventas"}),e!=null&&e.sales?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sucursal"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transacciones"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ventas"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Costo"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beneficio"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margen"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.sales.map((m,w)=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.date}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.store}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.transactions}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",m.salesAmount.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",m.costAmount.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",m.profitAmount.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[m.profitMargin,"%"]})]},w))})]})}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx(y1,{className:"h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-semibold",children:"No hay datos"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"No se encontraron datos de ventas para el rango de fechas seleccionado"}),d.jsx(Ke,{onClick:h,children:"Actualizar datos"})]})]})})]})},H$=({onClose:t})=>{const[e,r]=Y.useState([{id:1,text:"Hola! Soy tu asistente de reportes. En qu puedo ayudarte hoy? Puedo generar informes de ventas, inventario, productos ms vendidos, etc.",sender:"bot"}]),[n,i]=Y.useState(""),a=()=>{if(n.trim()){const o={id:e.length+1,text:n,sender:"user"},s=[...e,o];r(s),setTimeout(()=>{let A="";const l=n.toLowerCase();l.includes("ventas")||l.includes("venta")?A="Generando informe de ventas... Puedo mostrarte el resumen de ventas del da, semana o mes, productos ms vendidos, etc.":l.includes("inventario")||l.includes("producto")?A="Generando informe de inventario... Puedo mostrarte productos con bajo stock, productos ms vendidos, niveles de inventario actuales, etc.":l.includes("cliente")||l.includes("clientes")?A="Generando informe de clientes... Puedo mostrarte los clientes ms frecuentes, compras recientes, clientes con cuentas pendientes, etc.":A='Puedo ayudarte a generar reportes sobre ventas, inventario, clientes, proveedores y ms. Por ejemplo, puedes preguntarme por "ventas de hoy", "productos con bajo stock" o "mejores clientes".';const c={id:s.length+1,text:A,sender:"bot"};r(u=>[...u,c])},1e3),i("")}};return d.jsxs("div",{className:"flex flex-col h-[600px] bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:[d.jsxs("div",{className:"p-4 bg-[#1D1D27] border-b border-[#3a3a4a] flex items-center space-x-3",children:[d.jsx("div",{className:"bg-[#8A2BE2] p-2 rounded-lg",children:d.jsx(tU,{className:"w-5 h-5 text-white"})}),d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Asistente de Reportes"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:e.map(o=>d.jsx("div",{className:`flex ${o.sender==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${o.sender==="user"?"bg-[#8A2BE2] text-white rounded-br-none":"bg-[#3a3a4a] text-[#F0F0F0] rounded-bl-none"}`,children:d.jsx("p",{children:o.text})})},o.id))}),d.jsxs("div",{className:"p-4 border-t border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",value:n,onChange:o=>i(o.target.value),onKeyDown:o=>o.key==="Enter"&&a(),placeholder:"Escribe tu solicitud de reporte...",className:"flex-1 bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"}),d.jsx("button",{onClick:a,className:"bg-[#8A2BE2] text-white p-2 rounded-lg hover:bg-[#7a1bd2] flex items-center justify-center",children:d.jsx(JU,{className:"w-4 h-4"})})]}),d.jsx("p",{className:"text-xs text-[#a0a0b0] mt-2",children:'Ejemplos: "Ver ventas de hoy", "Productos con bajo stock", "Mejores clientes del mes"'})]})]})},Yb=()=>{const t=[{title:"Ventas Hoy",value:"$12,450",change:"+12.5%",icon:w1,iconColor:"text-green-500",bgColor:"bg-green-500 bg-opacity-20"},{title:"Pedidos",value:"142",change:"+8.2%",icon:Vc,iconColor:"text-blue-500",bgColor:"bg-blue-500 bg-opacity-20"},{title:"Clientes",value:"1,248",change:"+3.1%",icon:x1,iconColor:"text-purple-500",bgColor:"bg-purple-500 bg-opacity-20"},{title:"Inventario",value:"89%",change:"-2.3%",icon:Va,iconColor:"text-orange-500",bgColor:"bg-orange-500 bg-opacity-20"}],e=[{name:"Electrnicos",percentage:80},{name:"Ropa",percentage:65},{name:"Alimentos",percentage:50},{name:"Hogar",percentage:35}],r=[40,65,45,80,55,70,90,60,75,85,65,95],[n,i]=Y.useState(!1),[a,o]=Y.useState("analytics");return d.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Reportes y Anlisis"}),d.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>i(!0),children:[d.jsx(T_,{className:"w-4 h-4"}),d.jsx("span",{children:"Asistente de Reportes"})]})]}),d.jsxs("div",{className:"flex space-x-4 border-b border-[#3a3a4a]",children:[d.jsx("button",{className:`pb-2 px-1 ${a==="sales"?"text-[#8A2BE2] border-b-2 border-[#8A2BE2]":"text-[#a0a0b0]"}`,onClick:()=>o("sales"),children:"Reporte de Ventas"}),d.jsx("button",{className:`pb-2 px-1 ${a==="analytics"?"text-[#8A2BE2] border-b-2 border-[#8A2BE2]":"text-[#a0a0b0]"}`,onClick:()=>o("analytics"),children:"Anlisis"})]}),a==="sales"&&d.jsx(M$,{}),a==="analytics"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((s,A)=>{const l=s.icon;return d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-[#a0a0b0] font-medium",children:s.title}),d.jsx("div",{className:`w-10 h-10 ${s.bgColor} rounded-lg flex items-center justify-center`,children:d.jsx(l,{className:`w-5 h-5 ${s.iconColor}`})})]}),d.jsx("p",{className:"text-2xl font-bold text-[#F0F0F0]",children:s.value}),d.jsxs("p",{className:`text-sm flex items-center ${s.change.startsWith("+")?"text-green-500":"text-red-500"}`,children:[s.change.startsWith("+")?d.jsx(y1,{className:"w-3 h-3 mr-1"}):d.jsx(O_,{className:"w-3 h-3 mr-1"}),s.change," vs ayer"]})]},A)})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Ventas por Categora"}),d.jsx("div",{className:"space-y-4",children:e.map((s,A)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[#F0F0F0]",children:s.name}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-24 h-2 bg-[#3a3a4a] rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-[#8A2BE2] rounded-full",style:{width:`${s.percentage}%`}})}),d.jsxs("span",{className:"text-[#8A2BE2] font-bold w-12 text-right",children:[s.percentage,"%"]})]})]},A))})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Tendencia de Ventas"}),d.jsx("div",{className:"h-64 flex items-end space-x-2 justify-center",children:r.map((s,A)=>d.jsx("div",{className:"bg-gradient-to-t from-[#8A2BE2] to-purple-500 rounded-t w-6 transition-all hover:opacity-80",style:{height:`${s}%`}},A))})]})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Resumen de Ventas Recientes"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[d.jsx("th",{className:"py-3 px-4 text-left text-[#a0a0b0] text-sm font-semibold",children:"Fecha"}),d.jsx("th",{className:"py-3 px-4 text-left text-[#a0a0b0] text-sm font-semibold",children:"Cliente"}),d.jsx("th",{className:"py-3 px-4 text-left text-[#a0a0b0] text-sm font-semibold",children:"Productos"}),d.jsx("th",{className:"py-3 px-4 text-right text-[#a0a0b0] text-sm font-semibold",children:"Total"}),d.jsx("th",{className:"py-3 px-4 text-right text-[#a0a0b0] text-sm font-semibold",children:"Mtodo"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[d.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"2024-01-15"}),d.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"Mara Gonzlez"}),d.jsx("td",{className:"py-3 px-4 text-[#a0a0b0]",children:"3 artculos"}),d.jsx("td",{className:"py-3 px-4 text-right text-[#8A2BE2] font-bold",children:"$245.50"}),d.jsx("td",{className:"py-3 px-4 text-right text-[#F0F0F0]",children:"Efectivo"})]}),d.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[d.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"2024-01-14"}),d.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"Juan Prez"}),d.jsx("td",{className:"py-3 px-4 text-[#a0a0b0]",children:"5 artculos"}),d.jsx("td",{className:"py-3 px-4 text-right text-[#8A2BE2] font-bold",children:"$890.00"}),d.jsx("td",{className:"py-3 px-4 text-right text-[#F0F0F0]",children:"Tarjeta"})]}),d.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[d.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"2024-01-13"}),d.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"Ana Rodrguez"}),d.jsx("td",{className:"py-3 px-4 text-[#a0a0b0]",children:"2 artculos"}),d.jsx("td",{className:"py-3 px-4 text-right text-[#8A2BE2] font-bold",children:"$156.75"}),d.jsx("td",{className:"py-3 px-4 text-right text-[#F0F0F0]",children:"Efectivo"})]})]})]})})]})]}),d.jsx(Tr,{isOpen:n,onClose:()=>i(!1),title:"",children:d.jsx(H$,{onClose:()=>i(!1)})})]})},K$=({user:t,onClose:e,onSuccess:r})=>{const{addUser:n,updateUser:i,stores:a}=jt(),[o,s]=Y.useState({name:"",email:"",password:"",role:"cajera",storeId:""});Y.useEffect(()=>{s(t?{name:t.name||"",email:t.email||"",password:"",role:t.role||"cajera",storeId:t.storeId||""}:{name:"",email:"",password:"",role:"cajera",storeId:""})},[t]);const A=c=>{const{name:u,value:h}=c.target;s(f=>({...f,[u]:h}))},l=async c=>{c.preventDefault();const u={...o};(!t&&o.password||t&&o.password)&&(u.password=o.password);try{t?await i(t.id,u):await n(u),r&&r(),e()}catch(h){console.error("Error saving user:",h),alert("Error al guardar el usuario: "+h.message)}};return d.jsxs("div",{className:"p-6 bg-[#282837] rounded-xl border border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:t?"Editar Usuario":"Agregar Usuario"}),d.jsx("button",{onClick:e,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:d.jsx(yo,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Nombre *"}),d.jsx("input",{type:"text",name:"name",value:o.name,onChange:A,required:!0,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Email *"}),d.jsx("input",{type:"email",name:"email",value:o.email,onChange:A,required:!0,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:t?"Nueva Contrasea (opcional)":"Contrasea *"}),d.jsx("input",{type:"password",name:"password",value:o.password,onChange:A,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",placeholder:t?"Dejar vaco para mantener contrasea actual":"Contrasea del usuario"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Rol *"}),d.jsxs("select",{name:"role",value:o.role,onChange:A,required:!0,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[d.jsx("option",{value:"cajera",children:"Cajera"}),d.jsx("option",{value:"gerente",children:"Gerente"}),d.jsx("option",{value:"admin",children:"Administrador"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Tienda"}),d.jsxs("select",{name:"storeId",value:o.storeId,onChange:A,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[d.jsx("option",{value:"",children:"Selecciona una tienda"}),a.map(c=>d.jsx("option",{value:c.id,children:c.name},c.id))]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"bg-[#3a3a4a] text-[#F0F0F0] hover:bg-[#4a4a5a] py-2 px-4 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"bg-[#8A2BE2] text-white hover:bg-[#7a1bd2] py-2 px-4 rounded-lg",children:t?"Actualizar Usuario":"Agregar Usuario"})]})]})]})},Jb=()=>{const{users:t,addUser:e,updateUser:r,deleteUser:n,stores:i,loadUsers:a}=jt(),[o,s]=Y.useState(!1),[A,l]=Y.useState(null);return Y.useEffect(()=>{a()},[a]),d.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Gestin de Usuarios"}),d.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{l(null),s(!0)},children:[d.jsx(wo,{className:"w-4 h-4"}),d.jsx("span",{children:"Nuevo Usuario"})]})]}),d.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Nombre"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Email"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Rol"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Tienda"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Acciones"})]})}),d.jsx("tbody",{children:t.map(c=>{var u;return d.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[d.jsx("td",{className:"py-4 px-6",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-[#8A2BE2] rounded-full flex items-center justify-center",children:d.jsx(td,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"text-[#F0F0F0] font-medium",children:c.name})]})}),d.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:c.email}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:c.role}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:((u=i.find(h=>h.id===c.storeId))==null?void 0:u.name)||c.storeId}),d.jsx("td",{className:"py-4 px-6",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>{l(c),s(!0)},className:"p-2 text-[#a0a0b0] hover:text-[#8A2BE2] hover:bg-[#3a3a4a] rounded-lg transition-colors",children:d.jsx(Ap,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>n(c.id),className:"p-2 text-[#a0a0b0] hover:text-red-500 hover:bg-[#3a3a4a] rounded-lg transition-colors",children:d.jsx(vd,{className:"w-4 h-4"})})]})})]},c.id)})})]})})}),d.jsx(Tr,{isOpen:o,title:A?"Editar Usuario":"Nuevo Usuario",onClose:()=>{s(!1),l(null)},children:d.jsx(K$,{user:A,stores:i,onClose:()=>{s(!1),l(null)}})})]})},V$=({onClose:t,currentUser:e})=>{const{products:r,stores:n,createTransferRequest:i}=jt(),[a,o]=Y.useState([]),[s,A]=Y.useState({destinationStoreId:"",comment:""}),l=g=>{a.some(y=>y.id===g.id)||o([...a,{...g,quantity:1}])},c=g=>{o(a.filter(y=>y.id!==g))},u=(g,y)=>{o(a.map(b=>b.id===g?{...b,quantity:parseInt(y)||1}:b))},h=()=>{if(a.length===0){alert("Debe seleccionar al menos un producto");return}if(!s.destinationStoreId){alert("Debe seleccionar una tienda de destino");return}const g=a.map(y=>({productId:y.id,productName:y.name,requestedQuantity:y.quantity}));i({items:g}),t()},f=n.filter(g=>g.id!==(e==null?void 0:e.storeId));return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"destinationStoreId",className:"block text-sm font-medium text-gray-700",children:"Tienda de Destino"}),d.jsxs("select",{id:"destinationStoreId",name:"destinationStoreId",value:s.destinationStoreId,onChange:g=>A({...s,destinationStoreId:g.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md bg-white text-black",children:[d.jsx("option",{value:"",children:"Selecciona una tienda"}),f.map(g=>d.jsx("option",{value:g.id,children:g.name},g.id))]})]}),d.jsxs("div",{className:"border-t border-gray-300 pt-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Buscar Producto"}),d.jsx("div",{className:"relative mb-4",children:d.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full bg-white text-black border border-gray-300 rounded-lg pl-4 pr-4 py-2 focus:border-indigo-500 focus:outline-none",onChange:g=>{}})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Productos Disponibles"}),d.jsx("div",{className:"max-h-40 overflow-y-auto border rounded p-2",children:r.slice(0,5).map(g=>d.jsxs("div",{className:"flex justify-between items-center p-2 border-b",children:[d.jsx("span",{children:g.name}),d.jsx("button",{onClick:()=>l(g),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm",children:"Agregar"})]},g.id))})]}),d.jsxs("div",{className:"border-t border-gray-300 pt-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Productos para Traslado"}),a.length===0?d.jsx("p",{className:"text-gray-500",children:"No hay productos seleccionados"}):d.jsx("div",{className:"space-y-2",children:a.map(g=>d.jsxs("div",{className:"flex justify-between items-center bg-gray-100 p-2 rounded",children:[d.jsx("span",{children:g.name}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"number",min:"1",value:g.quantity,onChange:y=>u(g.id,y.target.value),className:"w-16 px-2 py-1 border rounded text-black"}),d.jsx("button",{onClick:()=>c(g.id),className:"bg-red-500 text-white px-2 py-1 rounded text-sm",children:"Eliminar"})]})]},g.id))})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(Ke,{type:"button",onClick:t,className:"bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar"}),d.jsx(Ke,{type:"button",onClick:h,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Crear Solicitud"})]})]})},Zb=()=>{const{currentUser:t}=jt(),[e,r]=Y.useState(!1),n=[{id:1,origin:"Sucursal Central",destination:"Sucursal Norte",products:5,amount:"$2,450",time:"Hace 2 horas"},{id:2,origin:"Sucursal Central",destination:"Sucursal Sur",products:3,amount:"$1,200",time:"Hace 5 horas"},{id:3,origin:"Bodega",destination:"Sucursal Central",products:8,amount:"$3,680",time:"Hace 1 da"}],i=[{id:4,origin:"Sucursal Sur",destination:"Sucursal Central",products:3,amount:"$1,200",time:"Hace 1 da"},{id:5,origin:"Bodega",destination:"Sucursal Norte",products:6,amount:"$2,100",time:"Hace 2 das"}];return d.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"rdenes de Traslado"}),d.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>r(!0),children:[d.jsx(wo,{className:"w-4 h-4"}),d.jsx("span",{children:"Crear Solicitud"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsxs("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4 flex items-center space-x-2",children:[d.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),d.jsx("span",{children:"Traslados por Enviar"})]}),d.jsx("div",{className:"space-y-4",children:n.map(a=>d.jsxs("div",{className:"bg-[#1D1D27] rounded-lg p-4 border border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("span",{className:"text-[#F0F0F0] font-medium",children:["TR-",String(a.id).padStart(4,"0")]}),d.jsx("span",{className:"text-[#a0a0b0] text-sm",children:a.time})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-[#F0F0F0]",children:[a.origin,"  ",a.destination]}),d.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:[a.products," productos"]})]}),d.jsx("span",{className:"text-yellow-500 font-bold",children:a.amount})]}),d.jsx("button",{className:"w-full bg-[#8A2BE2] hover:bg-purple-700 text-white py-2 rounded-lg transition-colors",children:"Preparar Envo"})]},a.id))})]}),d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[d.jsxs("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4 flex items-center space-x-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),d.jsx("span",{children:"Traslados por Recibir"})]}),d.jsx("div",{className:"space-y-4",children:i.map(a=>d.jsxs("div",{className:"bg-[#1D1D27] rounded-lg p-4 border border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("span",{className:"text-[#F0F0F0] font-medium",children:["TR-",String(a.id).padStart(4,"0")]}),d.jsx("span",{className:"text-[#a0a0b0] text-sm",children:a.time})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-[#F0F0F0]",children:[a.origin,"  ",a.destination]}),d.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:[a.products," productos"]})]}),d.jsx("span",{className:"text-green-500 font-bold",children:a.amount})]}),d.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg transition-colors",children:"Confirmar Recepcin"})]},a.id))})]})]}),d.jsx(Tr,{isOpen:e,title:"Crear Solicitud de Traslado",onClose:()=>r(!1),children:d.jsx(V$,{onClose:()=>r(!1),currentUser:t})})]})},G$=({onClose:t})=>{const{categories:e,addCategory:r,updateCategory:n,deleteCategory:i}=jt(),[a,o]=Y.useState({name:"",parentId:""}),[s,A]=Y.useState(null),[l,c]=Y.useState(new Set),u=e.reduce((m,w)=>(w.parentId||(m[w.id]={...w,subcategories:[]}),m),{});e.forEach(m=>{m.parentId&&u[m.parentId]&&u[m.parentId].subcategories.push(m)});const h=async m=>{m.preventDefault(),a.name.trim()&&(await r({name:a.name,parentId:a.parentId||null}),o({name:"",parentId:""}))},f=async m=>{m.preventDefault(),s&&s.name.trim()&&(await n(s.id,{name:s.name}),A(null))},g=async m=>{window.confirm("Ests seguro de que quieres eliminar esta categora? Esto tambin eliminar sus subcategoras.")&&await i(m)},y=m=>{c(w=>{const x=new Set(w);return x.has(m)?x.delete(m):x.add(m),x})},b=(m,w=0)=>{const x=m.subcategories&&m.subcategories.length>0,_=l.has(m.id);return d.jsxs("div",{className:"ml-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-[#3a3a4a]",children:[d.jsxs("div",{className:"flex-1 flex items-center",children:[x&&d.jsx("button",{onClick:()=>y(m.id),className:"mr-2 text-[#a0a0b0] hover:text-[#F0F0F0]",children:_?d.jsx(dU,{size:16}):d.jsx(pU,{size:16})}),!x&&d.jsx("div",{className:"w-6 mr-2"})," ",(s==null?void 0:s.id)===m.id?d.jsxs("form",{onSubmit:f,className:"flex-1 flex space-x-2",children:[d.jsx("input",{type:"text",value:s.name,onChange:I=>A({...s,name:I.target.value}),className:"flex-1 bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded px-2 py-1 focus:border-[#8A2BE2] outline-none",autoFocus:!0}),d.jsx("button",{type:"submit",className:"bg-[#8A2BE2] text-white px-2 py-1 rounded hover:bg-[#7a1bd2]",children:"Guardar"}),d.jsx("button",{type:"button",onClick:()=>A(null),className:"bg-[#3a3a4a] text-[#F0F0F0] px-2 py-1 rounded hover:bg-[#4a4a5a]",children:"Cancelar"})]}):d.jsx("span",{className:"text-[#F0F0F0]",children:m.name})]}),(s==null?void 0:s.id)!==m.id&&d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>A(m),className:"text-[#a0a0b0] hover:text-[#8A2BE2]",children:d.jsx(Ap,{size:16})}),d.jsx("button",{onClick:()=>g(m.id),className:"text-[#a0a0b0] hover:text-red-500",children:d.jsx(vd,{size:16})})]})]}),x&&_&&d.jsx("div",{className:"ml-6",children:m.subcategories.map(I=>b(I,w+1))})]},m.id)};return d.jsxs("div",{className:"p-6 bg-[#282837] rounded-xl border border-[#3a3a4a] max-h-[80vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Gestin de Categoras"}),d.jsx("button",{onClick:t,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:d.jsx(yo,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"mb-6",children:d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Nombre de la Categora"}),d.jsx("input",{type:"text",value:a.name,onChange:m=>o({...a,name:m.target.value}),placeholder:"Nombre de la categora",required:!0,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Categora Padre (Opcional)"}),d.jsxs("select",{value:a.parentId,onChange:m=>o({...a,parentId:m.target.value||""}),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[d.jsx("option",{value:"",children:"Categora Principal"}),e.filter(m=>!m.parentId).map(m=>d.jsx("option",{value:m.id,children:m.name},m.id))]})]}),d.jsxs("button",{type:"submit",className:"w-full bg-[#8A2BE2] text-white py-2 px-4 rounded-lg hover:bg-[#7a1bd2] flex items-center justify-center space-x-2",children:[d.jsx(wo,{size:18}),d.jsx("span",{children:"Agregar Categora"})]})]})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Categoras Existentes"}),Object.values(u).map(m=>b(m))]})]})},e3=()=>{Bl();const[t,e]=Y.useState("store"),[r,n]=Y.useState(!1),[i,a]=Y.useState([{id:1,name:"Impresora Principal",model:"EPSON TM-T20",enabled:!0},{id:2,name:"Impresora de Etiquetas",model:"ZEBRA GK420D",enabled:!1}]),[o,s]=Y.useState([{id:1,name:"Acceso a Reportes",enabled:!0},{id:2,name:"Gestin de Inventario",enabled:!0},{id:3,name:"Configuracin del Sistema",enabled:!1},{id:4,name:"Gestin de Usuarios",enabled:!1}]),A=c=>{a(i.map(u=>u.id===c?{...u,enabled:!u.enabled}:u))},l=c=>{s(o.map(u=>u.id===c?{...u,enabled:!u.enabled}:u))};return d.jsxs("div",{className:"flex-1 p-6 bg-[#1D1D27]",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0] mb-6",children:"Configuracin"}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[d.jsx("div",{className:"lg:w-64",children:d.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-4",children:d.jsx("nav",{className:"space-y-2",children:[{id:"store",name:"Configuracin de Tienda",icon:w5},{id:"printer",name:"Impresoras",icon:L_},{id:"categories",name:"Categoras",icon:w5},{id:"permissions",name:"Permisos",icon:rT}].map(c=>{const u=c.icon;return d.jsxs("button",{onClick:()=>e(c.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${t===c.id?"text-[#8A2BE2] bg-[#3a3a4a]":"text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a]"}`,children:[d.jsx(u,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:c.name})]},c.id)})})})}),d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-6",children:[t==="store"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Configuracin de Tienda"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Nombre de la Tienda"}),d.jsx("input",{type:"text",defaultValue:"RACOM POS Central",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Direccin"}),d.jsx("input",{type:"text",defaultValue:"Av. Principal 123",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Telfono"}),d.jsx("input",{type:"text",defaultValue:"+1 234 567 890",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[#F0F0F0]",children:"Modo Activo"}),d.jsx("button",{className:"text-[#8A2BE2]",children:d.jsx(Og,{className:"w-6 h-6"})})]})]})]}),t==="printer"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Configuracin de Impresoras"}),d.jsx("div",{className:"space-y-4",children:i.map(c=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1D1D27] rounded-lg border border-[#3a3a4a]",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-[#F0F0F0] font-medium",children:c.name}),d.jsx("p",{className:"text-[#a0a0b0] text-sm",children:c.model})]}),d.jsx("button",{onClick:()=>A(c.id),className:c.enabled?"text-[#8A2BE2]":"text-[#a0a0b0]",children:c.enabled?d.jsx(Og,{className:"w-6 h-6"}):d.jsx(y5,{className:"w-6 h-6"})})]},c.id))})]}),t==="categories"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Gestin de Categoras"}),d.jsxs("div",{className:"bg-[#1D1D27] rounded-lg p-4 border border-[#3a3a4a]",children:[d.jsx("p",{className:"text-[#a0a0b0] mb-4",children:"Aqu puedes gestionar las categoras y subcategoras de productos para organizar tu inventario."}),d.jsx("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",onClick:()=>n(!0),children:"Gestin de Categoras"})]})]}),t==="permissions"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Permisos de Usuarios"}),d.jsx("div",{className:"space-y-4",children:o.map(c=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1D1D27] rounded-lg border border-[#3a3a4a]",children:[d.jsx("span",{className:"text-[#F0F0F0]",children:c.name}),d.jsx("button",{onClick:()=>l(c.id),className:c.enabled?"text-[#8A2BE2]":"text-[#a0a0b0]",children:c.enabled?d.jsx(Og,{className:"w-6 h-6"}):d.jsx(y5,{className:"w-6 h-6"})})]},c.id))})]}),d.jsx("div",{className:"mt-8 pt-6 border-t border-[#3a3a4a]",children:d.jsx("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Guardar Cambios"})})]})})]}),d.jsx(Tr,{isOpen:r,title:"Gestin de Categoras",onClose:()=>n(!1),children:d.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:d.jsx(G$,{onClose:()=>n(!1)})})})]})},$$=()=>{const t=Bl();return d.jsx("div",{className:"min-h-screen bg-[#1D1D27] flex items-center justify-center p-4",children:d.jsxs("div",{className:"text-center max-w-md",children:[d.jsx("div",{className:"w-16 h-16 bg-red-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(U_,{className:"w-8 h-8 text-red-500"})}),d.jsx("h1",{className:"text-2xl font-bold text-[#F0F0F0] mb-2",children:"Acceso Denegado"}),d.jsx("p",{className:"text-[#a0a0b0] mb-6",children:"No tienes permiso para ver esta pgina. Contacta al administrador si crees que esto es un error."}),d.jsxs("button",{onClick:()=>t(-1),className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center space-x-2 mx-auto",children:[d.jsx(Y7,{className:"w-4 h-4"}),d.jsx("span",{children:"Volver"})]})]})})},hn=({children:t,roles:e})=>{const{currentUser:r}=jt();return r?e&&!e.includes(r.role)?d.jsx(v1,{to:"/unauthorized"}):t:d.jsx(v1,{to:"/login"})},pn=({children:t})=>{const[e,r]=Y.useState(!1),[n,i]=Y.useState(!1),a=As(),{currentUser:o,logout:s}=jt(),l=(()=>{const f=a.pathname.split("/").filter(Boolean);return f[0]==="admin"&&f[1]?f[1]:f[0]||"pos"})(),c=[{id:"pos",name:"Punto de Venta",icon:Vc,path:"/pos/1"},{id:"products",name:"Productos",icon:Va,path:"/products"},{id:"inventory",name:"Inventario",icon:Va,path:"/inventory"},{id:"reports",name:"Reportes",icon:w1,path:"/reports"},{id:"expenses",name:"Gastos",icon:D_,path:"/expenses"},{id:"transfers",name:"Traslados",icon:k_,path:"/transfers"},{id:"clients",name:"Clientes",icon:x1,path:"/clients"},{id:"users",name:"Usuarios",icon:td,path:"/users"},{id:"settings",name:"Configuracin",icon:eT,path:"/settings"}],u=[{id:1,message:"Nuevo pedido recibido",time:"Hace 5 min",unread:!0},{id:2,message:"Inventario bajo en producto X",time:"Hace 1 hora",unread:!0},{id:3,message:"Traslado completado",time:"Hace 2 horas",unread:!1},{id:4,message:"Nuevo cliente registrado",time:"Hace 1 da",unread:!1}],h=()=>d.jsxs("header",{className:"bg-[#282837] border-b border-[#3a3a4a] sticky top-0 z-50",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[d.jsxs("div",{className:"flex items-center space-x-8",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:"/src/utils/logopos.png",alt:"Logo RACOM POS",className:"w-8 h-8 object-contain"}),d.jsx("span",{className:"text-xl font-bold text-[#F0F0F0]",children:"RACOM POS"})]}),d.jsx("nav",{className:"hidden md:flex space-x-6",children:c.map(f=>{const g=f.icon;return d.jsxs(ed,{to:f.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${l===f.id?"text-[#8A2BE2] bg-[#3a3a4a]":"text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a]"}`,children:[d.jsx(g,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:f.name})]},f.id)})})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"hidden md:flex items-center bg-[#1D1D27] rounded-lg px-3 py-2",children:[d.jsx(tu,{className:"w-4 h-4 text-[#a0a0b0] mr-2"}),d.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent text-[#F0F0F0] placeholder-[#a0a0b0] outline-none w-32"})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{className:"relative p-2 text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a] rounded-lg transition-colors",onClick:()=>i(!n),children:[d.jsx(Z7,{className:"w-5 h-5"}),d.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#8A2BE2] rounded-full"})]}),n&&d.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-[#282837] rounded-xl border border-[#3a3a4a] shadow-xl z-50",children:[d.jsx("div",{className:"p-4 border-b border-[#3a3a4a]",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-[#F0F0F0] font-bold",children:"Notificaciones"}),d.jsx("button",{className:"text-[#a0a0b0] hover:text-[#8A2BE2] text-sm",children:"Marcar todo como ledo"})]})}),d.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.map(f=>d.jsx("div",{className:`p-4 border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors ${f.unread?"bg-[#1D1D27]":""}`,children:d.jsxs("div",{className:"flex items-start space-x-3",children:[f.unread&&d.jsx("div",{className:"w-2 h-2 bg-[#8A2BE2] rounded-full mt-2"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-[#F0F0F0] text-sm",children:f.message}),d.jsx("p",{className:"text-[#a0a0b0] text-xs mt-1",children:f.time})]})]})},f.id))})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-[#8A2BE2] rounded-full flex items-center justify-center",children:d.jsx(td,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"hidden md:block text-[#F0F0F0] font-medium",children:(o==null?void 0:o.name)||"Usuario"})]}),d.jsx("button",{className:"md:hidden p-2 text-[#a0a0b0] hover:text-[#F0F0F0]",children:e?d.jsx(yo,{className:"w-5 h-5",onClick:()=>r(!1)}):d.jsx(kU,{className:"w-5 h-5",onClick:()=>r(!0)})})]})]}),e&&d.jsx("div",{className:"md:hidden bg-[#282837] border-t border-[#3a3a4a]",children:d.jsxs("div",{className:"px-4 py-2 space-y-1",children:[c.map(f=>{const g=f.icon;return d.jsxs(ed,{to:f.path,onClick:()=>r(!1),className:`flex items-center space-x-3 w-full px-3 py-3 rounded-lg transition-all duration-200 ${l===f.id?"text-[#8A2BE2] bg-[#3a3a4a]":"text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a]"}`,children:[d.jsx(g,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:f.name})]},f.id)}),d.jsxs("button",{onClick:s,className:"flex items-center space-x-3 w-full px-3 py-3 rounded-lg transition-all duration-200 text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a]",children:[d.jsx(FU,{className:"w-4 h-4"}),d.jsx("span",{children:"Cerrar Sesin"})]})]})})]});return d.jsxs("div",{className:"min-h-screen bg-[#1D1D27] text-[#F0F0F0]",children:[d.jsx(h,{}),d.jsx("div",{className:"flex",children:d.jsx("main",{className:"flex-1",children:t})})]})},W$=({client:t,onClose:e})=>{const{addClient:r,updateClient:n}=jt(),[i,a]=Y.useState({name:"",email:"",phone:"",address:"",creditLimit:0});Y.useEffect(()=>{a(t?{name:t.name||"",email:t.email||"",phone:t.phone||"",address:t.address||"",creditLimit:t.creditLimit||0}:{name:"",email:"",phone:"",address:"",creditLimit:0})},[t]);const o=A=>{const{name:l,value:c}=A.target;a(u=>({...u,[l]:c}))},s=async A=>{A.preventDefault();try{t?await n(t.id,i):await r(i),e()}catch(l){console.error("Error saving client:",l)}};return d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),d.jsx(ar,{id:"name",name:"name",type:"text",value:i.name,onChange:o,required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx(ar,{id:"email",name:"email",type:"email",value:i.email,onChange:o})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telfono"}),d.jsx(ar,{id:"phone",name:"phone",type:"tel",value:i.phone,onChange:o})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Direccin"}),d.jsx(ar,{id:"address",name:"address",type:"text",value:i.address,onChange:o})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"creditLimit",className:"block text-sm font-medium text-gray-700",children:"Lmite de Crdito"}),d.jsx(ar,{id:"creditLimit",name:"creditLimit",type:"number",value:i.creditLimit,onChange:o,min:"0"})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(Ke,{type:"button",onClick:e,className:"bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar"}),d.jsx(Ke,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:t?"Actualizar Cliente":"Agregar Cliente"})]})]})},t3=()=>{const{addClient:t}=jt(),[e,r]=Y.useState(!1),[n,i]=Y.useState(null),a=[{id:1,name:"Mara Gonzlez",email:"maria@email.com",phone:"+1 234 567 890",lastPurchase:"2024-01-15",total:"$2,450"},{id:2,name:"Juan Prez",email:"juan@email.com",phone:"+1 234 567 891",lastPurchase:"2024-01-14",total:"$1,890"},{id:3,name:"Ana Rodrguez",email:"ana@email.com",phone:"+1 234 567 892",lastPurchase:"2024-01-13",total:"$3,200"},{id:4,name:"Carlos Lpez",email:"carlos@email.com",phone:"+1 234 567 893",lastPurchase:"2024-01-12",total:"$950"},{id:5,name:"Laura Martnez",email:"laura@email.com",phone:"+1 234 567 894",lastPurchase:"2024-01-11",total:"$4,100"}];return d.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Gestin de Clientes"}),d.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{i(null),r(!0)},children:[d.jsx(wo,{className:"w-4 h-4"}),d.jsx("span",{children:"Nuevo Cliente"})]})]}),d.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Cliente"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Email"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Telfono"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"ltima Compra"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Total Gastado"})]})}),d.jsx("tbody",{children:a.map(o=>d.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[d.jsx("td",{className:"py-4 px-6",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-[#8A2BE2] rounded-full flex items-center justify-center",children:d.jsx(td,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"text-[#F0F0F0] font-medium",children:o.name})]})}),d.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:o.email}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:o.phone}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:o.lastPurchase}),d.jsx("td",{className:"py-4 px-6 text-[#8A2BE2] font-bold",children:o.total})]},o.id))})]})})}),d.jsx(Tr,{isOpen:e,title:n?"Editar Cliente":"Nuevo Cliente",onClose:()=>{r(!1),i(null)},children:d.jsx(W$,{client:n,onClose:()=>{r(!1),i(null)}})})]})},r3=()=>{const[t,e]=Y.useState(!1),r=[{id:1,date:"2024-01-15",desc:"Compra de suministros",category:"Oficina",amount:"$245.50",status:"Aprobado"},{id:2,date:"2024-01-14",desc:"Mantenimiento de equipos",category:"Tecnologa",amount:"$890.00",status:"Pendiente"},{id:3,date:"2024-01-13",desc:"Servicios de limpieza",category:"Servicios",amount:"$156.75",status:"Aprobado"},{id:4,date:"2024-01-12",desc:"Combustible vehicular",category:"Transporte",amount:"$89.20",status:"Rechazado"},{id:5,date:"2024-01-11",desc:"Reparacin de mobiliario",category:"Mantenimiento",amount:"$345.00",status:"Aprobado"}],[n,i]=Y.useState([{id:1,item:"Papel de impresora",quantity:1},{id:2,item:"Tinta para impresora",quantity:2},{id:3,item:"Bateras AA",quantity:5},{id:4,item:"Cables USB",quantity:3}]),a=()=>{i([...n,{id:n.length+1,item:"",quantity:1}])},o=(A,l,c)=>{i(n.map(u=>u.id===A?{...u,[l]:c}:u))},s=A=>{i(n.filter(l=>l.id!==A))};return d.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Gastos Miscelneos"}),d.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>e(!0),children:[d.jsx(wo,{className:"w-4 h-4"}),d.jsx("span",{children:"Lista de Compras"})]})]}),d.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Fecha"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Descripcin"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Categora"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Monto"}),d.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Estado"})]})}),d.jsx("tbody",{children:r.map((A,l)=>d.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:A.date}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:A.desc}),d.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:A.category}),d.jsx("td",{className:"py-4 px-6 text-[#F0F0F0] font-bold",children:A.amount}),d.jsx("td",{className:"py-4 px-6",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A.status==="Aprobado"?"bg-green-500 bg-opacity-20 text-green-500":A.status==="Pendiente"?"bg-yellow-500 bg-opacity-20 text-yellow-500":"bg-red-500 bg-opacity-20 text-red-500"}`,children:A.status})})]},A.id))})]})})}),t&&d.jsx("div",{className:"fixed inset-0 bg-[#222230] bg-opacity-80 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a] w-full max-w-md",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Lista de Compras"}),d.jsx("button",{onClick:()=>e(!1),className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:d.jsx(yo,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"space-y-4 mb-6",children:[n.map(A=>d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"text",value:A.item,onChange:l=>o(A.id,"item",l.target.value),placeholder:"Nombre del artculo",className:"flex-1 bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"}),d.jsx("input",{type:"number",value:A.quantity,onChange:l=>o(A.id,"quantity",parseInt(l.target.value)),min:"1",className:"w-16 bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-2 py-2 focus:border-[#8A2BE2] outline-none transition-colors text-center"}),d.jsx("button",{onClick:()=>s(A.id),className:"text-red-500 hover:text-red-400 p-1",children:d.jsx(yo,{className:"w-4 h-4"})})]},A.id)),d.jsxs("button",{className:"w-full bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] py-2 rounded-lg border border-[#3a3a4a] transition-colors flex items-center justify-center space-x-2",onClick:a,children:[d.jsx(wo,{className:"w-4 h-4"}),d.jsx("span",{children:"Agregar Artculo"})]})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{className:"flex-1 bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] py-2 rounded-lg border border-[#3a3a4a] transition-colors",onClick:()=>e(!1),children:"Cerrar"}),d.jsx("button",{className:"flex-1 bg-[#8A2BE2] hover:bg-purple-700 text-white py-2 rounded-lg transition-colors",children:"Generar Gastos"})]})]})})]})},z$=()=>d.jsx(k7,{children:d.jsxs(f7,{children:[d.jsx(Ir,{path:"/",element:d.jsx(v1,{to:"/login"})}),d.jsx(Ir,{path:"/login",element:d.jsx(vk,{})}),d.jsx(Ir,{path:"/unauthorized",element:d.jsx($$,{})}),d.jsx(Ir,{path:"/pos/:storeId",element:d.jsx(hn,{roles:["cajera","gerente","admin"],children:d.jsx(pn,{activeModule:"pos",children:d.jsx(zb,{})})})}),d.jsx(Ir,{path:"/reports",element:d.jsx(hn,{roles:["gerente","admin"],children:d.jsx(pn,{activeModule:"reports",children:d.jsx(Yb,{})})})}),d.jsx(Ir,{path:"/transfers",element:d.jsx(hn,{roles:["gerente","admin"],children:d.jsx(pn,{activeModule:"transfers",children:d.jsx(Zb,{})})})}),d.jsx(Ir,{path:"/expenses",element:d.jsx(hn,{roles:["gerente","admin"],children:d.jsx(pn,{activeModule:"expenses",children:d.jsx(r3,{})})})}),d.jsx(Ir,{path:"/users",element:d.jsx(hn,{roles:["admin"],children:d.jsx(pn,{activeModule:"users",children:d.jsx(Jb,{})})})}),d.jsx(Ir,{path:"/clients",element:d.jsx(hn,{roles:["gerente","admin"],children:d.jsx(pn,{activeModule:"clients",children:d.jsx(t3,{})})})}),d.jsx(Ir,{path:"/settings",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"settings",children:d.jsx(e3,{})})})}),d.jsx(Ir,{path:"/inventory",element:d.jsx(hn,{roles:["gerente","admin"],children:d.jsx(pn,{activeModule:"inventory",children:d.jsx(qb,{})})})}),d.jsx(Ir,{path:"/products",element:d.jsx(hn,{roles:["gerente","admin"],children:d.jsx(pn,{activeModule:"products",children:d.jsx(Xb,{})})})}),d.jsxs(Ir,{path:"/admin",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{children:d.jsx(mk,{})})}),children:[d.jsx(Ir,{index:!0,element:d.jsx(v1,{to:"pos"})}),d.jsx(Ir,{path:"pos",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"pos",children:d.jsx(zb,{})})})}),d.jsx(Ir,{path:"products",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"products",children:d.jsx(Xb,{})})})}),d.jsx(Ir,{path:"inventory",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"inventory",children:d.jsx(qb,{})})})}),d.jsx(Ir,{path:"reports",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"reports",children:d.jsx(Yb,{})})})}),d.jsx(Ir,{path:"users",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"users",children:d.jsx(Jb,{})})})}),d.jsx(Ir,{path:"transfers",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"transfers",children:d.jsx(Zb,{})})})}),d.jsx(Ir,{path:"expenses",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"expenses",children:d.jsx(r3,{})})})}),d.jsx(Ir,{path:"settings",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"settings",children:d.jsx(e3,{})})})}),d.jsx(Ir,{path:"clients",element:d.jsx(hn,{roles:["admin","gerente"],children:d.jsx(pn,{activeModule:"clients",children:d.jsx(t3,{})})})})]})]})}),q$=()=>{const{initialize:t,darkMode:e,initNetworkListeners:r,syncPendingOperations:n,isOnline:i}=jt();return Y.useEffect(()=>{t(),r()},[t,r]),Y.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),Y.useEffect(()=>{const a=()=>{console.log("App is now online, syncing pending operations..."),n()};return window.addEventListener("online",a),()=>{window.removeEventListener("online",a)}},[n]),d.jsx("div",{className:"min-h-screen w-full bg-[#1D1D27]",children:d.jsx("div",{className:"flex flex-col h-screen",children:d.jsx(z$,{})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("Service Worker registered with scope:",t.scope)}).catch(t=>{console.log("Service Worker registration failed:",t)})});Q2.createRoot(document.getElementById("root")).render(d.jsx(Ac.StrictMode,{children:d.jsx(q$,{})}));export{tr as _,q6 as c,X6 as g};
