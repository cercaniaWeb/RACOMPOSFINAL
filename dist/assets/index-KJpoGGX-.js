var FF=Object.defineProperty;var NF=(t,e,r)=>e in t?FF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Cr=(t,e,r)=>NF(t,typeof e!="symbol"?e+"":e,r);function TF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var UF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function G4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var z4={exports:{}},Gp={},W4={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=Symbol.for("react.element"),OF=Symbol.for("react.portal"),LF=Symbol.for("react.fragment"),kF=Symbol.for("react.strict_mode"),PF=Symbol.for("react.profiler"),DF=Symbol.for("react.provider"),RF=Symbol.for("react.context"),QF=Symbol.for("react.forward_ref"),jF=Symbol.for("react.suspense"),MF=Symbol.for("react.memo"),HF=Symbol.for("react.lazy"),Px=Symbol.iterator;function KF(t){return t===null||typeof t!="object"?null:(t=Px&&t[Px]||t["@@iterator"],typeof t=="function"?t:null)}var q4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X4=Object.assign,Y4={};function Cf(t,e,r){this.props=t,this.context=e,this.refs=Y4,this.updater=r||q4}Cf.prototype.isReactComponent={};Cf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J4(){}J4.prototype=Cf.prototype;function Oy(t,e,r){this.props=t,this.context=e,this.refs=Y4,this.updater=r||q4}var Ly=Oy.prototype=new J4;Ly.constructor=Oy;X4(Ly,Cf.prototype);Ly.isPureReactComponent=!0;var Dx=Array.isArray,Z4=Object.prototype.hasOwnProperty,ky={current:null},e3={key:!0,ref:!0,__self:!0,__source:!0};function t3(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)Z4.call(e,n)&&!e3.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Sh,type:t,key:a,ref:s,props:i,_owner:ky.current}}function VF(t,e){return{$$typeof:Sh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Py(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sh}function $F(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Rx=/\/+/g;function Hg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$F(""+t.key):e.toString(36)}function f1(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Sh:case OF:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Hg(s,0):n,Dx(i)?(r="",t!=null&&(r=t.replace(Rx,"$&/")+"/"),f1(i,e,r,"",function(l){return l})):i!=null&&(Py(i)&&(i=VF(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Rx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Dx(t))for(var o=0;o<t.length;o++){a=t[o];var A=n+Hg(a,o);s+=f1(a,e,r,A,i)}else if(A=KF(t),typeof A=="function")for(t=A.call(t),o=0;!(a=t.next()).done;)a=a.value,A=n+Hg(a,o++),s+=f1(a,e,r,A,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Zh(t,e,r){if(t==null)return t;var n=[],i=0;return f1(t,n,"","",function(a){return e.call(r,a,i++)}),n}function GF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zi={current:null},d1={transition:null},zF={ReactCurrentDispatcher:Zi,ReactCurrentBatchConfig:d1,ReactCurrentOwner:ky};function r3(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:Zh,forEach:function(t,e,r){Zh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Zh(t,function(){e++}),e},toArray:function(t){return Zh(t,function(e){return e})||[]},only:function(t){if(!Py(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=Cf;Wt.Fragment=LF;Wt.Profiler=PF;Wt.PureComponent=Oy;Wt.StrictMode=kF;Wt.Suspense=jF;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zF;Wt.act=r3;Wt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=X4({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=ky.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(A in e)Z4.call(e,A)&&!e3.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:Sh,type:t.type,key:i,ref:a,props:n,_owner:s}};Wt.createContext=function(t){return t={$$typeof:RF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DF,_context:t},t.Consumer=t};Wt.createElement=t3;Wt.createFactory=function(t){var e=t3.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:QF,render:t}};Wt.isValidElement=Py;Wt.lazy=function(t){return{$$typeof:HF,_payload:{_status:-1,_result:t},_init:GF}};Wt.memo=function(t,e){return{$$typeof:MF,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=d1.transition;d1.transition={};try{t()}finally{d1.transition=e}};Wt.unstable_act=r3;Wt.useCallback=function(t,e){return Zi.current.useCallback(t,e)};Wt.useContext=function(t){return Zi.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return Zi.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return Zi.current.useEffect(t,e)};Wt.useId=function(){return Zi.current.useId()};Wt.useImperativeHandle=function(t,e,r){return Zi.current.useImperativeHandle(t,e,r)};Wt.useInsertionEffect=function(t,e){return Zi.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return Zi.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return Zi.current.useMemo(t,e)};Wt.useReducer=function(t,e,r){return Zi.current.useReducer(t,e,r)};Wt.useRef=function(t){return Zi.current.useRef(t)};Wt.useState=function(t){return Zi.current.useState(t)};Wt.useSyncExternalStore=function(t,e,r){return Zi.current.useSyncExternalStore(t,e,r)};Wt.useTransition=function(){return Zi.current.useTransition()};Wt.version="18.3.1";W4.exports=Wt;var X=W4.exports;const Lu=Uy(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WF=X,qF=Symbol.for("react.element"),XF=Symbol.for("react.fragment"),YF=Object.prototype.hasOwnProperty,JF=WF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZF={key:!0,ref:!0,__self:!0,__source:!0};function n3(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)YF.call(e,n)&&!ZF.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:qF,type:t,key:a,ref:s,props:i,_owner:JF.current}}Gp.Fragment=XF;Gp.jsx=n3;Gp.jsxs=n3;z4.exports=Gp;var f=z4.exports,b2={},i3={exports:{}},Ma={},a3={exports:{}},s3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,ce){var Ce=te.length;te.push(ce);e:for(;0<Ce;){var be=Ce-1>>>1,P=te[be];if(0<i(P,ce))te[be]=ce,te[Ce]=P,Ce=be;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ce=te[0],Ce=te.pop();if(Ce!==ce){te[0]=Ce;e:for(var be=0,P=te.length,H=P>>>1;be<H;){var z=2*(be+1)-1,ne=te[z],oe=z+1,he=te[oe];if(0>i(ne,Ce))oe<P&&0>i(he,ne)?(te[be]=he,te[oe]=Ce,be=oe):(te[be]=ne,te[z]=Ce,be=z);else if(oe<P&&0>i(he,Ce))te[be]=he,te[oe]=Ce,be=oe;else break e}}return ce}function i(te,ce){var Ce=te.sortIndex-ce.sortIndex;return Ce!==0?Ce:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var A=[],l=[],c=1,u=null,h=3,d=!1,g=!1,y=!1,B=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(te){for(var ce=r(l);ce!==null;){if(ce.callback===null)n(l);else if(ce.startTime<=te)n(l),ce.sortIndex=ce.expirationTime,e(A,ce);else break;ce=r(l)}}function _(te){if(y=!1,x(te),!g)if(r(A)!==null)g=!0,fe(F);else{var ce=r(l);ce!==null&&de(_,ce.startTime-te)}}function F(te,ce){g=!1,y&&(y=!1,v(D),D=-1),d=!0;var Ce=h;try{for(x(ce),u=r(A);u!==null&&(!(u.expirationTime>ce)||te&&!T());){var be=u.callback;if(typeof be=="function"){u.callback=null,h=u.priorityLevel;var P=be(u.expirationTime<=ce);ce=t.unstable_now(),typeof P=="function"?u.callback=P:u===r(A)&&n(A),x(ce)}else n(A);u=r(A)}if(u!==null)var H=!0;else{var z=r(l);z!==null&&de(_,z.startTime-ce),H=!1}return H}finally{u=null,h=Ce,d=!1}}var N=!1,R=null,D=-1,k=5,V=-1;function T(){return!(t.unstable_now()-V<k)}function O(){if(R!==null){var te=t.unstable_now();V=te;var ce=!0;try{ce=R(!0,te)}finally{ce?K():(N=!1,R=null)}}else N=!1}var K;if(typeof w=="function")K=function(){w(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ie=q.port2;q.port1.onmessage=O,K=function(){ie.postMessage(null)}}else K=function(){B(O,0)};function fe(te){R=te,N||(N=!0,K())}function de(te,ce){D=B(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,fe(F))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(te){switch(h){case 1:case 2:case 3:var ce=3;break;default:ce=h}var Ce=h;h=ce;try{return te()}finally{h=Ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Ce=h;h=te;try{return ce()}finally{h=Ce}},t.unstable_scheduleCallback=function(te,ce,Ce){var be=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?be+Ce:be):Ce=be,te){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Ce+P,te={id:c++,callback:ce,priorityLevel:te,startTime:Ce,expirationTime:P,sortIndex:-1},Ce>be?(te.sortIndex=Ce,e(l,te),r(A)===null&&te===r(l)&&(y?(v(D),D=-1):y=!0,de(_,Ce-be))):(te.sortIndex=P,e(A,te),g||d||(g=!0,fe(F))),te},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(te){var ce=h;return function(){var Ce=h;h=ce;try{return te.apply(this,arguments)}finally{h=Ce}}}})(s3);a3.exports=s3;var eN=a3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN=X,ja=eN;function Ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o3=new Set,Zd={};function jc(t,e){ff(t,e),ff(t+"Capture",e)}function ff(t,e){for(Zd[t]=e,t=0;t<e.length;t++)o3.add(e[t])}var uA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B2=Object.prototype.hasOwnProperty,rN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qx={},jx={};function nN(t){return B2.call(jx,t)?!0:B2.call(Qx,t)?!1:rN.test(t)?jx[t]=!0:(Qx[t]=!0,!1)}function iN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aN(t,e,r,n){if(e===null||typeof e>"u"||iN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ea(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bi[t]=new ea(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bi[e]=new ea(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bi[t]=new ea(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bi[t]=new ea(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bi[t]=new ea(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bi[t]=new ea(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bi[t]=new ea(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bi[t]=new ea(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bi[t]=new ea(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dy=/[\-:]([a-z])/g;function Ry(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dy,Ry);bi[e]=new ea(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dy,Ry);bi[e]=new ea(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dy,Ry);bi[e]=new ea(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bi[t]=new ea(t,1,!1,t.toLowerCase(),null,!1,!1)});bi.xlinkHref=new ea("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bi[t]=new ea(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qy(t,e,r,n){var i=bi.hasOwnProperty(e)?bi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aN(e,r,i,n)&&(r=null),n||i===null?nN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vA=tN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,e0=Symbol.for("react.element"),ku=Symbol.for("react.portal"),Pu=Symbol.for("react.fragment"),jy=Symbol.for("react.strict_mode"),C2=Symbol.for("react.profiler"),A3=Symbol.for("react.provider"),l3=Symbol.for("react.context"),My=Symbol.for("react.forward_ref"),_2=Symbol.for("react.suspense"),E2=Symbol.for("react.suspense_list"),Hy=Symbol.for("react.memo"),ZA=Symbol.for("react.lazy"),c3=Symbol.for("react.offscreen"),Mx=Symbol.iterator;function Zf(t){return t===null||typeof t!="object"?null:(t=Mx&&t[Mx]||t["@@iterator"],typeof t=="function"?t:null)}var dn=Object.assign,Kg;function vd(t){if(Kg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Kg=e&&e[1]||""}return`
`+Kg+t}var Vg=!1;function $g(t,e){if(!t||Vg)return"";Vg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var A=`
`+i[s].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=s&&0<=o);break}}}finally{Vg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?vd(t):""}function sN(t){switch(t.tag){case 5:return vd(t.type);case 16:return vd("Lazy");case 13:return vd("Suspense");case 19:return vd("SuspenseList");case 0:case 2:case 15:return t=$g(t.type,!1),t;case 11:return t=$g(t.type.render,!1),t;case 1:return t=$g(t.type,!0),t;default:return""}}function S2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pu:return"Fragment";case ku:return"Portal";case C2:return"Profiler";case jy:return"StrictMode";case _2:return"Suspense";case E2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l3:return(t.displayName||"Context")+".Consumer";case A3:return(t._context.displayName||"Context")+".Provider";case My:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hy:return e=t.displayName||null,e!==null?e:S2(t.type)||"Memo";case ZA:e=t._payload,t=t._init;try{return S2(t(e))}catch{}}return null}function oN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S2(e);case 8:return e===jy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AN(t){var e=u3(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function t0(t){t._valueTracker||(t._valueTracker=AN(t))}function f3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=u3(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function G1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I2(t,e){var r=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Cl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d3(t,e){e=e.checked,e!=null&&Qy(t,"checked",e,!1)}function F2(t,e){d3(t,e);var r=Cl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N2(t,e.type,r):e.hasOwnProperty("defaultValue")&&N2(t,e.type,Cl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function N2(t,e,r){(e!=="number"||G1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var md=Array.isArray;function Ju(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Cl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function T2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ke(92));if(md(r)){if(1<r.length)throw Error(Ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Cl(r)}}function h3(t,e){var r=Cl(e.value),n=Cl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function $x(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function p3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?p3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var r0,g3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(r0=r0||document.createElement("div"),r0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=r0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lN=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(t){lN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ld[e]=Ld[t]})});function v3(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ld.hasOwnProperty(t)&&Ld[t]?(""+e).trim():e+"px"}function m3(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=v3(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var cN=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O2(t,e){if(e){if(cN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function L2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k2=null;function Ky(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var P2=null,Zu=null,ef=null;function Gx(t){if(t=Nh(t)){if(typeof P2!="function")throw Error(Ke(280));var e=t.stateNode;e&&(e=Yp(e),P2(t.stateNode,t.type,e))}}function y3(t){Zu?ef?ef.push(t):ef=[t]:Zu=t}function w3(){if(Zu){var t=Zu,e=ef;if(ef=Zu=null,Gx(t),e)for(t=0;t<e.length;t++)Gx(e[t])}}function x3(t,e){return t(e)}function b3(){}var Gg=!1;function B3(t,e,r){if(Gg)return t(e,r);Gg=!0;try{return x3(t,e,r)}finally{Gg=!1,(Zu!==null||ef!==null)&&(b3(),w3())}}function th(t,e){var r=t.stateNode;if(r===null)return null;var n=Yp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ke(231,e,typeof r));return r}var D2=!1;if(uA)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){D2=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{D2=!1}function uN(t,e,r,n,i,a,s,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var kd=!1,z1=null,W1=!1,R2=null,fN={onError:function(t){kd=!0,z1=t}};function dN(t,e,r,n,i,a,s,o,A){kd=!1,z1=null,uN.apply(fN,arguments)}function hN(t,e,r,n,i,a,s,o,A){if(dN.apply(this,arguments),kd){if(kd){var l=z1;kd=!1,z1=null}else throw Error(Ke(198));W1||(W1=!0,R2=l)}}function Mc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function C3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zx(t){if(Mc(t)!==t)throw Error(Ke(188))}function pN(t){var e=t.alternate;if(!e){if(e=Mc(t),e===null)throw Error(Ke(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return zx(i),t;if(a===n)return zx(i),e;a=a.sibling}throw Error(Ke(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Ke(189))}}if(r.alternate!==n)throw Error(Ke(190))}if(r.tag!==3)throw Error(Ke(188));return r.stateNode.current===r?t:e}function _3(t){return t=pN(t),t!==null?E3(t):null}function E3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E3(t);if(e!==null)return e;t=t.sibling}return null}var S3=ja.unstable_scheduleCallback,Wx=ja.unstable_cancelCallback,gN=ja.unstable_shouldYield,vN=ja.unstable_requestPaint,In=ja.unstable_now,mN=ja.unstable_getCurrentPriorityLevel,Vy=ja.unstable_ImmediatePriority,I3=ja.unstable_UserBlockingPriority,q1=ja.unstable_NormalPriority,yN=ja.unstable_LowPriority,F3=ja.unstable_IdlePriority,zp=null,vo=null;function wN(t){if(vo&&typeof vo.onCommitFiberRoot=="function")try{vo.onCommitFiberRoot(zp,t,void 0,(t.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:BN,xN=Math.log,bN=Math.LN2;function BN(t){return t>>>=0,t===0?32:31-(xN(t)/bN|0)|0}var n0=64,i0=4194304;function yd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function X1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=yd(o):(a&=s,a!==0&&(n=yd(a)))}else s=r&~i,s!==0?n=yd(s):a!==0&&(n=yd(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ps(e),i=1<<r,n|=t[r],e&=~i;return n}function CN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _N(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Ps(a),o=1<<s,A=i[s];A===-1?(!(o&r)||o&n)&&(i[s]=CN(o,e)):A<=e&&(t.expiredLanes|=o),a&=~o}}function Q2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N3(){var t=n0;return n0<<=1,!(n0&4194240)&&(n0=64),t}function zg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ih(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ps(e),t[e]=r}function EN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ps(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function $y(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ps(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ir=0;function T3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U3,Gy,O3,L3,k3,j2=!1,a0=[],fl=null,dl=null,hl=null,rh=new Map,nh=new Map,nl=[],SN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qx(t,e){switch(t){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":rh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(e.pointerId)}}function td(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Nh(e),e!==null&&Gy(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IN(t,e,r,n,i){switch(e){case"focusin":return fl=td(fl,t,e,r,n,i),!0;case"dragenter":return dl=td(dl,t,e,r,n,i),!0;case"mouseover":return hl=td(hl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return rh.set(a,td(rh.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,nh.set(a,td(nh.get(a)||null,t,e,r,n,i)),!0}return!1}function P3(t){var e=wc(t.target);if(e!==null){var r=Mc(e);if(r!==null){if(e=r.tag,e===13){if(e=C3(r),e!==null){t.blockedOn=e,k3(t.priority,function(){O3(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function h1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=M2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);k2=n,r.target.dispatchEvent(n),k2=null}else return e=Nh(r),e!==null&&Gy(e),t.blockedOn=r,!1;e.shift()}return!0}function Xx(t,e,r){h1(t)&&r.delete(e)}function FN(){j2=!1,fl!==null&&h1(fl)&&(fl=null),dl!==null&&h1(dl)&&(dl=null),hl!==null&&h1(hl)&&(hl=null),rh.forEach(Xx),nh.forEach(Xx)}function rd(t,e){t.blockedOn===e&&(t.blockedOn=null,j2||(j2=!0,ja.unstable_scheduleCallback(ja.unstable_NormalPriority,FN)))}function ih(t){function e(i){return rd(i,t)}if(0<a0.length){rd(a0[0],t);for(var r=1;r<a0.length;r++){var n=a0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(fl!==null&&rd(fl,t),dl!==null&&rd(dl,t),hl!==null&&rd(hl,t),rh.forEach(e),nh.forEach(e),r=0;r<nl.length;r++)n=nl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<nl.length&&(r=nl[0],r.blockedOn===null);)P3(r),r.blockedOn===null&&nl.shift()}var tf=vA.ReactCurrentBatchConfig,Y1=!0;function NN(t,e,r,n){var i=Ir,a=tf.transition;tf.transition=null;try{Ir=1,zy(t,e,r,n)}finally{Ir=i,tf.transition=a}}function TN(t,e,r,n){var i=Ir,a=tf.transition;tf.transition=null;try{Ir=4,zy(t,e,r,n)}finally{Ir=i,tf.transition=a}}function zy(t,e,r,n){if(Y1){var i=M2(t,e,r,n);if(i===null)nv(t,e,n,J1,r),qx(t,n);else if(IN(i,t,e,r,n))n.stopPropagation();else if(qx(t,n),e&4&&-1<SN.indexOf(t)){for(;i!==null;){var a=Nh(i);if(a!==null&&U3(a),a=M2(t,e,r,n),a===null&&nv(t,e,n,J1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else nv(t,e,n,null,r)}}var J1=null;function M2(t,e,r,n){if(J1=null,t=Ky(n),t=wc(t),t!==null)if(e=Mc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=C3(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return J1=t,null}function D3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mN()){case Vy:return 1;case I3:return 4;case q1:case yN:return 16;case F3:return 536870912;default:return 16}default:return 16}}var sl=null,Wy=null,p1=null;function R3(){if(p1)return p1;var t,e=Wy,r=e.length,n,i="value"in sl?sl.value:sl.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return p1=i.slice(t,1<n?1-n:void 0)}function g1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function s0(){return!0}function Yx(){return!1}function Ha(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?s0:Yx,this.isPropagationStopped=Yx,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=s0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=s0)},persist:function(){},isPersistent:s0}),e}var _f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qy=Ha(_f),Fh=dn({},_f,{view:0,detail:0}),UN=Ha(Fh),Wg,qg,nd,Wp=dn({},Fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nd&&(nd&&t.type==="mousemove"?(Wg=t.screenX-nd.screenX,qg=t.screenY-nd.screenY):qg=Wg=0,nd=t),Wg)},movementY:function(t){return"movementY"in t?t.movementY:qg}}),Jx=Ha(Wp),ON=dn({},Wp,{dataTransfer:0}),LN=Ha(ON),kN=dn({},Fh,{relatedTarget:0}),Xg=Ha(kN),PN=dn({},_f,{animationName:0,elapsedTime:0,pseudoElement:0}),DN=Ha(PN),RN=dn({},_f,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QN=Ha(RN),jN=dn({},_f,{data:0}),Zx=Ha(jN),MN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KN[t])?!!e[t]:!1}function Xy(){return VN}var $N=dn({},Fh,{key:function(t){if(t.key){var e=MN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=g1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xy,charCode:function(t){return t.type==="keypress"?g1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?g1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GN=Ha($N),zN=dn({},Wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eb=Ha(zN),WN=dn({},Fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xy}),qN=Ha(WN),XN=dn({},_f,{propertyName:0,elapsedTime:0,pseudoElement:0}),YN=Ha(XN),JN=dn({},Wp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZN=Ha(JN),eT=[9,13,27,32],Yy=uA&&"CompositionEvent"in window,Pd=null;uA&&"documentMode"in document&&(Pd=document.documentMode);var tT=uA&&"TextEvent"in window&&!Pd,Q3=uA&&(!Yy||Pd&&8<Pd&&11>=Pd),tb=" ",rb=!1;function j3(t,e){switch(t){case"keyup":return eT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Du=!1;function rT(t,e){switch(t){case"compositionend":return M3(e);case"keypress":return e.which!==32?null:(rb=!0,tb);case"textInput":return t=e.data,t===tb&&rb?null:t;default:return null}}function nT(t,e){if(Du)return t==="compositionend"||!Yy&&j3(t,e)?(t=R3(),p1=Wy=sl=null,Du=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Q3&&e.locale!=="ko"?null:e.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iT[t.type]:e==="textarea"}function H3(t,e,r,n){y3(n),e=Z1(e,"onChange"),0<e.length&&(r=new qy("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Dd=null,ah=null;function aT(t){Z3(t,0)}function qp(t){var e=ju(t);if(f3(e))return t}function sT(t,e){if(t==="change")return e}var K3=!1;if(uA){var Yg;if(uA){var Jg="oninput"in document;if(!Jg){var ib=document.createElement("div");ib.setAttribute("oninput","return;"),Jg=typeof ib.oninput=="function"}Yg=Jg}else Yg=!1;K3=Yg&&(!document.documentMode||9<document.documentMode)}function ab(){Dd&&(Dd.detachEvent("onpropertychange",V3),ah=Dd=null)}function V3(t){if(t.propertyName==="value"&&qp(ah)){var e=[];H3(e,ah,t,Ky(t)),B3(aT,e)}}function oT(t,e,r){t==="focusin"?(ab(),Dd=e,ah=r,Dd.attachEvent("onpropertychange",V3)):t==="focusout"&&ab()}function AT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qp(ah)}function lT(t,e){if(t==="click")return qp(e)}function cT(t,e){if(t==="input"||t==="change")return qp(e)}function uT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qs=typeof Object.is=="function"?Object.is:uT;function sh(t,e){if(Qs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!B2.call(e,i)||!Qs(t[i],e[i]))return!1}return!0}function sb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ob(t,e){var r=sb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sb(r)}}function $3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G3(){for(var t=window,e=G1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=G1(t.document)}return e}function Jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fT(t){var e=G3(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&$3(r.ownerDocument.documentElement,r)){if(n!==null&&Jy(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=ob(r,a);var s=ob(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dT=uA&&"documentMode"in document&&11>=document.documentMode,Ru=null,H2=null,Rd=null,K2=!1;function Ab(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;K2||Ru==null||Ru!==G1(n)||(n=Ru,"selectionStart"in n&&Jy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rd&&sh(Rd,n)||(Rd=n,n=Z1(H2,"onSelect"),0<n.length&&(e=new qy("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ru)))}function o0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qu={animationend:o0("Animation","AnimationEnd"),animationiteration:o0("Animation","AnimationIteration"),animationstart:o0("Animation","AnimationStart"),transitionend:o0("Transition","TransitionEnd")},Zg={},z3={};uA&&(z3=document.createElement("div").style,"AnimationEvent"in window||(delete Qu.animationend.animation,delete Qu.animationiteration.animation,delete Qu.animationstart.animation),"TransitionEvent"in window||delete Qu.transitionend.transition);function Xp(t){if(Zg[t])return Zg[t];if(!Qu[t])return t;var e=Qu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in z3)return Zg[t]=e[r];return t}var W3=Xp("animationend"),q3=Xp("animationiteration"),X3=Xp("animationstart"),Y3=Xp("transitionend"),J3=new Map,lb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Il(t,e){J3.set(t,e),jc(e,[t])}for(var ev=0;ev<lb.length;ev++){var tv=lb[ev],hT=tv.toLowerCase(),pT=tv[0].toUpperCase()+tv.slice(1);Il(hT,"on"+pT)}Il(W3,"onAnimationEnd");Il(q3,"onAnimationIteration");Il(X3,"onAnimationStart");Il("dblclick","onDoubleClick");Il("focusin","onFocus");Il("focusout","onBlur");Il(Y3,"onTransitionEnd");ff("onMouseEnter",["mouseout","mouseover"]);ff("onMouseLeave",["mouseout","mouseover"]);ff("onPointerEnter",["pointerout","pointerover"]);ff("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gT=new Set("cancel close invalid load scroll toggle".split(" ").concat(wd));function cb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,hN(n,e,void 0,t),t.currentTarget=null}function Z3(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==a&&i.isPropagationStopped())break e;cb(i,o,l),a=A}else for(s=0;s<n.length;s++){if(o=n[s],A=o.instance,l=o.currentTarget,o=o.listener,A!==a&&i.isPropagationStopped())break e;cb(i,o,l),a=A}}}if(W1)throw t=R2,W1=!1,R2=null,t}function Gr(t,e){var r=e[W2];r===void 0&&(r=e[W2]=new Set);var n=t+"__bubble";r.has(n)||(e_(e,t,2,!1),r.add(n))}function rv(t,e,r){var n=0;e&&(n|=4),e_(r,t,n,e)}var A0="_reactListening"+Math.random().toString(36).slice(2);function oh(t){if(!t[A0]){t[A0]=!0,o3.forEach(function(r){r!=="selectionchange"&&(gT.has(r)||rv(r,!1,t),rv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[A0]||(e[A0]=!0,rv("selectionchange",!1,e))}}function e_(t,e,r,n){switch(D3(e)){case 1:var i=NN;break;case 4:i=TN;break;default:i=zy}r=i.bind(null,e,r,t),i=void 0,!D2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function nv(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var A=s.tag;if((A===3||A===4)&&(A=s.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;s=s.return}for(;o!==null;){if(s=wc(o),s===null)return;if(A=s.tag,A===5||A===6){n=a=s;continue e}o=o.parentNode}}n=n.return}B3(function(){var l=a,c=Ky(r),u=[];e:{var h=J3.get(t);if(h!==void 0){var d=qy,g=t;switch(t){case"keypress":if(g1(r)===0)break e;case"keydown":case"keyup":d=GN;break;case"focusin":g="focus",d=Xg;break;case"focusout":g="blur",d=Xg;break;case"beforeblur":case"afterblur":d=Xg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Jx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=LN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=qN;break;case W3:case q3:case X3:d=DN;break;case Y3:d=YN;break;case"scroll":d=UN;break;case"wheel":d=ZN;break;case"copy":case"cut":case"paste":d=QN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=eb}var y=(e&4)!==0,B=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var w=l,x;w!==null;){x=w;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,v!==null&&(_=th(w,v),_!=null&&y.push(Ah(w,_,x)))),B)break;w=w.return}0<y.length&&(h=new d(h,g,null,r,c),u.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&r!==k2&&(g=r.relatedTarget||r.fromElement)&&(wc(g)||g[fA]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(g=r.relatedTarget||r.toElement,d=l,g=g?wc(g):null,g!==null&&(B=Mc(g),g!==B||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=l),d!==g)){if(y=Jx,_="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=eb,_="onPointerLeave",v="onPointerEnter",w="pointer"),B=d==null?h:ju(d),x=g==null?h:ju(g),h=new y(_,w+"leave",d,r,c),h.target=B,h.relatedTarget=x,_=null,wc(c)===l&&(y=new y(v,w+"enter",g,r,c),y.target=x,y.relatedTarget=B,_=y),B=_,d&&g)t:{for(y=d,v=g,w=0,x=y;x;x=uu(x))w++;for(x=0,_=v;_;_=uu(_))x++;for(;0<w-x;)y=uu(y),w--;for(;0<x-w;)v=uu(v),x--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=uu(y),v=uu(v)}y=null}else y=null;d!==null&&ub(u,h,d,y,!1),g!==null&&B!==null&&ub(u,B,g,y,!0)}}e:{if(h=l?ju(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var F=sT;else if(nb(h))if(K3)F=cT;else{F=AT;var N=oT}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(F=lT);if(F&&(F=F(t,l))){H3(u,F,r,c);break e}N&&N(t,h,l),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&N2(h,"number",h.value)}switch(N=l?ju(l):window,t){case"focusin":(nb(N)||N.contentEditable==="true")&&(Ru=N,H2=l,Rd=null);break;case"focusout":Rd=H2=Ru=null;break;case"mousedown":K2=!0;break;case"contextmenu":case"mouseup":case"dragend":K2=!1,Ab(u,r,c);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Ab(u,r,c)}var R;if(Yy)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Du?j3(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(Q3&&r.locale!=="ko"&&(Du||D!=="onCompositionStart"?D==="onCompositionEnd"&&Du&&(R=R3()):(sl=c,Wy="value"in sl?sl.value:sl.textContent,Du=!0)),N=Z1(l,D),0<N.length&&(D=new Zx(D,t,null,r,c),u.push({event:D,listeners:N}),R?D.data=R:(R=M3(r),R!==null&&(D.data=R)))),(R=tT?rT(t,r):nT(t,r))&&(l=Z1(l,"onBeforeInput"),0<l.length&&(c=new Zx("onBeforeInput","beforeinput",null,r,c),u.push({event:c,listeners:l}),c.data=R))}Z3(u,e)})}function Ah(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Z1(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=th(t,r),a!=null&&n.unshift(Ah(t,a,i)),a=th(t,e),a!=null&&n.push(Ah(t,a,i))),t=t.return}return n}function uu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ub(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=th(r,a),A!=null&&s.unshift(Ah(r,A,o))):i||(A=th(r,a),A!=null&&s.push(Ah(r,A,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var vT=/\r\n?/g,mT=/\u0000|\uFFFD/g;function fb(t){return(typeof t=="string"?t:""+t).replace(vT,`
`).replace(mT,"")}function l0(t,e,r){if(e=fb(e),fb(t)!==e&&r)throw Error(Ke(425))}function ep(){}var V2=null,$2=null;function G2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var z2=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,db=typeof Promise=="function"?Promise:void 0,wT=typeof queueMicrotask=="function"?queueMicrotask:typeof db<"u"?function(t){return db.resolve(null).then(t).catch(xT)}:z2;function xT(t){setTimeout(function(){throw t})}function iv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ih(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ih(e)}function pl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ef=Math.random().toString(36).slice(2),uo="__reactFiber$"+Ef,lh="__reactProps$"+Ef,fA="__reactContainer$"+Ef,W2="__reactEvents$"+Ef,bT="__reactListeners$"+Ef,BT="__reactHandles$"+Ef;function wc(t){var e=t[uo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fA]||r[uo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hb(t);t!==null;){if(r=t[uo])return r;t=hb(t)}return e}t=r,r=t.parentNode}return null}function Nh(t){return t=t[uo]||t[fA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ju(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ke(33))}function Yp(t){return t[lh]||null}var q2=[],Mu=-1;function Fl(t){return{current:t}}function Yr(t){0>Mu||(t.current=q2[Mu],q2[Mu]=null,Mu--)}function Kr(t,e){Mu++,q2[Mu]=t.current,t.current=e}var _l={},Pi=Fl(_l),ga=Fl(!1),Uc=_l;function df(t,e){var r=t.type.contextTypes;if(!r)return _l;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function va(t){return t=t.childContextTypes,t!=null}function tp(){Yr(ga),Yr(Pi)}function pb(t,e,r){if(Pi.current!==_l)throw Error(Ke(168));Kr(Pi,e),Kr(ga,r)}function t_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ke(108,oN(t)||"Unknown",i));return dn({},r,n)}function rp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_l,Uc=Pi.current,Kr(Pi,t),Kr(ga,ga.current),!0}function gb(t,e,r){var n=t.stateNode;if(!n)throw Error(Ke(169));r?(t=t_(t,e,Uc),n.__reactInternalMemoizedMergedChildContext=t,Yr(ga),Yr(Pi),Kr(Pi,t)):Yr(ga),Kr(ga,r)}var nA=null,Jp=!1,av=!1;function r_(t){nA===null?nA=[t]:nA.push(t)}function CT(t){Jp=!0,r_(t)}function Nl(){if(!av&&nA!==null){av=!0;var t=0,e=Ir;try{var r=nA;for(Ir=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}nA=null,Jp=!1}catch(i){throw nA!==null&&(nA=nA.slice(t+1)),S3(Vy,Nl),i}finally{Ir=e,av=!1}}return null}var Hu=[],Ku=0,np=null,ip=0,es=[],ts=0,Oc=null,aA=1,sA="";function uc(t,e){Hu[Ku++]=ip,Hu[Ku++]=np,np=t,ip=e}function n_(t,e,r){es[ts++]=aA,es[ts++]=sA,es[ts++]=Oc,Oc=t;var n=aA;t=sA;var i=32-Ps(n)-1;n&=~(1<<i),r+=1;var a=32-Ps(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,aA=1<<32-Ps(e)+i|r<<i|n,sA=a+t}else aA=1<<a|r<<i|n,sA=t}function Zy(t){t.return!==null&&(uc(t,1),n_(t,1,0))}function ew(t){for(;t===np;)np=Hu[--Ku],Hu[Ku]=null,ip=Hu[--Ku],Hu[Ku]=null;for(;t===Oc;)Oc=es[--ts],es[ts]=null,sA=es[--ts],es[ts]=null,aA=es[--ts],es[ts]=null}var Qa=null,Da=null,tn=!1,Os=null;function i_(t,e){var r=ns(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function vb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qa=t,Da=pl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qa=t,Da=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Oc!==null?{id:aA,overflow:sA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ns(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qa=t,Da=null,!0):!1;default:return!1}}function X2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Y2(t){if(tn){var e=Da;if(e){var r=e;if(!vb(t,e)){if(X2(t))throw Error(Ke(418));e=pl(r.nextSibling);var n=Qa;e&&vb(t,e)?i_(n,r):(t.flags=t.flags&-4097|2,tn=!1,Qa=t)}}else{if(X2(t))throw Error(Ke(418));t.flags=t.flags&-4097|2,tn=!1,Qa=t}}}function mb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qa=t}function c0(t){if(t!==Qa)return!1;if(!tn)return mb(t),tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!G2(t.type,t.memoizedProps)),e&&(e=Da)){if(X2(t))throw a_(),Error(Ke(418));for(;e;)i_(t,e),e=pl(e.nextSibling)}if(mb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Da=pl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Da=null}}else Da=Qa?pl(t.stateNode.nextSibling):null;return!0}function a_(){for(var t=Da;t;)t=pl(t.nextSibling)}function hf(){Da=Qa=null,tn=!1}function tw(t){Os===null?Os=[t]:Os.push(t)}var _T=vA.ReactCurrentBatchConfig;function id(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ke(309));var n=r.stateNode}if(!n)throw Error(Ke(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ke(284));if(!r._owner)throw Error(Ke(290,t))}return t}function u0(t,e){throw t=Object.prototype.toString.call(e),Error(Ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yb(t){var e=t._init;return e(t._payload)}function s_(t){function e(v,w){if(t){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function r(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=yl(v,w),v.index=0,v.sibling=null,v}function a(v,w,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,w,x,_){return w===null||w.tag!==6?(w=fv(x,v.mode,_),w.return=v,w):(w=i(w,x),w.return=v,w)}function A(v,w,x,_){var F=x.type;return F===Pu?c(v,w,x.props.children,_,x.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ZA&&yb(F)===w.type)?(_=i(w,x.props),_.ref=id(v,w,x),_.return=v,_):(_=B1(x.type,x.key,x.props,null,v.mode,_),_.ref=id(v,w,x),_.return=v,_)}function l(v,w,x,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=dv(x,v.mode,_),w.return=v,w):(w=i(w,x.children||[]),w.return=v,w)}function c(v,w,x,_,F){return w===null||w.tag!==7?(w=Sc(x,v.mode,_,F),w.return=v,w):(w=i(w,x),w.return=v,w)}function u(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=fv(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case e0:return x=B1(w.type,w.key,w.props,null,v.mode,x),x.ref=id(v,null,w),x.return=v,x;case ku:return w=dv(w,v.mode,x),w.return=v,w;case ZA:var _=w._init;return u(v,_(w._payload),x)}if(md(w)||Zf(w))return w=Sc(w,v.mode,x,null),w.return=v,w;u0(v,w)}return null}function h(v,w,x,_){var F=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return F!==null?null:o(v,w,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case e0:return x.key===F?A(v,w,x,_):null;case ku:return x.key===F?l(v,w,x,_):null;case ZA:return F=x._init,h(v,w,F(x._payload),_)}if(md(x)||Zf(x))return F!==null?null:c(v,w,x,_,null);u0(v,x)}return null}function d(v,w,x,_,F){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(x)||null,o(w,v,""+_,F);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case e0:return v=v.get(_.key===null?x:_.key)||null,A(w,v,_,F);case ku:return v=v.get(_.key===null?x:_.key)||null,l(w,v,_,F);case ZA:var N=_._init;return d(v,w,x,N(_._payload),F)}if(md(_)||Zf(_))return v=v.get(x)||null,c(w,v,_,F,null);u0(w,_)}return null}function g(v,w,x,_){for(var F=null,N=null,R=w,D=w=0,k=null;R!==null&&D<x.length;D++){R.index>D?(k=R,R=null):k=R.sibling;var V=h(v,R,x[D],_);if(V===null){R===null&&(R=k);break}t&&R&&V.alternate===null&&e(v,R),w=a(V,w,D),N===null?F=V:N.sibling=V,N=V,R=k}if(D===x.length)return r(v,R),tn&&uc(v,D),F;if(R===null){for(;D<x.length;D++)R=u(v,x[D],_),R!==null&&(w=a(R,w,D),N===null?F=R:N.sibling=R,N=R);return tn&&uc(v,D),F}for(R=n(v,R);D<x.length;D++)k=d(R,v,D,x[D],_),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?D:k.key),w=a(k,w,D),N===null?F=k:N.sibling=k,N=k);return t&&R.forEach(function(T){return e(v,T)}),tn&&uc(v,D),F}function y(v,w,x,_){var F=Zf(x);if(typeof F!="function")throw Error(Ke(150));if(x=F.call(x),x==null)throw Error(Ke(151));for(var N=F=null,R=w,D=w=0,k=null,V=x.next();R!==null&&!V.done;D++,V=x.next()){R.index>D?(k=R,R=null):k=R.sibling;var T=h(v,R,V.value,_);if(T===null){R===null&&(R=k);break}t&&R&&T.alternate===null&&e(v,R),w=a(T,w,D),N===null?F=T:N.sibling=T,N=T,R=k}if(V.done)return r(v,R),tn&&uc(v,D),F;if(R===null){for(;!V.done;D++,V=x.next())V=u(v,V.value,_),V!==null&&(w=a(V,w,D),N===null?F=V:N.sibling=V,N=V);return tn&&uc(v,D),F}for(R=n(v,R);!V.done;D++,V=x.next())V=d(R,v,D,V.value,_),V!==null&&(t&&V.alternate!==null&&R.delete(V.key===null?D:V.key),w=a(V,w,D),N===null?F=V:N.sibling=V,N=V);return t&&R.forEach(function(O){return e(v,O)}),tn&&uc(v,D),F}function B(v,w,x,_){if(typeof x=="object"&&x!==null&&x.type===Pu&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case e0:e:{for(var F=x.key,N=w;N!==null;){if(N.key===F){if(F=x.type,F===Pu){if(N.tag===7){r(v,N.sibling),w=i(N,x.props.children),w.return=v,v=w;break e}}else if(N.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ZA&&yb(F)===N.type){r(v,N.sibling),w=i(N,x.props),w.ref=id(v,N,x),w.return=v,v=w;break e}r(v,N);break}else e(v,N);N=N.sibling}x.type===Pu?(w=Sc(x.props.children,v.mode,_,x.key),w.return=v,v=w):(_=B1(x.type,x.key,x.props,null,v.mode,_),_.ref=id(v,w,x),_.return=v,v=_)}return s(v);case ku:e:{for(N=x.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){r(v,w.sibling),w=i(w,x.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else e(v,w);w=w.sibling}w=dv(x,v.mode,_),w.return=v,v=w}return s(v);case ZA:return N=x._init,B(v,w,N(x._payload),_)}if(md(x))return g(v,w,x,_);if(Zf(x))return y(v,w,x,_);u0(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(r(v,w.sibling),w=i(w,x),w.return=v,v=w):(r(v,w),w=fv(x,v.mode,_),w.return=v,v=w),s(v)):r(v,w)}return B}var pf=s_(!0),o_=s_(!1),ap=Fl(null),sp=null,Vu=null,rw=null;function nw(){rw=Vu=sp=null}function iw(t){var e=ap.current;Yr(ap),t._currentValue=e}function J2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function rf(t,e){sp=t,rw=Vu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pa=!0),t.firstContext=null)}function As(t){var e=t._currentValue;if(rw!==t)if(t={context:t,memoizedValue:e,next:null},Vu===null){if(sp===null)throw Error(Ke(308));Vu=t,sp.dependencies={lanes:0,firstContext:t}}else Vu=Vu.next=t;return e}var xc=null;function aw(t){xc===null?xc=[t]:xc.push(t)}function A_(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,aw(e)):(r.next=i.next,i.next=r),e.interleaved=r,dA(t,n)}function dA(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var el=!1;function sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oA(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,or&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,dA(t,r)}return i=n.interleaved,i===null?(e.next=e,aw(n)):(e.next=i.next,i.next=e),n.interleaved=e,dA(t,r)}function v1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$y(t,r)}}function wb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function op(t,e,r,n){var i=t.updateQueue;el=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,s===null?a=l:s.next=l,s=A;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=A))}if(a!==null){var u=i.baseState;s=0,c=l=A=null,o=a;do{var h=o.lane,d=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(h=e,d=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){u=g.call(d,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(d,u,h):g,h==null)break e;u=dn({},u,h);break e;case 2:el=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=d,A=u):c=c.next=d,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(A=u),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);kc|=s,t.lanes=s,t.memoizedState=u}}function xb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ke(191,i));i.call(n)}}}var Th={},mo=Fl(Th),ch=Fl(Th),uh=Fl(Th);function bc(t){if(t===Th)throw Error(Ke(174));return t}function ow(t,e){switch(Kr(uh,e),Kr(ch,t),Kr(mo,Th),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:U2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=U2(e,t)}Yr(mo),Kr(mo,e)}function gf(){Yr(mo),Yr(ch),Yr(uh)}function c_(t){bc(uh.current);var e=bc(mo.current),r=U2(e,t.type);e!==r&&(Kr(ch,t),Kr(mo,r))}function Aw(t){ch.current===t&&(Yr(mo),Yr(ch))}var cn=Fl(0);function Ap(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sv=[];function lw(){for(var t=0;t<sv.length;t++)sv[t]._workInProgressVersionPrimary=null;sv.length=0}var m1=vA.ReactCurrentDispatcher,ov=vA.ReactCurrentBatchConfig,Lc=0,fn=null,Wn=null,ti=null,lp=!1,Qd=!1,fh=0,ET=0;function Si(){throw Error(Ke(321))}function cw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Qs(t[r],e[r]))return!1;return!0}function uw(t,e,r,n,i,a){if(Lc=a,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,m1.current=t===null||t.memoizedState===null?NT:TT,t=r(n,i),Qd){a=0;do{if(Qd=!1,fh=0,25<=a)throw Error(Ke(301));a+=1,ti=Wn=null,e.updateQueue=null,m1.current=UT,t=r(n,i)}while(Qd)}if(m1.current=cp,e=Wn!==null&&Wn.next!==null,Lc=0,ti=Wn=fn=null,lp=!1,e)throw Error(Ke(300));return t}function fw(){var t=fh!==0;return fh=0,t}function co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?fn.memoizedState=ti=t:ti=ti.next=t,ti}function ls(){if(Wn===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=Wn.next;var e=ti===null?fn.memoizedState:ti.next;if(e!==null)ti=e,Wn=t;else{if(t===null)throw Error(Ke(310));Wn=t,t={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},ti===null?fn.memoizedState=ti=t:ti=ti.next=t}return ti}function dh(t,e){return typeof e=="function"?e(t):e}function Av(t){var e=ls(),r=e.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=t;var n=Wn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,A=null,l=a;do{var c=l.lane;if((Lc&c)===c)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var u={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=u,s=n):A=A.next=u,fn.lanes|=c,kc|=c}l=l.next}while(l!==null&&l!==a);A===null?s=n:A.next=o,Qs(n,e.memoizedState)||(pa=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,fn.lanes|=a,kc|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function lv(t){var e=ls(),r=e.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Qs(a,e.memoizedState)||(pa=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function u_(){}function f_(t,e){var r=fn,n=ls(),i=e(),a=!Qs(n.memoizedState,i);if(a&&(n.memoizedState=i,pa=!0),n=n.queue,dw(p_.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||ti!==null&&ti.memoizedState.tag&1){if(r.flags|=2048,hh(9,h_.bind(null,r,n,i,e),void 0,null),ii===null)throw Error(Ke(349));Lc&30||d_(r,e,i)}return i}function d_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function h_(t,e,r,n){e.value=r,e.getSnapshot=n,g_(e)&&v_(t)}function p_(t,e,r){return r(function(){g_(e)&&v_(t)})}function g_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qs(t,r)}catch{return!0}}function v_(t){var e=dA(t,1);e!==null&&Ds(e,t,1,-1)}function bb(t){var e=co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:t},e.queue=t,t=t.dispatch=FT.bind(null,fn,t),[e.memoizedState,t]}function hh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function m_(){return ls().memoizedState}function y1(t,e,r,n){var i=co();fn.flags|=t,i.memoizedState=hh(1|e,r,void 0,n===void 0?null:n)}function Zp(t,e,r,n){var i=ls();n=n===void 0?null:n;var a=void 0;if(Wn!==null){var s=Wn.memoizedState;if(a=s.destroy,n!==null&&cw(n,s.deps)){i.memoizedState=hh(e,r,a,n);return}}fn.flags|=t,i.memoizedState=hh(1|e,r,a,n)}function Bb(t,e){return y1(8390656,8,t,e)}function dw(t,e){return Zp(2048,8,t,e)}function y_(t,e){return Zp(4,2,t,e)}function w_(t,e){return Zp(4,4,t,e)}function x_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b_(t,e,r){return r=r!=null?r.concat([t]):null,Zp(4,4,x_.bind(null,e,t),r)}function hw(){}function B_(t,e){var r=ls();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function C_(t,e){var r=ls();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function __(t,e,r){return Lc&21?(Qs(r,e)||(r=N3(),fn.lanes|=r,kc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pa=!0),t.memoizedState=r)}function ST(t,e){var r=Ir;Ir=r!==0&&4>r?r:4,t(!0);var n=ov.transition;ov.transition={};try{t(!1),e()}finally{Ir=r,ov.transition=n}}function E_(){return ls().memoizedState}function IT(t,e,r){var n=ml(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},S_(t))I_(e,r);else if(r=A_(t,e,r,n),r!==null){var i=Yi();Ds(r,t,n,i),F_(r,e,n)}}function FT(t,e,r){var n=ml(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(S_(t))I_(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Qs(o,s)){var A=e.interleaved;A===null?(i.next=i,aw(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=A_(t,e,i,n),r!==null&&(i=Yi(),Ds(r,t,n,i),F_(r,e,n))}}function S_(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function I_(t,e){Qd=lp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function F_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$y(t,r)}}var cp={readContext:As,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},NT={readContext:As,useCallback:function(t,e){return co().memoizedState=[t,e===void 0?null:e],t},useContext:As,useEffect:Bb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,y1(4194308,4,x_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return y1(4194308,4,t,e)},useInsertionEffect:function(t,e){return y1(4,2,t,e)},useMemo:function(t,e){var r=co();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=co();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=IT.bind(null,fn,t),[n.memoizedState,t]},useRef:function(t){var e=co();return t={current:t},e.memoizedState=t},useState:bb,useDebugValue:hw,useDeferredValue:function(t){return co().memoizedState=t},useTransition:function(){var t=bb(!1),e=t[0];return t=ST.bind(null,t[1]),co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=fn,i=co();if(tn){if(r===void 0)throw Error(Ke(407));r=r()}else{if(r=e(),ii===null)throw Error(Ke(349));Lc&30||d_(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Bb(p_.bind(null,n,a,t),[t]),n.flags|=2048,hh(9,h_.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=co(),e=ii.identifierPrefix;if(tn){var r=sA,n=aA;r=(n&~(1<<32-Ps(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=fh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ET++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TT={readContext:As,useCallback:B_,useContext:As,useEffect:dw,useImperativeHandle:b_,useInsertionEffect:y_,useLayoutEffect:w_,useMemo:C_,useReducer:Av,useRef:m_,useState:function(){return Av(dh)},useDebugValue:hw,useDeferredValue:function(t){var e=ls();return __(e,Wn.memoizedState,t)},useTransition:function(){var t=Av(dh)[0],e=ls().memoizedState;return[t,e]},useMutableSource:u_,useSyncExternalStore:f_,useId:E_,unstable_isNewReconciler:!1},UT={readContext:As,useCallback:B_,useContext:As,useEffect:dw,useImperativeHandle:b_,useInsertionEffect:y_,useLayoutEffect:w_,useMemo:C_,useReducer:lv,useRef:m_,useState:function(){return lv(dh)},useDebugValue:hw,useDeferredValue:function(t){var e=ls();return Wn===null?e.memoizedState=t:__(e,Wn.memoizedState,t)},useTransition:function(){var t=lv(dh)[0],e=ls().memoizedState;return[t,e]},useMutableSource:u_,useSyncExternalStore:f_,useId:E_,unstable_isNewReconciler:!1};function Fs(t,e){if(t&&t.defaultProps){e=dn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Z2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:dn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var eg={isMounted:function(t){return(t=t._reactInternals)?Mc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Yi(),i=ml(t),a=oA(n,i);a.payload=e,r!=null&&(a.callback=r),e=gl(t,a,i),e!==null&&(Ds(e,t,i,n),v1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Yi(),i=ml(t),a=oA(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=gl(t,a,i),e!==null&&(Ds(e,t,i,n),v1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Yi(),n=ml(t),i=oA(r,n);i.tag=2,e!=null&&(i.callback=e),e=gl(t,i,n),e!==null&&(Ds(e,t,n,r),v1(e,t,n))}};function Cb(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!sh(r,n)||!sh(i,a):!0}function N_(t,e,r){var n=!1,i=_l,a=e.contextType;return typeof a=="object"&&a!==null?a=As(a):(i=va(e)?Uc:Pi.current,n=e.contextTypes,a=(n=n!=null)?df(t,i):_l),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function _b(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&eg.enqueueReplaceState(e,e.state,null)}function em(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},sw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=As(a):(a=va(e)?Uc:Pi.current,i.context=df(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Z2(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eg.enqueueReplaceState(i,i.state,null),op(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vf(t,e){try{var r="",n=e;do r+=sN(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function cv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function tm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var OT=typeof WeakMap=="function"?WeakMap:Map;function T_(t,e,r){r=oA(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){fp||(fp=!0,um=n),tm(t,e)},r}function U_(t,e,r){r=oA(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){tm(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){tm(t,e),typeof n!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Eb(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new OT;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=zT.bind(null,t,e,r),e.then(t,t))}function Sb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ib(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=oA(-1,1),e.tag=2,gl(r,e,1))),r.lanes|=1),t)}var LT=vA.ReactCurrentOwner,pa=!1;function Xi(t,e,r,n){e.child=t===null?o_(e,null,r,n):pf(e,t.child,r,n)}function Fb(t,e,r,n,i){r=r.render;var a=e.ref;return rf(e,i),n=uw(t,e,r,n,a,i),r=fw(),t!==null&&!pa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hA(t,e,i)):(tn&&r&&Zy(e),e.flags|=1,Xi(t,e,n,i),e.child)}function Nb(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!bw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,O_(t,e,a,n,i)):(t=B1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:sh,r(s,n)&&t.ref===e.ref)return hA(t,e,i)}return e.flags|=1,t=yl(a,n),t.ref=e.ref,t.return=e,e.child=t}function O_(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(sh(a,n)&&t.ref===e.ref)if(pa=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(pa=!0);else return e.lanes=t.lanes,hA(t,e,i)}return rm(t,e,r,n,i)}function L_(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(Gu,La),La|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Kr(Gu,La),La|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Kr(Gu,La),La|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Kr(Gu,La),La|=n;return Xi(t,e,i,r),e.child}function k_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function rm(t,e,r,n,i){var a=va(r)?Uc:Pi.current;return a=df(e,a),rf(e,i),r=uw(t,e,r,n,a,i),n=fw(),t!==null&&!pa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hA(t,e,i)):(tn&&n&&Zy(e),e.flags|=1,Xi(t,e,r,i),e.child)}function Tb(t,e,r,n,i){if(va(r)){var a=!0;rp(e)}else a=!1;if(rf(e,i),e.stateNode===null)w1(t,e),N_(e,r,n),em(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var A=s.context,l=r.contextType;typeof l=="object"&&l!==null?l=As(l):(l=va(r)?Uc:Pi.current,l=df(e,l));var c=r.getDerivedStateFromProps,u=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||A!==l)&&_b(e,s,n,l),el=!1;var h=e.memoizedState;s.state=h,op(e,n,s,i),A=e.memoizedState,o!==n||h!==A||ga.current||el?(typeof c=="function"&&(Z2(e,r,c,n),A=e.memoizedState),(o=el||Cb(e,r,o,n,h,A,l))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),s.props=n,s.state=A,s.context=l,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,l_(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:Fs(e.type,o),s.props=l,u=e.pendingProps,h=s.context,A=r.contextType,typeof A=="object"&&A!==null?A=As(A):(A=va(r)?Uc:Pi.current,A=df(e,A));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==u||h!==A)&&_b(e,s,n,A),el=!1,h=e.memoizedState,s.state=h,op(e,n,s,i);var g=e.memoizedState;o!==u||h!==g||ga.current||el?(typeof d=="function"&&(Z2(e,r,d,n),g=e.memoizedState),(l=el||Cb(e,r,l,n,h,g,A)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,A),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,A)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=A,n=l):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return nm(t,e,r,n,a,i)}function nm(t,e,r,n,i,a){k_(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&gb(e,r,!1),hA(t,e,a);n=e.stateNode,LT.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=pf(e,t.child,null,a),e.child=pf(e,null,o,a)):Xi(t,e,o,a),e.memoizedState=n.state,i&&gb(e,r,!0),e.child}function P_(t){var e=t.stateNode;e.pendingContext?pb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pb(t,e.context,!1),ow(t,e.containerInfo)}function Ub(t,e,r,n,i){return hf(),tw(i),e.flags|=256,Xi(t,e,r,n),e.child}var im={dehydrated:null,treeContext:null,retryLane:0};function am(t){return{baseLanes:t,cachePool:null,transitions:null}}function D_(t,e,r){var n=e.pendingProps,i=cn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Kr(cn,i&1),t===null)return Y2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ng(s,n,0,null),t=Sc(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=am(r),e.memoizedState=im,t):pw(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return kT(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=yl(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=yl(o,a):(a=Sc(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?am(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=im,n}return a=t.child,t=a.sibling,n=yl(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function pw(t,e){return e=ng({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function f0(t,e,r,n){return n!==null&&tw(n),pf(e,t.child,null,r),t=pw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kT(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=cv(Error(Ke(422))),f0(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=ng({mode:"visible",children:n.children},i,0,null),a=Sc(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&pf(e,t.child,null,s),e.child.memoizedState=am(s),e.memoizedState=im,a);if(!(e.mode&1))return f0(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Ke(419)),n=cv(a,n,void 0),f0(t,e,s,n)}if(o=(s&t.childLanes)!==0,pa||o){if(n=ii,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,dA(t,i),Ds(n,t,i,-1))}return xw(),n=cv(Error(Ke(421))),f0(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WT.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Da=pl(i.nextSibling),Qa=e,tn=!0,Os=null,t!==null&&(es[ts++]=aA,es[ts++]=sA,es[ts++]=Oc,aA=t.id,sA=t.overflow,Oc=e),e=pw(e,n.children),e.flags|=4096,e)}function Ob(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),J2(t.return,e,r)}function uv(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function R_(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Xi(t,e,n.children,r),n=cn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ob(t,r,e);else if(t.tag===19)Ob(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Kr(cn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ap(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),uv(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ap(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}uv(e,!0,r,null,a);break;case"together":uv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function w1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hA(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),kc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ke(153));if(e.child!==null){for(t=e.child,r=yl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function PT(t,e,r){switch(e.tag){case 3:P_(e),hf();break;case 5:c_(e);break;case 1:va(e.type)&&rp(e);break;case 4:ow(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Kr(ap,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Kr(cn,cn.current&1),e.flags|=128,null):r&e.child.childLanes?D_(t,e,r):(Kr(cn,cn.current&1),t=hA(t,e,r),t!==null?t.sibling:null);Kr(cn,cn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return R_(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kr(cn,cn.current),n)break;return null;case 22:case 23:return e.lanes=0,L_(t,e,r)}return hA(t,e,r)}var Q_,sm,j_,M_;Q_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sm=function(){};j_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,bc(mo.current);var a=null;switch(r){case"input":i=I2(t,i),n=I2(t,n),a=[];break;case"select":i=dn({},i,{value:void 0}),n=dn({},n,{value:void 0}),a=[];break;case"textarea":i=T2(t,i),n=T2(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ep)}O2(r,n);var s;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Zd.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||A&&A.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in A)A.hasOwnProperty(s)&&o[s]!==A[s]&&(r||(r={}),r[s]=A[s])}else r||(a||(a=[]),a.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(a=a||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(a=a||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Zd.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&Gr("scroll",t),a||o===A||(a=[])):(a=a||[]).push(l,A))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};M_=function(t,e,r,n){r!==n&&(e.flags|=4)};function ad(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ii(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function DT(t,e,r){var n=e.pendingProps;switch(ew(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(e),null;case 1:return va(e.type)&&tp(),Ii(e),null;case 3:return n=e.stateNode,gf(),Yr(ga),Yr(Pi),lw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(c0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Os!==null&&(hm(Os),Os=null))),sm(t,e),Ii(e),null;case 5:Aw(e);var i=bc(uh.current);if(r=e.type,t!==null&&e.stateNode!=null)j_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ke(166));return Ii(e),null}if(t=bc(mo.current),c0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[uo]=e,n[lh]=a,t=(e.mode&1)!==0,r){case"dialog":Gr("cancel",n),Gr("close",n);break;case"iframe":case"object":case"embed":Gr("load",n);break;case"video":case"audio":for(i=0;i<wd.length;i++)Gr(wd[i],n);break;case"source":Gr("error",n);break;case"img":case"image":case"link":Gr("error",n),Gr("load",n);break;case"details":Gr("toggle",n);break;case"input":Hx(n,a),Gr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Gr("invalid",n);break;case"textarea":Vx(n,a),Gr("invalid",n)}O2(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&l0(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&l0(n.textContent,o,t),i=["children",""+o]):Zd.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Gr("scroll",n)}switch(r){case"input":t0(n),Kx(n,a,!0);break;case"textarea":t0(n),$x(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ep)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=p3(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[uo]=e,t[lh]=n,Q_(t,e,!1,!1),e.stateNode=t;e:{switch(s=L2(r,n),r){case"dialog":Gr("cancel",t),Gr("close",t),i=n;break;case"iframe":case"object":case"embed":Gr("load",t),i=n;break;case"video":case"audio":for(i=0;i<wd.length;i++)Gr(wd[i],t);i=n;break;case"source":Gr("error",t),i=n;break;case"img":case"image":case"link":Gr("error",t),Gr("load",t),i=n;break;case"details":Gr("toggle",t),i=n;break;case"input":Hx(t,n),i=I2(t,n),Gr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=dn({},n,{value:void 0}),Gr("invalid",t);break;case"textarea":Vx(t,n),i=T2(t,n),Gr("invalid",t);break;default:i=n}O2(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var A=o[a];a==="style"?m3(t,A):a==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&g3(t,A)):a==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&eh(t,A):typeof A=="number"&&eh(t,""+A):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zd.hasOwnProperty(a)?A!=null&&a==="onScroll"&&Gr("scroll",t):A!=null&&Qy(t,a,A,s))}switch(r){case"input":t0(t),Kx(t,n,!1);break;case"textarea":t0(t),$x(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Cl(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ju(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ju(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ep)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ii(e),null;case 6:if(t&&e.stateNode!=null)M_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ke(166));if(r=bc(uh.current),bc(mo.current),c0(e)){if(n=e.stateNode,r=e.memoizedProps,n[uo]=e,(a=n.nodeValue!==r)&&(t=Qa,t!==null))switch(t.tag){case 3:l0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&l0(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[uo]=e,e.stateNode=n}return Ii(e),null;case 13:if(Yr(cn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&Da!==null&&e.mode&1&&!(e.flags&128))a_(),hf(),e.flags|=98560,a=!1;else if(a=c0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Ke(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ke(317));a[uo]=e}else hf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ii(e),a=!1}else Os!==null&&(hm(Os),Os=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||cn.current&1?Jn===0&&(Jn=3):xw())),e.updateQueue!==null&&(e.flags|=4),Ii(e),null);case 4:return gf(),sm(t,e),t===null&&oh(e.stateNode.containerInfo),Ii(e),null;case 10:return iw(e.type._context),Ii(e),null;case 17:return va(e.type)&&tp(),Ii(e),null;case 19:if(Yr(cn),a=e.memoizedState,a===null)return Ii(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)ad(a,!1);else{if(Jn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ap(t),s!==null){for(e.flags|=128,ad(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Kr(cn,cn.current&1|2),e.child}t=t.sibling}a.tail!==null&&In()>mf&&(e.flags|=128,n=!0,ad(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ap(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ad(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!tn)return Ii(e),null}else 2*In()-a.renderingStartTime>mf&&r!==1073741824&&(e.flags|=128,n=!0,ad(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=In(),e.sibling=null,r=cn.current,Kr(cn,n?r&1|2:r&1),e):(Ii(e),null);case 22:case 23:return ww(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?La&1073741824&&(Ii(e),e.subtreeFlags&6&&(e.flags|=8192)):Ii(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function RT(t,e){switch(ew(e),e.tag){case 1:return va(e.type)&&tp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gf(),Yr(ga),Yr(Pi),lw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Aw(e),null;case 13:if(Yr(cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));hf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yr(cn),null;case 4:return gf(),null;case 10:return iw(e.type._context),null;case 22:case 23:return ww(),null;case 24:return null;default:return null}}var d0=!1,ki=!1,QT=typeof WeakSet=="function"?WeakSet:Set,nt=null;function $u(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xn(t,e,n)}else r.current=null}function om(t,e,r){try{r()}catch(n){xn(t,e,n)}}var Lb=!1;function jT(t,e){if(V2=Y1,t=G3(),Jy(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,A=-1,l=0,c=0,u=t,h=null;t:for(;;){for(var d;u!==r||i!==0&&u.nodeType!==3||(o=s+i),u!==a||n!==0&&u.nodeType!==3||(A=s+n),u.nodeType===3&&(s+=u.nodeValue.length),(d=u.firstChild)!==null;)h=u,u=d;for(;;){if(u===t)break t;if(h===r&&++l===i&&(o=s),h===a&&++c===n&&(A=s),(d=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=d}r=o===-1||A===-1?null:{start:o,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for($2={focusedElem:t,selectionRange:r},Y1=!1,nt=e;nt!==null;)if(e=nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nt=t;else for(;nt!==null;){e=nt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,B=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fs(e.type,y),B);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(_){xn(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}return g=Lb,Lb=!1,g}function jd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&om(e,r,a)}i=i.next}while(i!==n)}}function tg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Am(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function H_(t){var e=t.alternate;e!==null&&(t.alternate=null,H_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[uo],delete e[lh],delete e[W2],delete e[bT],delete e[BT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function K_(t){return t.tag===5||t.tag===3||t.tag===4}function kb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ep));else if(n!==4&&(t=t.child,t!==null))for(lm(t,e,r),t=t.sibling;t!==null;)lm(t,e,r),t=t.sibling}function cm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(cm(t,e,r),t=t.sibling;t!==null;)cm(t,e,r),t=t.sibling}var hi=null,Ts=!1;function KA(t,e,r){for(r=r.child;r!==null;)V_(t,e,r),r=r.sibling}function V_(t,e,r){if(vo&&typeof vo.onCommitFiberUnmount=="function")try{vo.onCommitFiberUnmount(zp,r)}catch{}switch(r.tag){case 5:ki||$u(r,e);case 6:var n=hi,i=Ts;hi=null,KA(t,e,r),hi=n,Ts=i,hi!==null&&(Ts?(t=hi,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):hi.removeChild(r.stateNode));break;case 18:hi!==null&&(Ts?(t=hi,r=r.stateNode,t.nodeType===8?iv(t.parentNode,r):t.nodeType===1&&iv(t,r),ih(t)):iv(hi,r.stateNode));break;case 4:n=hi,i=Ts,hi=r.stateNode.containerInfo,Ts=!0,KA(t,e,r),hi=n,Ts=i;break;case 0:case 11:case 14:case 15:if(!ki&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&om(r,e,s),i=i.next}while(i!==n)}KA(t,e,r);break;case 1:if(!ki&&($u(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xn(r,e,o)}KA(t,e,r);break;case 21:KA(t,e,r);break;case 22:r.mode&1?(ki=(n=ki)||r.memoizedState!==null,KA(t,e,r),ki=n):KA(t,e,r);break;default:KA(t,e,r)}}function Pb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new QT),e.forEach(function(n){var i=qT.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Bs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:hi=o.stateNode,Ts=!1;break e;case 3:hi=o.stateNode.containerInfo,Ts=!0;break e;case 4:hi=o.stateNode.containerInfo,Ts=!0;break e}o=o.return}if(hi===null)throw Error(Ke(160));V_(a,s,i),hi=null,Ts=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){xn(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$_(e,t),e=e.sibling}function $_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bs(e,t),so(t),n&4){try{jd(3,t,t.return),tg(3,t)}catch(y){xn(t,t.return,y)}try{jd(5,t,t.return)}catch(y){xn(t,t.return,y)}}break;case 1:Bs(e,t),so(t),n&512&&r!==null&&$u(r,r.return);break;case 5:if(Bs(e,t),so(t),n&512&&r!==null&&$u(r,r.return),t.flags&32){var i=t.stateNode;try{eh(i,"")}catch(y){xn(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&d3(i,a),L2(o,s);var l=L2(o,a);for(s=0;s<A.length;s+=2){var c=A[s],u=A[s+1];c==="style"?m3(i,u):c==="dangerouslySetInnerHTML"?g3(i,u):c==="children"?eh(i,u):Qy(i,c,u,l)}switch(o){case"input":F2(i,a);break;case"textarea":h3(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Ju(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ju(i,!!a.multiple,a.defaultValue,!0):Ju(i,!!a.multiple,a.multiple?[]:"",!1))}i[lh]=a}catch(y){xn(t,t.return,y)}}break;case 6:if(Bs(e,t),so(t),n&4){if(t.stateNode===null)throw Error(Ke(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){xn(t,t.return,y)}}break;case 3:if(Bs(e,t),so(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ih(e.containerInfo)}catch(y){xn(t,t.return,y)}break;case 4:Bs(e,t),so(t);break;case 13:Bs(e,t),so(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(mw=In())),n&4&&Pb(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ki=(l=ki)||c,Bs(e,t),ki=l):Bs(e,t),so(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(nt=t,c=t.child;c!==null;){for(u=nt=c;nt!==null;){switch(h=nt,d=h.child,h.tag){case 0:case 11:case 14:case 15:jd(4,h,h.return);break;case 1:$u(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){xn(n,r,y)}}break;case 5:$u(h,h.return);break;case 22:if(h.memoizedState!==null){Rb(u);continue}}d!==null?(d.return=h,nt=d):Rb(u)}c=c.sibling}e:for(c=null,u=t;;){if(u.tag===5){if(c===null){c=u;try{i=u.stateNode,l?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=u.stateNode,A=u.memoizedProps.style,s=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=v3("display",s))}catch(y){xn(t,t.return,y)}}}else if(u.tag===6){if(c===null)try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(y){xn(t,t.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Bs(e,t),so(t),n&4&&Pb(t);break;case 21:break;default:Bs(e,t),so(t)}}function so(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(K_(r)){var n=r;break e}r=r.return}throw Error(Ke(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(eh(i,""),n.flags&=-33);var a=kb(t);cm(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=kb(t);lm(t,o,s);break;default:throw Error(Ke(161))}}catch(A){xn(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MT(t,e,r){nt=t,G_(t)}function G_(t,e,r){for(var n=(t.mode&1)!==0;nt!==null;){var i=nt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||d0;if(!s){var o=i.alternate,A=o!==null&&o.memoizedState!==null||ki;o=d0;var l=ki;if(d0=s,(ki=A)&&!l)for(nt=i;nt!==null;)s=nt,A=s.child,s.tag===22&&s.memoizedState!==null?Qb(i):A!==null?(A.return=s,nt=A):Qb(i);for(;a!==null;)nt=a,G_(a),a=a.sibling;nt=i,d0=o,ki=l}Db(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,nt=a):Db(t)}}function Db(t){for(;nt!==null;){var e=nt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ki||tg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ki)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Fs(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&xb(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}xb(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var u=c.dehydrated;u!==null&&ih(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}ki||e.flags&512&&Am(e)}catch(h){xn(e,e.return,h)}}if(e===t){nt=null;break}if(r=e.sibling,r!==null){r.return=e.return,nt=r;break}nt=e.return}}function Rb(t){for(;nt!==null;){var e=nt;if(e===t){nt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,nt=r;break}nt=e.return}}function Qb(t){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{tg(4,e)}catch(A){xn(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){xn(e,i,A)}}var a=e.return;try{Am(e)}catch(A){xn(e,a,A)}break;case 5:var s=e.return;try{Am(e)}catch(A){xn(e,s,A)}}}catch(A){xn(e,e.return,A)}if(e===t){nt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,nt=o;break}nt=e.return}}var HT=Math.ceil,up=vA.ReactCurrentDispatcher,gw=vA.ReactCurrentOwner,os=vA.ReactCurrentBatchConfig,or=0,ii=null,Rn=null,xi=0,La=0,Gu=Fl(0),Jn=0,ph=null,kc=0,rg=0,vw=0,Md=null,fa=null,mw=0,mf=1/0,tA=null,fp=!1,um=null,vl=null,h0=!1,ol=null,dp=0,Hd=0,fm=null,x1=-1,b1=0;function Yi(){return or&6?In():x1!==-1?x1:x1=In()}function ml(t){return t.mode&1?or&2&&xi!==0?xi&-xi:_T.transition!==null?(b1===0&&(b1=N3()),b1):(t=Ir,t!==0||(t=window.event,t=t===void 0?16:D3(t.type)),t):1}function Ds(t,e,r,n){if(50<Hd)throw Hd=0,fm=null,Error(Ke(185));Ih(t,r,n),(!(or&2)||t!==ii)&&(t===ii&&(!(or&2)&&(rg|=r),Jn===4&&il(t,xi)),ma(t,n),r===1&&or===0&&!(e.mode&1)&&(mf=In()+500,Jp&&Nl()))}function ma(t,e){var r=t.callbackNode;_N(t,e);var n=X1(t,t===ii?xi:0);if(n===0)r!==null&&Wx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Wx(r),e===1)t.tag===0?CT(jb.bind(null,t)):r_(jb.bind(null,t)),wT(function(){!(or&6)&&Nl()}),r=null;else{switch(T3(n)){case 1:r=Vy;break;case 4:r=I3;break;case 16:r=q1;break;case 536870912:r=F3;break;default:r=q1}r=eE(r,z_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function z_(t,e){if(x1=-1,b1=0,or&6)throw Error(Ke(327));var r=t.callbackNode;if(nf()&&t.callbackNode!==r)return null;var n=X1(t,t===ii?xi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=hp(t,n);else{e=n;var i=or;or|=2;var a=q_();(ii!==t||xi!==e)&&(tA=null,mf=In()+500,Ec(t,e));do try{$T();break}catch(o){W_(t,o)}while(!0);nw(),up.current=a,or=i,Rn!==null?e=0:(ii=null,xi=0,e=Jn)}if(e!==0){if(e===2&&(i=Q2(t),i!==0&&(n=i,e=dm(t,i))),e===1)throw r=ph,Ec(t,0),il(t,n),ma(t,In()),r;if(e===6)il(t,n);else{if(i=t.current.alternate,!(n&30)&&!KT(i)&&(e=hp(t,n),e===2&&(a=Q2(t),a!==0&&(n=a,e=dm(t,a))),e===1))throw r=ph,Ec(t,0),il(t,n),ma(t,In()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ke(345));case 2:fc(t,fa,tA);break;case 3:if(il(t,n),(n&130023424)===n&&(e=mw+500-In(),10<e)){if(X1(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Yi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=z2(fc.bind(null,t,fa,tA),e);break}fc(t,fa,tA);break;case 4:if(il(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Ps(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=In()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*HT(n/1960))-n,10<n){t.timeoutHandle=z2(fc.bind(null,t,fa,tA),n);break}fc(t,fa,tA);break;case 5:fc(t,fa,tA);break;default:throw Error(Ke(329))}}}return ma(t,In()),t.callbackNode===r?z_.bind(null,t):null}function dm(t,e){var r=Md;return t.current.memoizedState.isDehydrated&&(Ec(t,e).flags|=256),t=hp(t,e),t!==2&&(e=fa,fa=r,e!==null&&hm(e)),t}function hm(t){fa===null?fa=t:fa.push.apply(fa,t)}function KT(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Qs(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function il(t,e){for(e&=~vw,e&=~rg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ps(e),n=1<<r;t[r]=-1,e&=~n}}function jb(t){if(or&6)throw Error(Ke(327));nf();var e=X1(t,0);if(!(e&1))return ma(t,In()),null;var r=hp(t,e);if(t.tag!==0&&r===2){var n=Q2(t);n!==0&&(e=n,r=dm(t,n))}if(r===1)throw r=ph,Ec(t,0),il(t,e),ma(t,In()),r;if(r===6)throw Error(Ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fc(t,fa,tA),ma(t,In()),null}function yw(t,e){var r=or;or|=1;try{return t(e)}finally{or=r,or===0&&(mf=In()+500,Jp&&Nl())}}function Pc(t){ol!==null&&ol.tag===0&&!(or&6)&&nf();var e=or;or|=1;var r=os.transition,n=Ir;try{if(os.transition=null,Ir=1,t)return t()}finally{Ir=n,os.transition=r,or=e,!(or&6)&&Nl()}}function ww(){La=Gu.current,Yr(Gu)}function Ec(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,yT(r)),Rn!==null)for(r=Rn.return;r!==null;){var n=r;switch(ew(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&tp();break;case 3:gf(),Yr(ga),Yr(Pi),lw();break;case 5:Aw(n);break;case 4:gf();break;case 13:Yr(cn);break;case 19:Yr(cn);break;case 10:iw(n.type._context);break;case 22:case 23:ww()}r=r.return}if(ii=t,Rn=t=yl(t.current,null),xi=La=e,Jn=0,ph=null,vw=rg=kc=0,fa=Md=null,xc!==null){for(e=0;e<xc.length;e++)if(r=xc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}xc=null}return t}function W_(t,e){do{var r=Rn;try{if(nw(),m1.current=cp,lp){for(var n=fn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}lp=!1}if(Lc=0,ti=Wn=fn=null,Qd=!1,fh=0,gw.current=null,r===null||r.return===null){Jn=1,ph=e,Rn=null;break}e:{var a=t,s=r.return,o=r,A=e;if(e=xi,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,c=o,u=c.tag;if(!(c.mode&1)&&(u===0||u===11||u===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Sb(s);if(d!==null){d.flags&=-257,Ib(d,s,o,a,e),d.mode&1&&Eb(a,l,e),e=d,A=l;var g=e.updateQueue;if(g===null){var y=new Set;y.add(A),e.updateQueue=y}else g.add(A);break e}else{if(!(e&1)){Eb(a,l,e),xw();break e}A=Error(Ke(426))}}else if(tn&&o.mode&1){var B=Sb(s);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Ib(B,s,o,a,e),tw(vf(A,o));break e}}a=A=vf(A,o),Jn!==4&&(Jn=2),Md===null?Md=[a]:Md.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=T_(a,A,e);wb(a,v);break e;case 1:o=A;var w=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vl===null||!vl.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=U_(a,o,e);wb(a,_);break e}}a=a.return}while(a!==null)}Y_(r)}catch(F){e=F,Rn===r&&r!==null&&(Rn=r=r.return);continue}break}while(!0)}function q_(){var t=up.current;return up.current=cp,t===null?cp:t}function xw(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),ii===null||!(kc&268435455)&&!(rg&268435455)||il(ii,xi)}function hp(t,e){var r=or;or|=2;var n=q_();(ii!==t||xi!==e)&&(tA=null,Ec(t,e));do try{VT();break}catch(i){W_(t,i)}while(!0);if(nw(),or=r,up.current=n,Rn!==null)throw Error(Ke(261));return ii=null,xi=0,Jn}function VT(){for(;Rn!==null;)X_(Rn)}function $T(){for(;Rn!==null&&!gN();)X_(Rn)}function X_(t){var e=Z_(t.alternate,t,La);t.memoizedProps=t.pendingProps,e===null?Y_(t):Rn=e,gw.current=null}function Y_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=RT(r,e),r!==null){r.flags&=32767,Rn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jn=6,Rn=null;return}}else if(r=DT(r,e,La),r!==null){Rn=r;return}if(e=e.sibling,e!==null){Rn=e;return}Rn=e=t}while(e!==null);Jn===0&&(Jn=5)}function fc(t,e,r){var n=Ir,i=os.transition;try{os.transition=null,Ir=1,GT(t,e,r,n)}finally{os.transition=i,Ir=n}return null}function GT(t,e,r,n){do nf();while(ol!==null);if(or&6)throw Error(Ke(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ke(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(EN(t,a),t===ii&&(Rn=ii=null,xi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||h0||(h0=!0,eE(q1,function(){return nf(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=os.transition,os.transition=null;var s=Ir;Ir=1;var o=or;or|=4,gw.current=null,jT(t,r),$_(r,t),fT($2),Y1=!!V2,$2=V2=null,t.current=r,MT(r),vN(),or=o,Ir=s,os.transition=a}else t.current=r;if(h0&&(h0=!1,ol=t,dp=i),a=t.pendingLanes,a===0&&(vl=null),wN(r.stateNode),ma(t,In()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(fp)throw fp=!1,t=um,um=null,t;return dp&1&&t.tag!==0&&nf(),a=t.pendingLanes,a&1?t===fm?Hd++:(Hd=0,fm=t):Hd=0,Nl(),null}function nf(){if(ol!==null){var t=T3(dp),e=os.transition,r=Ir;try{if(os.transition=null,Ir=16>t?16:t,ol===null)var n=!1;else{if(t=ol,ol=null,dp=0,or&6)throw Error(Ke(331));var i=or;for(or|=4,nt=t.current;nt!==null;){var a=nt,s=a.child;if(nt.flags&16){var o=a.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(nt=l;nt!==null;){var c=nt;switch(c.tag){case 0:case 11:case 15:jd(8,c,a)}var u=c.child;if(u!==null)u.return=c,nt=u;else for(;nt!==null;){c=nt;var h=c.sibling,d=c.return;if(H_(c),c===l){nt=null;break}if(h!==null){h.return=d,nt=h;break}nt=d}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var B=y.sibling;y.sibling=null,y=B}while(y!==null)}}nt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,nt=s;else e:for(;nt!==null;){if(a=nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:jd(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,nt=v;break e}nt=a.return}}var w=t.current;for(nt=w;nt!==null;){s=nt;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,nt=x;else e:for(s=w;nt!==null;){if(o=nt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tg(9,o)}}catch(F){xn(o,o.return,F)}if(o===s){nt=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,nt=_;break e}nt=o.return}}if(or=i,Nl(),vo&&typeof vo.onPostCommitFiberRoot=="function")try{vo.onPostCommitFiberRoot(zp,t)}catch{}n=!0}return n}finally{Ir=r,os.transition=e}}return!1}function Mb(t,e,r){e=vf(r,e),e=T_(t,e,1),t=gl(t,e,1),e=Yi(),t!==null&&(Ih(t,1,e),ma(t,e))}function xn(t,e,r){if(t.tag===3)Mb(t,t,r);else for(;e!==null;){if(e.tag===3){Mb(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vl===null||!vl.has(n))){t=vf(r,t),t=U_(e,t,1),e=gl(e,t,1),t=Yi(),e!==null&&(Ih(e,1,t),ma(e,t));break}}e=e.return}}function zT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Yi(),t.pingedLanes|=t.suspendedLanes&r,ii===t&&(xi&r)===r&&(Jn===4||Jn===3&&(xi&130023424)===xi&&500>In()-mw?Ec(t,0):vw|=r),ma(t,e)}function J_(t,e){e===0&&(t.mode&1?(e=i0,i0<<=1,!(i0&130023424)&&(i0=4194304)):e=1);var r=Yi();t=dA(t,e),t!==null&&(Ih(t,e,r),ma(t,r))}function WT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),J_(t,r)}function qT(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ke(314))}n!==null&&n.delete(e),J_(t,r)}var Z_;Z_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ga.current)pa=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return pa=!1,PT(t,e,r);pa=!!(t.flags&131072)}else pa=!1,tn&&e.flags&1048576&&n_(e,ip,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;w1(t,e),t=e.pendingProps;var i=df(e,Pi.current);rf(e,r),i=uw(null,e,n,t,i,r);var a=fw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,va(n)?(a=!0,rp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sw(e),i.updater=eg,e.stateNode=i,i._reactInternals=e,em(e,n,t,r),e=nm(null,e,n,!0,a,r)):(e.tag=0,tn&&a&&Zy(e),Xi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(w1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=YT(n),t=Fs(n,t),i){case 0:e=rm(null,e,n,t,r);break e;case 1:e=Tb(null,e,n,t,r);break e;case 11:e=Fb(null,e,n,t,r);break e;case 14:e=Nb(null,e,n,Fs(n.type,t),r);break e}throw Error(Ke(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fs(n,i),rm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fs(n,i),Tb(t,e,n,i,r);case 3:e:{if(P_(e),t===null)throw Error(Ke(387));n=e.pendingProps,a=e.memoizedState,i=a.element,l_(t,e),op(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=vf(Error(Ke(423)),e),e=Ub(t,e,n,r,i);break e}else if(n!==i){i=vf(Error(Ke(424)),e),e=Ub(t,e,n,r,i);break e}else for(Da=pl(e.stateNode.containerInfo.firstChild),Qa=e,tn=!0,Os=null,r=o_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hf(),n===i){e=hA(t,e,r);break e}Xi(t,e,n,r)}e=e.child}return e;case 5:return c_(e),t===null&&Y2(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,G2(n,i)?s=null:a!==null&&G2(n,a)&&(e.flags|=32),k_(t,e),Xi(t,e,s,r),e.child;case 6:return t===null&&Y2(e),null;case 13:return D_(t,e,r);case 4:return ow(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=pf(e,null,n,r):Xi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fs(n,i),Fb(t,e,n,i,r);case 7:return Xi(t,e,e.pendingProps,r),e.child;case 8:return Xi(t,e,e.pendingProps.children,r),e.child;case 12:return Xi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Kr(ap,n._currentValue),n._currentValue=s,a!==null)if(Qs(a.value,s)){if(a.children===i.children&&!ga.current){e=hA(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(a.tag===1){A=oA(-1,r&-r),A.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?A.next=A:(A.next=c.next,c.next=A),l.pending=A}}a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),J2(a.return,r,e),o.lanes|=r;break}A=A.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ke(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),J2(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Xi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,rf(e,r),i=As(i),n=n(i),e.flags|=1,Xi(t,e,n,r),e.child;case 14:return n=e.type,i=Fs(n,e.pendingProps),i=Fs(n.type,i),Nb(t,e,n,i,r);case 15:return O_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fs(n,i),w1(t,e),e.tag=1,va(n)?(t=!0,rp(e)):t=!1,rf(e,r),N_(e,n,i),em(e,n,i,r),nm(null,e,n,!0,t,r);case 19:return R_(t,e,r);case 22:return L_(t,e,r)}throw Error(Ke(156,e.tag))};function eE(t,e){return S3(t,e)}function XT(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(t,e,r,n){return new XT(t,e,r,n)}function bw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YT(t){if(typeof t=="function")return bw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===My)return 11;if(t===Hy)return 14}return 2}function yl(t,e){var r=t.alternate;return r===null?(r=ns(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function B1(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")bw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Pu:return Sc(r.children,i,a,e);case jy:s=8,i|=8;break;case C2:return t=ns(12,r,e,i|2),t.elementType=C2,t.lanes=a,t;case _2:return t=ns(13,r,e,i),t.elementType=_2,t.lanes=a,t;case E2:return t=ns(19,r,e,i),t.elementType=E2,t.lanes=a,t;case c3:return ng(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A3:s=10;break e;case l3:s=9;break e;case My:s=11;break e;case Hy:s=14;break e;case ZA:s=16,n=null;break e}throw Error(Ke(130,t==null?t:typeof t,""))}return e=ns(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Sc(t,e,r,n){return t=ns(7,t,n,e),t.lanes=r,t}function ng(t,e,r,n){return t=ns(22,t,n,e),t.elementType=c3,t.lanes=r,t.stateNode={isHidden:!1},t}function fv(t,e,r){return t=ns(6,t,null,e),t.lanes=r,t}function dv(t,e,r){return e=ns(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JT(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zg(0),this.expirationTimes=zg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bw(t,e,r,n,i,a,s,o,A){return t=new JT(t,e,r,o,A),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ns(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sw(a),t}function ZT(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ku,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function tE(t){if(!t)return _l;t=t._reactInternals;e:{if(Mc(t)!==t||t.tag!==1)throw Error(Ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(va(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(t.tag===1){var r=t.type;if(va(r))return t_(t,r,e)}return e}function rE(t,e,r,n,i,a,s,o,A){return t=Bw(r,n,!0,t,i,a,s,o,A),t.context=tE(null),r=t.current,n=Yi(),i=ml(r),a=oA(n,i),a.callback=e??null,gl(r,a,i),t.current.lanes=i,Ih(t,i,n),ma(t,n),t}function ig(t,e,r,n){var i=e.current,a=Yi(),s=ml(i);return r=tE(r),e.context===null?e.context=r:e.pendingContext=r,e=oA(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=gl(i,e,s),t!==null&&(Ds(t,i,s,a),v1(t,i,s)),s}function pp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Cw(t,e){Hb(t,e),(t=t.alternate)&&Hb(t,e)}function e7(){return null}var nE=typeof reportError=="function"?reportError:function(t){console.error(t)};function _w(t){this._internalRoot=t}ag.prototype.render=_w.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ke(409));ig(t,e,null,null)};ag.prototype.unmount=_w.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pc(function(){ig(null,t,null,null)}),e[fA]=null}};function ag(t){this._internalRoot=t}ag.prototype.unstable_scheduleHydration=function(t){if(t){var e=L3();t={blockedOn:null,target:t,priority:e};for(var r=0;r<nl.length&&e!==0&&e<nl[r].priority;r++);nl.splice(r,0,t),r===0&&P3(t)}};function Ew(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kb(){}function t7(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var l=pp(s);a.call(l)}}var s=rE(e,n,t,0,null,!1,!1,"",Kb);return t._reactRootContainer=s,t[fA]=s.current,oh(t.nodeType===8?t.parentNode:t),Pc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=pp(A);o.call(l)}}var A=Bw(t,0,!1,null,null,!1,!1,"",Kb);return t._reactRootContainer=A,t[fA]=A.current,oh(t.nodeType===8?t.parentNode:t),Pc(function(){ig(e,A,r,n)}),A}function og(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var A=pp(s);o.call(A)}}ig(e,s,t,i)}else s=t7(r,e,t,i,n);return pp(s)}U3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=yd(e.pendingLanes);r!==0&&($y(e,r|1),ma(e,In()),!(or&6)&&(mf=In()+500,Nl()))}break;case 13:Pc(function(){var n=dA(t,1);if(n!==null){var i=Yi();Ds(n,t,1,i)}}),Cw(t,1)}};Gy=function(t){if(t.tag===13){var e=dA(t,134217728);if(e!==null){var r=Yi();Ds(e,t,134217728,r)}Cw(t,134217728)}};O3=function(t){if(t.tag===13){var e=ml(t),r=dA(t,e);if(r!==null){var n=Yi();Ds(r,t,e,n)}Cw(t,e)}};L3=function(){return Ir};k3=function(t,e){var r=Ir;try{return Ir=t,e()}finally{Ir=r}};P2=function(t,e,r){switch(e){case"input":if(F2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Yp(n);if(!i)throw Error(Ke(90));f3(n),F2(n,i)}}}break;case"textarea":h3(t,r);break;case"select":e=r.value,e!=null&&Ju(t,!!r.multiple,e,!1)}};x3=yw;b3=Pc;var r7={usingClientEntryPoint:!1,Events:[Nh,ju,Yp,y3,w3,yw]},sd={findFiberByHostInstance:wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n7={bundleType:sd.bundleType,version:sd.version,rendererPackageName:sd.rendererPackageName,rendererConfig:sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_3(t),t===null?null:t.stateNode},findFiberByHostInstance:sd.findFiberByHostInstance||e7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p0.isDisabled&&p0.supportsFiber)try{zp=p0.inject(n7),vo=p0}catch{}}Ma.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r7;Ma.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ew(e))throw Error(Ke(200));return ZT(t,e,null,r)};Ma.createRoot=function(t,e){if(!Ew(t))throw Error(Ke(299));var r=!1,n="",i=nE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bw(t,1,!1,null,null,r,!1,n,i),t[fA]=e.current,oh(t.nodeType===8?t.parentNode:t),new _w(e)};Ma.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ke(188)):(t=Object.keys(t).join(","),Error(Ke(268,t)));return t=_3(e),t=t===null?null:t.stateNode,t};Ma.flushSync=function(t){return Pc(t)};Ma.hydrate=function(t,e,r){if(!sg(e))throw Error(Ke(200));return og(null,t,e,!0,r)};Ma.hydrateRoot=function(t,e,r){if(!Ew(t))throw Error(Ke(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=nE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=rE(e,null,t,1,r??null,i,!1,a,s),t[fA]=e.current,oh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ag(e)};Ma.render=function(t,e,r){if(!sg(e))throw Error(Ke(200));return og(null,t,e,!1,r)};Ma.unmountComponentAtNode=function(t){if(!sg(t))throw Error(Ke(40));return t._reactRootContainer?(Pc(function(){og(null,null,t,!1,function(){t._reactRootContainer=null,t[fA]=null})}),!0):!1};Ma.unstable_batchedUpdates=yw;Ma.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!sg(r))throw Error(Ke(200));if(t==null||t._reactInternals===void 0)throw Error(Ke(38));return og(t,e,r,!1,n)};Ma.version="18.3.1-next-f1338f8080-20240426";function iE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iE)}catch(t){console.error(t)}}iE(),i3.exports=Ma;var i7=i3.exports,Vb=i7;b2.createRoot=Vb.createRoot,b2.hydrateRoot=Vb.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $b="popstate";function a7(t={}){function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return pm("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gh(i)}return o7(e,r,null,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function js(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s7(){return Math.random().toString(36).substring(2,10)}function Gb(t,e){return{usr:t.state,key:t.key,idx:e}}function pm(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sf(e):e,state:r,key:e&&e.key||n||s7()}}function gh({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Sf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function o7(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",A=null,l=c();l==null&&(l=0,s.replaceState({...s.state,idx:l},""));function c(){return(s.state||{idx:null}).idx}function u(){o="POP";let B=c(),v=B==null?null:B-l;l=B,A&&A({action:o,location:y.location,delta:v})}function h(B,v){o="PUSH";let w=pm(y.location,B,v);l=c()+1;let x=Gb(w,l),_=y.createHref(w);try{s.pushState(x,"",_)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(_)}a&&A&&A({action:o,location:y.location,delta:1})}function d(B,v){o="REPLACE";let w=pm(y.location,B,v);l=c();let x=Gb(w,l),_=y.createHref(w);s.replaceState(x,"",_),a&&A&&A({action:o,location:y.location,delta:0})}function g(B){return A7(B)}let y={get action(){return o},get location(){return t(i,s)},listen(B){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener($b,u),A=B,()=>{i.removeEventListener($b,u),A=null}},createHref(B){return e(i,B)},createURL:g,encodeLocation(B){let v=g(B);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:d,go(B){return s.go(B)}};return y}function A7(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:gh(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function aE(t,e,r="/"){return l7(t,e,r,!1)}function l7(t,e,r,n){let i=typeof e=="string"?Sf(e):e,a=pA(i.pathname||"/",r);if(a==null)return null;let s=sE(t);c7(s);let o=null;for(let A=0;o==null&&A<s.length;++A){let l=x7(a);o=y7(s[A],l,n)}return o}function sE(t,e=[],r=[],n="",i=!1){let a=(s,o,A=i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&A)return;rn(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let u=AA([n,c.relativePath]),h=r.concat(c);s.children&&s.children.length>0&&(rn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),sE(s.children,e,h,u,A)),!(s.path==null&&!s.index)&&e.push({path:u,score:v7(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var A;if(s.path===""||!((A=s.path)!=null&&A.includes("?")))a(s,o);else for(let l of oE(s.path))a(s,o,!0,l)}),e}function oE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=oE(n.join("/")),o=[];return o.push(...s.map(A=>A===""?a:[a,A].join("/"))),i&&o.push(...s),o.map(A=>t.startsWith("/")&&A===""?"/":A)}function c7(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:m7(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var u7=/^:[\w-]+$/,f7=3,d7=2,h7=1,p7=10,g7=-2,zb=t=>t==="*";function v7(t,e){let r=t.split("/"),n=r.length;return r.some(zb)&&(n+=g7),e&&(n+=d7),r.filter(i=>!zb(i)).reduce((i,a)=>i+(u7.test(a)?f7:a===""?h7:p7),n)}function m7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function y7(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let A=n[o],l=o===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",u=gp({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},c),h=A.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=gp({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:AA([a,u.pathname]),pathnameBase:_7(AA([a,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(a=AA([a,u.pathnameBase]))}return s}function gp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=w7(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,{paramName:c,isOptional:u},h)=>{if(c==="*"){let g=o[h]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const d=o[h];return u&&!d?l[c]=void 0:l[c]=(d||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:s,pattern:t}}function w7(t,e=!1,r=!0){js(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function x7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return js(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function b7(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Sf(t):t;return{pathname:r?r.startsWith("/")?r:B7(r,e):e,search:E7(n),hash:S7(i)}}function B7(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function hv(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C7(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Sw(t){let e=C7(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Iw(t,e,r,n=!1){let i;typeof t=="string"?i=Sf(t):(i={...t},rn(!i.pathname||!i.pathname.includes("?"),hv("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),hv("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),hv("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let u=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),u-=1;i.pathname=h.join("/")}o=u>=0?e[u]:"/"}let A=b7(i,o),l=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||c)&&(A.pathname+="/"),A}var AA=t=>t.join("/").replace(/\/\/+/g,"/"),_7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AE=["POST","PUT","PATCH","DELETE"];new Set(AE);var F7=["GET",...AE];new Set(F7);var If=X.createContext(null);If.displayName="DataRouter";var Ag=X.createContext(null);Ag.displayName="DataRouterState";X.createContext(!1);var lE=X.createContext({isTransitioning:!1});lE.displayName="ViewTransition";var N7=X.createContext(new Map);N7.displayName="Fetchers";var T7=X.createContext(null);T7.displayName="Await";var Ks=X.createContext(null);Ks.displayName="Navigation";var Uh=X.createContext(null);Uh.displayName="Location";var Vs=X.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var Fw=X.createContext(null);Fw.displayName="RouteError";function U7(t,{relative:e}={}){rn(Ff(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=X.useContext(Ks),{hash:i,pathname:a,search:s}=Oh(t,{relative:e}),o=a;return r!=="/"&&(o=a==="/"?r:AA([r,a])),n.createHref({pathname:o,search:s,hash:i})}function Ff(){return X.useContext(Uh)!=null}function xo(){return rn(Ff(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Uh).location}var cE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uE(t){X.useContext(Ks).static||X.useLayoutEffect(t)}function mA(){let{isDataRoute:t}=X.useContext(Vs);return t?G7():O7()}function O7(){rn(Ff(),"useNavigate() may be used only in the context of a <Router> component.");let t=X.useContext(If),{basename:e,navigator:r}=X.useContext(Ks),{matches:n}=X.useContext(Vs),{pathname:i}=xo(),a=JSON.stringify(Sw(n)),s=X.useRef(!1);return uE(()=>{s.current=!0}),X.useCallback((A,l={})=>{if(js(s.current,cE),!s.current)return;if(typeof A=="number"){r.go(A);return}let c=Iw(A,JSON.parse(a),i,l.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:AA([e,c.pathname])),(l.replace?r.replace:r.push)(c,l.state,l)},[e,r,a,i,t])}X.createContext(null);function L7(){let{matches:t}=X.useContext(Vs),e=t[t.length-1];return e?e.params:{}}function Oh(t,{relative:e}={}){let{matches:r}=X.useContext(Vs),{pathname:n}=xo(),i=JSON.stringify(Sw(r));return X.useMemo(()=>Iw(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function k7(t,e){return fE(t,e)}function fE(t,e,r,n,i){var w;rn(Ff(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=X.useContext(Ks),{matches:s}=X.useContext(Vs),o=s[s.length-1],A=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let x=u&&u.path||"";dE(l,!u||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=xo(),d;if(e){let x=typeof e=="string"?Sf(e):e;rn(c==="/"||((w=x.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),d=x}else d=h;let g=d.pathname||"/",y=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let B=aE(t,{pathname:y});js(u||B!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),js(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=j7(B&&B.map(x=>Object.assign({},x,{params:Object.assign({},A,x.params),pathname:AA([c,a.encodeLocation?a.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:AA([c,a.encodeLocation?a.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),s,r,n,i);return e&&v?X.createElement(Uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},v):v}function P7(){let t=$7(),e=I7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:a},"ErrorBoundary")," or"," ",X.createElement("code",{style:a},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),r?X.createElement("pre",{style:i},r):null,s)}var D7=X.createElement(P7,null),R7=class extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?X.createElement(Vs.Provider,{value:this.props.routeContext},X.createElement(Fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q7({routeContext:t,match:e,children:r}){let n=X.useContext(If);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Vs.Provider,{value:t},r)}function j7(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r==null?void 0:r.errors;if(s!=null){let l=a.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);rn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let o=!1,A=-1;if(r)for(let l=0;l<a.length;l++){let c=a[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(A=l),c.route.id){let{loaderData:u,errors:h}=r,d=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||d){o=!0,A>=0?a=a.slice(0,A+1):a=[a[0]];break}}}return a.reduceRight((l,c,u)=>{let h,d=!1,g=null,y=null;r&&(h=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||D7,o&&(A<0&&u===0?(dE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,y=null):A===u&&(d=!0,y=c.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,u+1)),v=()=>{let w;return h?w=g:d?w=y:c.route.Component?w=X.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,X.createElement(Q7,{match:c,routeContext:{outlet:l,matches:B,isDataRoute:r!=null},children:w})};return r&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?X.createElement(R7,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:n}):v()},null)}function Nw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M7(t){let e=X.useContext(If);return rn(e,Nw(t)),e}function H7(t){let e=X.useContext(Ag);return rn(e,Nw(t)),e}function K7(t){let e=X.useContext(Vs);return rn(e,Nw(t)),e}function Tw(t){let e=K7(t),r=e.matches[e.matches.length-1];return rn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function V7(){return Tw("useRouteId")}function $7(){var n;let t=X.useContext(Fw),e=H7("useRouteError"),r=Tw("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function G7(){let{router:t}=M7("useNavigate"),e=Tw("useNavigate"),r=X.useRef(!1);return uE(()=>{r.current=!0}),X.useCallback(async(i,a={})=>{js(r.current,cE),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Wb={};function dE(t,e,r){!e&&!Wb[t]&&(Wb[t]=!0,js(!1,r))}X.memo(z7);function z7({routes:t,future:e,state:r,unstable_onError:n}){return fE(t,void 0,r,n,e)}function vp({to:t,replace:e,state:r,relative:n}){rn(Ff(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=X.useContext(Ks);js(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=X.useContext(Vs),{pathname:s}=xo(),o=mA(),A=Iw(t,Sw(a),s,n==="path"),l=JSON.stringify(A);return X.useEffect(()=>{o(JSON.parse(l),{replace:e,state:r,relative:n})},[o,l,n,e,r]),null}function Qr(t){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W7({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){rn(!Ff(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=X.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=Sf(r));let{pathname:A="/",search:l="",hash:c="",state:u=null,key:h="default"}=r,d=X.useMemo(()=>{let g=pA(A,s);return g==null?null:{location:{pathname:g,search:l,hash:c,state:u,key:h},navigationType:n}},[s,A,l,c,u,h,n]);return js(d!=null,`<Router basename="${s}"> is not able to match the URL "${A}${l}${c}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:X.createElement(Ks.Provider,{value:o},X.createElement(Uh.Provider,{children:e,value:d}))}function q7({children:t,location:e}){return k7(gm(t),e)}function gm(t,e=[]){let r=[];return X.Children.forEach(t,(n,i)=>{if(!X.isValidElement(n))return;let a=[...e,i];if(n.type===X.Fragment){r.push.apply(r,gm(n.props.children,a));return}rn(n.type===Qr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=gm(n.props.children,a)),r.push(s)}),r}var C1="get",_1="application/x-www-form-urlencoded";function lg(t){return t!=null&&typeof t.tagName=="string"}function X7(t){return lg(t)&&t.tagName.toLowerCase()==="button"}function Y7(t){return lg(t)&&t.tagName.toLowerCase()==="form"}function J7(t){return lg(t)&&t.tagName.toLowerCase()==="input"}function Z7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eU(t,e){return t.button===0&&(!e||e==="_self")&&!Z7(t)}var g0=null;function tU(){if(g0===null)try{new FormData(document.createElement("form"),0),g0=!1}catch{g0=!0}return g0}var rU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pv(t){return t!=null&&!rU.has(t)?(js(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_1}"`),null):t}function nU(t,e){let r,n,i,a,s;if(Y7(t)){let o=t.getAttribute("action");n=o?pA(o,e):null,r=t.getAttribute("method")||C1,i=pv(t.getAttribute("enctype"))||_1,a=new FormData(t)}else if(X7(t)||J7(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let A=t.getAttribute("formaction")||o.getAttribute("action");if(n=A?pA(A,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||C1,i=pv(t.getAttribute("formenctype"))||pv(o.getAttribute("enctype"))||_1,a=new FormData(o,t),!tU()){let{name:l,type:c,value:u}=t;if(c==="image"){let h=l?`${l}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else l&&a.append(l,u)}}else{if(lg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=C1,n=null,i=_1,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iU(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&pA(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function aU(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oU(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await aU(a,r);return s.links?s.links():[]}return[]}));return uU(n.flat(1).filter(sU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qb(t,e,r,n,i,a){let s=(A,l)=>r[l]?A.route.id!==r[l].route.id:!0,o=(A,l)=>{var c;return r[l].pathname!==A.pathname||((c=r[l].route.path)==null?void 0:c.endsWith("*"))&&r[l].params["*"]!==A.params["*"]};return a==="assets"?e.filter((A,l)=>s(A,l)||o(A,l)):a==="data"?e.filter((A,l)=>{var u;let c=n.routes[A.route.id];if(!c||!c.hasLoader)return!1;if(s(A,l)||o(A,l))return!0;if(A.route.shouldRevalidate){let h=A.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((u=r[0])==null?void 0:u.params)||{},nextUrl:new URL(t,window.origin),nextParams:A.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function AU(t,e,{includeHydrateFallback:r}={}){return lU(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function lU(t){return[...new Set(t)]}function cU(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function uU(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(cU(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function hE(){let t=X.useContext(If);return Uw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fU(){let t=X.useContext(Ag);return Uw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ow=X.createContext(void 0);Ow.displayName="FrameworkContext";function pE(){let t=X.useContext(Ow);return Uw(t,"You must render this element inside a <HydratedRouter> element"),t}function dU(t,e){let r=X.useContext(Ow),[n,i]=X.useState(!1),[a,s]=X.useState(!1),{onFocus:o,onBlur:A,onMouseEnter:l,onMouseLeave:c,onTouchStart:u}=e,h=X.useRef(null);X.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=v=>{v.forEach(w=>{s(w.isIntersecting)})},B=new IntersectionObserver(y,{threshold:.5});return h.current&&B.observe(h.current),()=>{B.disconnect()}}},[t]),X.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let d=()=>{i(!0)},g=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,h,{}]:[a,h,{onFocus:od(o,d),onBlur:od(A,g),onMouseEnter:od(l,d),onMouseLeave:od(c,g),onTouchStart:od(u,d)}]:[!1,h,{}]}function od(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function hU({page:t,...e}){let{router:r}=hE(),n=X.useMemo(()=>aE(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?X.createElement(gU,{page:t,matches:n,...e}):null}function pU(t){let{manifest:e,routeModules:r}=pE(),[n,i]=X.useState([]);return X.useEffect(()=>{let a=!1;return oU(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function gU({page:t,matches:e,...r}){let n=xo(),{manifest:i,routeModules:a}=pE(),{basename:s}=hE(),{loaderData:o,matches:A}=fU(),l=X.useMemo(()=>qb(t,e,A,i,n,"data"),[t,e,A,i,n]),c=X.useMemo(()=>qb(t,e,A,i,n,"assets"),[t,e,A,i,n]),u=X.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(e.forEach(v=>{var x;let w=i.routes[v.route.id];!w||!w.hasLoader||(!l.some(_=>_.route.id===v.route.id)&&v.route.id in o&&((x=a[v.route.id])!=null&&x.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(v.route.id))}),g.size===0)return[];let B=iU(t,s,"data");return y&&g.size>0&&B.searchParams.set("_routes",e.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[B.pathname+B.search]},[s,o,n,i,l,e,t,a]),h=X.useMemo(()=>AU(c,i),[c,i]),d=pU(c);return X.createElement(X.Fragment,null,u.map(g=>X.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),h.map(g=>X.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),d.map(({key:g,link:y})=>X.createElement("link",{key:g,nonce:r.nonce,...y})))}function vU(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var gE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gE&&(window.__reactRouterVersion="7.9.4")}catch{}function mU({basename:t,children:e,window:r}){let n=X.useRef();n.current==null&&(n.current=a7({window:r,v5Compat:!0}));let i=n.current,[a,s]=X.useState({action:i.action,location:i.location}),o=X.useCallback(A=>{X.startTransition(()=>s(A))},[s]);return X.useLayoutEffect(()=>i.listen(o),[i,o]),X.createElement(W7,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var vE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vh=X.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:A,to:l,preventScrollReset:c,viewTransition:u,...h},d){let{basename:g}=X.useContext(Ks),y=typeof l=="string"&&vE.test(l),B,v=!1;if(typeof l=="string"&&y&&(B=l,gE))try{let k=new URL(window.location.href),V=l.startsWith("//")?new URL(k.protocol+l):new URL(l),T=pA(V.pathname,g);V.origin===k.origin&&T!=null?l=T+V.search+V.hash:v=!0}catch{js(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=U7(l,{relative:i}),[x,_,F]=dU(n,h),N=bU(l,{replace:s,state:o,target:A,preventScrollReset:c,relative:i,viewTransition:u});function R(k){e&&e(k),k.defaultPrevented||N(k)}let D=X.createElement("a",{...h,...F,href:B||w,onClick:v||a?e:R,ref:vU(d,_),target:A,"data-discover":!y&&r==="render"?"true":void 0});return x&&!y?X.createElement(X.Fragment,null,D,X.createElement(hU,{page:w})):D});vh.displayName="Link";var yU=X.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:A,...l},c){let u=Oh(s,{relative:l.relative}),h=xo(),d=X.useContext(Ag),{navigator:g,basename:y}=X.useContext(Ks),B=d!=null&&SU(u)&&o===!0,v=g.encodeLocation?g.encodeLocation(u).pathname:u.pathname,w=h.pathname,x=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;r||(w=w.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&y&&(x=pA(x,y)||x);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let F=w===v||!i&&w.startsWith(v)&&w.charAt(_)==="/",N=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),R={isActive:F,isPending:N,isTransitioning:B},D=F?e:void 0,k;typeof n=="function"?k=n(R):k=[n,F?"active":null,N?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(R):a;return X.createElement(vh,{...l,"aria-current":D,className:k,ref:c,style:V,to:s,viewTransition:o},typeof A=="function"?A(R):A)});yU.displayName="NavLink";var wU=X.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=C1,action:o,onSubmit:A,relative:l,preventScrollReset:c,viewTransition:u,...h},d)=>{let g=_U(),y=EU(o,{relative:l}),B=s.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&vE.test(o),w=x=>{if(A&&A(x),x.defaultPrevented)return;x.preventDefault();let _=x.nativeEvent.submitter,F=(_==null?void 0:_.getAttribute("formmethod"))||s;g(_||x.currentTarget,{fetcherKey:e,method:F,navigate:r,replace:i,state:a,relative:l,preventScrollReset:c,viewTransition:u})};return X.createElement("form",{ref:d,method:B,action:y,onSubmit:n?A:w,...h,"data-discover":!v&&t==="render"?"true":void 0})});wU.displayName="Form";function xU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mE(t){let e=X.useContext(If);return rn(e,xU(t)),e}function bU(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=mA(),A=xo(),l=Oh(t,{relative:a});return X.useCallback(c=>{if(eU(c,e)){c.preventDefault();let u=r!==void 0?r:gh(A)===gh(l);o(t,{replace:u,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[A,o,l,r,n,e,t,i,a,s])}var BU=0,CU=()=>`__${String(++BU)}__`;function _U(){let{router:t}=mE("useSubmit"),{basename:e}=X.useContext(Ks),r=V7();return X.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:A,body:l}=nU(n,e);if(i.navigate===!1){let c=i.fetcherKey||CU();await t.fetch(c,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:A,body:l,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:A,body:l,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function EU(t,{relative:e}={}){let{basename:r}=X.useContext(Ks),n=X.useContext(Vs);rn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Oh(t||".",{relative:e})},s=xo();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),A=o.getAll("index");if(A.some(c=>c==="")){o.delete("index"),A.filter(u=>u).forEach(u=>o.append("index",u));let c=o.toString();a.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:AA([r,a.pathname])),gh(a)}function SU(t,{relative:e}={}){let r=X.useContext(lE);rn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=mE("useViewTransitionState"),i=Oh(t,{relative:e});if(!r.isTransitioning)return!1;let a=pA(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=pA(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gp(i.pathname,s)!=null||gp(i.pathname,a)!=null}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Xb=t=>{const e=FU(t);return e.charAt(0).toUpperCase()+e.slice(1)},yE=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),NU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},A)=>X.createElement("svg",{ref:A,...TU,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:yE("lucide",i),...!a&&!NU(o)&&{"aria-hidden":"true"},...o},[...s.map(([l,c])=>X.createElement(l,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>{const r=X.forwardRef(({className:n,...i},a)=>X.createElement(UU,{ref:a,iconNode:e,className:yE(`lucide-${IU(Xb(t))}`,`lucide-${t}`,n),...i}));return r.displayName=Xb(t),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],LU=ht("arrow-left",OU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],PU=ht("bell",kU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],RU=ht("bot",DU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],jU=ht("building",QU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],HU=ht("calculator",MU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mp=ht("calendar",KU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$U=ht("camera",VU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],zU=ht("chart-bar",GU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],yp=ht("chart-column",WU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XU=ht("check",qU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JU=ht("chevron-down",YU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eO=ht("chevron-right",ZU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dc=ht("circle-alert",tO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nO=ht("circle-check-big",rO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],aO=ht("circle-user",iO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oO=ht("circle-x",sO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lO=ht("credit-card",AO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Lw=ht("dollar-sign",cO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fO=ht("download",uO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hO=ht("eye",dO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yb=ht("file-text",pO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jb=ht("info",gO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],mO=ht("list",vO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],wO=ht("loader",yO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wE=ht("lock",xO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zb=ht("log-out",bO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],CO=ht("map-pin",BO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],EO=ht("maximize",_O);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],IO=ht("menu",SO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xE=ht("message-square",FO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rs=ht("package",NO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],UO=ht("pen-line",TO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],LO=ht("percent",OO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ms=ht("plus",kO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],bE=ht("printer",PO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RO=ht("rotate-ccw",DO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],jO=ht("scale",QO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],BE=ht("scan",MO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nf=ht("search",HO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],CE=ht("send",KO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$O=ht("settings",VO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zO=ht("shield",GO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],yf=ht("shopping-cart",WO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Lh=ht("square-pen",qO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],e5=ht("store",XO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],t5=ht("toggle-left",YO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],gv=ht("toggle-right",JO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Tf=ht("trash-2",ZO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],_E=ht("trending-down",eL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wp=ht("trending-up",tL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nL=ht("triangle-alert",rL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],EE=ht("truck",iL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sL=ht("user-minus",aL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mh=ht("user",oL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xp=ht("users",AL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],SE=ht("wallet",lL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bp=ht("wifi-off",cL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],IE=ht("wifi",uL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ya=ht("x",fL);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hL=ht("zap",dL),r5=t=>{let e;const r=new Set,n=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const h=e;e=c??(typeof u!="object"||u===null)?u:Object.assign({},e,u),r.forEach(d=>d(e,h))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>A,subscribe:l=>(r.add(l),()=>r.delete(l))},A=e=t(n,i,o);return o},pL=t=>t?r5(t):r5,gL=t=>t;function vL(t,e=gL){const r=Lu.useSyncExternalStore(t.subscribe,Lu.useCallback(()=>e(t.getState()),[t,e]),Lu.useCallback(()=>e(t.getInitialState()),[t,e]));return Lu.useDebugValue(r),r}const n5=t=>{const e=pL(t),r=n=>vL(e,n);return Object.assign(r,e),r},FE=t=>t?n5(t):n5;var vm=function(t,e){return vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},vm(t,e)};function NE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Bp=function(){return Bp=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bp.apply(this,arguments)};function Uf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function TE(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function UE(t,e){return function(r,n){e(r,n,t)}}function OE(t,e,r,n,i,a){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=n.kind,A=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,c=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,h=!1,d=r.length-1;d>=0;d--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(v||null))};var B=(0,r[d])(o==="accessor"?{get:c.get,set:c.set}:c[A],g);if(o==="accessor"){if(B===void 0)continue;if(B===null||typeof B!="object")throw new TypeError("Object expected");(u=s(B.get))&&(c.get=u),(u=s(B.set))&&(c.set=u),(u=s(B.init))&&i.unshift(u)}else(u=s(B))&&(o==="field"?i.unshift(u):c[A]=u)}l&&Object.defineProperty(l,n.name,c),h=!0}function LE(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function kE(t){return typeof t=="symbol"?t:"".concat(t)}function PE(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function DE(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function dt(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(u){s(u)}}function A(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){c.done?a(c.value):i(c.value).then(o,A)}l((n=n.apply(t,e||[])).next())})}function RE(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var cg=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function QE(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cg(e,t,r)}function Cp(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function jE(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kw(arguments[e]));return t}function ME(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function HE(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function wf(t){return this instanceof wf?(this.v=t,this):new wf(t)}function KE(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(d){return function(g){return Promise.resolve(g).then(d,u)}}function o(d,g){n[d]&&(i[d]=function(y){return new Promise(function(B,v){a.push([d,y,B,v])>1||A(d,y)})},g&&(i[d]=g(i[d])))}function A(d,g){try{l(n[d](g))}catch(y){h(a[0][3],y)}}function l(d){d.value instanceof wf?Promise.resolve(d.value.v).then(c,u):h(a[0][2],d)}function c(d){A("next",d)}function u(d){A("throw",d)}function h(d,g){d(g),a.shift(),a.length&&A(a[0][0],a[0][1])}}function VE(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(s){return(r=!r)?{value:wf(t[i](s)),done:!1}:a?a(s):s}:a}}function $E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Cp=="function"?Cp(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,A){s=t[a](s),i(o,A,s.done,s.value)})}}function i(a,s,o,A){Promise.resolve(A).then(function(l){a({value:l,done:o})},s)}}function GE(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var mL=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},mm=function(t){return mm=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},mm(t)};function zE(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=mm(t),n=0;n<r.length;n++)r[n]!=="default"&&cg(e,t,r[n]);return mL(e,t),e}function WE(t){return t&&t.__esModule?t:{default:t}}function qE(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function XE(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function YE(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function JE(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var yL=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function ZE(t){function e(a){t.error=t.hasError?new yL(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else n|=1}catch(s){e(s)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function eS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?e?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):t}const wL={__extends:NE,__assign:Bp,__rest:Uf,__decorate:TE,__param:UE,__esDecorate:OE,__runInitializers:LE,__propKey:kE,__setFunctionName:PE,__metadata:DE,__awaiter:dt,__generator:RE,__createBinding:cg,__exportStar:QE,__values:Cp,__read:kw,__spread:jE,__spreadArrays:ME,__spreadArray:HE,__await:wf,__asyncGenerator:KE,__asyncDelegator:VE,__asyncValues:$E,__makeTemplateObject:GE,__importStar:zE,__importDefault:WE,__classPrivateFieldGet:qE,__classPrivateFieldSet:XE,__classPrivateFieldIn:YE,__addDisposableResource:JE,__disposeResources:ZE,__rewriteRelativeImportExtension:eS},xL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:JE,get __assign(){return Bp},__asyncDelegator:VE,__asyncGenerator:KE,__asyncValues:$E,__await:wf,__awaiter:dt,__classPrivateFieldGet:qE,__classPrivateFieldIn:YE,__classPrivateFieldSet:XE,__createBinding:cg,__decorate:TE,__disposeResources:ZE,__esDecorate:OE,__exportStar:QE,__extends:NE,__generator:RE,__importDefault:WE,__importStar:zE,__makeTemplateObject:GE,__metadata:DE,__param:UE,__propKey:kE,__read:kw,__rest:Uf,__rewriteRelativeImportExtension:eS,__runInitializers:LE,__setFunctionName:PE,__spread:jE,__spreadArray:HE,__spreadArrays:ME,__values:Cp,default:wL},Symbol.toStringTag,{value:"Module"})),bL="modulepreload",BL=function(t){return"/"+t},i5={},lA=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=BL(A),A in i5)return;i5[A]=!0;const l=A.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":bL,l||(u.as="script"),u.crossOrigin="",u.href=A,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${A}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},CL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>lA(async()=>{const{default:n}=await Promise.resolve().then(()=>Hc);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Pw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class a5 extends Pw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class s5 extends Pw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o5 extends Pw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ym;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ym||(ym={}));class _L{constructor(e,{headers:r={},customFetch:n,region:i=ym.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=CL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return dt(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:a,method:s,body:o,signal:A}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${r}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)):h=o;const d=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:h,signal:A}).catch(v=>{throw v.name==="AbortError"?v:new a5(v)}),g=d.headers.get("x-relay-error");if(g&&g==="true")throw new s5(d);if(!d.ok)throw new o5(d);let y=((i=d.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),B;return y==="application/json"?B=yield d.json():y==="application/octet-stream"||y==="application/pdf"?B=yield d.blob():y==="text/event-stream"?B=d:y==="multipart/form-data"?B=yield d.formData():B=yield d.text(),{data:B,error:null,response:d}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new a5(a)}:{data:null,error:a,response:a instanceof o5||a instanceof s5?a.context:void 0}}})}}var da={};const Of=G4(xL);var v0={},m0={},y0={},w0={},x0={},EL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xf=EL();const SL=xf.fetch,tS=xf.fetch.bind(xf),rS=xf.Headers,IL=xf.Request,FL=xf.Response,Hc=Object.freeze(Object.defineProperty({__proto__:null,Headers:rS,Request:IL,Response:FL,default:tS,fetch:SL},Symbol.toStringTag,{value:"Module"})),NL=G4(Hc);var b0={},A5;function nS(){if(A5)return b0;A5=1,Object.defineProperty(b0,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return b0.default=t,b0}var l5;function iS(){if(l5)return x0;l5=1,Object.defineProperty(x0,"__esModule",{value:!0});const t=Of,e=t.__importDefault(NL),r=t.__importDefault(nS());class n{constructor(a){var s,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let A=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,d;let g=null,y=null,B=null,v=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const N=await l.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=N:y=JSON.parse(N))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),F=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&F&&F.length>1&&(B=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,B=null,v=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await l.text();try{g=JSON.parse(_),Array.isArray(g)&&l.status===404&&(y=[],g=null,v=200,w="OK")}catch{l.status===404&&_===""?(v=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((d=g==null?void 0:g.details)===null||d===void 0)&&d.includes("0 rows"))&&(g=null,v=200,w="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:y,count:B,status:v,statusText:w}});return this.shouldThrowOnError||(A=A.catch(l=>{var c,u,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),A.then(a,s)}returns(){return this}overrideTypes(){return this}}return x0.default=n,x0}var c5;function aS(){if(c5)return w0;c5=1,Object.defineProperty(w0,"__esModule",{value:!0});const e=Of.__importDefault(iS());class r extends e.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:A=o}={}){const l=A?`${A}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const A=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(A,`${i}`),this.url.searchParams.set(l,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:A=!1,format:l="text"}={}){var c;const u=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,A?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return w0.default=r,w0}var u5;function Dw(){if(u5)return y0;u5=1,Object.defineProperty(y0,"__esModule",{value:!0});const e=Of.__importDefault(aS());class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const s=Array.from(new Set(a)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:s,type:o}={}){let A="";o==="plain"?A="pl":o==="phrase"?A="ph":o==="websearch"&&(A="w");const l=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${A}fts${l}.${a}`),this}match(i){return Object.entries(i).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(i,a,s){return this.url.searchParams.append(i,`not.${a}.${s}`),this}or(i,{foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,a,s){return this.url.searchParams.append(i,`${a}.${s}`),this}}return y0.default=r,y0}var f5;function sS(){if(f5)return m0;f5=1,Object.defineProperty(m0,"__esModule",{value:!0});const e=Of.__importDefault(Dw());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},A=s?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:A,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const A="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const l=i.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:A=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),A||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return m0.default=r,m0}var d5;function TL(){if(d5)return v0;d5=1,Object.defineProperty(v0,"__esModule",{value:!0});const t=Of,e=t.__importDefault(sS()),r=t.__importDefault(Dw());class n{constructor(a,{headers:s={},schema:o,fetch:A}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=A}from(a){const s=new URL(`${this.url}/${a}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:A=!1,count:l}={}){var c;let u;const h=new URL(`${this.url}/rpc/${a}`);let d;o||A?(u=o?"HEAD":"GET",Object.entries(s).filter(([y,B])=>B!==void 0).map(([y,B])=>[y,Array.isArray(B)?`{${B.join(",")}}`:`${B}`]).forEach(([y,B])=>{h.searchParams.append(y,B)})):(u="POST",d=s);const g=new Headers(this.headers);return l&&g.set("Prefer",`count=${l}`),new r.default({method:u,url:h,headers:g,schema:this.schemaName,body:d,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return v0.default=n,v0}Object.defineProperty(da,"__esModule",{value:!0});da.PostgrestError=da.PostgrestBuilder=da.PostgrestTransformBuilder=da.PostgrestFilterBuilder=da.PostgrestQueryBuilder=da.PostgrestClient=void 0;const Lf=Of,oS=Lf.__importDefault(TL());da.PostgrestClient=oS.default;const AS=Lf.__importDefault(sS());da.PostgrestQueryBuilder=AS.default;const lS=Lf.__importDefault(Dw());da.PostgrestFilterBuilder=lS.default;const cS=Lf.__importDefault(aS());da.PostgrestTransformBuilder=cS.default;const uS=Lf.__importDefault(iS());da.PostgrestBuilder=uS.default;const fS=Lf.__importDefault(nS());da.PostgrestError=fS.default;var UL=da.default={PostgrestClient:oS.default,PostgrestQueryBuilder:AS.default,PostgrestFilterBuilder:lS.default,PostgrestTransformBuilder:cS.default,PostgrestBuilder:uS.default,PostgrestError:fS.default};const{PostgrestClient:OL,PostgrestQueryBuilder:sX,PostgrestFilterBuilder:oX,PostgrestTransformBuilder:AX,PostgrestBuilder:lX,PostgrestError:cX}=UL;class LL{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kL="2.76.1",PL=`realtime-js/${kL}`,DL="1.0.0",wm=1e4,RL=1e3,QL=100;var Kd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kd||(Kd={}));var Gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Gn||(Gn={}));var Us;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Us||(Us={}));var xm;(function(t){t.websocket="websocket"})(xm||(xm={}));var gc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gc||(gc={}));class jL{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const A=n.decode(e.slice(s,s+a));s=s+a;const l=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:A,payload:l}}}class dS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(jr||(jr={}));const h5=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=ML(s,t,e,i),a),{}):{}},ML=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?hS(a,s):bm(s)},hS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return $L(e,r)}switch(t){case jr.bool:return HL(e);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return KL(e);case jr.json:case jr.jsonb:return VL(e);case jr.timestamp:return GL(e);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return bm(e);default:return bm(e)}},bm=t=>t,HL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},KL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},VL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$L=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>hS(e,o))}return t},GL=t=>typeof t=="string"?t.replace(" ","T"):t,pS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class vv{constructor(e,r,n={},i=wm){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var p5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(p5||(p5={}));class Vd{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vd.syncState(this.state,i,a,s),this.pendingDiffs.forEach(A=>{this.state=Vd.syncDiff(this.state,A,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vd.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},A={};return this.map(a,(l,c)=>{s[l]||(A[l]=c)}),this.map(s,(l,c)=>{const u=a[l];if(u){const h=c.map(B=>B.presence_ref),d=u.map(B=>B.presence_ref),g=c.filter(B=>d.indexOf(B.presence_ref)<0),y=u.filter(B=>h.indexOf(B.presence_ref)<0);g.length>0&&(o[l]=g),y.length>0&&(A[l]=y)}else o[l]=c}),this.syncDiff(a,{joins:o,leaves:A},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,A)=>{var l;const c=(l=e[o])!==null&&l!==void 0?l:[];if(e[o]=this.cloneDeep(A),c.length>0){const u=e[o].map(d=>d.presence_ref),h=c.filter(d=>u.indexOf(d.presence_ref)<0);e[o].unshift(...h)}n(o,c,A)}),this.map(s,(o,A)=>{let l=e[o];if(!l)return;const c=A.map(u=>u.presence_ref);l=l.filter(u=>c.indexOf(u.presence_ref)<0),e[o]=l,i(o,l,A),l.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var g5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(g5||(g5={}));var $d;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($d||($d={}));var rA;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rA||(rA={}));class Rw{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vv(this,Us.join,this.params,this.timeout),this.rejoinTimer=new dS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Us.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Vd(this),this.broadcastEndpointURL=pS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Gn.closed){const{config:{broadcast:s,presence:o,private:A}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[$d.PRESENCE]&&this.bindings[$d.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,u={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:A};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(d=>e==null?void 0:e(rA.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(rA.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var g;if(this.socket.setAuth(),d===void 0){e==null||e(rA.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,B=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let w=0;w<B;w++){const x=y[w],{filter:{event:_,schema:F,table:N,filter:R}}=x,D=d&&d[w];if(D&&D.event===_&&D.schema===F&&D.table===N&&D.filter===R)v.push(Object.assign(Object.assign({},x),{id:D.id}));else{this.unsubscribe(),this.state=Gn.errored,e==null||e(rA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(rA.SUBSCRIBED);return}}).receive("error",d=>{this.state=Gn.errored,e==null||e(rA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Gn.joined&&e===$d.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let A=o.statusText;try{const l=await o.json();A=l.error||l.message||A}catch{}return Promise.reject(new Error(A))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,A={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,A,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,A;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((A=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||A===void 0)&&A.ack)&&a("ok"),l.receive("ok",()=>a("ok")),l.receive("error",()=>a("error")),l.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Us.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new vv(this,Us.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vv(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>QL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:A,leave:l,join:c}=Us;if(n&&[o,A,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,y,B;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((B=(y=d.filter)===null||y===void 0?void 0:y.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===s}).map(d=>d.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(d=>{var g,y,B,v,w,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const _=d.id,F=(g=d.filter)===null||g===void 0?void 0:g.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((B=r.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const _=(w=(v=d==null?void 0:d.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:B,commit_timestamp:v,type:w,errors:x}=g;h=Object.assign(Object.assign({},{schema:y,table:B,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(g))}d.callback(h,n)})}_isClosed(){return this.state===Gn.closed}_isJoined(){return this.state===Gn.joined}_isJoining(){return this.state===Gn.joining}_isLeaving(){return this.state===Gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Rw.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Us.close,{},e)}_onError(e){this._on(Us.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=h5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=h5(e.columns,e.old_record)),r}}const mv=()=>{},B0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zL=[1e3,2e3,5e3,1e4],WL=1e4,qL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XL{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wm,this.transport=null,this.heartbeatIntervalMs=B0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mv,this.ref=0,this.reconnectTimer=null,this.logger=mv,this.conn=null,this.sendBuffer=[],this.serializer=new jL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>lA(async()=>{const{default:o}=await Promise.resolve().then(()=>Hc);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${xm.websocket}`,this.httpEndpoint=pS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DL}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kd.connecting:return gc.Connecting;case Kd.open:return gc.Open;case Kd.closing:return gc.Closing;default:return gc.Closed}}isConnected(){return this.connectionState()===gc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Rw(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var A;(A=this.conn)===null||A===void 0||A.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},B0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",A=a.status||"";this.log("receive",`${A} ${n} ${i} ${o}`.trim(),a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Us.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([qL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:PL};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Us.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},B0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,o,A,l,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:wm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:B0.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:mv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(A=e==null?void 0:e.reconnectAfterMs)!==null&&A!==void 0?A:u=>zL[u-1]||WL,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(u,h)=>h(JSON.stringify(u)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Qw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ln(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class YL extends Qw{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bm extends Qw{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const jw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>lA(async()=>{const{default:n}=await Promise.resolve().then(()=>Hc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},JL=()=>dt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lA(()=>Promise.resolve().then(()=>Hc),void 0)).Response:Response}),Cm=t=>{if(Array.isArray(t))return t.map(r=>Cm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Cm(n)}),e},ZL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ek=(t,e,r)=>dt(void 0,void 0,void 0,function*(){const n=yield JL();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new YL(yv(i),a,s))}).catch(i=>{e(new Bm(yv(i),i))}):e(new Bm(yv(t),t))}),tk=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(ZL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function kh(t,e,r,n,i,a){return dt(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,tk(e,n,i,a)).then(A=>{if(!A.ok)throw A;return n!=null&&n.noResolveJson?A:A.json()}).then(A=>s(A)).catch(A=>ek(A,o,n))})})}function yh(t,e,r,n){return dt(this,void 0,void 0,function*(){return kh(t,"GET",e,r,n)})}function Ns(t,e,r,n,i){return dt(this,void 0,void 0,function*(){return kh(t,"POST",e,n,i,r)})}function _m(t,e,r,n,i){return dt(this,void 0,void 0,function*(){return kh(t,"PUT",e,n,i,r)})}function rk(t,e,r,n){return dt(this,void 0,void 0,function*(){return kh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Mw(t,e,r,n,i){return dt(this,void 0,void 0,function*(){return kh(t,"DELETE",e,n,i,r)})}class nk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return dt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ln(e))return{data:null,error:e};throw e}})}}var gS;class ik{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[gS]="BlobDownloadBuilder",this.promise=null}asStream(){return new nk(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return dt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ln(e))return{data:null,error:e};throw e}})}}gS=Symbol.toStringTag;const ak={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},v5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sk{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=jw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return dt(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},v5),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const A=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),A&&a.append("metadata",this.encodeMetadata(A)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),A&&a.append("metadata",this.encodeMetadata(A))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,A&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(A)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const l=this._removeEmptyFolders(r),c=this._getFinalPath(l),u=yield(e=="PUT"?_m:Ns)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ln(a))return{data:null,error:a};throw a}})}upload(e,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return dt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let A;const l=Object.assign({upsert:v5.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(A=new FormData,A.append("cacheControl",l.cacheControl),A.append("",n)):typeof FormData<"u"&&n instanceof FormData?(A=n,A.append("cacheControl",l.cacheControl)):(A=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);const u=yield _m(this.fetch,o.toString(),A,{headers:c});return{data:{path:a,fullPath:u.Key},error:null}}catch(A){if(this.shouldThrowOnError)throw A;if(ln(A))return{data:null,error:A};throw A}})}createSignedUploadUrl(e,r){return dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ns(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Qw("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}update(e,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return dt(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}copy(e,r,n){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ns(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return dt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ns(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return dt(this,void 0,void 0,function*(){try{const i=yield Ns(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(e),A=()=>yh(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new ik(A,this.shouldThrowOnError)}info(e){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield yh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Cm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}exists(e){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield rk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n)&&n instanceof Bm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",A=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});A!==""&&i.push(A);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}remove(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Mw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}list(e,r,n){return dt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ak),r),{prefix:e||""});return{data:yield Ns(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}listV2(e,r){return dt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ns(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const vS="2.76.1",mS={"X-Client-Info":`storage-js/${vS}`};class ok{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mS),r),this.fetch=jw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return dt(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ln(e))return{data:null,error:e};throw e}})}getBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}createBucket(e){return dt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return dt(this,void 0,void 0,function*(){try{return{data:yield _m(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}emptyBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}deleteBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Mw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}}class Ak{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mS),r),this.fetch=jw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}listBuckets(e){return dt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,a=yield yh(this.fetch,i,{headers:this.headers});return{data:Array.isArray(a)?a.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}deleteBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Mw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}}const Hw={"X-Client-Info":`storage-js/${vS}`,"Content-Type":"application/json"};class yS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ka(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class wv extends yS{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lk extends yS{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var m5;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(m5||(m5={}));const Kw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>lA(async()=>{const{default:n}=await Promise.resolve().then(()=>Hc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ck=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},y5=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uk=(t,e,r)=>dt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";e(new wv(y5(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new wv(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;e(new wv(o,i,s))}}else e(new lk(y5(t),t))}),fk=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(ck(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function dk(t,e,r,n,i,a){return dt(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,fk(e,n,i,a)).then(A=>{if(!A.ok)throw A;if(n!=null&&n.noResolveJson)return A;const l=A.headers.get("content-type");return!l||!l.includes("application/json")?{}:A.json()}).then(A=>s(A)).catch(A=>uk(A,o,n))})})}function Pa(t,e,r,n,i){return dt(this,void 0,void 0,function*(){return dk(t,"POST",e,n,i,r)})}class hk{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hw),r),this.fetch=Kw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return dt(this,void 0,void 0,function*(){try{return{data:(yield Pa(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}getIndex(e,r){return dt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ka(n))return{data:null,error:n};throw n}})}listIndexes(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return dt(this,void 0,void 0,function*(){try{return{data:(yield Pa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ka(n))return{data:null,error:n};throw n}})}}class pk{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hw),r),this.fetch=Kw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return dt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pa(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}getVectors(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}listVectors(e){return dt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pa(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}queryVectors(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}deleteVectors(e){return dt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pa(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}}class gk{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hw),r),this.fetch=Kw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:(yield Pa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}getBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}listBuckets(){return dt(this,arguments,void 0,function*(e={}){try{return{data:yield Pa(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}deleteBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:(yield Pa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}})}}class vk extends gk{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new mk(this.url,this.headers,e,this.fetch)}}class mk extends hk{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return dt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return dt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return dt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return dt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new yk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class yk extends pk{constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return dt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return dt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return dt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return dt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return dt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wk extends ok{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new sk(this.url,this.headers,e,this.fetch)}get vectors(){return new vk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ak(this.url+"/iceberg",this.headers,this.fetch)}}const xk="2.76.1";let xd="";typeof Deno<"u"?xd="deno":typeof document<"u"?xd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xd="react-native":xd="node";const bk={"X-Client-Info":`supabase-js-${xd}/${xk}`},Bk={headers:bk},Ck={schema:"public"},_k={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ek={},Sk=t=>{let e;return t?e=t:typeof fetch>"u"?e=tS:e=fetch,(...r)=>e(...r)},Ik=()=>typeof Headers>"u"?rS:Headers,Fk=(t,e,r)=>{const n=Sk(r),i=Ik();return async(a,s)=>{var o;const A=(o=await e())!==null&&o!==void 0?o:t;let l=new i(s==null?void 0:s.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${A}`),n(a,Object.assign(Object.assign({},s),{headers:l}))}};function Nk(t){return t.endsWith("/")?t:t+"/"}function Tk(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:A,auth:l,realtime:c,global:u}=e,h={db:Object.assign(Object.assign({},A),i),auth:Object.assign(Object.assign({},l),a),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Uk(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Nk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wS="2.76.1",Iu=30*1e3,Em=3,xv=Em*Iu,Ok="http://localhost:9999",Lk="supabase.auth.token",kk={"X-Client-Info":`gotrue-js/${wS}`},Sm="X-Supabase-Api-Version",xS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dk=10*60*1e3;class wh extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Rk extends wh{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Qk(t){return xt(t)&&t.name==="AuthApiError"}class vc extends wh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Tl extends wh{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class XA extends Tl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jk(t){return xt(t)&&t.name==="AuthSessionMissingError"}class fu extends Tl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class C0 extends Tl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _0 extends Tl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mk(t){return xt(t)&&t.name==="AuthImplicitGrantRedirectError"}class w5 extends Tl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Im extends Tl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function bv(t){return xt(t)&&t.name==="AuthRetryableFetchError"}class x5 extends Tl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fm extends Tl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),b5=` 	
\r=`.split(""),Hk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<b5.length;e+=1)t[b5[e].charCodeAt(0)]=-2;for(let e=0;e<_p.length;e+=1)t[_p[e].charCodeAt(0)]=e;return t})();function B5(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(_p[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(_p[n]),e.queuedBits-=6}}function bS(t,e,r){const n=Hk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function C5(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{$k(s,n,r)};for(let s=0;s<t.length;s+=1)bS(t.charCodeAt(s),i,a);return e.join("")}function Kk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vk(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Kk(n,e)}}function $k(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function af(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)bS(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Gk(t){const e=[];return Vk(t,r=>e.push(r)),new Uint8Array(e)}function Bc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>B5(i,r,n)),B5(null,r,n),e.join("")}function zk(t){return Math.round(Date.now()/1e3)+t}function Wk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Oa=()=>typeof window<"u"&&typeof document<"u",ac={tested:!1,writable:!1},BS=()=>{if(!Oa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ac.tested)return ac.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ac.tested=!0,ac.writable=!0}catch{ac.tested=!0,ac.writable=!1}return ac.writable};function qk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const CS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>lA(async()=>{const{default:n}=await Promise.resolve().then(()=>Hc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Xk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},sc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},VA=async(t,e)=>{await t.removeItem(e)};class ug{constructor(){this.promise=new ug.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ug.promiseConstructor=Promise;function Bv(t){const e=t.split(".");if(e.length!==3)throw new Fm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Pk.test(e[n]))throw new Fm("JWT not in base64url format");return{header:JSON.parse(C5(e[0])),payload:JSON.parse(C5(e[1])),signature:af(e[2]),raw:{header:e[0],payload:e[1]}}}async function Yk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Jk(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function Zk(t){return("0"+t.toString(16)).substr(-2)}function eP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Zk).join("")}async function tP(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function rP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await tP(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function du(t,e,r=!1){const n=eP();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Fu(t,`${e}-code-verifier`,i);const a=await rP(n);return[a,n===a?"plain":"s256"]}const nP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iP(t){const e=t.headers.get(Sm);if(!e||!e.match(nP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function aP(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sP(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hu(t){if(!oP.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _5(t){return JSON.parse(JSON.stringify(t))}const dc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),AP=[502,503,504];async function E5(t){var e;if(!Xk(t))throw new Im(dc(t),0);if(AP.includes(t.status))throw new Im(dc(t),t.status);let r;try{r=await t.json()}catch(a){throw new vc(dc(a),a)}let n;const i=iP(t);if(i&&i.getTime()>=xS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new x5(dc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new XA}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new x5(dc(r),t.status,r.weak_password.reasons);throw new Rk(dc(r),t.status||500,n)}const lP=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Rt(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Sm]||(a[Sm]=xS["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",A=await cP(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(A):{data:Object.assign({},A),error:null}}async function cP(t,e,r,n,i,a){const s=lP(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(A){throw console.error(A),new Im(dc(A),0)}if(o.ok||await E5(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(A){await E5(A)}}function Es(t){var e;let r=null;dP(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=zk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function S5(t){const e=Es(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function al(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uP(t){return{data:t,error:null}}function fP(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=Uf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},A=Object.assign({},s);return{data:{properties:o,user:A},error:null}}function I5(t){return t}function dP(t){return t.access_token&&t.refresh_token&&t.expires_in}const _v=["global","local","others"];class hP{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=CS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=_v[0]){if(_v.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_v.join(", ")}`);try{return await Rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:al})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Uf(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:fP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:al})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,A;try{const l={nextPage:null,lastPage:0,total:0},c=await Rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:I5});if(c.error)throw c.error;const u=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(A=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&A!==void 0?A:[];return d.length>0&&(d.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(g.split(";")[1].split("=")[1]);l[`${B}Page`]=y}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(xt(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){hu(e);try{return await Rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:al})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){hu(e);try{return await Rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:al})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){hu(e);try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:al})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){hu(e.userId);try{const{data:r,error:n}=await Rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){hu(e.userId),hu(e.id);try{return{data:await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,o,A;try{const l={nextPage:null,lastPage:0,total:0},c=await Rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:I5});if(c.error)throw c.error;const u=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(A=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&A!==void 0?A:[];return d.length>0&&(d.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(g.split(";")[1].split("=")[1]);l[`${B}Page`]=y}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(xt(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}}function F5(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const pu={debug:!!(globalThis&&BS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _S extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pP extends _S{}async function gP(t,e,r){pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),pu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pP(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function vP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ES(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function mP(t){return parseInt(t,16)}function yP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function wP(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:A,resources:l,scheme:c,uri:u,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const d=ES(t.address),g=c?`${c}://${n}`:n,y=t.statement?`${t.statement}
`:"",B=`${g} wants you to sign in with your Ethereum account:
${d}

${y}`;let v=`URI: ${u}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),A&&(v+=`
Request ID: ${A}`),l){let w=`
Resources:`;for(const x of l){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}v+=w}return`${B}
${v}`}class Pn extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ep extends Pn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function xP({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Pn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(SS(s)){if(a.rp.id!==s)return new Pn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function bP({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Pn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(SS(n)){if(r.rpId!==n)return new Pn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class BP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const CP=new BP;function _P(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Uf(t,["challenge","user","excludeCredentials"]),a=af(e).buffer,s=Object.assign(Object.assign({},r),{id:af(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let A=0;A<n.length;A++){const l=n[A];o.excludeCredentials[A]=Object.assign(Object.assign({},l),{id:af(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function EP(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Uf(t,["challenge","allowCredentials"]),i=af(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:af(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function SP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Bc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Bc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function IP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Bc(new Uint8Array(i.authenticatorData)),clientDataJSON:Bc(new Uint8Array(i.clientDataJSON)),signature:Bc(new Uint8Array(i.signature)),userHandle:i.userHandle?Bc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function SS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function N5(){var t,e;return!!(Oa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function FP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ep("Browser returned unexpected credential type",e)}:{data:null,error:new Ep("Empty credential response",e)}}catch(e){return{data:null,error:xP({error:e,options:t})}}}async function NP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ep("Browser returned unexpected credential type",e)}:{data:null,error:new Ep("Empty credential response",e)}}catch(e){return{data:null,error:bP({error:e,options:t})}}}const TP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UP={userVerification:"preferred",hints:["security-key"]};function Sp(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const o=n[a];e(o)?n[a]=Sp(o,s):n[a]=Sp(s)}else n[a]=s}return n}function OP(t,e){return Sp(TP,t,e||{})}function LP(t,e){return Sp(UP,t,e||{})}class kP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:o};const A=i??CP.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:l}=s.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${n}`),l.displayName||(l.displayName=l.name)}switch(s.webauthn.type){case"create":{const l=OP(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:c,error:u}=await FP({publicKey:l,signal:A});return c?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:u}}case"request":{const l=LP(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:c,error:u}=await NP(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:l,signal:A}));return c?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:u}}}}catch(s){return xt(s)?{data:null,error:s}:{data:null,error:new vc("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!r)return{data:null,error:new wh("rpId is required for WebAuthn authentication")};try{if(!N5())return{data:null,error:new vc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:A}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:A.type,rpId:r,rpOrigins:n,credential_response:A.credential_response}})}catch(s){return xt(s)?{data:null,error:s}:{data:null,error:new vc("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!r)return{data:null,error:new wh("rpId is required for WebAuthn registration")};try{if(!N5())return{data:null,error:new vc("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(c=>{var u;return(u=c.data)===null||u===void 0?void 0:u.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:A,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return A?this._verify({factorId:s.id,challengeId:A.challengeId,webauthn:{rpId:r,rpOrigins:n,type:A.webauthn.type,credential_response:A.webauthn.credential_response}}):{data:null,error:l}}catch(s){return xt(s)?{data:null,error:s}:{data:null,error:new vc("Unexpected error in register",s)}}}}vP();const PP={url:Ok,storageKey:Lk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function T5(t,e,r){return await r()}const gu={};class xh{get jwks(){var e,r;return(r=(e=gu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){gu[this.storageKey]=Object.assign(Object.assign({},gu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=gu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gu[this.storageKey]=Object.assign(Object.assign({},gu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xh.nextInstanceID,xh.nextInstanceID+=1,this.instanceID>0&&Oa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},PP),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hP({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=CS(i.fetch),this.lock=i.lock||T5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Oa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gP:this.lock=T5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kP(this)},this.persistSession?(i.storage?this.storage=i.storage:BS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=F5(this.memoryStorage)),Oa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=qk(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Oa()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Mk(a)){const A=(e=a.details)===null||e===void 0?void 0:e.code;if(A==="identity_already_exists"||A==="identity_not_found"||A==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xt(r)?{error:r}:{error:new vc("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Es}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const A=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",A)),{data:{user:l,session:A},error:null}}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:c,password:u,options:h}=e;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await du(this.storage,this.storageKey)),a=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:g},xform:Es})}else if("phone"in e){const{phone:c,password:u,options:h}=e;a=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:u,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Es})}else throw new C0("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const A=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",A)),{data:{user:l,session:A},error:null}}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:S5})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:S5})}else throw new C0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,o,A,l,c,u,h;let d,g;if("message"in e)d=e.message,g=e.signature;else{const{chain:y,wallet:B,statement:v,options:w}=e;let x;if(Oa())if(typeof B=="object")x=B;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")x=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=B}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),F=await x.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=ES(F[0]);let R=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const k=await x.request({method:"eth_chainId"});R=mP(k)}const D={domain:_.host,address:N,statement:v,uri:_.href,version:"1",chainId:R,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(A=w==null?void 0:w.signInWithEthereum)===null||A===void 0?void 0:A.notBefore,requestId:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};d=wP(D),g=await x.request({method:"personal_sign",params:[yP(d),N]})}try{const{data:y,error:B}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:g},!((u=e.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Es});if(B)throw B;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new fu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:B})}catch(y){if(xt(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,n,i,a,s,o,A,l,c,u,h,d;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:B,wallet:v,statement:w,options:x}=e;let _;if(Oa())if(typeof v=="object")_=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const F=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),w?{statement:w}:null));let R;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")R=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)R=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)g=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),y=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${F.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((A=x==null?void 0:x.signInWithSolana)===null||A===void 0)&&A.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((u=(c=x==null?void 0:x.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||u===void 0)&&u.length?["Resources",...x.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:B,error:v}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Bc(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Es});if(v)throw v;return!B||!B.session||!B.user?{data:{user:null,session:null},error:new fu}:(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),{data:Object.assign({},B),error:v})}catch(B){if(xt(B))return{data:{user:null,session:null},error:B};throw B}}async _exchangeCodeForSession(e){const r=await sc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Es});if(await VA(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new fu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(xt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Es}),{data:A,error:l}=o;return l?{data:{user:null,session:null},error:l}:!A||!A.session||!A.user?{data:{user:null,session:null},error:new fu}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:A,error:l})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:A}=e;let l=null,c=null;this.flowType==="pkce"&&([l,c]=await du(this.storage,this.storageKey));const{error:u}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},create_user:(n=A==null?void 0:A.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:l,code_challenge_method:c},redirectTo:A==null?void 0:A.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in e){const{phone:o,options:A}=e,{data:l,error:c}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=A==null?void 0:A.data)!==null&&i!==void 0?i:{},create_user:(a=A==null?void 0:A.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},channel:(s=A==null?void 0:A.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new C0("You must provide either an email or phone number.")}catch(o){if(xt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Es});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const A=s.session,l=s.user;return A!=null&&A.access_token&&(await this._saveSession(A),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",A)),{data:{user:l,session:A},error:null}}catch(i){if(xt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await du(this.storage,this.storageKey)),await Rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:uP})}catch(a){if(xt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new XA;const{error:i}=await Rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(xt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await Rt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await Rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new C0("You must provide either an email or phone number and a type")}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<xv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await sc(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Cv()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(A,l,c)=>(!s&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(A,l,c))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:al}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new XA}:await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:al})})}catch(r){if(xt(r))return jk(r)&&(await this._removeSession(),await VA(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new XA;const s=i.session;let o=null,A=null;this.flowType==="pkce"&&e.email!=null&&([o,A]=await du(this.storage,this.storageKey));const{data:l,error:c}=await Rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:A}),jwt:s.access_token,xform:al});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new XA;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Bv(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:A}=await this._callRefreshToken(e.refresh_token);if(A)return{data:{user:null,session:null},error:A};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:A}=await this._getUser(e.access_token);if(A)throw A;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(xt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new XA;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Oa())throw new _0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new w5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new w5("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:A,token_type:l}=e;if(!a||!o||!s||!l)throw new _0("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let h=c+u;A&&(h=parseInt(A));const d=h-c;d*1e3<=Iu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${u}s`);const g=h-u;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,c);const{data:y,error:B}=await this._getUser(a);if(B)throw B;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:u,expires_at:h,refresh_token:s,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(xt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await sc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(Qk(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await VA(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Wk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await du(this.storage,this.storageKey,!0));try{return await Rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(xt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,A,l,c;const{data:u,error:h}=a;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(A=e.options)===null||A===void 0?void 0:A.queryParams,skipBrowserRedirect:!0});return await Rt(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Oa()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:A,access_token:l,nonce:c}=e,u=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:A,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Es}),{data:h,error:d}=u;return d?{data:{user:null,session:null},error:d}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new fu}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:d})}catch(i){if(xt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Jk(async i=>(i>0&&await Yk(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Es})),(i,a)=>{const s=200*Math.pow(2,i);return a&&bv(a)&&Date.now()+s-n<Iu})}catch(n){if(this._debug(r,"error",n),xt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Oa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await sc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Fu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Cv()}else if(i&&!i.user&&!i.user){const s=await sc(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await VA(this.storage,this.storageKey+"-user"),await Fu(this.storage,this.storageKey,i)):i.user=Cv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${xv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),bv(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new XA;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ug;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new XA;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),xt(a)){const s={data:null,error:a};return bv(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(A){a.push(A)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=_5(i);await Fu(this.storage,this.storageKey,a)}else{const i=_5(r);await Fu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await VA(this.storage,this.storageKey),await VA(this.storage,this.storageKey+"-code-verifier"),await VA(this.storage,this.storageKey+"-user"),this.userStorage&&await VA(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Oa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Iu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Iu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Iu}ms, refresh threshold is ${Em} ticks`),i<=Em&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _S)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await du(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:A,error:l}=await Rt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&A.type==="totp"&&(!((i=A==null?void 0:A.totp)===null||i===void 0)&&i.qr_code)&&(A.totp.qr_code=`data:image/svg+xml;utf-8,${A.totp.qr_code}`),{data:A,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?SP(e.webauthn.credential_response):IP(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:A}=await Rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return A?{data:null,error:A}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:A})})}catch(r){if(xt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const s=await Rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:_P(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:EP(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(xt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Bv(i.access_token);let o=null;s.aal&&(o=s.aal);let A=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(A="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:A,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Dk>i)return n;const{data:a,error:s}=await Rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:d,error:g}=await this.getSession();if(g||!d.session)return{data:null,error:g};n=d.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:A}}=Bv(n);r!=null&&r.allowExpired||aP(a.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:a,header:i,signature:s},error:null}}const c=sP(i.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,Gk(`${o}.${A}`)))throw new Fm("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}}xh.nextInstanceID=0;const DP=xh;class RP extends DP{constructor(e){super(e)}}class QP{constructor(e,r,n){var i,a,s;this.supabaseUrl=e,this.supabaseKey=r;const o=Uk(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const A=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:Ck,realtime:Ek,auth:Object.assign(Object.assign({},_k),{storageKey:A}),global:Bk},c=Tk(n??{},l);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=Fk(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new OL(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new wk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new _L(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:A,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RP({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:A,debug:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new XL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jP=(t,e,r)=>new QP(t,e,r);function MP(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}MP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HP="https://pgbefqzlrvjnsymigfmv.supabase.co",KP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnYmVmcXpscnZqbnN5bWlnZm12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1MjkyMTQsImV4cCI6MjA3NzEwNTIxNH0.t32MJ9MB6nc9_BKYHs2AnyX2YASIjSbte-XRDY5KNrk",Kt=jP(HP,KP),yA=50,Ji=t=>Array.isArray(t)?t.map(e=>Ji(e)):t!==null&&t.constructor===Object?Object.keys(t).reduce((e,r)=>{const n=r.replace(/_([a-z])/g,i=>i[1].toUpperCase());return e[n]=Ji(t[r]),n!==r&&(e[r]=t[r]),e},{}):t,IS=async({page:t=1,pageSize:e=yA,searchTerm:r=""}={})=>{let n=Kt.from("products").select("*",{count:"exact"}).order("name",{ascending:!0}).range((t-1)*e,t*e-1);r&&(n=n.or(`name.ilike.%${r}%,barcode.eq.${r},sku.eq.${r}`));const{data:i,error:a,count:s}=await n;return a?(console.error("Error obteniendo productos:",a),{data:[],count:0}):{data:Ji(i),count:s}},VP=async t=>{const e={...t};"categoryId"in e&&(e.category_id=e.categoryId,delete e.categoryId),"subcategoryId"in e&&(e.subcategory_id=e.subcategoryId,delete e.subcategoryId),"unitOfMeasure"in e&&(e.unit=e.unitOfMeasure,delete e.unitOfMeasure),"image"in e&&(e.image_url=e.image,delete e.image),"expirationDate"in e&&delete e.expirationDate,"createdAt"in e&&delete e.createdAt,"updatedAt"in e&&delete e.updatedAt,"created_at"in e&&delete e.created_at,"updated_at"in e&&delete e.updated_at,"wholesalePrice"in e&&delete e.wholesalePrice,"inventoryData"in e&&delete e.inventoryData,"supplierId"in e&&(e.supplier_id=e.supplierId,delete e.supplierId),"taxRate"in e&&(e.tax_rate=e.taxRate,delete e.taxRate),"isActive"in e&&(e.is_active=e.isActive,delete e.isActive),"minStockThreshold"in e&&(e.min_stock_threshold=e.minStockThreshold,delete e.minStockThreshold),e.created_at=new Date().toISOString(),e.updated_at=new Date().toISOString();const{data:r,error:n}=await Kt.from("products").insert([e]).select("id").single();if(n)throw console.error("Error agregando producto:",n),new Error(n.message);return r.id},$P=async(t,e)=>{const r={...e};"categoryId"in r&&(r.category_id=r.categoryId,delete r.categoryId),"subcategoryId"in r&&(r.subcategory_id=r.subcategoryId,delete r.subcategoryId),"unitOfMeasure"in r&&(r.unit=r.unitOfMeasure,delete r.unitOfMeasure),"image"in r&&(r.image_url=r.image,delete r.image),"expirationDate"in r&&delete r.expirationDate,"createdAt"in r&&delete r.createdAt,"updatedAt"in r&&delete r.updatedAt,"created_at"in r&&delete r.created_at,"updated_at"in r&&delete r.updated_at,"wholesalePrice"in r&&delete r.wholesalePrice,"inventoryData"in r&&delete r.inventoryData,"supplierId"in r&&(r.supplier_id=r.supplierId,delete r.supplierId),"taxRate"in r&&(r.tax_rate=r.taxRate,delete r.taxRate),"isActive"in r&&(r.is_active=r.isActive,delete r.isActive),"minStockThreshold"in r&&(r.min_stock_threshold=r.minStockThreshold,delete r.minStockThreshold),r.updated_at=new Date().toISOString();const{error:n}=await Kt.from("products").update(r).eq("id",t);if(n)throw console.error("Error actualizando producto:",n),new Error(n.message)},FS=async t=>{const{error:e}=await Kt.from("products").delete().eq("id",t);if(e)throw console.error("Error eliminando producto:",e),new Error(e.message)},GP=async()=>{const{data:t,error:e}=await Kt.from("categories").select("*").order("name",{ascending:!0});if(e)return console.error("Error obteniendo categoras:",e),[];const r={};t.forEach(i=>{r[i.id]={...Ji(i),subcategories:[]}});const n=[];return t.forEach(i=>{i.parent_id&&r[i.parent_id]?r[i.parent_id].subcategories.push(r[i.id]):n.push(r[i.id])}),n},zP=async t=>{const e={...t};"parentId"in e&&(e.parent_id=e.parentId,delete e.parentId);const{data:r,error:n}=await Kt.from("categories").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select("id").single();if(n)throw console.error("Error agregando categora:",n),new Error(n.message);return r.id},WP=async({page:t=1,pageSize:e=yA}={})=>{const{data:r,error:n,count:i}=await Kt.from("users").select("*",{count:"exact"}).order("name",{ascending:!0}).range((t-1)*e,t*e-1);return n?(console.error("Error obteniendo usuarios:",n),{data:[],count:0}):{data:Ji(r),count:i}},qP=async t=>{const{data:e,error:r}=await Kt.from("users").select("*").eq("id",t).single();return r?(console.error("Error obteniendo usuario:",r),null):Ji(e)},XP=async t=>{var n;const{password:e,...r}=t;if(e){const{data:i,error:a}=await Kt.auth.signUp({email:r.email,password:e});if(a)throw console.error("Error creando usuario en Supabase Auth:",a),new Error(`Error creando usuario: ${a.message}`);const s=((n=i.user)==null?void 0:n.id)||i.user.id,{storeId:o,...A}=r,l={id:s,...A,store_id:o||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:c}=await Kt.from("users").insert([l]).select().single();if(c)throw await Kt.auth.admin.deleteUser(s),console.error("Error agregando usuario a la tabla personalizada:",c),new Error(c.message);return s}else{console.warn("Se intent crear un usuario sin contrasea. Esto limitar su capacidad de inicio de sesin.");const{storeId:i,...a}=r,s={...a,store_id:i||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:o,error:A}=await Kt.from("users").insert([s]).select().single();if(A)throw console.error("Error agregando usuario:",A),new Error(A.message);return o.id}},YP=async(t,e)=>{var A;const{password:r,...n}=e,{storeId:i,...a}=n,s={...a,store_id:i||null,updated_at:new Date().toISOString()},{error:o}=await Kt.from("users").update(s).eq("id",t);if(o)throw console.error("Error actualizando usuario:",o),new Error(o.message);if(r){const{data:{session:l}}=await Kt.auth.getSession();if(((A=l==null?void 0:l.user)==null?void 0:A.id)===t){const{error:c}=await Kt.auth.updateUser({password:r});if(c)throw console.error("Error actualizando contrasea en Supabase Auth:",c),c}else{const{data:c}=await Kt.from("users").select("email").eq("id",t).single();if(c!=null&&c.email){const{error:u}=await Kt.auth.resetPasswordForEmail(c.email);u?console.error("Error enviando correo de restablecimiento de contrasea:",u):console.log("Correo de restablecimiento de contrasea enviado a:",c.email)}else throw new Error("No se encontr el email del usuario para enviar correo de restablecimiento")}}},JP=async t=>{const{error:e}=await Kt.from("users").delete().eq("id",t);if(e)throw console.error("Error eliminando usuario:",e),new Error(e.message)},ZP=async()=>{const{data:t,error:e}=await Kt.from("stores").select("*").order("name",{ascending:!0});return e?(console.error("Error obteniendo tiendas:",e),[]):Ji(t)},eD=async t=>{const{data:e,error:r}=await Kt.from("stores").select("*").eq("id",t).single();return r?(console.error("Error obteniendo tienda:",r),null):Ji(e)},tD=async({page:t=1,pageSize:e=yA}={})=>{const{data:r,error:n,count:i}=await Kt.from("inventory_batches").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((t-1)*e,t*e-1);return n?(console.error("Error obteniendo lotes de inventario:",n),{data:[],count:0}):{data:Ji(r),count:i}},rD=async t=>{const e={...t};"createdAt"in e&&delete e.createdAt,"updatedAt"in e&&delete e.updatedAt,"created_at"in e&&delete e.created_at,"updated_at"in e&&delete e.updated_at,"productId"in e&&(e.product_id=e.productId,delete e.productId),"locationId"in e&&(e.location_id=e.locationId,delete e.locationId),"expirationDate"in e&&(e.expiration_date=e.expirationDate===""?null:e.expirationDate,delete e.expirationDate),"cost"in e&&(e.cost=parseFloat(e.cost)||0),"quantity"in e&&(e.quantity=parseInt(e.quantity)||0);const{data:r,error:n}=await Kt.from("inventory_batches").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error agregando lote de inventario:",n),new Error(n.message);return r.id},U5=async(t,e)=>{const r={...e};"createdAt"in r&&delete r.createdAt,"updatedAt"in r&&delete r.updatedAt,"created_at"in r&&delete r.created_at,"updated_at"in r&&delete r.updated_at,"productId"in r&&(r.product_id=r.productId,delete r.productId),"locationId"in r&&(r.location_id=r.locationId,delete r.locationId),"expirationDate"in r&&(r.expiration_date=r.expirationDate===""?null:r.expirationDate,delete r.expirationDate),"cost"in r&&(r.cost=parseFloat(r.cost)||0),"quantity"in r&&(r.quantity=parseInt(r.quantity)||0);const{error:n}=await Kt.from("inventory_batches").update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw console.error("Error actualizando lote de inventario:",n),new Error(n.message)},nD=async t=>{const{error:e}=await Kt.from("inventory_batches").delete().eq("id",t);if(e)throw console.error("Error eliminando lote de inventario:",e),new Error(e.message)},iD=async({page:t=1,pageSize:e=yA}={})=>{const{data:r,error:n,count:i}=await Kt.from("sales").select("*",{count:"exact"}).order("date",{ascending:!1}).range((t-1)*e,t*e-1);return n?(console.error("Error obteniendo ventas:",n),{data:[],count:0}):{data:Ji(r),count:i}},O5=async t=>{const e={...t};"storeId"in e&&(e.store_id=e.storeId,delete e.storeId),typeof e.cash=="boolean"&&(e.cash=(e.cash,0)),typeof e.card=="boolean"&&(e.card=(e.card,0)),typeof e.cardCommission=="boolean"&&(e.cardCommission=(e.cardCommission,0)),typeof e.commissionInCash=="boolean"&&(e.commissionInCash=e.commissionInCash?1:0),(e.cash===void 0||e.cash===null||e.cash===!1)&&(e.cash=0),(e.card===void 0||e.card===null||e.card===!1)&&(e.card=0),(e.cardCommission===void 0||e.cardCommission===null||e.cardCommission===!1)&&(e.cardCommission=0);const{data:r,error:n}=await Kt.from("sales").insert([{...e,date:new Date().toISOString(),created_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error agregando venta:",n),new Error(n.message);return r.id},aD=async({page:t=1,pageSize:e=yA}={})=>{const{data:r,error:n,count:i}=await Kt.from("clients").select("*",{count:"exact"}).order("name",{ascending:!0}).range((t-1)*e,t*e-1);return n?(console.error("Error obteniendo clientes:",n),{data:[],count:0}):{data:Ji(r),count:i}},sD=async t=>{const{data:e,error:r}=await Kt.from("clients").insert([{...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw console.error("Error agregando cliente:",r),new Error(r.message);return e.id},oD=async({page:t=1,pageSize:e=yA}={})=>{const{data:r,error:n,count:i}=await Kt.from("transfers").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((t-1)*e,t*e-1);return n?(console.error("Error obteniendo transferencias:",n),{data:[],count:0}):{data:Ji(r),count:i}},AD=async({page:t=1,pageSize:e=yA}={})=>{const{data:r,error:n,count:i}=await Kt.from("shopping_list").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((t-1)*e,t*e-1);return n?(console.error("Error obteniendo lista de compras:",n),{data:[],count:0}):{data:Ji(r),count:i}},lD=async({page:t=1,pageSize:e=yA}={})=>{const{data:r,error:n,count:i}=await Kt.from("expenses").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((t-1)*e,t*e-1);return n?(console.error("Error obteniendo gastos:",n),{data:[],count:0}):{data:Ji(r),count:i}},cD=async t=>{const e={...t};"storeId"in e&&(e.store_id=e.storeId,delete e.storeId),"createdBy"in e&&(e.created_by=e.createdBy,delete e.createdBy),e.amount!==void 0&&(e.amount=parseFloat(e.amount)||0);const{data:r,error:n}=await Kt.from("expenses").insert([{...e,updated_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error agregando gasto:",n),new Error(n.message);return r.id},uD=async t=>{const{data:e,error:r}=await Kt.from("expenses").update({status:"approved",updated_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw console.error("Error aprobando gasto:",r),new Error(r.message);return e.id},fD=async(t,e)=>{const r={...e};"storeId"in r&&(r.store_id=r.storeId,delete r.storeId),"createdBy"in r&&(r.created_by=r.createdBy,delete r.createdBy),r.amount!==void 0&&(r.amount=parseFloat(r.amount)||0);const{data:n,error:i}=await Kt.from("expenses").update({...r,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw console.error("Error actualizando gasto:",i),new Error(i.message);return n.id},dD=async(t,e,r=null,n="daily")=>{let i=Kt.from("sales").select("*").gte("date",t).lte("date",e);r&&(i=i.eq("storeId",r));const{data:a,error:s}=await i;return s?(console.error("Error obteniendo reporte de ventas:",s),null):hD(a,n,t,e)},hD=(t,e,r,n)=>{if(!t||t.length===0)return{totalSales:0,totalTransactions:0,avgTicket:0,profitMargin:0,sales:[],dateRange:{startDate:r,endDate:n}};const i={};t.forEach(l=>{const c=new Date(l.date);let u;switch(e){case"daily":u=c.toISOString().split("T")[0];break;case"weekly":const h=new Date(c);h.setDate(c.getDate()-c.getDay()),u=h.toISOString().split("T")[0];break;case"monthly":u=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`;break;default:u=c.toISOString().split("T")[0]}i[u]||(i[u]={date:u,store:l.storeId||"Desconocido",transactions:0,salesAmount:0,costAmount:0,profitAmount:0,profitMargin:0}),i[u].transactions+=1,i[u].salesAmount+=l.total||0,i[u].costAmount+=l.total?l.total*.7:0,i[u].profitAmount+=l.total?l.total*.3:0}),Object.values(i).forEach(l=>{l.profitMargin=l.salesAmount>0?l.profitAmount/l.salesAmount*100:0});const a=Object.values(i).reduce((l,c)=>l+c.salesAmount,0),s=Object.values(i).reduce((l,c)=>l+c.transactions,0),o=s>0?a/s:0,A=a>0?Object.values(i).reduce((l,c)=>l+c.profitAmount,0)/a*100:0;return{totalSales:a,totalTransactions:s,avgTicket:o,profitMargin:A,sales:Object.values(i).sort((l,c)=>new Date(l.date)-new Date(c.date)),dateRange:{startDate:r,endDate:n}}},pD=async({page:t=1,pageSize:e=yA}={})=>{const{data:r,error:n,count:i}=await Kt.from("cash_closings").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range((t-1)*e,t*e-1);return n?(console.error("Error obteniendo cierres de caja:",n),{data:[],count:0}):{data:Ji(r),count:i}},gD=async t=>{const e={...t,created_at:new Date().toISOString()},{data:r,error:n}=await Kt.from("cash_closings").insert([e]).select();if(n)throw console.error("Error guardando cierre de caja:",n),n;return r[0]},vD=async()=>{try{const{data:t,error:e}=await Kt.from("categories").select("id").limit(1);if(e)console.error("Error obteniendo categoras:",e);else if(!t||t.length===0){console.log("No categories found, creating default ones...");const i=[{name:"Abarrotes",parent_id:null},{name:"Vicio",parent_id:null},{name:"Bebidas",parent_id:null}];for(const a of i)try{await zP({...a,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch(s){console.error("Error agregando categora por defecto:",s)}}const{data:r,error:n}=await Kt.from("stores").select("id").limit(1);if(n)console.error("Error obteniendo tiendas:",n);else if(!r||r.length===0){console.log("No stores found, creating default ones...");const i=[{id:"bodega-central",name:"Bodega Central"},{id:"tienda1",name:"Tienda 1"},{id:"tienda2",name:"Tienda 2"}];for(const a of i)try{await Kt.from("stores").insert([{...a,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])}catch(s){console.error(`Error agregando tienda por defecto '${a.id}':`,s)}}}catch(t){throw console.error("Error inicializando colecciones de Supabase:",t),t}};function Nm(t){if(t==null)return!1;if(Array.isArray(t))return t.every(r=>Nm(r));const e=typeof t;return e==="string"||e==="number"||e==="boolean"||t instanceof Date||t instanceof ArrayBuffer||e==="number"&&Number.isFinite(t)}class mD{constructor(){this.dbName="POSOfflineDB",this.version=3,this.db=null}async initDB(){return new Promise((e,r)=>{const n=indexedDB.open(this.dbName,this.version);n.onerror=i=>{console.error("Database failed to open",i),r(n.error)},n.onsuccess=()=>{this.db=n.result,console.log("Database opened successfully"),e(this.db)},n.onupgradeneeded=i=>{const a=i.target.result,s=i.oldVersion,o=i.newVersion;if(!a.objectStoreNames.contains("products")){const A=a.createObjectStore("products",{keyPath:"id"});A.createIndex("name","name",{unique:!1}),A.createIndex("category","category",{unique:!1})}if(a.objectStoreNames.contains("inventory")&&a.deleteObjectStore("inventory"),!a.objectStoreNames.contains("inventoryBatches")){const A=a.createObjectStore("inventoryBatches",{keyPath:"inventoryId"});A.createIndex("productId","productId",{unique:!1}),A.createIndex("locationId","locationId",{unique:!1})}if(!a.objectStoreNames.contains("sales")){const A=a.createObjectStore("sales",{keyPath:"id"});A.createIndex("date","date",{unique:!1}),A.createIndex("cashier","cashier",{unique:!1})}a.objectStoreNames.contains("categories")||a.createObjectStore("categories",{keyPath:"id"}).createIndex("name","name",{unique:!1}),a.objectStoreNames.contains("carts")||a.createObjectStore("carts",{keyPath:"id"}),a.objectStoreNames.contains("users")||a.createObjectStore("users",{keyPath:"id"}),a.objectStoreNames.contains("stores")||a.createObjectStore("stores",{keyPath:"id"}),a.objectStoreNames.contains("clients")||a.createObjectStore("clients",{keyPath:"id"}),a.objectStoreNames.contains("pendingSales")||a.createObjectStore("pendingSales",{keyPath:"id"}),console.log(`Database setup complete, version: ${s} -> ${o}`)}})}async addData(e,r){return this.db||await this.initDB(),new Promise((n,i)=>{const o=this.db.transaction([e],"readwrite").objectStore(e).add(r);o.onsuccess=()=>{console.log(`${e} data added successfully`),n(o.result)},o.onerror=A=>{console.error(`Error adding ${e} data`,A.target.error);const l=A.target.error;l&&l.name==="DataError"&&(console.error("DataError: This usually means the object does not have the correct key property for the store"),console.error("Ensure the data object has the correct key property for the object store")),i(l)}})}async getData(e,r){return this.db||await this.initDB(),new Promise((n,i)=>{const s=this.db.transaction([e],"readonly").objectStore(e);if(!Nm(r)){i(new Error(`Invalid key provided: ${r}`));return}const o=s.get(r);o.onsuccess=()=>{n(o.result)},o.onerror=A=>{console.error(`Error getting ${e} data`,A.target.error),i(A.target.error)}})}async updateData(e,r,n){return this.db||await this.initDB(),new Promise((i,a)=>{const o=this.db.transaction([e],"readwrite").objectStore(e),A=e==="carts"&&r==="current_cart"?{...n,id:r}:e==="inventoryBatches"?{...n,inventoryId:r||n.inventoryId}:{...n,id:r||n.id};if(o.keyPath){const l=o.put(A);l.onsuccess=()=>{console.log(`${e} data updated successfully`),i(l.result)},l.onerror=c=>{console.error(`Error updating ${e} data`,c.target.error),a(c.target.error)}}else{const l=o.put(A,r);l.onsuccess=()=>{console.log(`${e} data updated successfully`),i(l.result)},l.onerror=c=>{console.error(`Error updating ${e} data`,c.target.error),a(c.target.error)}}})}async deleteData(e,r){return this.db||await this.initDB(),new Promise((n,i)=>{const s=this.db.transaction([e],"readwrite").objectStore(e);if(!Nm(r)){i(new Error(`Invalid key provided: ${r}`));return}const o=s.delete(r);o.onsuccess=()=>{console.log(`${e} data deleted successfully`),n(o.result)},o.onerror=A=>{console.error(`Error deleting ${e} data`,A.target.error),i(A.target.error)}})}async getAllData(e){return this.db||await this.initDB(),new Promise((r,n)=>{const s=this.db.transaction([e],"readonly").objectStore(e).getAll();s.onsuccess=()=>{r(s.result)},s.onerror=o=>{console.error(`Error getting all ${e} data`,o.target.error),n(o.target.error)}})}async saveCart(e){try{await this.updateData("carts","current_cart",e),console.log("Cart saved successfully")}catch(r){throw console.error("Error saving cart:",r),r}}async getSavedCart(){try{const e=await this.getData("carts","current_cart");return console.log("Cart retrieved successfully"),e||null}catch(e){return console.error("Error getting saved cart:",e),null}}async clearCart(){try{await this.deleteData("carts","current_cart"),console.log("Cart cleared successfully")}catch(e){throw console.error("Error clearing cart:",e),e}}async saveSale(e){try{const r=e.id||`sale_${Date.now()}`,n={...e,id:r};return await this.addData("sales",n),console.log("Sale saved successfully"),r}catch(r){throw console.error("Error saving sale:",r),r}}async getSavedSales(){try{const e=await this.getAllData("sales");return console.log(`Retrieved ${e.length} saved sales`),e}catch(e){return console.error("Error getting saved sales:",e),[]}}async clearSales(){try{const e=await this.getAllData("sales");for(const r of e)await this.deleteData("sales",r.id);console.log("Sales cleared successfully")}catch(e){throw console.error("Error clearing sales:",e),e}}async saveProduct(e){try{await this.addData("products",e),console.log("Product saved successfully")}catch(r){throw console.error("Error saving product:",r),r}}async getSavedProducts(){try{const e=await this.getAllData("products");return console.log(`Retrieved ${e.length} saved products`),e}catch(e){return console.error("Error getting saved products:",e),[]}}async syncWithServer(){try{const e=await this.getSavedSales(),r=await this.getSavedProducts();return{salesCount:e.length,productsCount:r.length}}catch(e){throw console.error("Error during sync:",e),e}}static isSupported(){return!!window.indexedDB}}const ar=new mD;class yD{constructor(){this.container=null,this.init()}init(){document.getElementById("notification-container")?this.container=document.getElementById("notification-container"):(this.container=document.createElement("div"),this.container.id="notification-container",this.container.className="fixed top-4 right-4 z-50 space-y-2",document.body.appendChild(this.container))}show(e,r="info",n=3e3){const i=document.createElement("div");let a="bg-gray-800";r==="success"&&(a="bg-green-600"),r==="error"&&(a="bg-red-600"),r==="warning"&&(a="bg-yellow-600"),r==="info"&&(a="bg-blue-600"),i.className=`notification-item px-4 py-3 rounded-lg shadow-lg text-white max-w-xs ${a} flex items-start`,i.innerHTML=`
      <div class="flex-1">${e}</div>
      <button class="ml-3 text-white opacity-70 hover:opacity-100 text-xl"></button>
    `,this.container.appendChild(i);const s=i.querySelector("button");s.onclick=()=>{i.remove()},setTimeout(()=>{i.parentNode&&i.remove()},n)}success(e,r){this.show(e,"success",r)}error(e,r){this.show(e,"error",r)}warning(e,r){this.show(e,"warning",r)}info(e,r){this.show(e,"info",r)}}const E0=new yD,zt=FE((t,e)=>({currentUser:null,currentView:"login",activeTab:"pos",cart:[],discount:{type:"none",value:0},note:"",lastSale:null,darkMode:!0,isOnline:navigator.onLine,offlineMode:!1,products:[],categories:[],users:[],stores:[],clients:[],inventoryBatches:[],transfers:[],salesHistory:[],expenses:[],shoppingList:[],cashClosings:[],salesReport:null,setLoading:(r,n)=>t(i=>({isLoading:{...i.isLoading,[r]:n}})),setDiscount:r=>t({discount:r}),setNote:r=>t({note:r}),clearLastSale:()=>t({lastSale:null}),addToShoppingList:(r,n=0)=>t(i=>{const a={id:`sl-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,description:r,expectedCost:n,actualCost:0,isPurchased:!1,isProduct:!1};return{shoppingList:[...i.shoppingList,a]}}),updateShoppingListItem:(r,n)=>t(i=>{console.log("useAppStore: Updating shopping list item:",r,n);const a=i.shoppingList.map(s=>s.id===r?{...s,...n}:s);return console.log("useAppStore: Shopping list after update:",a),{shoppingList:a}}),removeShoppingListItem:r=>t(n=>{console.log("useAppStore: Removing shopping list item:",r);const i=n.shoppingList.filter(a=>a.id!==r);return console.log("useAppStore: Shopping list after removal:",i),{shoppingList:i}}),generateExpenseFromShoppingList:async()=>{const{shoppingList:r,addExpense:n}=e(),i=r.filter(o=>o.isPurchased);if(console.log("useAppStore: Items marked as purchased:",i),i.length===0)return console.warn("No items marked as purchased in the shopping list."),{success:!1,message:"No hay elementos marcados como comprados."};const a=i.reduce((o,A)=>o+(parseFloat(A.actualCost)||0),0),s=`Compras miscelneas (${i.map(o=>o.description).join(", ")})`;console.log("useAppStore: Total amount for expense:",a),console.log("useAppStore: Expense description:",s);try{return await n({description:s,amount:a,type:"Gasto Operativo"}),t(o=>{const A=o.shoppingList.filter(l=>!l.isPurchased);return console.log("useAppStore: Shopping list after expense generation (purchased items removed):",A),{shoppingList:A}}),{success:!0,message:"Gasto generado exitosamente."}}catch(o){return console.error("Error generating expense from shopping list:",o),{success:!1,message:`Error al generar el gasto: ${o.message}`}}},toggleDarkMode:()=>{console.log("Dark mode toggle is disabled")},updateNetworkStatus:r=>{t({isOnline:r,offlineMode:!r}),r&&e().syncPendingOperations()},initNetworkListeners:()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),window.addEventListener("online",()=>{e().updateNetworkStatus(!0)}),window.addEventListener("offline",()=>{e().updateNetworkStatus(!1)})},syncPendingOperations:async()=>{try{const r=await ar.getAllData("pendingSales");if(r&&r.length>0){console.log(`Syncing ${r.length} pending sales...`);for(const n of r)try{const{id:i,status:a,createdAt:s,...o}=n,A=await O5(o);await ar.deleteData("pendingSales",n.id),console.log(`Successfully synced sale ${n.id} with new ID ${A}`)}catch(i){console.error(`Error syncing sale ${n.id}:`,i)}await e().loadSalesHistory()}}catch(r){console.error("Error syncing pending sales:",r)}console.log("Finished syncing pending operations")},loadProducts:async()=>{t({isLoading:{...e().isLoading,products:!0}});try{if(e().isOnline){const{data:r}=await IS(),n=r.map(i=>({...i,categoryId:i.category_id||i.categoryId,subcategoryId:i.subcategory_id||i.subcategoryId,name:i.name||i.nombre||i.productName,description:i.description||i.descripcion,price:i.price||i.precio||0,cost:i.cost||i.costo||0,sku:i.sku||i.SKU,barcode:i.barcode||i.codigo_barras,unit:i.unit||i.unidad||i.unitOfMeasure,category_id:i.category_id||i.categoryId,subcategory_id:i.subcategory_id||i.subcategoryId}));t({products:n}),await Promise.all(n.map(i=>ar.updateData("products",i.id,i)))}else{const n=(await ar.getAllData("products")).map(i=>({...i,categoryId:i.category_id||i.categoryId,subcategoryId:i.subcategory_id||i.subcategoryId}));t({products:n})}}catch(r){console.error("Error loading products:",r);try{const i=(await ar.getAllData("products")).map(a=>({...a,categoryId:a.category_id||a.categoryId,subcategoryId:a.subcategory_id||a.subcategoryId}));t({products:i})}catch(n){console.error("Error loading products from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,products:!1}})}},loadCategories:async()=>{t({isLoading:{...e().isLoading,categories:!0}});try{if(e().isOnline){const r=await GP();t({categories:r}),await Promise.all(r.map(n=>ar.updateData("categories",n.id,n)))}else{const r=await ar.getAllData("categories");t({categories:r})}}catch(r){console.error("Error loading categories:",r);try{const n=await ar.getAllData("categories");t({categories:n})}catch(n){console.error("Error loading categories from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,categories:!1}})}},loadUsers:async()=>{t({isLoading:{...e().isLoading,users:!0}});try{if(e().isOnline){const{data:r}=await WP(),n=r.map(i=>({...i,storeId:i.store_id||i.storeId,storeName:i.store_name||i.storeName,store_id:i.store_id||i.storeId,store_name:i.store_name||i.storeName}));t({users:n}),await Promise.all(n.map(i=>ar.updateData("users",i.id,i)))}else{const n=(await ar.getAllData("users")).map(i=>({...i,storeId:i.store_id||i.storeId,storeName:i.store_name||i.storeName}));t({users:n})}}catch(r){console.error("Error loading users:",r);try{const i=(await ar.getAllData("users")).map(a=>({...a,storeId:a.store_id||a.storeId,storeName:a.store_name||a.storeName}));t({users:i})}catch(n){console.error("Error loading users from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,users:!1}})}},loadStores:async()=>{t({isLoading:{...e().isLoading,stores:!0}});try{if(e().isOnline){const r=await ZP();t({stores:r}),await Promise.all(r.map(n=>ar.updateData("stores",n.id,n)))}else{const r=await ar.getAllData("stores");t({stores:r})}}catch(r){console.error("Error loading stores:",r);try{const n=await ar.getAllData("stores");t({stores:n})}catch(n){console.error("Error loading stores from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,stores:!1}})}},loadInventoryBatches:async()=>{t({isLoading:{...e().isLoading,inventory:!0}});try{if(e().isOnline){const{data:r}=await tD(),n=r.map(i=>({...i,inventoryId:i.id||i.inventoryId,productId:i.product_id||i.productId||i.productId,locationId:i.location_id||i.locationId||i.storeId,quantity:i.quantity||0,expirationDate:i.expiration_date||i.expirationDate,cost:i.cost||i.cost||0,product_id:i.product_id||i.productId,location_id:i.location_id||i.locationId,expiration_date:i.expiration_date||i.expirationDate}));t({inventoryBatches:n}),await Promise.all(n.map(i=>ar.updateData("inventoryBatches",i.inventoryId,i)))}else{const n=(await ar.getAllData("inventoryBatches")).map(i=>({...i,productId:i.product_id||i.productId||i.productId,locationId:i.location_id||i.locationId||i.storeId,expirationDate:i.expiration_date||i.expirationDate}));t({inventoryBatches:n})}}catch(r){console.error("Error loading inventory batches:",r);try{const i=(await ar.getAllData("inventoryBatches")).map(a=>({...a,productId:a.product_id||a.productId,locationId:a.location_id||a.locationId,expirationDate:a.expiration_date||a.expirationDate}));t({inventoryBatches:i})}catch(n){console.error("Error loading inventory batches from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,inventory:!1}})}},loadSalesHistory:async()=>{t({isLoading:{...e().isLoading,sales:!0}});try{if(e().isOnline){const{data:r}=await iD();t({salesHistory:r});const n=r.slice(0,100);await Promise.all(n.map(i=>ar.updateData("sales",i.saleId,i)))}else{const r=await ar.getAllData("sales");t({salesHistory:r})}}catch(r){console.error("Error loading sales history:",r);try{const n=await ar.getAllData("sales");t({salesHistory:n})}catch(n){console.error("Error loading sales from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,sales:!1}})}},loadClients:async()=>{t({isLoading:{...e().isLoading,clients:!0}});try{if(e().isOnline){const{data:r}=await aD();t({clients:r}),await Promise.all(r.map(n=>ar.updateData("clients",n.id,n)))}else{const r=await ar.getAllData("clients");t({clients:r})}}catch(r){console.error("Error loading clients:",r);try{const n=await ar.getAllData("clients");t({clients:n})}catch(n){console.error("Error loading clients from offline storage:",n)}}finally{t({isLoading:{...e().isLoading,clients:!1}})}},loadTransfers:async()=>{try{const{data:r}=await oD();t({transfers:r})}catch(r){console.error("Error loading transfers:",r)}},loadShoppingList:async()=>{try{const{data:r}=await AD();t({shoppingList:r})}catch(r){console.error("Error loading shopping list:",r)}},loadExpenses:async()=>{try{const{data:r}=await lD();t({expenses:r})}catch(r){console.error("Error loading expenses:",r)}},loadCashClosings:async()=>{try{const{data:r}=await pD();t({cashClosings:r})}catch(r){console.error("Error loading cash closings:",r)}},addCashClosing:async r=>{try{const n=await gD(r);return t(i=>({cashClosings:[n,...i.cashClosings]})),n}catch(n){throw console.error("Error adding cash closing:",n),n}},addExpense:async r=>{try{const n=await cD(r);return await e().loadExpenses(),{success:!0,id:n}}catch(n){return console.error("Error adding expense:",n),{success:!1,error:n.message}}},notifyAdminsOfPendingExpense:r=>{var n,i;if("Notification"in window&&Notification.permission==="granted")try{new Notification("Nuevo gasto pendiente de aprobacin",{body:`Concepto: ${r.concept}
Monto: $${r.amount}
Usuario: ${((n=e().currentUser)==null?void 0:n.name)||((i=e().currentUser)==null?void 0:i.email)||"Desconocido"}`,icon:"/favicon.ico",tag:"pending-expense-"+Date.now()})}catch(a){console.error("Error al mostrar notificacin de escritorio:",a)}else alert(`Nuevo gasto pendiente de aprobacin: ${r.concept} - Monto: $${r.amount}`);console.log("Notificacin de gasto pendiente:",r)},approveExpense:async r=>{try{return await uD(r),await e().loadExpenses(),{success:!0}}catch(n){return console.error("Error approving expense:",n),{success:!1,error:n.message}}},updateExpense:async(r,n)=>{try{const i=await fD(r,{...n,updated_at:new Date().toISOString()});return await e().loadExpenses(),{success:!0,id:i}}catch(i){return console.error("Error updating expense:",i),{success:!1,error:i.message}}},fetchSalesReport:async({startDate:r,endDate:n,storeId:i=null,reportType:a="daily"})=>{try{t({isLoading:{...e().isLoading,salesReport:!0}});const s=await dD(r,n,i,a);return t({salesReport:s}),s}catch(s){return console.error("Error fetching sales report:",s),null}finally{t({isLoading:{...e().isLoading,salesReport:!1}})}},addClient:async r=>{try{const n=await sD({...r,creditBalance:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return await e().loadClients(),{success:!0,id:n}}catch(n){return console.error("Error adding client:",n),{success:!1,error:n.message}}},updateClient:async(r,n)=>{try{return await e().loadClients(),{success:!0}}catch(i){return console.error("Error updating client:",i),{success:!1,error:i.message}}},deleteClient:async r=>{try{return await e().loadClients(),{success:!0}}catch(n){return console.error("Error deleting client:",n),{success:!1,error:n.message}}},addUser:async r=>{const{password:n,name:i,email:a,...s}=r;if(!i||i.trim()==="")return{success:!1,error:"El nombre es requerido"};if(!a||!/\S+@\S+\.\S+/.test(a))return{success:!1,error:"Email invlido"};if(!n||n.length<6)return{success:!1,error:"La contrasea debe tener al menos 6 caracteres"};try{const o=await XP(r);return await e().loadUsers(),E0.success(`Usuario ${i} creado exitosamente. El usuario recibir un correo de confirmacin.`),{success:!0,userId:o}}catch(o){return console.error("Error adding user:",o),alert(`Error al crear el usuario: ${o.message}`),{success:!1,error:o.message}}},updateUser:async(r,n)=>{const{password:i,name:a,email:s,...o}=n;if(a&&a.trim()==="")return{success:!1,error:"El nombre no puede estar vaco"};if(s&&!/\S+@\S+\.\S+/.test(s))return{success:!1,error:"Email invlido"};if(i&&i.length<6)return{success:!1,error:"La contrasea debe tener al menos 6 caracteres"};try{await YP(r,n),await e().loadUsers();const{users:A}=e(),l=A.find(c=>c.id===r);if(i){const{currentUser:c}=e();(c==null?void 0:c.id)===r?E0.success("Perfil actualizado exitosamente. Contrasea cambiada."):E0.success(`Perfil de ${(l==null?void 0:l.name)||"usuario"} actualizado. Se ha enviado un correo de restablecimiento de contrasea.`)}else E0.success(`Perfil de ${(l==null?void 0:l.name)||"usuario"} actualizado exitosamente.`);return{success:!0}}catch(A){return console.error("Error updating user:",A),alert(`Error al actualizar el usuario: ${A.message}`),{success:!1,error:A.message}}},deleteUser:async r=>{try{return await JP(r),await e().loadUsers(),{success:!0}}catch(n){return console.error("Error deleting user:",n),{success:!1,error:n.message}}},addProduct:async r=>{try{const n=await VP({...r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return await e().loadProducts(),{success:!0,id:n}}catch(n){return console.error("Error adding product:",n),{success:!1,error:n.message}}},updateProduct:async(r,n)=>{try{return await $P(r,n),await e().loadProducts(),{success:!0}}catch(i){return console.error("Error updating product:",i),{success:!1,error:i.message}}},deleteProduct:async r=>{try{return await FS(r),await e().loadProducts(),{success:!0}}catch(n){return console.error("Error deleting product:",n),{success:!1,error:n.message}}},addInventoryBatch:async r=>{try{const n=await rD({...r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return await e().loadInventoryBatches(),{success:!0,id:n}}catch(n){return console.error("Error adding inventory batch:",n),{success:!1,error:n.message}}},updateInventoryBatch:async(r,n)=>{try{return await U5(r,n),await e().loadInventoryBatches(),{success:!0}}catch(i){return console.error("Error updating inventory batch:",i),{success:!1,error:i.message}}},deleteInventoryBatch:async r=>{try{return await nD(r),await e().loadInventoryBatches(),{success:!0}}catch(n){return console.error("Error deleting inventory batch:",n),{success:!1,error:n.message}}},grantCredit:async(r,n)=>{try{return await e().loadClients(),{success:!0}}catch(i){return console.error("Error granting credit:",i),{success:!1,error:i.message}}},recordPayment:async(r,n)=>{try{return await e().loadClients(),{success:!0}}catch(i){return console.error("Error recording payment:",i),{success:!1,error:i.message}}},liquidateCredit:async r=>{try{return await e().loadClients(),{success:!0}}catch(n){return console.error("Error liquidating credit:",n),{success:!1,error:n.message}}},loadTransfers:async()=>{const r=await ar.getAllData("transfers");t({transfers:r})},createTransfer:async r=>{const{currentUser:n}=e(),i={...r,id:`TR-${Date.now()}`,requestedBy:n.uid,createdAt:new Date().toISOString(),status:"solicitado",history:[{status:"solicitado",date:new Date().toISOString(),userId:n.uid}]};await ar.updateData("transfers",i.id,i),t(a=>({transfers:[...a.transfers,i]}))},confirmTransferShipment:async(r,n)=>{const{currentUser:i,transfers:a}=e(),s=a.find(A=>A.id===r);if(!s)return;const o={...s,status:"enviado",items:s.items.map(A=>{const l=n.find(c=>c.productId===A.productId);return{...A,sentQuantity:l?l.quantity:0}}),history:[...s.history,{status:"enviado",date:new Date().toISOString(),userId:i.uid}]};await ar.updateData("transfers",r,o),t(A=>({transfers:A.transfers.map(l=>l.id===r?o:l)}))},confirmTransferReception:async(r,n)=>{const{currentUser:i,transfers:a}=e(),s=a.find(A=>A.id===r);if(!s)return;const o={...s,status:"recibido",items:s.items.map(A=>{const l=n.find(c=>c.productId===A.productId);return{...A,receivedQuantity:l?l.quantity:0}}),history:[...s.history,{status:"recibido",date:new Date().toISOString(),userId:i.uid}]};await ar.updateData("transfers",r,o),t(A=>({transfers:A.transfers.map(l=>l.id===r?o:l)}))},addReminder:r=>{const n={...r,id:`rem-${Date.now()}`,isConcluded:!1,createdAt:new Date().toISOString()};t(i=>({reminders:[...i.reminders,n]}))},alerts:[],reminders:[],alertSettings:{daysBeforeExpiration:30,cardCommissionRate:.04},isWeightModalOpen:!1,weighingProduct:null,openWeightModal:r=>t({isWeightModalOpen:!0,weighingProduct:r}),closeWeightModal:()=>t({isWeightModalOpen:!1,weighingProduct:null}),addToCartWithWeight:(r,n)=>{const{currentUser:i,inventoryBatches:a,cart:s}=e(),o=i==null?void 0:i.storeId;if(!o){console.error("No store ID found for current user. Cannot add to cart.");return}const A=a.filter(c=>c.productId===r.id&&c.locationId===o).reduce((c,u)=>c+u.quantity,0);if(n>A){console.warn(`Cannot add ${n} of ${r.name} to cart. Insufficient stock.`);return}const l=s.findIndex(c=>c.id===r.id);if(l>=0){const c=[...s];c[l]={...c[l],quantity:c[l].quantity+n},t({cart:c})}else{const c={...r,quantity:n,unit:r.unit||"kg"};t(u=>({cart:[...u.cart,c]}))}ar.saveCart(e().cart)},handleLogin:async(r,n)=>{try{const{data:i,error:a}=await Kt.auth.signInWithPassword({email:r,password:n});if(a)return a.message.includes("Invalid login credentials")||a.message.includes("Invalid email/phone")?{success:!1,error:"Usuario o contrasea incorrectos"}:{success:!1,error:`Error de autenticacin: ${a.message}`};if(!i||!i.user)return{success:!1,error:"Error de autenticacin: No se recibi informacin de usuario"};const s=await qP(i.user.id);if(s){let o="Tienda no asignada";if(s.storeId){const A=await eD(s.storeId);A?o=A.name:console.warn(`Store with ID ${s.storeId} not found for user ${s.name}.`)}return t({currentUser:{...s,storeId:s.storeId||s.store_id,storeName:o},currentView:s.role==="admin"||s.role==="gerente"?"admin-dashboard":"pos"}),{success:!0,user:s}}else return{success:!1,error:"Usuario no encontrado en la base de datos"}}catch(i){return{success:!1,error:`Error de autenticacin: ${i.message}`}}},handleLogout:()=>{t({currentUser:null,currentView:"login",cart:[],discount:{type:"none",value:0},note:"",lastSale:null})},setCurrentView:r=>t({currentView:r}),setActiveTab:r=>t({activeTab:r}),addToCart:r=>{const{currentUser:n,inventoryBatches:i,cart:a}=e(),s=(n==null?void 0:n.storeId)||"1";let o=0;if(i&&i.length>0?o=i.filter(A=>String(A.productId)===String(r.id)&&String(A.locationId)===String(s)).reduce((A,l)=>A+l.quantity,0):o=1/0,o===1/0)t(A=>A.cart.find(c=>c.id===r.id)?{cart:A.cart.map(c=>c.id===r.id?{...c,quantity:c.quantity+1}:c)}:{cart:[...A.cart,{...r,quantity:1}]});else{const A=a.find(c=>c.id===r.id);if((A?A.quantity:0)>=o){console.warn(`Cannot add more ${r.name} to cart. Stock limit reached.`);return}t(c=>c.cart.find(h=>h.id===r.id)?{cart:c.cart.map(h=>h.id===r.id?{...h,quantity:h.quantity+1}:h)}:{cart:[...c.cart,{...r,quantity:1}]})}ar.saveCart(e().cart)},removeFromCart:r=>{t(n=>({cart:n.cart.filter(i=>i.id!==r)})),ar.saveCart(e().cart)},updateCartItemQuantity:(r,n)=>{t(i=>({cart:i.cart.map(a=>a.id===r?{...a,quantity:n}:a).filter(a=>a.quantity>0)})),ar.saveCart(e().cart)},handleCheckout:async r=>{const{cart:n,currentUser:i,inventoryBatches:a,discount:s,note:o,isOnline:A}=e(),{cash:l,card:c,cardCommission:u,commissionInCash:h}=r,d=i==null?void 0:i.storeId;if(!d){console.error("Checkout failed: No store ID for current user.");return}let g=JSON.parse(JSON.stringify(a));for(const w of n){let x=w.quantity;const _=g.filter(F=>F.productId===w.id&&F.locationId===d).sort((F,N)=>new Date(F.expirationDate)-new Date(N.expirationDate));for(const F of _){if(x<=0)break;const N=Math.min(x,F.quantity);F.quantity-=N,x-=N}}const y=n.reduce((w,x)=>w+x.price*x.quantity,0);let B=y;s.type==="percentage"?B=y*(1-s.value/100):s.type==="amount"&&(B=y-s.value),u>0&&!h&&(B+=u);const v={cart:n.map(w=>({...w})),subtotal:y,discount:s,note:o,total:B,cash:l,card:c,cardCommission:u,commissionInCash:h,cashier:i?i.name:"Unknown",storeId:d,date:new Date().toISOString()};if(!A){const w=`offline-sale-${Date.now()}`,x={...v,id:w,status:"pending",createdAt:new Date().toISOString()};return await ar.updateData("pendingSales",w,x),await Promise.all(g.map(_=>ar.updateData("inventoryBatches",_.inventoryId,_))),t({cart:[],lastSale:{...v,saleId:w},salesHistory:[...e().salesHistory,{...v,saleId:w}],discount:{type:"none",value:0},note:"",inventoryBatches:g.filter(_=>_.quantity>0)}),{success:!0,saleId:w,offline:!0}}try{const w=await O5(v),x=g.map(async _=>{const F=a.find(N=>N.id===_.id);F&&F.quantity!==_.quantity&&await U5(_.id,{quantity:_.quantity})});return await Promise.all(x),await e().loadInventoryBatches(),t({cart:[],lastSale:{...v,saleId:w},salesHistory:[...e().salesHistory,{...v,saleId:w}],discount:{type:"none",value:0},note:""}),{success:!0,saleId:w}}catch(w){return console.error("Error processing checkout:",w),{success:!1,error:w.message}}},recordEmployeeConsumption:(r,n)=>{const{products:i,addExpense:a,updateProduct:s}=e(),o=i.find(u=>u.id===r);if(!o){console.error(`Product with id ${r} not found.`);return}const A=(o.cost||0)*n,l={date:new Date().toISOString(),description:`Consumo de empleado: ${n} x ${o.name}`,amount:A,category:"Egreso por Consumo",status:"Aprobado"};a(l);const c=(o.stock||0)-n;s(r,{stock:c})},checkAllAlerts:async()=>{console.warn("checkAllAlerts is temporarily disabled for performance reasons and needs to be refactored.")},ticketSettings:{headerText:"Gracias por tu compra!",footerText:"Vuelve pronto.",showQrCode:!0,fontSize:"base",logoUrl:""},updateTicketSettings:r=>{t(n=>{const i={...n.ticketSettings,...r};return console.log("Saving ticketSettings to localStorage:",i),localStorage.setItem("ticketSettings",JSON.stringify(i)),{ticketSettings:i}})},updateAlertSettings:r=>{t(n=>{const i={...n.alertSettings,...r};return console.log("Saving alertSettings to localStorage:",i),localStorage.setItem("alertSettings",JSON.stringify(i)),{alertSettings:i}})}})),wD=()=>{const[t,e]=X.useState(""),[r,n]=X.useState(""),[i,a]=X.useState(null),s=mA(),{handleLogin:o}=zt(),A=async l=>{l.preventDefault(),a(null);const c=await o(t,r);c.success?c.user.role==="admin"||c.user.role==="gerente"?s("/admin"):c.user.role==="cajera"&&s("/pos/1"):a(c.error)};return f.jsx("div",{className:"min-h-screen bg-[#1D1D27] flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[f.jsx("img",{src:"/src/utils/logopos.png",alt:"Logo RACOM POS",className:"w-12 h-12 object-contain"}),f.jsx("h1",{className:"text-3xl font-bold text-[#F0F0F0]",children:"RACOM POS"})]}),f.jsx("p",{className:"text-[#a0a0b0]",children:"Sistema de Punto de Venta"})]}),f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-8",children:[f.jsxs("form",{onSubmit:A,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(mh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-5 h-5"}),f.jsx("input",{type:"email",value:t,onChange:l=>e(l.target.value),placeholder:"Ingresa tu email",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg pl-10 pr-4 py-3 focus:border-[#8A2BE2] outline-none transition-colors",required:!0,"data-testid":"email-input"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Contrasea"}),f.jsxs("div",{className:"relative",children:[f.jsx(wE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-5 h-5"}),f.jsx("input",{type:"password",value:r,onChange:l=>n(l.target.value),placeholder:"Ingresa tu contrasea",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg pl-10 pr-4 py-3 focus:border-[#8A2BE2] outline-none transition-colors",required:!0,"data-testid":"password-input"})]})]}),i&&f.jsx("div",{className:"text-red-500 text-sm text-center","data-testid":"error-message",children:i}),f.jsx("button",{type:"submit",className:"w-full bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-3 rounded-lg transition-colors","data-testid":"login-button",children:"Iniciar Sesin"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("p",{className:"text-[#a0a0b0] text-sm",children:"No recuerdas tus credenciales? Contacta al administrador."})})]})]})})},xD=()=>{const t=[{title:"Ventas Hoy",value:"$12,450",change:"+12.5%",icon:yp,iconColor:"text-green-500",bgColor:"bg-green-500 bg-opacity-20"},{title:"Pedidos",value:"142",change:"+8.2%",icon:yf,iconColor:"text-blue-500",bgColor:"bg-blue-500 bg-opacity-20"},{title:"Clientes",value:"1,248",change:"+3.1%",icon:xp,iconColor:"text-purple-500",bgColor:"bg-purple-500 bg-opacity-20"},{title:"Inventario",value:"89%",change:"-2.3%",icon:Rs,iconColor:"text-orange-500",bgColor:"bg-orange-500 bg-opacity-20"}],e=[{name:"Punto de Venta",icon:yf,color:"bg-[#8A2BE2]",link:"/pos/1"},{name:"Productos",icon:Rs,color:"bg-orange-500",link:"/products"},{name:"Inventario",icon:Rs,color:"bg-green-500",link:"/inventory"},{name:"Reportes",icon:yp,color:"bg-blue-500",link:"/reports"},{name:"Gastos",icon:SE,color:"bg-yellow-500",link:"/expenses"},{name:"Traslados",icon:EE,color:"bg-purple-500",link:"/transfers"},{name:"Clientes",icon:xp,color:"bg-pink-500",link:"/clients"}];return f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Panel de Administracin"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((r,n)=>{const i=r.icon;return f.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-[#a0a0b0] font-medium",children:r.title}),f.jsx("div",{className:`w-10 h-10 ${r.bgColor} rounded-lg flex items-center justify-center`,children:f.jsx(i,{className:`w-5 h-5 ${r.iconColor}`})})]}),f.jsx("p",{className:"text-2xl font-bold text-[#F0F0F0]",children:r.value}),f.jsxs("p",{className:`text-sm flex items-center ${r.change.startsWith("+")?"text-green-500":"text-red-500"}`,children:[r.change.startsWith("+")?f.jsx(wp,{className:"w-3 h-3 mr-1"}):f.jsx(_E,{className:"w-3 h-3 mr-1"}),r.change," vs ayer"]})]},n)})}),f.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Acciones Rpidas"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map((r,n)=>{const i=r.icon;return f.jsxs(vh,{to:r.link,className:"flex flex-col items-center justify-center p-4 bg-[#1D1D27] rounded-lg border border-[#3a3a4a] hover:bg-[#3a3a4a] transition-colors",children:[f.jsx("div",{className:`${r.color} w-12 h-12 rounded-lg flex items-center justify-center mb-2`,children:f.jsx(i,{className:"w-6 h-6 text-white"})}),f.jsx("span",{className:"text-[#F0F0F0] text-sm font-medium",children:r.name})]},n)})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Ventas Recientes"}),f.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(r=>f.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-[#3a3a4a] last:border-none",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-[#F0F0F0] font-medium",children:["Venta #",String(r).padStart(4,"0")]}),f.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:["Cliente: Cliente ",r]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-[#8A2BE2] font-bold",children:["$",(r*125.75).toFixed(2)]}),f.jsxs("p",{className:"text-[#a0a0b0] text-xs",children:["Hace ",r,"h"]})]})]},r))})]}),f.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Productos con Bajo Stock"}),f.jsx("div",{className:"space-y-4",children:[{name:"Producto 1",stock:5,min:10},{name:"Producto 2",stock:3,min:8},{name:"Producto 3",stock:7,min:15},{name:"Producto 4",stock:2,min:5}].map((r,n)=>f.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-[#3a3a4a] last:border-none",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[#F0F0F0] font-medium",children:r.name}),f.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:["Mnimo: ",r.min]})]}),f.jsx("span",{className:`font-bold ${r.stock<=r.min*.5?"text-red-500":r.stock<=r.min?"text-yellow-500":"text-green-500"}`,children:r.stock})]},n))})]})]})]})},ot=({children:t,onClick:e,className:r="",variant:n="primary",size:i="md",disabled:a=!1})=>{const{darkMode:s}=zt(),o={sm:"px-3 py-2 text-sm rounded-lg",md:"px-4 py-3 text-base rounded-lg",lg:"px-6 py-4 text-lg rounded-xl"},A=()=>{let l=`${o[i]} font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 `;switch(a?l+="opacity-50 cursor-not-allowed ":l+="cursor-pointer hover:opacity-90 active:scale-[0.98] ",n){case"primary":return l+"bg-[#7c4dff] text-white hover:bg-[#5b2ecb] shadow-card "+r;case"secondary":return l+"bg-[#2c2c2c] text-[#c0c0c0] border border-[#404040] hover:bg-[#404040] shadow-card "+r;case"success":return l+"bg-[#00c853] text-white hover:bg-[#00a844] shadow-card "+r;case"danger":return l+"bg-[#ff5252] text-white hover:bg-[#e04040] shadow-card "+r;case"outline":return l+"bg-transparent border border-[#7c4dff] text-[#7c4dff] hover:bg-[#7c4dff]/10 shadow-card "+r;case"ghost":return l+"bg-transparent text-[#c0c0c0] hover:bg-[#2c2c2c] "+r;default:return l+r}};return f.jsx("button",{onClick:e,className:A(),disabled:a,children:t})},Sr=({type:t="text",placeholder:e,value:r,onChange:n,className:i="",icon:a,prefix:s,...o})=>{const{darkMode:A}=zt(),l=`w-full ${a?"pl-12":s?"pl-10":"pl-4"} pr-4 py-3 border border-[#404040] rounded-xl focus:ring-2 focus:ring-[#7c4dff] focus:border-[#7c4dff] bg-[#202020] text-[#f5f5f5] transition-all duration-200 shadow-sm focus:shadow-md ${i}`;return f.jsxs("div",{className:"relative flex items-center",children:[a&&f.jsx(a,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-5 h-5 text-[#a0a0a0]"}),s&&f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#a0a0a0] pl-3",children:s}),f.jsx("input",{type:t,placeholder:e,value:r,onChange:n,className:l,...o})]})},vu=({children:t,className:e="",header:r,title:n,subtitle:i})=>{const{darkMode:a}=zt(),s=`bg-[#202020] border border-[#333333] rounded-xl shadow-card p-6 ${e}`;return f.jsxs("div",{className:s,children:[(n||i)&&f.jsxs("div",{className:"mb-4",children:[n&&f.jsx("h3",{className:"font-bold text-[#f5f5f5] text-lg",children:n}),i&&f.jsx("p",{className:"text-sm text-[#a0a0a0]",children:i})]}),t]})},yn=({isOpen:t,onClose:e,title:r,children:n})=>{const{darkMode:i}=zt();return t?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-md mx-auto transition-all duration-200 relative",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 p-6 pb-0",children:[f.jsx("h2",{className:"text-xl font-bold text-[#F0F0F0]",children:r}),f.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-[#3a3a4a] text-[#a0a0b0]","aria-label":"Cerrar",children:f.jsx(ya,{size:20})})]}),f.jsx("div",{className:"px-6 pb-6 overflow-y-auto max-h-[70vh]",children:n})]})}):null};var fg={},NS={exports:{}},bD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BD=bD,CD=BD;function TS(){}function US(){}US.resetWarningCache=TS;var _D=function(){function t(n,i,a,s,o,A){if(A!==CD){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:US,resetWarningCache:TS};return r.PropTypes=r,r};NS.exports=_D();var Vw=NS.exports;const zu=Uy(Vw);var OS={L:1,M:0,Q:3,H:2},LS={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},ED=LS;function kS(t){this.mode=ED.MODE_8BIT_BYTE,this.data=t}kS.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var SD=kS,S0=OS;function fo(t,e){this.totalCount=t,this.dataCount=e}fo.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];fo.getRSBlocks=function(t,e){var r=fo.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=new Array,a=0;a<n;a++)for(var s=r[a*3+0],o=r[a*3+1],A=r[a*3+2],l=0;l<s;l++)i.push(new fo(o,A));return i};fo.getRsBlockTable=function(t,e){switch(e){case S0.L:return fo.RS_BLOCK_TABLE[(t-1)*4+0];case S0.M:return fo.RS_BLOCK_TABLE[(t-1)*4+1];case S0.Q:return fo.RS_BLOCK_TABLE[(t-1)*4+2];case S0.H:return fo.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var ID=fo;function PS(){this.buffer=new Array,this.length=0}PS.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var FD=PS,Ls={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ls.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ls.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var gi=0;gi<8;gi++)Ls.EXP_TABLE[gi]=1<<gi;for(var gi=8;gi<256;gi++)Ls.EXP_TABLE[gi]=Ls.EXP_TABLE[gi-4]^Ls.EXP_TABLE[gi-5]^Ls.EXP_TABLE[gi-6]^Ls.EXP_TABLE[gi-8];for(var gi=0;gi<255;gi++)Ls.LOG_TABLE[Ls.EXP_TABLE[gi]]=gi;var DS=Ls,oc=DS;function E1(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}E1.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=oc.gexp(oc.glog(this.get(r))+oc.glog(t.get(n)));return new E1(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=oc.glog(this.get(0))-oc.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=oc.gexp(oc.glog(t.get(n))+e);return new E1(r,0).mod(t)}};var RS=E1,Xa=LS,L5=RS,ND=DS,$A={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ui={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;ui.getBCHDigit(e)-ui.getBCHDigit(ui.G15)>=0;)e^=ui.G15<<ui.getBCHDigit(e)-ui.getBCHDigit(ui.G15);return(t<<10|e)^ui.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ui.getBCHDigit(e)-ui.getBCHDigit(ui.G18)>=0;)e^=ui.G18<<ui.getBCHDigit(e)-ui.getBCHDigit(ui.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ui.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case $A.PATTERN000:return(e+r)%2==0;case $A.PATTERN001:return e%2==0;case $A.PATTERN010:return r%3==0;case $A.PATTERN011:return(e+r)%3==0;case $A.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case $A.PATTERN101:return e*r%2+e*r%3==0;case $A.PATTERN110:return(e*r%2+e*r%3)%2==0;case $A.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new L5([1],0),r=0;r<t;r++)e=e.multiply(new L5([1,ND.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Xa.MODE_NUMBER:return 10;case Xa.MODE_ALPHA_NUM:return 9;case Xa.MODE_8BIT_BYTE:return 8;case Xa.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Xa.MODE_NUMBER:return 12;case Xa.MODE_ALPHA_NUM:return 11;case Xa.MODE_8BIT_BYTE:return 16;case Xa.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Xa.MODE_NUMBER:return 14;case Xa.MODE_ALPHA_NUM:return 13;case Xa.MODE_8BIT_BYTE:return 16;case Xa.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var a=0,s=t.isDark(n,i),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var A=-1;A<=1;A++)i+A<0||e<=i+A||o==0&&A==0||s==t.isDark(n+o,i+A)&&a++;a>5&&(r+=3+a-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var c=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&c++;var u=Math.abs(100*c/e/e-50)/5;return r+=u*10,r}},TD=ui,UD=SD,QS=ID,jS=FD,Ul=TD,OD=RS;function ho(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Ka=ho.prototype;Ka.addData=function(t){var e=new UD(t);this.dataList.push(e),this.dataCache=null};Ka.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};Ka.getModuleCount=function(){return this.moduleCount};Ka.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=QS.getRSBlocks(t,this.errorCorrectLevel),r=new jS,n=0,i=0;i<e.length;i++)n+=e[i].dataCount;for(var i=0;i<this.dataList.length;i++){var a=this.dataList[i];r.put(a.mode,4),r.put(a.getLength(),Ul.getLengthInBits(a.mode,t)),a.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};Ka.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ho.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};Ka.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};Ka.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ul.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};Ka.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var a=0;a<this.modules.length;a++)for(var s=a*i,o=0;o<this.modules[a].length;o++){var A=o*i,l=this.modules[a][o];l&&(n.beginFill(0,100),n.moveTo(A,s),n.lineTo(A+i,s),n.lineTo(A+i,s+i),n.lineTo(A,s+i),n.endFill())}return n};Ka.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};Ka.setupPositionAdjustPattern=function(){for(var t=Ul.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)a==-2||a==2||s==-2||s==2||a==0&&s==0?this.modules[n+a][i+s]=!0:this.modules[n+a][i+s]=!1}};Ka.setupTypeNumber=function(t){for(var e=Ul.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Ka.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ul.getBCHTypeInfo(r),i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(var i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!t};Ka.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var o=0;o<2;o++)if(this.modules[n][s-o]==null){var A=!1;a<t.length&&(A=(t[a]>>>i&1)==1);var l=Ul.getMask(e,n,s-o);l&&(A=!A),this.modules[n][s-o]=A,i--,i==-1&&(a++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};ho.PAD0=236;ho.PAD1=17;ho.createData=function(t,e,r){for(var n=QS.getRSBlocks(t,e),i=new jS,a=0;a<r.length;a++){var s=r[a];i.put(s.mode,4),i.put(s.getLength(),Ul.getLengthInBits(s.mode,t)),s.write(i)}for(var o=0,a=0;a<n.length;a++)o+=n[a].dataCount;if(i.getLengthInBits()>o*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+o*8+")");for(i.getLengthInBits()+4<=o*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=o*8||(i.put(ho.PAD0,8),i.getLengthInBits()>=o*8));)i.put(ho.PAD1,8);return ho.createBytes(i,n)};ho.createBytes=function(t,e){for(var r=0,n=0,i=0,a=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var A=e[o].dataCount,l=e[o].totalCount-A;n=Math.max(n,A),i=Math.max(i,l),a[o]=new Array(A);for(var c=0;c<a[o].length;c++)a[o][c]=255&t.buffer[c+r];r+=A;var u=Ul.getErrorCorrectPolynomial(l),h=new OD(a[o],u.getLength()-1),d=h.mod(u);s[o]=new Array(u.getLength()-1);for(var c=0;c<s[o].length;c++){var g=c+d.getLength()-s[o].length;s[o][c]=g>=0?d.get(g):0}}for(var y=0,c=0;c<e.length;c++)y+=e[c].totalCount;for(var B=new Array(y),v=0,c=0;c<n;c++)for(var o=0;o<e.length;o++)c<a[o].length&&(B[v++]=a[o][c]);for(var c=0;c<i;c++)for(var o=0;o<e.length;o++)c<s[o].length&&(B[v++]=s[o][c]);return B};var LD=ho,$w={};Object.defineProperty($w,"__esModule",{value:!0});var kD=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PD=Vw,Ya=HS(PD),MS=X,I0=HS(MS);function HS(t){return t&&t.__esModule?t:{default:t}}function DD(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var RD={bgColor:Ya.default.oneOfType([Ya.default.object,Ya.default.string]).isRequired,bgD:Ya.default.string.isRequired,fgColor:Ya.default.oneOfType([Ya.default.object,Ya.default.string]).isRequired,fgD:Ya.default.string.isRequired,size:Ya.default.number.isRequired,title:Ya.default.string,viewBoxSize:Ya.default.number.isRequired,xmlns:Ya.default.string},Gw=(0,MS.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,i=t.fgD,a=t.fgColor,s=t.size,o=t.title,A=t.viewBoxSize,l=t.xmlns,c=l===void 0?"http://www.w3.org/2000/svg":l,u=DD(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return I0.default.createElement("svg",kD({},u,{height:s,ref:e,viewBox:"0 0 "+A+" "+A,width:s,xmlns:c}),o?I0.default.createElement("title",null,o):null,I0.default.createElement("path",{d:n,fill:r}),I0.default.createElement("path",{d:i,fill:a}))});Gw.displayName="QRCodeSvg";Gw.propTypes=RD;$w.default=Gw;Object.defineProperty(fg,"__esModule",{value:!0});fg.QRCode=void 0;var QD=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jD=Vw,Xo=Ph(jD),MD=OS,HD=Ph(MD),KD=LD,VD=Ph(KD),KS=X,$D=Ph(KS),GD=$w,zD=Ph(GD);function Ph(t){return t&&t.__esModule?t:{default:t}}function WD(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var qD={bgColor:Xo.default.oneOfType([Xo.default.object,Xo.default.string]),fgColor:Xo.default.oneOfType([Xo.default.object,Xo.default.string]),level:Xo.default.string,size:Xo.default.number,value:Xo.default.string.isRequired},dg=(0,KS.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,i=t.fgColor,a=i===void 0?"#000000":i,s=t.level,o=s===void 0?"L":s,A=t.size,l=A===void 0?256:A,c=t.value,u=WD(t,["bgColor","fgColor","level","size","value"]),h=new VD.default(-1,HD.default[o]);h.addData(c),h.make();var d=h.modules;return $D.default.createElement(zD.default,QD({},u,{bgColor:n,bgD:d.map(function(g,y){return g.map(function(B,v){return B?"":"M "+v+" "+y+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:d.map(function(g,y){return g.map(function(B,v){return B?"M "+v+" "+y+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:l,viewBoxSize:d.length}))});fg.QRCode=dg;dg.displayName="QRCode";dg.propTypes=qD;var XD=fg.default=dg;const YD="/assets/logo-CEwvjxCT.png",VS=({saleDetails:t})=>{const{cart:e,total:r,date:n,saleId:i,subtotal:a,discount:s,note:o}=t,{ticketSettings:A}=zt(),{headerText:l,footerText:c,showQrCode:u,fontSize:h,logoUrl:d}=A;return f.jsxs("div",{className:`bg-white p-6 rounded-lg shadow-lg max-w-sm mx-auto my-4 font-mono text-${h} text-gray-900`,children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("img",{src:d||YD,alt:"Store Logo",className:"mx-auto h-16 mb-2"}),f.jsx("h2",{className:"text-lg font-bold",children:l}),f.jsx("p",{children:"Ticket de Venta"}),f.jsx("p",{className:"text-xs",children:new Date(n).toLocaleString()}),f.jsxs("p",{className:"text-xs",children:["Venta ID: ",i]})]}),f.jsx("div",{className:"border-t border-b border-gray-300 py-2 mb-2",children:e.map(g=>f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("span",{children:[g.quantity," x ",g.name]}),f.jsxs("span",{children:["$",(g.quantity*g.price).toFixed(2)]})]},g.id))}),o&&f.jsxs("div",{className:"border-b border-gray-300 py-2 mb-2 text-left",children:[f.jsx("p",{className:"text-xs font-semibold",children:"Nota:"}),f.jsx("p",{className:"text-xs",children:o})]}),f.jsxs("div",{className:"flex justify-between font-bold text-base mb-4",children:[f.jsx("span",{children:"SUBTOTAL"}),f.jsxs("span",{children:["$",a.toFixed(2)]})]}),s.type!=="none"&&f.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[f.jsxs("span",{children:["Descuento (",s.type==="percentage"?`${s.value}%`:`$${s.value.toFixed(2)}`,")"]}),f.jsxs("span",{children:["-$",(a-r).toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between font-bold text-base mb-4",children:[f.jsx("span",{children:"TOTAL"}),f.jsxs("span",{children:["$",r.toFixed(2)]})]}),f.jsxs("div",{className:"text-center text-xs text-gray-600",children:[f.jsx("p",{children:c}),u&&f.jsx("div",{className:"mt-2 p-2 bg-gray-100 rounded flex justify-center",children:f.jsx(XD,{value:`http://your-app.com/sale/${i}`,size:64,level:"H"})})]})]})};var $S={exports:{}};(function(t,e){(function(r,n){t.exports=n(X)})(typeof self<"u"?self:UF,function(r){return function(){var n={155:function(w){w.exports=r}},i={};function a(w){var x=i[w];if(x!==void 0)return x.exports;var _=i[w]={exports:{}};return n[w](_,_.exports,a),_.exports}a.d=function(w,x){for(var _ in x)a.o(x,_)&&!a.o(w,_)&&Object.defineProperty(w,_,{enumerable:!0,get:x[_]})},a.o=function(w,x){return Object.prototype.hasOwnProperty.call(w,x)},a.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var s={};a.r(s),a.d(s,{useReactToPrint:function(){return v}});var o=a(155);const A="printWindow";function l({level:w="error",messages:x,suppressErrors:_=!1}){_||(w==="error"?console.error(x):w==="warning"?console.warn(x):console.debug(x))}function c(w,x){if(x||!w){const _=document.getElementById(A);_&&document.body.removeChild(_)}}function u(w){return w instanceof Error?w:new Error("Unknown Error")}function h(w,x){const{documentTitle:_,onAfterPrint:F,onPrintError:N,preserveAfterPrint:R,print:D,suppressErrors:k}=x;setTimeout(()=>{var V,T;if(w.contentWindow){let O=function(){F==null||F(),c(R)};if(w.contentWindow.focus(),D)D(w).then(O).catch(K=>{N?N("print",u(K)):l({messages:["An error was thrown by the specified `print` function"],suppressErrors:k})});else{if(w.contentWindow.print){const K=(T=(V=w.contentDocument)===null||V===void 0?void 0:V.title)!==null&&T!==void 0?T:"",q=w.ownerDocument.title;_&&(w.ownerDocument.title=_,w.contentDocument&&(w.contentDocument.title=_)),w.contentWindow.print(),_&&(w.ownerDocument.title=q,w.contentDocument&&(w.contentDocument.title=K))}else l({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:k});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(K=>{var q,ie;return((ie=(q=navigator.userAgent)!==null&&q!==void 0?q:navigator.vendor)!==null&&ie!==void 0?ie:"opera"in window&&window.opera).match(K)})?setTimeout(O,500):O()}}else l({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:k})},500)}function d(w){const x=[],_=document.createTreeWalker(w,NodeFilter.SHOW_ELEMENT,null);let F=_.nextNode();for(;F;)x.push(F),F=_.nextNode();return x}function g(w,x,_){const F=d(w),N=d(x);if(F.length===N.length)for(let R=0;R<F.length;R++){const D=F[R],k=N[R],V=D.shadowRoot;if(V!==null){const T=k.attachShadow({mode:V.mode});T.innerHTML=V.innerHTML,g(V,T,_)}}else l({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",w,x],suppressErrors:_})}const y=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function B(w,x,_,F){var N,R,D,k,V;const{contentNode:T,clonedContentNode:O,clonedImgNodes:K,clonedVideoNodes:q,numResourcesToLoad:ie,originalCanvasNodes:fe}=_,{bodyClass:de,fonts:te,ignoreGlobalStyles:ce,pageStyle:Ce,nonce:be,suppressErrors:P,copyShadowRoots:H}=F;w.onload=null;const z=(N=w.contentDocument)!==null&&N!==void 0?N:(R=w.contentWindow)===null||R===void 0?void 0:R.document;if(z){const ne=z.body.appendChild(O);H&&g(T,ne,!!P),te&&(!((D=w.contentDocument)===null||D===void 0)&&D.fonts&&(!((k=w.contentWindow)===null||k===void 0)&&k.FontFace)?te.forEach(Qe=>{const Ue=new FontFace(Qe.family,Qe.source,{weight:Qe.weight,style:Qe.style});w.contentDocument.fonts.add(Ue),Ue.loaded.then(()=>{x(Ue)}).catch(Be=>{x(Ue,["Failed loading the font:",Ue,"Load error:",u(Be)])})}):(te.forEach(Qe=>{x(Qe)}),l({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:P})));const oe=Ce??y,he=z.createElement("style");be&&(he.setAttribute("nonce",be),z.head.setAttribute("nonce",be)),he.appendChild(z.createTextNode(oe)),z.head.appendChild(he),de&&z.body.classList.add(...de.split(" "));const Ee=z.querySelectorAll("canvas");for(let Qe=0;Qe<fe.length;++Qe){const Ue=fe[Qe],Be=Ee[Qe];if(Be===void 0){l({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Ue],suppressErrors:P});continue}const G=Be.getContext("2d");G&&G.drawImage(Ue,0,0)}for(let Qe=0;Qe<K.length;Qe++){const Ue=K[Qe],Be=Ue.getAttribute("src");if(Be){const G=new Image;G.onload=()=>{x(Ue)},G.onerror=(He,tt,Je,De,ze)=>{x(Ue,["Error loading <img>",Ue,"Error",ze])},G.src=Be}else x(Ue,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Ue])}for(let Qe=0;Qe<q.length;Qe++){const Ue=q[Qe];Ue.preload="auto";const Be=Ue.getAttribute("poster");if(Be){const G=new Image;G.onload=()=>{x(Ue)},G.onerror=(He,tt,Je,De,ze)=>{x(Ue,["Error loading video poster",Be,"for video",Ue,"Error:",ze])},G.src=Be}else Ue.readyState>=2?x(Ue):Ue.src?(Ue.onloadeddata=()=>{x(Ue)},Ue.onerror=(G,He,tt,Je,De)=>{x(Ue,["Error loading video",Ue,"Error",De])},Ue.onstalled=()=>{x(Ue,["Loading video stalled, skipping",Ue])}):x(Ue,["Error loading video, `src` is empty",Ue])}const _e="select",Se=T.querySelectorAll(_e),Pe=z.querySelectorAll(_e);for(let Qe=0;Qe<Se.length;Qe++)Pe[Qe].value=Se[Qe].value;if(!ce){const Qe=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Ue=0,Be=Qe.length;Ue<Be;++Ue){const G=Qe[Ue];if(G.tagName.toLowerCase()==="style"){const He=z.createElement(G.tagName),tt=G.sheet;if(tt){let Je="";try{const De=tt.cssRules.length;for(let ze=0;ze<De;++ze)typeof tt.cssRules[ze].cssText=="string"&&(Je+=`${tt.cssRules[ze].cssText}\r
`)}catch(De){l({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",G,`Original error: ${u(De).message}`],level:"warning"})}He.setAttribute("id",`react-to-print-${Ue}`),be&&He.setAttribute("nonce",be),He.appendChild(z.createTextNode(Je)),z.head.appendChild(He)}}else if(G.getAttribute("href"))if(G.hasAttribute("disabled"))l({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",G],level:"warning"}),x(G);else{const He=z.createElement(G.tagName);for(let tt=0,Je=G.attributes.length;tt<Je;++tt){const De=G.attributes[tt];De&&He.setAttribute(De.nodeName,(V=De.nodeValue)!==null&&V!==void 0?V:"")}He.onload=()=>{x(He)},He.onerror=(tt,Je,De,ze,$e)=>{x(He,["Failed to load",He,"Error:",$e])},be&&He.setAttribute("nonce",be),z.head.appendChild(He)}else l({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",G],level:"warning"}),x(G)}}}ie===0&&h(w,F)}function v({bodyClass:w,contentRef:x,copyShadowRoots:_,documentTitle:F,fonts:N,ignoreGlobalStyles:R,nonce:D,onAfterPrint:k,onBeforePrint:V,onPrintError:T,pageStyle:O,preserveAfterPrint:K,print:q,printIframeProps:ie,suppressErrors:fe}){return(0,o.useCallback)(te=>{function ce(){const Ce={bodyClass:w,contentRef:x,copyShadowRoots:_,documentTitle:F,fonts:N,ignoreGlobalStyles:R,nonce:D,onAfterPrint:k,onPrintError:T,pageStyle:O,preserveAfterPrint:K,print:q,suppressErrors:fe},be=function(z){const ne=document.createElement("iframe");return ne.width=`${document.documentElement.clientWidth}px`,ne.height=`${document.documentElement.clientHeight}px`,ne.style.position="absolute",ne.style.top=`-${document.documentElement.clientHeight+100}px`,ne.style.left=`-${document.documentElement.clientWidth+100}px`,ne.id=A,ne.srcdoc="<!DOCTYPE html>",z&&(z.allow&&(ne.allow=z.allow),z.referrerPolicy!==void 0&&(ne.referrerPolicy=z.referrerPolicy),z.sandbox!==void 0&&(ne.sandbox=z.sandbox)),ne}(ie),P=function(z,ne){const{contentRef:oe,fonts:he,ignoreGlobalStyles:Ee,suppressErrors:_e}=ne,Se=function({contentRef:He,optionalContent:tt,suppressErrors:Je}){return tt&&typeof tt=="function"?(He&&l({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),tt()):He?He.current:void l({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Je})}({contentRef:oe,optionalContent:z,suppressErrors:_e});if(!Se)return;const Pe=Se.cloneNode(!0),Qe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Ue=Pe.querySelectorAll("img"),Be=Pe.querySelectorAll("video"),G=he?he.length:0;return{contentNode:Se,clonedContentNode:Pe,clonedImgNodes:Ue,clonedVideoNodes:Be,numResourcesToLoad:(Ee?0:Qe.length)+Ue.length+Be.length+G,originalCanvasNodes:Se.querySelectorAll("canvas")}}(te,Ce);if(!P)return void l({messages:["There is nothing to print"],suppressErrors:fe});const H=function(z,ne,oe){const{suppressErrors:he}=z,Ee=[],_e=[];return function(Se,Pe){Ee.includes(Se)?l({level:"debug",messages:["Tried to mark a resource that has already been handled",Se],suppressErrors:he}):(Pe?(l({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Pe],suppressErrors:he}),_e.push(Se)):Ee.push(Se),Ee.length+_e.length===ne&&h(oe,z))}}(Ce,P.numResourcesToLoad,be);(function(z,ne,oe,he){z.onload=()=>{B(z,ne,oe,he)},document.body.appendChild(z)})(be,H,P,Ce)}c(K,!0),V?V().then(()=>{ce()}).catch(Ce=>{T==null||T("onBeforePrint",u(Ce))}):ce()},[w,x,_,F,N,R,D,k,V,T,O,K,q,fe])}return s}()})})($S);var GS=$S.exports;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tm=function(t,e){return Tm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Tm(t,e)};function $s(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Um=function(){return Um=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Um.apply(this,arguments)};function qi(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(u){s(u)}}function A(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){c.done?a(c.value):i(c.value).then(o,A)}l((n=n.apply(t,[])).next())})}function Oi(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function F0(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}var gA=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),hg=function(t,e){return gA.fromClientRect(t,e.getBoundingClientRect())},JD=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new gA(0,0,n,i)},pg=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Sn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var s=t[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},k5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ZD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var N0=0;N0<k5.length;N0++)ZD[k5.charCodeAt(N0)]=N0;var P5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var T0=0;T0<P5.length;T0++)bd[P5.charCodeAt(T0)]=T0;var eR=function(t){var e=t.length*.75,r=t.length,n,i=0,a,s,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)a=bd[t.charCodeAt(n)],s=bd[t.charCodeAt(n+1)],o=bd[t.charCodeAt(n+2)],A=bd[t.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},tR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},rR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Ic=5,zw=11,Ev=2,nR=zw-Ic,zS=65536>>Ic,iR=1<<Ic,Sv=iR-1,aR=1024>>Ic,sR=zS+aR,oR=sR,AR=32,lR=oR+AR,cR=65536>>zw,uR=1<<nR,fR=uR-1,D5=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},dR=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},hR=function(t,e){var r=eR(t),n=Array.isArray(r)?rR(r):new Uint32Array(r),i=Array.isArray(r)?tR(r):new Uint16Array(r),a=24,s=D5(i,a/2,n[4]/2),o=n[5]===2?D5(i,(a+n[4])/2):dR(n,Math.ceil((a+n[4])/4));return new pR(n[0],n[1],n[2],n[3],s,o)},pR=function(){function t(e,r,n,i,a,s){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Ic],r=(r<<Ev)+(e&Sv),this.data[r];if(e<=65535)return r=this.index[zS+(e-55296>>Ic)],r=(r<<Ev)+(e&Sv),this.data[r];if(e<this.highStart)return r=lR-cR+(e>>zw),r=this.index[r],r+=e>>Ic&fR,r=this.index[r],r=(r<<Ev)+(e&Sv),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),R5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var U0=0;U0<R5.length;U0++)gR[R5.charCodeAt(U0)]=U0;var vR="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Q5=50,mR=1,WS=2,qS=3,yR=4,wR=5,j5=7,XS=8,M5=9,Al=10,Om=11,H5=12,Lm=13,xR=14,Bd=15,km=16,O0=17,Ad=18,bR=19,K5=20,Pm=21,ld=22,Iv=23,mu=24,Ua=25,Cd=26,_d=27,yu=28,BR=29,mc=30,CR=31,L0=32,k0=33,Dm=34,Rm=35,Qm=36,bh=37,jm=38,S1=39,I1=40,Fv=41,YS=42,_R=43,ER=[9001,65288],JS="!",Xt="",P0="",Mm=hR(vR),Yo=[mc,Qm],Hm=[mR,WS,qS,wR],ZS=[Al,XS],V5=[_d,Cd],SR=Hm.concat(ZS),$5=[jm,S1,I1,Dm,Rm],IR=[Bd,Lm],FR=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(a,s){var o=Mm.get(a);if(o>Q5?(i.push(!0),o-=Q5):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(s),r.push(km);if(o===yR||o===Om){if(s===0)return n.push(s),r.push(mc);var A=r[s-1];return SR.indexOf(A)===-1?(n.push(n[s-1]),r.push(A)):(n.push(s),r.push(mc))}if(n.push(s),o===CR)return r.push(e==="strict"?Pm:bh);if(o===YS||o===BR)return r.push(mc);if(o===_R)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(bh):r.push(mc);r.push(o)}),[n,r,i]},Nv=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=r;a<=n.length;){a++;var s=n[a];if(s===e)return!0;if(s!==Al)break}if(i===Al)for(var a=r;a>0;){a--;var o=n[a];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var s=n[A];if(s===e)return!0;if(s!==Al)break}if(o!==Al)break}return!1},G5=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Al)r--;else return n}return 0},NR=function(t,e,r,n,i){if(r[n]===0)return Xt;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return Xt;var s=a-1,o=a+1,A=e[a],l=s>=0?e[s]:0,c=e[o];if(A===WS&&c===qS)return Xt;if(Hm.indexOf(A)!==-1)return JS;if(Hm.indexOf(c)!==-1||ZS.indexOf(c)!==-1)return Xt;if(G5(a,e)===XS)return P0;if(Mm.get(t[a])===Om||(A===L0||A===k0)&&Mm.get(t[o])===Om||A===j5||c===j5||A===M5||[Al,Lm,Bd].indexOf(A)===-1&&c===M5||[O0,Ad,bR,mu,yu].indexOf(c)!==-1||G5(a,e)===ld||Nv(Iv,ld,a,e)||Nv([O0,Ad],Pm,a,e)||Nv(H5,H5,a,e))return Xt;if(A===Al)return P0;if(A===Iv||c===Iv)return Xt;if(c===km||A===km)return P0;if([Lm,Bd,Pm].indexOf(c)!==-1||A===xR||l===Qm&&IR.indexOf(A)!==-1||A===yu&&c===Qm||c===K5||Yo.indexOf(c)!==-1&&A===Ua||Yo.indexOf(A)!==-1&&c===Ua||A===_d&&[bh,L0,k0].indexOf(c)!==-1||[bh,L0,k0].indexOf(A)!==-1&&c===Cd||Yo.indexOf(A)!==-1&&V5.indexOf(c)!==-1||V5.indexOf(A)!==-1&&Yo.indexOf(c)!==-1||[_d,Cd].indexOf(A)!==-1&&(c===Ua||[ld,Bd].indexOf(c)!==-1&&e[o+1]===Ua)||[ld,Bd].indexOf(A)!==-1&&c===Ua||A===Ua&&[Ua,yu,mu].indexOf(c)!==-1)return Xt;if([Ua,yu,mu,O0,Ad].indexOf(c)!==-1)for(var u=a;u>=0;){var h=e[u];if(h===Ua)return Xt;if([yu,mu].indexOf(h)!==-1)u--;else break}if([_d,Cd].indexOf(c)!==-1)for(var u=[O0,Ad].indexOf(A)!==-1?s:a;u>=0;){var h=e[u];if(h===Ua)return Xt;if([yu,mu].indexOf(h)!==-1)u--;else break}if(jm===A&&[jm,S1,Dm,Rm].indexOf(c)!==-1||[S1,Dm].indexOf(A)!==-1&&[S1,I1].indexOf(c)!==-1||[I1,Rm].indexOf(A)!==-1&&c===I1||$5.indexOf(A)!==-1&&[K5,Cd].indexOf(c)!==-1||$5.indexOf(c)!==-1&&A===_d||Yo.indexOf(A)!==-1&&Yo.indexOf(c)!==-1||A===mu&&Yo.indexOf(c)!==-1||Yo.concat(Ua).indexOf(A)!==-1&&c===ld&&ER.indexOf(t[o])===-1||Yo.concat(Ua).indexOf(c)!==-1&&A===Ad)return Xt;if(A===Fv&&c===Fv){for(var d=r[a],g=1;d>0&&(d--,e[d]===Fv);)g++;if(g%2!==0)return Xt}return A===L0&&c===k0?Xt:P0},TR=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=FR(t,e.lineBreak),n=r[0],i=r[1],a=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[Ua,mc,YS].indexOf(o)!==-1?bh:o}));var s=e.wordBreak==="keep-all"?a.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,s]},UR=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===JS,this.start=n,this.end=i}return t.prototype.slice=function(){return Sn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),OR=function(t,e){var r=pg(t),n=TR(r,e),i=n[0],a=n[1],s=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=Xt;l<o&&(c=NR(r,a,i,++l,s))===Xt;);if(c!==Xt||l===o){var u=new UR(r,c,A,l);return A=l,{value:u,done:!1}}return{done:!0,value:null}}}},LR=1,kR=2,Dh=4,z5=8,Ip=10,W5=47,Gd=92,PR=9,DR=32,D0=34,cd=61,RR=35,QR=36,jR=37,R0=39,Q0=40,ud=41,MR=95,ua=45,HR=33,KR=60,VR=62,$R=64,GR=91,zR=93,WR=61,qR=123,j0=63,XR=125,q5=124,YR=126,JR=128,X5=65533,Tv=42,Cc=43,ZR=44,eQ=58,tQ=59,Bh=46,rQ=0,nQ=8,iQ=11,aQ=14,sQ=31,oQ=127,oo=-1,e8=48,t8=97,r8=101,AQ=102,lQ=117,cQ=122,n8=65,i8=69,a8=70,uQ=85,fQ=90,Li=function(t){return t>=e8&&t<=57},dQ=function(t){return t>=55296&&t<=57343},wu=function(t){return Li(t)||t>=n8&&t<=a8||t>=t8&&t<=AQ},hQ=function(t){return t>=t8&&t<=cQ},pQ=function(t){return t>=n8&&t<=fQ},gQ=function(t){return hQ(t)||pQ(t)},vQ=function(t){return t>=JR},M0=function(t){return t===Ip||t===PR||t===DR},Fp=function(t){return gQ(t)||vQ(t)||t===MR},Y5=function(t){return Fp(t)||Li(t)||t===ua},mQ=function(t){return t>=rQ&&t<=nQ||t===iQ||t>=aQ&&t<=sQ||t===oQ},tl=function(t,e){return t!==Gd?!1:e!==Ip},H0=function(t,e,r){return t===ua?Fp(e)||tl(e,r):Fp(t)?!0:!!(t===Gd&&tl(t,e))},Uv=function(t,e,r){return t===Cc||t===ua?Li(e)?!0:e===Bh&&Li(r):Li(t===Bh?e:t)},yQ=function(t){var e=0,r=1;(t[e]===Cc||t[e]===ua)&&(t[e]===ua&&(r=-1),e++);for(var n=[];Li(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Sn.apply(void 0,n),10):0;t[e]===Bh&&e++;for(var a=[];Li(t[e]);)a.push(t[e++]);var s=a.length,o=s?parseInt(Sn.apply(void 0,a),10):0;(t[e]===i8||t[e]===r8)&&e++;var A=1;(t[e]===Cc||t[e]===ua)&&(t[e]===ua&&(A=-1),e++);for(var l=[];Li(t[e]);)l.push(t[e++]);var c=l.length?parseInt(Sn.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-s))*Math.pow(10,A*c)},wQ={type:2},xQ={type:3},bQ={type:4},BQ={type:13},CQ={type:8},_Q={type:21},EQ={type:9},SQ={type:10},IQ={type:11},FQ={type:12},NQ={type:14},K0={type:23},TQ={type:1},UQ={type:25},OQ={type:24},LQ={type:26},kQ={type:27},PQ={type:28},DQ={type:29},RQ={type:31},Km={type:32},s8=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(pg(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Km;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case D0:return this.consumeStringToken(D0);case RR:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Y5(r)||tl(n,i)){var a=H0(r,n,i)?kR:LR,s=this.consumeName();return{type:5,value:s,flags:a}}break;case QR:if(this.peekCodePoint(0)===cd)return this.consumeCodePoint(),BQ;break;case R0:return this.consumeStringToken(R0);case Q0:return wQ;case ud:return xQ;case Tv:if(this.peekCodePoint(0)===cd)return this.consumeCodePoint(),NQ;break;case Cc:if(Uv(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ZR:return bQ;case ua:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Uv(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(H0(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===ua&&l===VR)return this.consumeCodePoint(),this.consumeCodePoint(),OQ;break;case Bh:if(Uv(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case W5:if(this.peekCodePoint(0)===Tv)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===Tv&&(c=this.consumeCodePoint(),c===W5))return this.consumeToken();if(c===oo)return this.consumeToken()}break;case eQ:return LQ;case tQ:return kQ;case KR:if(this.peekCodePoint(0)===HR&&this.peekCodePoint(1)===ua&&this.peekCodePoint(2)===ua)return this.consumeCodePoint(),this.consumeCodePoint(),UQ;break;case $R:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),d=this.peekCodePoint(2);if(H0(u,h,d)){var s=this.consumeName();return{type:7,value:s}}break;case GR:return PQ;case Gd:if(tl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case zR:return DQ;case WR:if(this.peekCodePoint(0)===cd)return this.consumeCodePoint(),CQ;break;case qR:return IQ;case XR:return FQ;case lQ:case uQ:var g=this.peekCodePoint(0),y=this.peekCodePoint(1);return g===Cc&&(wu(y)||y===j0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case q5:if(this.peekCodePoint(0)===cd)return this.consumeCodePoint(),EQ;if(this.peekCodePoint(0)===q5)return this.consumeCodePoint(),_Q;break;case YR:if(this.peekCodePoint(0)===cd)return this.consumeCodePoint(),SQ;break;case oo:return Km}return M0(e)?(this.consumeWhiteSpace(),RQ):Li(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Fp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Sn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();wu(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===j0&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Sn.apply(void 0,e.map(function(A){return A===j0?e8:A})),16),a=parseInt(Sn.apply(void 0,e.map(function(A){return A===j0?a8:A})),16);return{type:30,start:i,end:a}}var s=parseInt(Sn.apply(void 0,e),16);if(this.peekCodePoint(0)===ua&&wu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];wu(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var a=parseInt(Sn.apply(void 0,o),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Q0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Q0?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===oo)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===R0||r===D0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===oo||this.peekCodePoint(0)===ud)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),K0)}for(;;){var i=this.consumeCodePoint();if(i===oo||i===ud)return{type:22,value:Sn.apply(void 0,e)};if(M0(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===oo||this.peekCodePoint(0)===ud?(this.consumeCodePoint(),{type:22,value:Sn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),K0);if(i===D0||i===R0||i===Q0||mQ(i))return this.consumeBadUrlRemnants(),K0;if(i===Gd)if(tl(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),K0;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;M0(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ud||e===oo)return;tl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Sn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===oo||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===Ip)return this._value.splice(0,n),TQ;if(i===Gd){var a=this._value[n+1];a!==oo&&a!==void 0&&(a===Ip?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):tl(i,a)&&(r+=this.consumeStringSlice(n),r+=Sn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Dh,n=this.peekCodePoint(0);for((n===Cc||n===ua)&&e.push(this.consumeCodePoint());Li(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Bh&&Li(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=z5;Li(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===i8||n===r8)&&((i===Cc||i===ua)&&Li(a)||Li(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=z5;Li(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[yQ(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(H0(i,a,s)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===jR?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(wu(e)){for(var r=Sn(e);wu(this.peekCodePoint(0))&&r.length<6;)r+=Sn(this.consumeCodePoint());M0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||dQ(n)||n>1114111?X5:n}return e===oo?X5:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(Y5(r))e+=Sn(r);else if(tl(r,this.peekCodePoint(0)))e+=Sn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),o8=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new s8;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||jQ(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Km:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Rh=function(t){return t.type===15},kf=function(t){return t.type===17},Tr=function(t){return t.type===20},QQ=function(t){return t.type===0},Vm=function(t,e){return Tr(t)&&t.value===e},A8=function(t){return t.type!==31},bf=function(t){return t.type!==31&&t.type!==4},bo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},jQ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},El=function(t){return t.type===17||t.type===15},Dn=function(t){return t.type===16||El(t)},l8=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},mi={type:17,number:0,flags:Dh},Ww={type:16,number:50,flags:Dh},ll={type:16,number:100,flags:Dh},Ed=function(t,e,r){var n=t[0],i=t[1];return[Hr(n,e),Hr(typeof i<"u"?i:n,r)]},Hr=function(t,e){if(t.type===16)return t.number/100*e;if(Rh(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},c8="deg",u8="grad",f8="rad",d8="turn",gg={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case c8:return Math.PI*e.number/180;case u8:return Math.PI/200*e.number;case f8:return e.number;case d8:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},h8=function(t){return t.type===15&&(t.unit===c8||t.unit===u8||t.unit===f8||t.unit===d8)},p8=function(t){var e=t.filter(Tr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[mi,mi];case"to top":case"bottom":return is(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[mi,ll];case"to right":case"left":return is(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ll,ll];case"to bottom":case"top":return is(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ll,mi];case"to left":case"right":return is(270)}return 0},is=function(t){return Math.PI*t/180},wl={name:"color",parse:function(t,e){if(e.type===18){var r=MQ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return cl(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),s=e.value.substring(3,4);return cl(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return cl(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),s=e.value.substring(6,8);return cl(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(s,16)/255)}}if(e.type===20){var o=cA[e.value.toUpperCase()];if(typeof o<"u")return o}return cA.TRANSPARENT}},xl=function(t){return(255&t)===0},Zn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},cl=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},J5=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},Z5=function(t,e){var r=e.filter(bf);if(r.length===3){var n=r.map(J5),i=n[0],a=n[1],s=n[2];return cl(i,a,s,1)}if(r.length===4){var o=r.map(J5),i=o[0],a=o[1],s=o[2],A=o[3];return cl(i,a,s,A)}return 0};function Ov(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var eB=function(t,e){var r=e.filter(bf),n=r[0],i=r[1],a=r[2],s=r[3],o=(n.type===17?is(n.number):gg.parse(t,n))/(Math.PI*2),A=Dn(i)?i.number/100:0,l=Dn(a)?a.number/100:0,c=typeof s<"u"&&Dn(s)?Hr(s,1):1;if(A===0)return cl(l*255,l*255,l*255,1);var u=l<=.5?l*(A+1):l+A-l*A,h=l*2-u,d=Ov(h,u,o+1/3),g=Ov(h,u,o),y=Ov(h,u,o-1/3);return cl(d*255,g*255,y*255,c)},MQ={hsl:eB,hsla:eB,rgb:Z5,rgba:Z5},zd=function(t,e){return wl.parse(t,o8.create(e).parseComponentValue())},cA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},HQ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Tr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},KQ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vg=function(t,e){var r=wl.parse(t,e[0]),n=e[1];return n&&Dn(n)?{color:r,stop:n}:{color:r,stop:null}},tB=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=mi),n.stop===null&&(n.stop=ll);for(var i=[],a=0,s=0;s<t.length;s++){var o=t[s].stop;if(o!==null){var A=Hr(o,e);A>a?i.push(A):i.push(a),a=A}else i.push(null)}for(var l=null,s=0;s<i.length;s++){var c=i[s];if(c===null)l===null&&(l=s);else if(l!==null){for(var u=s-l,h=i[l-1],d=(c-h)/(u+1),g=1;g<=u;g++)i[l+g-1]=d*g;l=null}}return t.map(function(y,B){var v=y.color;return{color:v,stop:Math.max(Math.min(1,i[B]/e),0)}})},VQ=function(t,e,r){var n=e/2,i=r/2,a=Hr(t[0],e)-n,s=i-Hr(t[1],r);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},$Q=function(t,e,r){var n=typeof t=="number"?t:VQ(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),a=e/2,s=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,a-l,a+l,s-A,s+A]},Ss=function(t,e){return Math.sqrt(t*t+e*e)},rB=function(t,e,r,n,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(s,o){var A=o[0],l=o[1],c=Ss(r-A,n-l);return(i?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:o,optimumDistance:c}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},GQ=function(t,e,r,n,i){var a=0,s=0;switch(t.size){case 0:t.shape===0?a=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)a=s=Math.min(Ss(e,r),Ss(e,r-i),Ss(e-n,r),Ss(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=rB(n,i,e,r,!0),l=A[0],c=A[1];a=Ss(l-e,(c-r)/o),s=o*a}break;case 1:t.shape===0?a=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)a=s=Math.max(Ss(e,r),Ss(e,r-i),Ss(e-n,r),Ss(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),u=rB(n,i,e,r,!1),l=u[0],c=u[1];a=Ss(l-e,(c-r)/o),s=o*a}break}return Array.isArray(t.size)&&(a=Hr(t.size[0],n),s=t.size.length===2?Hr(t.size[1],i):a),[a,s]},zQ=function(t,e){var r=is(180),n=[];return bo(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&s.value==="to"){r=p8(i);return}else if(h8(s)){r=gg.parse(t,s);return}}var o=vg(t,i);n.push(o)}),{angle:r,stops:n,type:1}},V0=function(t,e){var r=is(180),n=[];return bo(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){r=p8(i);return}else if(h8(s)){r=(gg.parse(t,s)+is(270))%is(360);return}}var o=vg(t,i);n.push(o)}),{angle:r,stops:n,type:1}},WQ=function(t,e){var r=is(180),n=[],i=1,a=0,s=3,o=[];return bo(e).forEach(function(A,l){var c=A[0];if(l===0){if(Tr(c)&&c.value==="linear"){i=1;return}else if(Tr(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=wl.parse(t,c.values[0]);n.push({stop:mi,color:u})}else if(c.name==="to"){var u=wl.parse(t,c.values[0]);n.push({stop:ll,color:u})}else if(c.name==="color-stop"){var h=c.values.filter(bf);if(h.length===2){var u=wl.parse(t,h[1]),d=h[0];kf(d)&&n.push({stop:{type:16,number:d.number*100,flags:d.flags},color:u})}}}}),i===1?{angle:(r+is(180))%is(360),stops:n,type:i}:{size:s,shape:a,stops:n,position:o,type:i}},g8="closest-side",v8="farthest-side",m8="closest-corner",y8="farthest-corner",w8="circle",x8="ellipse",b8="cover",B8="contain",qQ=function(t,e){var r=0,n=3,i=[],a=[];return bo(e).forEach(function(s,o){var A=!0;if(o===0){var l=!1;A=s.reduce(function(u,h){if(l)if(Tr(h))switch(h.value){case"center":return a.push(Ww),u;case"top":case"left":return a.push(mi),u;case"right":case"bottom":return a.push(ll),u}else(Dn(h)||El(h))&&a.push(h);else if(Tr(h))switch(h.value){case w8:return r=0,!1;case x8:return r=1,!1;case"at":return l=!0,!1;case g8:return n=0,!1;case b8:case v8:return n=1,!1;case B8:case m8:return n=2,!1;case y8:return n=3,!1}else if(El(h)||Dn(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},A)}if(A){var c=vg(t,s);i.push(c)}}),{size:n,shape:r,stops:i,position:a,type:2}},$0=function(t,e){var r=0,n=3,i=[],a=[];return bo(e).forEach(function(s,o){var A=!0;if(o===0?A=s.reduce(function(c,u){if(Tr(u))switch(u.value){case"center":return a.push(Ww),!1;case"top":case"left":return a.push(mi),!1;case"right":case"bottom":return a.push(ll),!1}else if(Dn(u)||El(u))return a.push(u),!1;return c},A):o===1&&(A=s.reduce(function(c,u){if(Tr(u))switch(u.value){case w8:return r=0,!1;case x8:return r=1,!1;case B8:case g8:return n=0,!1;case v8:return n=1,!1;case m8:return n=2,!1;case b8:case y8:return n=3,!1}else if(El(u)||Dn(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return c},A)),A){var l=vg(t,s);i.push(l)}}),{size:n,shape:r,stops:i,position:a,type:2}},XQ=function(t){return t.type===1},YQ=function(t){return t.type===2},qw={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=C8[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function JQ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!C8[t.name])}var C8={"linear-gradient":zQ,"-moz-linear-gradient":V0,"-ms-linear-gradient":V0,"-o-linear-gradient":V0,"-webkit-linear-gradient":V0,"radial-gradient":qQ,"-moz-radial-gradient":$0,"-ms-radial-gradient":$0,"-o-radial-gradient":$0,"-webkit-radial-gradient":$0,"-webkit-gradient":WQ},ZQ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return bf(n)&&JQ(n)}).map(function(n){return qw.parse(t,n)})}},ej={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Tr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tj={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return bo(e).map(function(r){return r.filter(Dn)}).map(l8)}},rj={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return bo(e).map(function(r){return r.filter(Tr).map(function(n){return n.value}).join(" ")}).map(nj)}},nj=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sf;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(sf||(sf={}));var ij={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return bo(e).map(function(r){return r.filter(aj)})}},aj=function(t){return Tr(t)||Dn(t)},mg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},sj=mg("top"),oj=mg("right"),Aj=mg("bottom"),lj=mg("left"),yg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return l8(r.filter(Dn))}}},cj=yg("top-left"),uj=yg("top-right"),fj=yg("bottom-right"),dj=yg("bottom-left"),wg=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},hj=wg("top"),pj=wg("right"),gj=wg("bottom"),vj=wg("left"),xg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Rh(r)?r.number:0}}},mj=xg("top"),yj=xg("right"),wj=xg("bottom"),xj=xg("left"),bj={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bj={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Cj={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Tr).reduce(function(r,n){return r|_j(n.value)},0)}},_j=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ej={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Sj={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Np;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Np||(Np={}));var Ij={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Np.STRICT;case"normal":default:return Np.NORMAL}}},Fj={name:"line-height",initialValue:"normal",prefix:!1,type:4},nB=function(t,e){return Tr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Dn(t)?Hr(t,e):e},Nj={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:qw.parse(t,e)}},Tj={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},$m={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},bg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Uj=bg("top"),Oj=bg("right"),Lj=bg("bottom"),kj=bg("left"),Pj={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Tr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Dj={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Bg=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Rj=Bg("top"),Qj=Bg("right"),jj=Bg("bottom"),Mj=Bg("left"),Hj={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Kj={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Vj={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Vm(e[0],"none")?[]:bo(e).map(function(r){for(var n={color:cA.TRANSPARENT,offsetX:mi,offsetY:mi,blur:mi},i=0,a=0;a<r.length;a++){var s=r[a];El(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:n.blur=s,i++):n.color=wl.parse(t,s)}return n})}},$j={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Gj={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=qj[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},zj=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Wj=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,a,s,o]:null},qj={matrix:zj,matrix3d:Wj},iB={type:16,number:50,flags:Dh},Xj=[iB,iB],Yj={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Dn);return r.length!==2?Xj:[r[0],r[1]]}},Jj={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Wd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Wd||(Wd={}));var Zj={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Wd.BREAK_ALL;case"keep-all":return Wd.KEEP_ALL;case"normal":default:return Wd.NORMAL}}},e9={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(kf(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},_8={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},t9={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return kf(e)?e.number:1}},r9={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},n9={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Tr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},i9={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},a9={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},s9={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(kf(e))return e.number;if(Tr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},o9={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Tr).map(function(r){return r.value})}},A9={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Xn=function(t,e){return(t&e)!==0},l9={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},c9={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(A8),a=0;a<i.length;a++){var s=i[a],o=i[a+1];if(s.type===20){var A=o&&kf(o)?o.number:1;n.push({counter:s.value,increment:A})}}return n}},u9={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(A8),i=0;i<n.length;i++){var a=n[i],s=n[i+1];if(Tr(a)&&a.value!=="none"){var o=s&&kf(s)?s.number:0;r.push({counter:a.value,reset:o})}}return r}},f9={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Rh).map(function(r){return _8.parse(t,r)})}},d9={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(QQ);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var s=i[a].value,o=i[a+1].value;n.push({open:s,close:o})}return n}},aB=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},h9={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Vm(e[0],"none")?[]:bo(e).map(function(r){for(var n={color:255,offsetX:mi,offsetY:mi,blur:mi,spread:mi,inset:!1},i=0,a=0;a<r.length;a++){var s=r[a];Vm(s,"inset")?n.inset=!0:El(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:i===2?n.blur=s:n.spread=s,i++):n.color=wl.parse(t,s)}return n})}},p9={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Tr).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},g9={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},v9={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Rh(e)?e.number:0}},m9=function(){function t(e,r){var n,i;this.animationDuration=et(e,f9,r.animationDuration),this.backgroundClip=et(e,HQ,r.backgroundClip),this.backgroundColor=et(e,KQ,r.backgroundColor),this.backgroundImage=et(e,ZQ,r.backgroundImage),this.backgroundOrigin=et(e,ej,r.backgroundOrigin),this.backgroundPosition=et(e,tj,r.backgroundPosition),this.backgroundRepeat=et(e,rj,r.backgroundRepeat),this.backgroundSize=et(e,ij,r.backgroundSize),this.borderTopColor=et(e,sj,r.borderTopColor),this.borderRightColor=et(e,oj,r.borderRightColor),this.borderBottomColor=et(e,Aj,r.borderBottomColor),this.borderLeftColor=et(e,lj,r.borderLeftColor),this.borderTopLeftRadius=et(e,cj,r.borderTopLeftRadius),this.borderTopRightRadius=et(e,uj,r.borderTopRightRadius),this.borderBottomRightRadius=et(e,fj,r.borderBottomRightRadius),this.borderBottomLeftRadius=et(e,dj,r.borderBottomLeftRadius),this.borderTopStyle=et(e,hj,r.borderTopStyle),this.borderRightStyle=et(e,pj,r.borderRightStyle),this.borderBottomStyle=et(e,gj,r.borderBottomStyle),this.borderLeftStyle=et(e,vj,r.borderLeftStyle),this.borderTopWidth=et(e,mj,r.borderTopWidth),this.borderRightWidth=et(e,yj,r.borderRightWidth),this.borderBottomWidth=et(e,wj,r.borderBottomWidth),this.borderLeftWidth=et(e,xj,r.borderLeftWidth),this.boxShadow=et(e,h9,r.boxShadow),this.color=et(e,bj,r.color),this.direction=et(e,Bj,r.direction),this.display=et(e,Cj,r.display),this.float=et(e,Ej,r.cssFloat),this.fontFamily=et(e,i9,r.fontFamily),this.fontSize=et(e,a9,r.fontSize),this.fontStyle=et(e,A9,r.fontStyle),this.fontVariant=et(e,o9,r.fontVariant),this.fontWeight=et(e,s9,r.fontWeight),this.letterSpacing=et(e,Sj,r.letterSpacing),this.lineBreak=et(e,Ij,r.lineBreak),this.lineHeight=et(e,Fj,r.lineHeight),this.listStyleImage=et(e,Nj,r.listStyleImage),this.listStylePosition=et(e,Tj,r.listStylePosition),this.listStyleType=et(e,$m,r.listStyleType),this.marginTop=et(e,Uj,r.marginTop),this.marginRight=et(e,Oj,r.marginRight),this.marginBottom=et(e,Lj,r.marginBottom),this.marginLeft=et(e,kj,r.marginLeft),this.opacity=et(e,t9,r.opacity);var a=et(e,Pj,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=et(e,Dj,r.overflowWrap),this.paddingTop=et(e,Rj,r.paddingTop),this.paddingRight=et(e,Qj,r.paddingRight),this.paddingBottom=et(e,jj,r.paddingBottom),this.paddingLeft=et(e,Mj,r.paddingLeft),this.paintOrder=et(e,p9,r.paintOrder),this.position=et(e,Kj,r.position),this.textAlign=et(e,Hj,r.textAlign),this.textDecorationColor=et(e,r9,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=et(e,n9,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=et(e,Vj,r.textShadow),this.textTransform=et(e,$j,r.textTransform),this.transform=et(e,Gj,r.transform),this.transformOrigin=et(e,Yj,r.transformOrigin),this.visibility=et(e,Jj,r.visibility),this.webkitTextStrokeColor=et(e,g9,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=et(e,v9,r.webkitTextStrokeWidth),this.wordBreak=et(e,Zj,r.wordBreak),this.zIndex=et(e,e9,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return xl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Xn(this.display,4)||Xn(this.display,33554432)||Xn(this.display,268435456)||Xn(this.display,536870912)||Xn(this.display,67108864)||Xn(this.display,134217728)},t}(),y9=function(){function t(e,r){this.content=et(e,l9,r.content),this.quotes=et(e,d9,r.quotes)}return t}(),sB=function(){function t(e,r){this.counterIncrement=et(e,c9,r.counterIncrement),this.counterReset=et(e,u9,r.counterReset)}return t}(),et=function(t,e,r){var n=new s8,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var a=new o8(n.read());switch(e.type){case 2:var s=a.parseComponentValue();return e.parse(t,Tr(s)?s.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return gg.parse(t,a.parseComponentValue());case"color":return wl.parse(t,a.parseComponentValue());case"image":return qw.parse(t,a.parseComponentValue());case"length":var o=a.parseComponentValue();return El(o)?o:mi;case"length-percentage":var A=a.parseComponentValue();return Dn(A)?A:mi;case"time":return _8.parse(t,a.parseComponentValue())}break}},w9="data-html2canvas-debug",x9=function(t){var e=t.getAttribute(w9);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Gm=function(t,e){var r=x9(t);return r===1||e===r},Bo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Gm(r,3))debugger;this.styles=new m9(e,window.getComputedStyle(r,null)),qm(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=hg(this.context,r),Gm(r,4)&&(this.flags|=16)}return t}(),b9="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",oB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var G0=0;G0<oB.length;G0++)Sd[oB.charCodeAt(G0)]=G0;var B9=function(t){var e=t.length*.75,r=t.length,n,i=0,a,s,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)a=Sd[t.charCodeAt(n)],s=Sd[t.charCodeAt(n+1)],o=Sd[t.charCodeAt(n+2)],A=Sd[t.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},C9=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},_9=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Fc=5,Xw=11,Lv=2,E9=Xw-Fc,E8=65536>>Fc,S9=1<<Fc,kv=S9-1,I9=1024>>Fc,F9=E8+I9,N9=F9,T9=32,U9=N9+T9,O9=65536>>Xw,L9=1<<E9,k9=L9-1,AB=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},P9=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},D9=function(t,e){var r=B9(t),n=Array.isArray(r)?_9(r):new Uint32Array(r),i=Array.isArray(r)?C9(r):new Uint16Array(r),a=24,s=AB(i,a/2,n[4]/2),o=n[5]===2?AB(i,(a+n[4])/2):P9(n,Math.ceil((a+n[4])/4));return new R9(n[0],n[1],n[2],n[3],s,o)},R9=function(){function t(e,r,n,i,a,s){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Fc],r=(r<<Lv)+(e&kv),this.data[r];if(e<=65535)return r=this.index[E8+(e-55296>>Fc)],r=(r<<Lv)+(e&kv),this.data[r];if(e<this.highStart)return r=U9-O9+(e>>Xw),r=this.index[r],r+=e>>Fc&k9,r=this.index[r],r=(r<<Lv)+(e&kv),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),lB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var z0=0;z0<lB.length;z0++)Q9[lB.charCodeAt(z0)]=z0;var j9=1,Pv=2,Dv=3,cB=4,uB=5,M9=7,fB=8,Rv=9,Qv=10,dB=11,hB=12,pB=13,gB=14,jv=15,H9=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},K9=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var s=t[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},V9=D9(b9),Za="",Mv="",$9=function(t){return V9.get(t)},G9=function(t,e,r){var n=r-2,i=e[n],a=e[r-1],s=e[r];if(a===Pv&&s===Dv)return Za;if(a===Pv||a===Dv||a===cB||s===Pv||s===Dv||s===cB)return Mv;if(a===fB&&[fB,Rv,dB,hB].indexOf(s)!==-1||(a===dB||a===Rv)&&(s===Rv||s===Qv)||(a===hB||a===Qv)&&s===Qv||s===pB||s===uB||s===M9||a===j9)return Za;if(a===pB&&s===gB){for(;i===uB;)i=e[--n];if(i===gB)return Za}if(a===jv&&s===jv){for(var o=0;i===jv;)o++,i=e[--n];if(o%2===0)return Za}return Mv},z9=function(t){var e=H9(t),r=e.length,n=0,i=0,a=e.map($9);return{next:function(){if(n>=r)return{done:!0,value:null};for(var s=Za;n<r&&(s=G9(e,a,++n))===Za;);if(s!==Za||n===r){var o=K9.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},W9=function(t){for(var e=z9(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},q9=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(n),a===e)return!0}}return!1},X9=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=pg(n.data).map(function(A){return Sn(A)}),a=0,s={},o=i.every(function(A,l){r.setStart(n,a),r.setEnd(n,a+A.length);var c=r.getBoundingClientRect();a+=A.length;var u=c.x>s.x||c.y>s.y;return s=c,l===0?!0:u});return t.body.removeChild(e),o},Y9=function(){return typeof new Image().crossOrigin<"u"},J9=function(){return typeof new XMLHttpRequest().responseType=="string"},Z9=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},vB=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},eM=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=e.toDataURL();i.src=a;var s=zm(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),mB(s).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+a+")",l.style.height=r+"px",vB(A)?mB(zm(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),vB(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},zm=function(t,e,r,n,i){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(i),s},mB=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},pi={get SUPPORT_RANGE_BOUNDS(){var t=q9(document);return Object.defineProperty(pi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=pi.SUPPORT_RANGE_BOUNDS&&X9(document);return Object.defineProperty(pi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Z9(document);return Object.defineProperty(pi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?eM(document):Promise.resolve(!1);return Object.defineProperty(pi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Y9();return Object.defineProperty(pi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=J9();return Object.defineProperty(pi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},qd=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),tM=function(t,e,r,n){var i=iM(e,r),a=[],s=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(pi.SUPPORT_RANGE_BOUNDS){var A=yB(n,s,o.length).getClientRects();if(A.length>1){var l=Yw(o),c=0;l.forEach(function(h){a.push(new qd(h,gA.fromDOMRectList(t,yB(n,c+s,h.length).getClientRects()))),c+=h.length})}else a.push(new qd(o,gA.fromDOMRectList(t,A)))}else{var u=n.splitText(o.length);a.push(new qd(o,rM(t,n))),n=u}else pi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));s+=o.length}),a},rM=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var a=hg(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return gA.EMPTY},yB=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},Yw=function(t){if(pi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return W9(t)},nM=function(t,e){if(pi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return sM(t,e)},iM=function(t,e){return e.letterSpacing!==0?Yw(t):nM(t,e)},aM=[32,160,4961,65792,65793,4153,4241],sM=function(t,e){for(var r=OR(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,a=function(){if(i.value){var s=i.value.slice(),o=pg(s),A="";o.forEach(function(l){aM.indexOf(l)===-1?A+=Sn(l):(A.length&&n.push(A),n.push(Sn(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)a();return n},oM=function(){function t(e,r,n){this.text=AM(r.data,n.textTransform),this.textBounds=tM(e,this.text,n,r)}return t}(),AM=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(lM,cM);case 2:return t.toUpperCase();default:return t}},lM=/(^|\s|:|-|\(|\))([a-z])/g,cM=function(t,e,r){return t.length>0?e+r.toUpperCase():t},S8=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Bo),I8=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Bo),F8=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=new XMLSerializer,s=hg(r,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Bo),N8=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Bo),Wm=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Bo),uM=[{type:15,flags:0,unit:"px",number:3}],fM=[{type:16,flags:0,number:50}],dM=function(t){return t.width>t.height?new gA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new gA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},hM=function(t){var e=t.type===pM?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Tp="checkbox",Up="radio",pM="password",wB=707406591,Jw=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=hM(n),(i.type===Tp||i.type===Up)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=dM(i.bounds)),i.type){case Tp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=uM;break;case Up:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=fM;break}return i}return e}(Bo),T8=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(Bo),U8=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Bo),O8=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=k8(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?zd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):cA.TRANSPARENT,s=n.contentWindow.document.body?zd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):cA.TRANSPARENT;i.backgroundColor=xl(a)?xl(s)?i.styles.backgroundColor:s:a}}catch{}return i}return e}(Bo),gM=["OL","UL","MENU"],F1=function(t,e,r,n){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,P8(i)&&i.data.trim().length>0)r.textNodes.push(new oM(t,i,r.styles));else if(Wu(i))if(j8(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return F1(t,o,r,n)});else{var s=L8(t,i);s.styles.isVisible()&&(vM(i,s,n)?s.flags|=4:mM(s.styles)&&(s.flags|=2),gM.indexOf(i.tagName)!==-1&&(s.flags|=8),r.elements.push(s),i.slot,i.shadowRoot?F1(t,i.shadowRoot,s,n):!Op(i)&&!D8(i)&&!Lp(i)&&F1(t,i,s,n))}},L8=function(t,e){return Xm(e)?new S8(t,e):R8(e)?new I8(t,e):D8(e)?new F8(t,e):yM(e)?new N8(t,e):wM(e)?new Wm(t,e):xM(e)?new Jw(t,e):Lp(e)?new T8(t,e):Op(e)?new U8(t,e):Q8(e)?new O8(t,e):new Bo(t,e)},k8=function(t,e){var r=L8(t,e);return r.flags|=4,F1(t,e,r,r),r},vM=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Zw(t)&&r.styles.isTransparent()},mM=function(t){return t.isPositioned()||t.isFloating()},P8=function(t){return t.nodeType===Node.TEXT_NODE},Wu=function(t){return t.nodeType===Node.ELEMENT_NODE},qm=function(t){return Wu(t)&&typeof t.style<"u"&&!N1(t)},N1=function(t){return typeof t.className=="object"},yM=function(t){return t.tagName==="LI"},wM=function(t){return t.tagName==="OL"},xM=function(t){return t.tagName==="INPUT"},bM=function(t){return t.tagName==="HTML"},D8=function(t){return t.tagName==="svg"},Zw=function(t){return t.tagName==="BODY"},R8=function(t){return t.tagName==="CANVAS"},xB=function(t){return t.tagName==="VIDEO"},Xm=function(t){return t.tagName==="IMG"},Q8=function(t){return t.tagName==="IFRAME"},bB=function(t){return t.tagName==="STYLE"},BM=function(t){return t.tagName==="SCRIPT"},Op=function(t){return t.tagName==="TEXTAREA"},Lp=function(t){return t.tagName==="SELECT"},j8=function(t){return t.tagName==="SLOT"},BB=function(t){return t.tagName.indexOf("-")>0},CM=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,a=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(a=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var s=[];return a&&i.forEach(function(o){var A=r.counters[o.counter];s.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),s},t}(),CB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_B={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_M={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},EM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},xu=function(t,e,r,n,i,a){return t<e||t>r?Ch(t,i,a.length>0):n.integers.reduce(function(s,o,A){for(;t>=o;)t-=o,s+=n.values[A];return s},"")+a},M8=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},En=function(t,e,r,n,i){var a=r-e+1;return(t<0?"-":"")+(M8(Math.abs(t),a,n,function(s){return Sn(Math.floor(s%a)+e)})+i)},Ac=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return M8(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},Nu=1,YA=2,JA=4,Id=8,Jo=function(t,e,r,n,i,a){if(t<-9999||t>9999)return Ch(t,4,i.length>0);var s=Math.abs(t),o=i;if(s===0)return e[0]+o;for(var A=0;s>0&&A<=4;A++){var l=s%10;l===0&&Xn(a,Nu)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&Xn(a,YA)||l===1&&A===1&&Xn(a,JA)&&t>100||l===1&&A>1&&Xn(a,Id)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),s=Math.floor(s/10)}return(t<0?n:"")+o},EB="",SB="",IB="",Hv="",Ch=function(t,e,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",s=r?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var o=En(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Ac(t,"",i);case 6:return xu(t,1,3999,CB,3,n).toLowerCase();case 7:return xu(t,1,3999,CB,3,n);case 8:return En(t,945,969,!1,n);case 9:return En(t,97,122,!1,n);case 10:return En(t,65,90,!1,n);case 11:return En(t,1632,1641,!0,n);case 12:case 49:return xu(t,1,9999,_B,3,n);case 35:return xu(t,1,9999,_B,3,n).toLowerCase();case 13:return En(t,2534,2543,!0,n);case 14:case 30:return En(t,6112,6121,!0,n);case 15:return Ac(t,"",i);case 16:return Ac(t,"",i);case 17:case 48:return Jo(t,"",EB,"",i,YA|JA|Id);case 47:return Jo(t,"",SB,"",i,Nu|YA|JA|Id);case 42:return Jo(t,"",EB,"",i,YA|JA|Id);case 41:return Jo(t,"",SB,"",i,Nu|YA|JA|Id);case 26:return Jo(t,"","",IB,i,0);case 25:return Jo(t,"","",IB,i,Nu|YA|JA);case 31:return Jo(t,"","",Hv,a,Nu|YA|JA);case 33:return Jo(t,"","",Hv,a,0);case 32:return Jo(t,"","",Hv,a,Nu|YA|JA);case 18:return En(t,2406,2415,!0,n);case 20:return xu(t,1,19999,EM,3,n);case 21:return En(t,2790,2799,!0,n);case 22:return En(t,2662,2671,!0,n);case 22:return xu(t,1,10999,_M,3,n);case 23:return Ac(t,"");case 24:return Ac(t,"");case 27:return En(t,3302,3311,!0,n);case 28:return Ac(t,"",i);case 29:return Ac(t,"",i);case 34:return En(t,3792,3801,!0,n);case 37:return En(t,6160,6169,!0,n);case 38:return En(t,4160,4169,!0,n);case 39:return En(t,2918,2927,!0,n);case 40:return En(t,1776,1785,!0,n);case 43:return En(t,3046,3055,!0,n);case 44:return En(t,3174,3183,!0,n);case 45:return En(t,3664,3673,!0,n);case 46:return En(t,3872,3881,!0,n);case 3:default:return En(t,48,57,!0,n)}},H8="data-html2canvas-ignore",FB=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new CM,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=SM(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=NM(i).then(function(){return qi(n,void 0,void 0,function(){var c,u;return Oi(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(LM),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,FM(A)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(A,u)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(UM(document.doctype)+"<html></html>"),OM(this.referenceElement.ownerDocument,a,s),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(Gm(e,2))debugger;if(R8(e))return this.createCanvasClone(e);if(xB(e))return this.createVideoClone(e);if(bB(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Xm(r)&&(Xm(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),BB(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Kv(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Wu(r)||!BM(r)&&!r.hasAttribute(H8)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Wu(r)||!bB(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(Wu(a)&&j8(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,a,n)},t.prototype.cloneNode=function(e,r){if(P8(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Wu(e)&&(qm(e)||N1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&qm(i)&&(this.clonedReferenceElement=i),Zw(i)&&DM(i);var A=this.counters.parse(new sB(this.context,a)),l=this.resolvePseudoContent(e,i,s,Xd.BEFORE);BB(e)&&(r=!0),xB(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(e,i,o,Xd.AFTER);return c&&i.appendChild(c),this.counters.pop(A),(a&&(this.options.copyStyles||N1(e))&&!Q8(e)||r)&&Kv(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Op(e)||Lp(e))&&(Op(i)||Lp(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var a=this;if(n){var s=n.content,o=r.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new sB(this.context,n));var A=new y9(this.context,n),l=o.createElement("html2canvaspseudoelement");Kv(n,l),A.content.forEach(function(u){if(u.type===0)l.appendChild(o.createTextNode(u.value));else if(u.type===22){var h=o.createElement("img");h.src=u.value,h.style.opacity="1",l.appendChild(h)}else if(u.type===18){if(u.name==="attr"){var d=u.values.filter(Tr);d.length&&l.appendChild(o.createTextNode(e.getAttribute(d[0].value)||""))}else if(u.name==="counter"){var g=u.values.filter(bf),y=g[0],B=g[1];if(y&&Tr(y)){var v=a.counters.getCounterValue(y.value),w=B&&Tr(B)?$m.parse(a.context,B.value):3;l.appendChild(o.createTextNode(Ch(v,w,!1)))}}else if(u.name==="counters"){var x=u.values.filter(bf),y=x[0],_=x[1],B=x[2];if(y&&Tr(y)){var F=a.counters.getCounterValues(y.value),N=B&&Tr(B)?$m.parse(a.context,B.value):3,R=_&&_.type===0?_.value:"",D=F.map(function(T){return Ch(T,N,!1)}).join(R);l.appendChild(o.createTextNode(D))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(o.createTextNode(aB(A.quotes,a.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(aB(A.quotes,--a.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(u.value))}}),l.className=Ym+" "+Jm;var c=i===Xd.BEFORE?" "+Ym:" "+Jm;return N1(r)?r.className.baseValue+=c:r.className+=c,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Xd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Xd||(Xd={}));var SM=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(H8,"true"),t.body.appendChild(r),r},IM=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},FM=function(t){return Promise.all([].slice.call(t.images,0).map(IM))},NM=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},TM=["all","d","content"],Kv=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);TM.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},UM=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},OM=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},LM=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},kM=":before",PM=":after",Ym="___html2canvas___pseudoelement_before",Jm="___html2canvas___pseudoelement_after",NB=`{
    content: "" !important;
    display: none !important;
}`,DM=function(t){RM(t,"."+Ym+kM+NB+`
         .`+Jm+PM+NB)},RM=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},K8=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),QM=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||($v(e)||KM(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return qi(this,void 0,void 0,function(){var r,n,i,a,s=this;return Oi(this,function(o){switch(o.label){case 0:return r=K8.isSameOrigin(e),n=!Vv(e)&&this._options.useCORS===!0&&pi.SUPPORT_CORS_IMAGES&&!r,i=!Vv(e)&&!r&&!$v(e)&&typeof this._options.proxy=="string"&&pi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Vv(e)&&!$v(e)&&!i&&!n?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var c=new Image;c.onload=function(){return A(c)},c.onerror=l,(VM(a)||n)&&(c.crossOrigin="anonymous"),c.src=a,c.complete===!0&&setTimeout(function(){return A(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,s){var o=pi.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")a(A.response);else{var u=new FileReader;u.addEventListener("load",function(){return a(u.result)},!1),u.addEventListener("error",function(h){return s(h)},!1),u.readAsDataURL(A.response)}else s("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=s;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var c=r._options.imageTimeout;A.timeout=c,A.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+i)}}A.send()})},t}(),jM=/^data:image\/svg\+xml/i,MM=/^data:image\/.*;base64,/i,HM=/^data:image\/.*/i,KM=function(t){return pi.SUPPORT_SVG_DRAWING||!$M(t)},Vv=function(t){return HM.test(t)},VM=function(t){return MM.test(t)},$v=function(t){return t.substr(0,4)==="blob"},$M=function(t){return t.substr(-3).toLowerCase()==="svg"||jM.test(t)},Ye=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),bu=function(t,e,r){return new Ye(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},W0=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=bu(this.start,this.startControl,e),i=bu(this.startControl,this.endControl,e),a=bu(this.endControl,this.end,e),s=bu(n,i,e),o=bu(i,a,e),A=bu(s,o,e);return r?new t(this.start,n,s,A):new t(A,o,a,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),rs=function(t){return t.type===1},GM=function(){function t(e){var r=e.styles,n=e.bounds,i=Ed(r.borderTopLeftRadius,n.width,n.height),a=i[0],s=i[1],o=Ed(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],c=Ed(r.borderBottomRightRadius,n.width,n.height),u=c[0],h=c[1],d=Ed(r.borderBottomLeftRadius,n.width,n.height),g=d[0],y=d[1],B=[];B.push((a+A)/n.width),B.push((g+u)/n.width),B.push((s+y)/n.height),B.push((l+h)/n.height);var v=Math.max.apply(Math,B);v>1&&(a/=v,s/=v,A/=v,l/=v,u/=v,h/=v,g/=v,y/=v);var w=n.width-A,x=n.height-h,_=n.width-u,F=n.height-y,N=r.borderTopWidth,R=r.borderRightWidth,D=r.borderBottomWidth,k=r.borderLeftWidth,V=Hr(r.paddingTop,e.bounds.width),T=Hr(r.paddingRight,e.bounds.width),O=Hr(r.paddingBottom,e.bounds.width),K=Hr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?Zr(n.left+k/3,n.top+N/3,a-k/3,s-N/3,mr.TOP_LEFT):new Ye(n.left+k/3,n.top+N/3),this.topRightBorderDoubleOuterBox=a>0||s>0?Zr(n.left+w,n.top+N/3,A-R/3,l-N/3,mr.TOP_RIGHT):new Ye(n.left+n.width-R/3,n.top+N/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?Zr(n.left+_,n.top+x,u-R/3,h-D/3,mr.BOTTOM_RIGHT):new Ye(n.left+n.width-R/3,n.top+n.height-D/3),this.bottomLeftBorderDoubleOuterBox=g>0||y>0?Zr(n.left+k/3,n.top+F,g-k/3,y-D/3,mr.BOTTOM_LEFT):new Ye(n.left+k/3,n.top+n.height-D/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?Zr(n.left+k*2/3,n.top+N*2/3,a-k*2/3,s-N*2/3,mr.TOP_LEFT):new Ye(n.left+k*2/3,n.top+N*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?Zr(n.left+w,n.top+N*2/3,A-R*2/3,l-N*2/3,mr.TOP_RIGHT):new Ye(n.left+n.width-R*2/3,n.top+N*2/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?Zr(n.left+_,n.top+x,u-R*2/3,h-D*2/3,mr.BOTTOM_RIGHT):new Ye(n.left+n.width-R*2/3,n.top+n.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||y>0?Zr(n.left+k*2/3,n.top+F,g-k*2/3,y-D*2/3,mr.BOTTOM_LEFT):new Ye(n.left+k*2/3,n.top+n.height-D*2/3),this.topLeftBorderStroke=a>0||s>0?Zr(n.left+k/2,n.top+N/2,a-k/2,s-N/2,mr.TOP_LEFT):new Ye(n.left+k/2,n.top+N/2),this.topRightBorderStroke=a>0||s>0?Zr(n.left+w,n.top+N/2,A-R/2,l-N/2,mr.TOP_RIGHT):new Ye(n.left+n.width-R/2,n.top+N/2),this.bottomRightBorderStroke=u>0||h>0?Zr(n.left+_,n.top+x,u-R/2,h-D/2,mr.BOTTOM_RIGHT):new Ye(n.left+n.width-R/2,n.top+n.height-D/2),this.bottomLeftBorderStroke=g>0||y>0?Zr(n.left+k/2,n.top+F,g-k/2,y-D/2,mr.BOTTOM_LEFT):new Ye(n.left+k/2,n.top+n.height-D/2),this.topLeftBorderBox=a>0||s>0?Zr(n.left,n.top,a,s,mr.TOP_LEFT):new Ye(n.left,n.top),this.topRightBorderBox=A>0||l>0?Zr(n.left+w,n.top,A,l,mr.TOP_RIGHT):new Ye(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||h>0?Zr(n.left+_,n.top+x,u,h,mr.BOTTOM_RIGHT):new Ye(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||y>0?Zr(n.left,n.top+F,g,y,mr.BOTTOM_LEFT):new Ye(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||s>0?Zr(n.left+k,n.top+N,Math.max(0,a-k),Math.max(0,s-N),mr.TOP_LEFT):new Ye(n.left+k,n.top+N),this.topRightPaddingBox=A>0||l>0?Zr(n.left+Math.min(w,n.width-R),n.top+N,w>n.width+R?0:Math.max(0,A-R),Math.max(0,l-N),mr.TOP_RIGHT):new Ye(n.left+n.width-R,n.top+N),this.bottomRightPaddingBox=u>0||h>0?Zr(n.left+Math.min(_,n.width-k),n.top+Math.min(x,n.height-D),Math.max(0,u-R),Math.max(0,h-D),mr.BOTTOM_RIGHT):new Ye(n.left+n.width-R,n.top+n.height-D),this.bottomLeftPaddingBox=g>0||y>0?Zr(n.left+k,n.top+Math.min(F,n.height-D),Math.max(0,g-k),Math.max(0,y-D),mr.BOTTOM_LEFT):new Ye(n.left+k,n.top+n.height-D),this.topLeftContentBox=a>0||s>0?Zr(n.left+k+K,n.top+N+V,Math.max(0,a-(k+K)),Math.max(0,s-(N+V)),mr.TOP_LEFT):new Ye(n.left+k+K,n.top+N+V),this.topRightContentBox=A>0||l>0?Zr(n.left+Math.min(w,n.width+k+K),n.top+N+V,w>n.width+k+K?0:A-k+K,l-(N+V),mr.TOP_RIGHT):new Ye(n.left+n.width-(R+T),n.top+N+V),this.bottomRightContentBox=u>0||h>0?Zr(n.left+Math.min(_,n.width-(k+K)),n.top+Math.min(x,n.height+N+V),Math.max(0,u-(R+T)),h-(D+O),mr.BOTTOM_RIGHT):new Ye(n.left+n.width-(R+T),n.top+n.height-(D+O)),this.bottomLeftContentBox=g>0||y>0?Zr(n.left+k+K,n.top+F,Math.max(0,g-(k+K)),y-(D+O),mr.BOTTOM_LEFT):new Ye(n.left+k+K,n.top+n.height-(D+O))}return t}(),mr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(mr||(mr={}));var Zr=function(t,e,r,n,i){var a=4*((Math.sqrt(2)-1)/3),s=r*a,o=n*a,A=t+r,l=e+n;switch(i){case mr.TOP_LEFT:return new W0(new Ye(t,l),new Ye(t,l-o),new Ye(A-s,e),new Ye(A,e));case mr.TOP_RIGHT:return new W0(new Ye(t,e),new Ye(t+s,e),new Ye(A,l-o),new Ye(A,l));case mr.BOTTOM_RIGHT:return new W0(new Ye(A,e),new Ye(A,e+o),new Ye(t+s,l),new Ye(t,l));case mr.BOTTOM_LEFT:default:return new W0(new Ye(A,l),new Ye(A-s,l),new Ye(t,e+o),new Ye(t,e))}},kp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},zM=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Pp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},WM=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),q0=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),qM=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),XM=function(t){return t.type===0},V8=function(t){return t.type===1},YM=function(t){return t.type===2},TB=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},JM=function(t,e,r,n,i){return t.map(function(a,s){switch(s){case 0:return a.add(e,r);case 1:return a.add(e+n,r);case 2:return a.add(e+n,r+i);case 3:return a.add(e,r+i)}return a})},$8=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),G8=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new GM(this.container),this.container.styles.opacity<1&&this.effects.push(new qM(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new WM(n,i,a))}if(this.container.styles.overflowX!==0){var s=kp(this.curves),o=Pp(this.curves);TB(s,o)?this.effects.push(new q0(s,6)):(this.effects.push(new q0(s,2)),this.effects.push(new q0(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(A){return!V8(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=kp(n.curves),o=Pp(n.curves);TB(s,o)||i.unshift(new q0(o,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(A){return Xn(A.target,e)})},t}(),Zm=function(t,e,r,n){t.container.elements.forEach(function(i){var a=Xn(i.flags,4),s=Xn(i.flags,2),o=new G8(i,t);Xn(i.styles.display,2048)&&n.push(o);var A=Xn(i.flags,8)?[]:n;if(a||s){var l=a||i.styles.isPositioned()?r:e,c=new $8(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some(function(g,y){return u>g.element.container.styles.zIndex.order?(h=y,!1):h>0}),l.negativeZIndex.splice(h,0,c)}else if(u>0){var d=0;l.positiveZIndex.some(function(g,y){return u>=g.element.container.styles.zIndex.order?(d=y+1,!1):d>0}),l.positiveZIndex.splice(d,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Zm(o,c,a?c:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Zm(o,e,r,A);Xn(i.flags,8)&&z8(i,A)})},z8=function(t,e){for(var r=t instanceof Wm?t.start:1,n=t instanceof Wm?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof N8&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=Ch(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},ZM=function(t){var e=new G8(t,null),r=new $8(e),n=[];return Zm(e,r,r,n),z8(e.container,n),r},UB=function(t,e){switch(e){case 0:return as(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return as(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return as(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return as(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},eH=function(t,e){switch(e){case 0:return as(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return as(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return as(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return as(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},tH=function(t,e){switch(e){case 0:return as(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return as(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return as(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return as(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},rH=function(t,e){switch(e){case 0:return X0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return X0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return X0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return X0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},X0=function(t,e){var r=[];return rs(t)?r.push(t.subdivide(.5,!1)):r.push(t),rs(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},as=function(t,e,r,n){var i=[];return rs(t)?i.push(t.subdivide(.5,!1)):i.push(t),rs(r)?i.push(r.subdivide(.5,!0)):i.push(r),rs(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),rs(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},W8=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Dp=function(t){var e=t.styles,r=t.bounds,n=Hr(e.paddingLeft,r.width),i=Hr(e.paddingRight,r.width),a=Hr(e.paddingTop,r.width),s=Hr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+a+s))},nH=function(t,e){return t===0?e.bounds:t===2?Dp(e):W8(e)},iH=function(t,e){return t===0?e.bounds:t===2?Dp(e):W8(e)},Gv=function(t,e,r){var n=nH(Tu(t.styles.backgroundOrigin,e),t),i=iH(Tu(t.styles.backgroundClip,e),t),a=aH(Tu(t.styles.backgroundSize,e),r,n),s=a[0],o=a[1],A=Ed(Tu(t.styles.backgroundPosition,e),n.width-s,n.height-o),l=sH(Tu(t.styles.backgroundRepeat,e),A,a,n,i),c=Math.round(n.left+A[0]),u=Math.round(n.top+A[1]);return[l,c,u,s,o]},Bu=function(t){return Tr(t)&&t.value===sf.AUTO},Y0=function(t){return typeof t=="number"},aH=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=t[0],o=t[1];if(!s)return[0,0];if(Dn(s)&&o&&Dn(o))return[Hr(s,r.width),Hr(o,r.height)];var A=Y0(a);if(Tr(s)&&(s.value===sf.CONTAIN||s.value===sf.COVER)){if(Y0(a)){var l=r.width/r.height;return l<a!=(s.value===sf.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var c=Y0(n),u=Y0(i),h=c||u;if(Bu(s)&&(!o||Bu(o))){if(c&&u)return[n,i];if(!A&&!h)return[r.width,r.height];if(h&&A){var d=c?n:i*a,g=u?i:n/a;return[d,g]}var y=c?n:r.width,B=u?i:r.height;return[y,B]}if(A){var v=0,w=0;return Dn(s)?v=Hr(s,r.width):Dn(o)&&(w=Hr(o,r.height)),Bu(s)?v=w*a:(!o||Bu(o))&&(w=v/a),[v,w]}var x=null,_=null;if(Dn(s)?x=Hr(s,r.width):o&&Dn(o)&&(_=Hr(o,r.height)),x!==null&&(!o||Bu(o))&&(_=c&&u?x/n*i:r.height),_!==null&&Bu(s)&&(x=c&&u?_/i*n:r.width),x!==null&&_!==null)return[x,_];throw new Error("Unable to calculate background-size for element")},Tu=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},sH=function(t,e,r,n,i){var a=e[0],s=e[1],o=r[0],A=r[1];switch(t){case 2:return[new Ye(Math.round(n.left),Math.round(n.top+s)),new Ye(Math.round(n.left+n.width),Math.round(n.top+s)),new Ye(Math.round(n.left+n.width),Math.round(A+n.top+s)),new Ye(Math.round(n.left),Math.round(A+n.top+s))];case 3:return[new Ye(Math.round(n.left+a),Math.round(n.top)),new Ye(Math.round(n.left+a+o),Math.round(n.top)),new Ye(Math.round(n.left+a+o),Math.round(n.height+n.top)),new Ye(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Ye(Math.round(n.left+a),Math.round(n.top+s)),new Ye(Math.round(n.left+a+o),Math.round(n.top+s)),new Ye(Math.round(n.left+a+o),Math.round(n.top+s+A)),new Ye(Math.round(n.left+a),Math.round(n.top+s+A))];default:return[new Ye(Math.round(i.left),Math.round(i.top)),new Ye(Math.round(i.left+i.width),Math.round(i.top)),new Ye(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Ye(Math.round(i.left),Math.round(i.height+i.top))]}},oH="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",OB="Hidden Text",AH=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),i.src=oH,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(OB)),n.appendChild(a),n.appendChild(i);var o=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(OB)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),q8=function(){function t(e,r){this.context=e,this.options=r}return t}(),lH=1e4,cH=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new AH(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),YM(r)&&(this.ctx.globalAlpha=r.opacity),XM(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),V8(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return qi(this,void 0,void 0,function(){var n;return Oi(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return qi(this,void 0,void 0,function(){return Oi(this,function(n){switch(n.label){case 0:if(Xn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var s=Yw(r.text);s.reduce(function(o,A){return a.ctx.fillText(A,o,r.bounds.top+i),o+a.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=pH(r.fontFamily).join(", "),a=Rh(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(r,n){return qi(this,void 0,void 0,function(){var i,a,s,o,A,l,c,u,h=this;return Oi(this,function(d){return i=this.createFontStyle(n),a=i[0],s=i[1],o=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(s,o),l=A.baseline,c=A.middle,u=n.paintOrder,r.textBounds.forEach(function(g){u.forEach(function(y){switch(y){case 0:h.ctx.fillStyle=Zn(n.color),h.renderTextWithLetterSpacing(g,n.letterSpacing,l);var B=n.textShadow;B.length&&g.text.trim().length&&(B.slice(0).reverse().forEach(function(v){h.ctx.shadowColor=Zn(v.color),h.ctx.shadowOffsetX=v.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=v.offsetY.number*h.options.scale,h.ctx.shadowBlur=v.blur.number,h.renderTextWithLetterSpacing(g,n.letterSpacing,l)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=Zn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+l),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+c),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=Zn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+l)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=Dp(r),s=Pp(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return qi(this,void 0,void 0,function(){var n,i,a,s,o,A,w,w,l,c,u,h,_,d,g,F,y,B,v,w,x,_,F;return Oi(this,function(N){switch(N.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,s=0,o=n.textNodes,N.label=1;case 1:return s<o.length?(A=o[s],[4,this.renderTextNode(A,a)]):[3,4];case 2:N.sent(),N.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof S8))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=N.sent(),this.renderReplacedElement(n,i,w),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof I8&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof F8))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=N.sent(),this.renderReplacedElement(n,i,w),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof O8&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:c=N.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),N.label=14;case 14:if(n instanceof Jw&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===Tp?n.checked&&(this.ctx.save(),this.path([new Ye(n.bounds.left+u*.39363,n.bounds.top+u*.79),new Ye(n.bounds.left+u*.16,n.bounds.top+u*.5549),new Ye(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new Ye(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new Ye(n.bounds.left+u*.72983,n.bounds.top+u*.23),new Ye(n.bounds.left+u*.84,n.bounds.top+u*.34085),new Ye(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=Zn(wB),this.ctx.fill(),this.ctx.restore()):n.type===Up&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Zn(wB),this.ctx.fill(),this.ctx.restore())),uH(n)&&n.value.length){switch(h=this.createFontStyle(a),_=h[0],d=h[1],g=this.fontMetrics.getMetrics(_,d).baseline,this.ctx.font=_,this.ctx.fillStyle=Zn(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=dH(n.styles.textAlign),F=Dp(n),y=0,n.styles.textAlign){case 1:y+=F.width/2;break;case 2:y+=F.width;break}B=F.add(y,0,0,-F.height/2+1),this.ctx.save(),this.path([new Ye(F.left,F.top),new Ye(F.left+F.width,F.top),new Ye(F.left+F.width,F.top+F.height),new Ye(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new qd(n.value,B),a.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];w=void 0,x=v.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return w=N.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(a)[0],this.ctx.font=_,this.ctx.fillStyle=Zn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new gA(n.bounds.left,n.bounds.top+Hr(n.styles.paddingTop,n.bounds.width),n.bounds.width,nB(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new qd(r.listValue,F),a.letterSpacing,nB(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return qi(this,void 0,void 0,function(){var n,i,v,a,s,v,o,A,v,l,c,v,u,h,v,d,g,v,y,B,v;return Oi(this,function(w){switch(w.label){case 0:if(Xn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,i=r.negativeZIndex,w.label=2;case 2:return n<i.length?(v=i[n],[4,this.renderStack(v)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),a=0,s=r.nonInlineLevel,w.label=7;case 7:return a<s.length?(v=s[a],[4,this.renderNode(v)]):[3,10];case 8:w.sent(),w.label=9;case 9:return a++,[3,7];case 10:o=0,A=r.nonPositionedFloats,w.label=11;case 11:return o<A.length?(v=A[o],[4,this.renderStack(v)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:l=0,c=r.nonPositionedInlineLevel,w.label=15;case 15:return l<c.length?(v=c[l],[4,this.renderStack(v)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:u=0,h=r.inlineLevel,w.label=19;case 19:return u<h.length?(v=h[u],[4,this.renderNode(v)]):[3,22];case 20:w.sent(),w.label=21;case 21:return u++,[3,19];case 22:d=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return d<g.length?(v=g[d],[4,this.renderStack(v)]):[3,26];case 24:w.sent(),w.label=25;case 25:return d++,[3,23];case 26:y=0,B=r.positiveZIndex,w.label=27;case 27:return y<B.length?(v=B[y],[4,this.renderStack(v)]):[3,30];case 28:w.sent(),w.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var s=rs(i)?i.start:i;a===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),rs(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,o=s.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return qi(this,void 0,void 0,function(){var n,i,a,s,o,A;return Oi(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(c){var u,h,d,V,fe,de,K,q,D,g,V,fe,de,K,q,y,B,v,w,x,_,F,N,R,D,k,V,T,O,K,q,ie,fe,de,te,ce,Ce,be,P,H,z,ne;return Oi(this,function(oe){switch(oe.label){case 0:if(c.type!==0)return[3,5];u=void 0,h=c.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,a.context.cache.match(h)];case 2:return u=oe.sent(),[3,4];case 3:return oe.sent(),a.context.logger.error("Error loading background-image "+h),[3,4];case 4:return u&&(d=Gv(r,n,[u.width,u.height,u.width/u.height]),V=d[0],fe=d[1],de=d[2],K=d[3],q=d[4],D=a.ctx.createPattern(a.resizeImage(u,K,q),"repeat"),a.renderRepeat(V,D,fe,de)),[3,6];case 5:XQ(c)?(g=Gv(r,n,[null,null,null]),V=g[0],fe=g[1],de=g[2],K=g[3],q=g[4],y=$Q(c.angle,K,q),B=y[0],v=y[1],w=y[2],x=y[3],_=y[4],F=document.createElement("canvas"),F.width=K,F.height=q,N=F.getContext("2d"),R=N.createLinearGradient(v,x,w,_),tB(c.stops,B).forEach(function(he){return R.addColorStop(he.stop,Zn(he.color))}),N.fillStyle=R,N.fillRect(0,0,K,q),K>0&&q>0&&(D=a.ctx.createPattern(F,"repeat"),a.renderRepeat(V,D,fe,de))):YQ(c)&&(k=Gv(r,n,[null,null,null]),V=k[0],T=k[1],O=k[2],K=k[3],q=k[4],ie=c.position.length===0?[Ww]:c.position,fe=Hr(ie[0],K),de=Hr(ie[ie.length-1],q),te=GQ(c,fe,de,K,q),ce=te[0],Ce=te[1],ce>0&&Ce>0&&(be=a.ctx.createRadialGradient(T+fe,O+de,0,T+fe,O+de,ce),tB(c.stops,ce*2).forEach(function(he){return be.addColorStop(he.stop,Zn(he.color))}),a.path(V),a.ctx.fillStyle=be,ce!==Ce?(P=r.bounds.left+.5*r.bounds.width,H=r.bounds.top+.5*r.bounds.height,z=Ce/ce,ne=1/z,a.ctx.save(),a.ctx.translate(P,H),a.ctx.transform(1,0,0,z,0,0),a.ctx.translate(-P,-H),a.ctx.fillRect(T,ne*(O-H)+H,K,q*ne),a.ctx.restore()):a.ctx.fill())),oe.label=6;case 6:return n--,[2]}})},a=this,s=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(A=o[s],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return qi(this,void 0,void 0,function(){return Oi(this,function(a){return this.path(UB(i,n)),this.ctx.fillStyle=Zn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,a){return qi(this,void 0,void 0,function(){var s,o;return Oi(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return A.sent(),[2];case 2:return s=eH(a,i),this.path(s),this.ctx.fillStyle=Zn(r),this.ctx.fill(),o=tH(a,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return qi(this,void 0,void 0,function(){var n,i,a,s,o,A,l,c,u=this;return Oi(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!xl(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=fH(Tu(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),xl(n.backgroundColor)||(this.ctx.fillStyle=Zn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(d){u.ctx.save();var g=kp(r.curves),y=d.inset?0:lH,B=JM(g,-y+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(u.path(g),u.ctx.clip(),u.mask(B)):(u.mask(g),u.ctx.clip(),u.path(B)),u.ctx.shadowOffsetX=d.offsetX.number+y,u.ctx.shadowOffsetY=d.offsetY.number,u.ctx.shadowColor=Zn(d.color),u.ctx.shadowBlur=d.blur.number,u.ctx.fillStyle=d.inset?Zn(d.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),h.label=2;case 2:o=0,A=0,l=a,h.label=3;case 3:return A<l.length?(c=l[A],c.style!==0&&!xl(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,r.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,a,s){return qi(this,void 0,void 0,function(){var o,A,l,c,u,h,d,g,y,B,v,w,x,_,F,N,F,N;return Oi(this,function(R){return this.ctx.save(),o=rH(a,i),A=UB(a,i),s===2&&(this.path(A),this.ctx.clip()),rs(A[0])?(l=A[0].start.x,c=A[0].start.y):(l=A[0].x,c=A[0].y),rs(A[1])?(u=A[1].end.x,h=A[1].end.y):(u=A[1].x,h=A[1].y),i===0||i===2?d=Math.abs(l-u):d=Math.abs(c-h),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(A.slice(0,2)),g=n<3?n*3:n*2,y=n<3?n*2:n,s===3&&(g=n,y=n),B=!0,d<=g*2?B=!1:d<=g*2+y?(v=d/(2*g+y),g*=v,y*=v):(w=Math.floor((d+y)/(g+y)),x=(d-w*g)/(w-1),_=(d-(w+1)*g)/w,y=_<=0||Math.abs(y-x)<Math.abs(y-_)?x:_),B&&(s===3?this.ctx.setLineDash([0,g+y]):this.ctx.setLineDash([g,y])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Zn(r),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(rs(A[0])&&(F=A[3],N=A[0],this.ctx.beginPath(),this.formatPath([new Ye(F.end.x,F.end.y),new Ye(N.start.x,N.start.y)]),this.ctx.stroke()),rs(A[1])&&(F=A[1],N=A[2],this.ctx.beginPath(),this.formatPath([new Ye(F.end.x,F.end.y),new Ye(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return qi(this,void 0,void 0,function(){var n;return Oi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Zn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=ZM(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(q8),uH=function(t){return t instanceof U8||t instanceof T8?!0:t instanceof Jw&&t.type!==Up&&t.type!==Tp},fH=function(t,e){switch(t){case 0:return kp(e);case 2:return zM(e);case 1:default:return Pp(e)}},dH=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},hH=["-apple-system","system-ui"],pH=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return hH.indexOf(e)===-1}):t},gH=function(t){$s(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return qi(this,void 0,void 0,function(){var n,i;return Oi(this,function(a){switch(a.label){case 0:return n=zm(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,vH(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Zn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(q8),vH=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},mH=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,F0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,F0([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,F0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,F0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),yH=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new mH({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new QM(this,e)}return t.instanceCount=1,t}(),wH=function(t,e){return e===void 0&&(e={}),xH(t,e)};typeof window<"u"&&K8.setContext(window);var xH=function(t,e){return qi(void 0,void 0,void 0,function(){var r,n,i,a,s,o,A,l,c,u,h,d,g,y,B,v,w,x,_,F,R,N,R,D,k,V,T,O,K,q,ie,fe,de,te,ce,Ce,be,P,H,z;return Oi(this,function(ne){switch(ne.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(D=e.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(V=e.useCORS)!==null&&V!==void 0?V:!1},a=Um({logging:(T=e.logging)!==null&&T!==void 0?T:!0,cache:e.cache},i),s={windowWidth:(O=e.windowWidth)!==null&&O!==void 0?O:n.innerWidth,windowHeight:(K=e.windowHeight)!==null&&K!==void 0?K:n.innerHeight,scrollX:(q=e.scrollX)!==null&&q!==void 0?q:n.pageXOffset,scrollY:(ie=e.scrollY)!==null&&ie!==void 0?ie:n.pageYOffset},o=new gA(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),A=new yH(a,o),l=(fe=e.foreignObjectRendering)!==null&&fe!==void 0?fe:!1,c={allowTaint:(de=e.allowTaint)!==null&&de!==void 0?de:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new FB(A,t,c),h=u.clonedReferenceElement,h?[4,u.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=ne.sent(),g=Zw(h)||bM(h)?JD(h.ownerDocument):hg(A,h),y=g.width,B=g.height,v=g.left,w=g.top,x=bH(A,h,e.backgroundColor),_={canvas:e.canvas,backgroundColor:x,scale:(ce=(te=e.scale)!==null&&te!==void 0?te:n.devicePixelRatio)!==null&&ce!==void 0?ce:1,x:((Ce=e.x)!==null&&Ce!==void 0?Ce:0)+v,y:((be=e.y)!==null&&be!==void 0?be:0)+w,width:(P=e.width)!==null&&P!==void 0?P:Math.ceil(y),height:(H=e.height)!==null&&H!==void 0?H:Math.ceil(B)},l?(A.logger.debug("Document cloned, using foreign object rendering"),R=new gH(A,_),[4,R.render(h)]):[3,3];case 2:return F=ne.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+v+","+w+" with size "+y+"x"+B+" using computed rendering"),A.logger.debug("Starting DOM parsing"),N=k8(A,h),x===N.styles.backgroundColor&&(N.styles.backgroundColor=cA.TRANSPARENT),A.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),R=new cH(A,_),[4,R.render(N)];case 4:F=ne.sent(),ne.label=5;case 5:return(!((z=e.removeContainer)!==null&&z!==void 0)||z)&&(FB.destroy(d)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,F]}})})},bH=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?zd(t,getComputedStyle(n.documentElement).backgroundColor):cA.TRANSPARENT,a=n.body?zd(t,getComputedStyle(n.body).backgroundColor):cA.TRANSPARENT,s=typeof r=="string"?zd(t,r):r===null?cA.TRANSPARENT:4294967295;return e===n.documentElement?xl(i)?xl(a)?s:a:i:s};const BH=Object.freeze(Object.defineProperty({__proto__:null,default:wH},Symbol.toStringTag,{value:"Module"}));function Er(t){"@babel/helpers - typeof";return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(t)}var Hs=Uint8Array,Ra=Uint16Array,ex=Int32Array,tx=new Hs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rx=new Hs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LB=new Hs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X8=function(t,e){for(var r=new Ra(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new ex(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},Y8=X8(tx,2),CH=Y8.b,ey=Y8.r;CH[28]=258,ey[258]=28;var _H=X8(rx,0),kB=_H.r,ty=new Ra(32768);for(var Xr=0;Xr<32768;++Xr){var GA=(Xr&43690)>>1|(Xr&21845)<<1;GA=(GA&52428)>>2|(GA&13107)<<2,GA=(GA&61680)>>4|(GA&3855)<<4,ty[Xr]=((GA&65280)>>8|(GA&255)<<8)>>1}var Yd=function(t,e,r){for(var n=t.length,i=0,a=new Ra(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Ra(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Ra(1<<e);var A=15-e;for(i=0;i<n;++i)if(t[i])for(var l=i<<4|t[i],c=e-t[i],u=s[t[i]-1]++<<c,h=u|(1<<c)-1;u<=h;++u)o[ty[u]>>A]=l}else for(o=new Ra(n),i=0;i<n;++i)t[i]&&(o[i]=ty[s[t[i]-1]++]>>15-t[i]);return o},Rc=new Hs(288);for(var Xr=0;Xr<144;++Xr)Rc[Xr]=8;for(var Xr=144;Xr<256;++Xr)Rc[Xr]=9;for(var Xr=256;Xr<280;++Xr)Rc[Xr]=7;for(var Xr=280;Xr<288;++Xr)Rc[Xr]=8;var Rp=new Hs(32);for(var Xr=0;Xr<32;++Xr)Rp[Xr]=5;var EH=Yd(Rc,9,0),SH=Yd(Rp,5,0),J8=function(t){return(t+7)/8|0},IH=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Hs(t.subarray(e,r))},Zo=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},fd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},zv=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:e6,l:0};if(i==1){var s=new Hs(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(F,N){return F.f-N.f}),r.push({s:-1,f:25001});var o=r[0],A=r[1],l=0,c=1,u=2;for(r[0]={s:-1,f:o.f+A.f,l:o,r:A};c!=i-1;)o=r[r[l].f<r[u].f?l++:u++],A=r[l!=c&&r[l].f<r[u].f?l++:u++],r[c++]={s:-1,f:o.f+A.f,l:o,r:A};for(var h=a[0].s,n=1;n<i;++n)a[n].s>h&&(h=a[n].s);var d=new Ra(h+1),g=ry(r[c-1],d,0);if(g>e){var n=0,y=0,B=g-e,v=1<<B;for(a.sort(function(N,R){return d[R.s]-d[N.s]||N.f-R.f});n<i;++n){var w=a[n].s;if(d[w]>e)y+=v-(1<<g-d[w]),d[w]=e;else break}for(y>>=B;y>0;){var x=a[n].s;d[x]<e?y-=1<<e-d[x]++-1:++n}for(;n>=0&&y;--n){var _=a[n].s;d[_]==e&&(--d[_],++y)}g=e}return{t:new Hs(d),l:g}},ry=function(t,e,r){return t.s==-1?Math.max(ry(t.l,e,r+1),ry(t.r,e,r+1)):e[t.s]=r},PB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ra(++e),n=0,i=t[0],a=1,s=function(A){r[n++]=A},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},dd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Z8=function(t,e,r){var n=r.length,i=J8(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},DB=function(t,e,r,n,i,a,s,o,A,l,c){Zo(e,c++,r),++i[256];for(var u=zv(i,15),h=u.t,d=u.l,g=zv(a,15),y=g.t,B=g.l,v=PB(h),w=v.c,x=v.n,_=PB(y),F=_.c,N=_.n,R=new Ra(19),D=0;D<w.length;++D)++R[w[D]&31];for(var D=0;D<F.length;++D)++R[F[D]&31];for(var k=zv(R,7),V=k.t,T=k.l,O=19;O>4&&!V[LB[O-1]];--O);var K=l+5<<3,q=dd(i,Rc)+dd(a,Rp)+s,ie=dd(i,h)+dd(a,y)+s+14+3*O+dd(R,V)+2*R[16]+3*R[17]+7*R[18];if(A>=0&&K<=q&&K<=ie)return Z8(e,c,t.subarray(A,A+l));var fe,de,te,ce;if(Zo(e,c,1+(ie<q)),c+=2,ie<q){fe=Yd(h,d,0),de=h,te=Yd(y,B,0),ce=y;var Ce=Yd(V,T,0);Zo(e,c,x-257),Zo(e,c+5,N-1),Zo(e,c+10,O-4),c+=14;for(var D=0;D<O;++D)Zo(e,c+3*D,V[LB[D]]);c+=3*O;for(var be=[w,F],P=0;P<2;++P)for(var H=be[P],D=0;D<H.length;++D){var z=H[D]&31;Zo(e,c,Ce[z]),c+=V[z],z>15&&(Zo(e,c,H[D]>>5&127),c+=H[D]>>12)}}else fe=EH,de=Rc,te=SH,ce=Rp;for(var D=0;D<o;++D){var ne=n[D];if(ne>255){var z=ne>>18&31;fd(e,c,fe[z+257]),c+=de[z+257],z>7&&(Zo(e,c,ne>>23&31),c+=tx[z]);var oe=ne&31;fd(e,c,te[oe]),c+=ce[oe],oe>3&&(fd(e,c,ne>>5&8191),c+=rx[oe])}else fd(e,c,fe[ne]),c+=de[ne]}return fd(e,c,fe[256]),c+de[256]},FH=new ex([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),e6=new Hs(0),NH=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Hs(n+s+5*(1+Math.ceil(s/7e3))+i),A=o.subarray(n,o.length-i),l=a.l,c=(a.r||0)&7;if(e){c&&(A[0]=a.r>>3);for(var u=FH[e-1],h=u>>13,d=u&8191,g=(1<<r)-1,y=a.p||new Ra(32768),B=a.h||new Ra(g+1),v=Math.ceil(r/3),w=2*v,x=function(Be){return(t[Be]^t[Be+1]<<v^t[Be+2]<<w)&g},_=new ex(25e3),F=new Ra(288),N=new Ra(32),R=0,D=0,k=a.i||0,V=0,T=a.w||0,O=0;k+2<s;++k){var K=x(k),q=k&32767,ie=B[K];if(y[q]=ie,B[K]=q,T<=k){var fe=s-k;if((R>7e3||V>24576)&&(fe>423||!l)){c=DB(t,A,0,_,F,N,D,V,O,k-O,c),V=R=D=0,O=k;for(var de=0;de<286;++de)F[de]=0;for(var de=0;de<30;++de)N[de]=0}var te=2,ce=0,Ce=d,be=q-ie&32767;if(fe>2&&K==x(k-be))for(var P=Math.min(h,fe)-1,H=Math.min(32767,k),z=Math.min(258,fe);be<=H&&--Ce&&q!=ie;){if(t[k+te]==t[k+te-be]){for(var ne=0;ne<z&&t[k+ne]==t[k+ne-be];++ne);if(ne>te){if(te=ne,ce=be,ne>P)break;for(var oe=Math.min(be,ne-2),he=0,de=0;de<oe;++de){var Ee=k-be+de&32767,_e=y[Ee],Se=Ee-_e&32767;Se>he&&(he=Se,ie=Ee)}}}q=ie,ie=y[q],be+=q-ie&32767}if(ce){_[V++]=268435456|ey[te]<<18|kB[ce];var Pe=ey[te]&31,Qe=kB[ce]&31;D+=tx[Pe]+rx[Qe],++F[257+Pe],++N[Qe],T=k+te,++R}else _[V++]=t[k],++F[t[k]]}}for(k=Math.max(k,T);k<s;++k)_[V++]=t[k],++F[t[k]];c=DB(t,A,l,_,F,N,D,V,O,k-O,c),l||(a.r=c&7|A[c/8|0]<<3,c-=7,a.h=B,a.p=y,a.i=k,a.w=T)}else{for(var k=a.w||0;k<s+l;k+=65535){var Ue=k+65535;Ue>=s&&(A[c/8|0]=l,Ue=s),c=Z8(A,c+1,t.subarray(k,Ue))}a.i=s}return IH(o,0,n+J8(c)+i)},t6=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},TH=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Hs(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return NH(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},r6=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},UH=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=t6();i.p(e.dictionary),r6(t,2,i.d())}};function ny(t,e){e||(e={});var r=t6();r.p(t);var n=TH(t,e,e.dictionary?6:2,4);return UH(n,e),r6(n,n.length-4,r.d()),n}var OH=typeof TextDecoder<"u"&&new TextDecoder,LH=0;try{OH.decode(e6,{stream:!0}),LH=1}catch{}function kH(t){if(Array.isArray(t))return t}function PH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],A=!0,l=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(A=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);A=!0);}catch(c){l=!0,i=c}finally{try{if(!A&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function RB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function DH(t,e){if(t){if(typeof t=="string")return RB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RB(t,e):void 0}}function RH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QB(t,e){return kH(t)||PH(t,e)||DH(t,e)||RH()}function jB(t,e="utf8"){return new TextDecoder(e).decode(t)}const QH=new TextEncoder;function jH(t){return QH.encode(t)}const MH=1024*8,HH=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Wv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class nx{constructor(e=MH,r={}){Cr(this,"buffer");Cr(this,"byteLength");Cr(this,"byteOffset");Cr(this,"length");Cr(this,"offset");Cr(this,"lastWrittenByte");Cr(this,"littleEndian");Cr(this,"_data");Cr(this,"_mark");Cr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof nx)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Wv[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===HH&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const A=new Wv[r](o.buffer);return this.offset+=n,A.reverse(),A}const s=new Wv[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return jB(this.readBytes(e))}decodeText(e=1,r="utf8"){return jB(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(jH(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Pf(t){let e=t.length;for(;--e>=0;)t[e]=0}const KH=3,VH=258,n6=29,$H=256,GH=$H+1+n6,i6=30,zH=512,WH=new Array((GH+2)*2);Pf(WH);const qH=new Array(i6*2);Pf(qH);const XH=new Array(zH);Pf(XH);const YH=new Array(VH-KH+1);Pf(YH);const JH=new Array(n6);Pf(JH);const ZH=new Array(i6);Pf(ZH);const eK=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var iy=eK;const tK=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},rK=new Uint32Array(tK()),nK=(t,e,r,n)=>{const i=rK,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Ao=nK,ay={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},a6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const iK=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var aK=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)iK(r,n)&&(t[n]=r[n])}}return t},sK=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},s6={assign:aK,flattenChunks:sK};let o6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o6=!1}const _h=new Uint8Array(256);for(let t=0;t<256;t++)_h[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_h[254]=_h[254]=1;var oK=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const AK=(t,e)=>{if(e<65534&&t.subarray&&o6)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var lK=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=_h[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return AK(a,i)},cK=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+_h[t[r]]>e?r:e},sy={string2buf:oK,buf2string:lK,utf8border:cK};function uK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fK=uK;const J0=16209,dK=16191;var hK=function(e,r){let n,i,a,s,o,A,l,c,u,h,d,g,y,B,v,w,x,_,F,N,R,D,k,V;const T=e.state;n=e.next_in,k=e.input,i=n+(e.avail_in-5),a=e.next_out,V=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),A=T.dmax,l=T.wsize,c=T.whave,u=T.wnext,h=T.window,d=T.hold,g=T.bits,y=T.lencode,B=T.distcode,v=(1<<T.lenbits)-1,w=(1<<T.distbits)-1;e:do{g<15&&(d+=k[n++]<<g,g+=8,d+=k[n++]<<g,g+=8),x=y[d&v];t:for(;;){if(_=x>>>24,d>>>=_,g-=_,_=x>>>16&255,_===0)V[a++]=x&65535;else if(_&16){F=x&65535,_&=15,_&&(g<_&&(d+=k[n++]<<g,g+=8),F+=d&(1<<_)-1,d>>>=_,g-=_),g<15&&(d+=k[n++]<<g,g+=8,d+=k[n++]<<g,g+=8),x=B[d&w];r:for(;;){if(_=x>>>24,d>>>=_,g-=_,_=x>>>16&255,_&16){if(N=x&65535,_&=15,g<_&&(d+=k[n++]<<g,g+=8,g<_&&(d+=k[n++]<<g,g+=8)),N+=d&(1<<_)-1,N>A){e.msg="invalid distance too far back",T.mode=J0;break e}if(d>>>=_,g-=_,_=a-s,N>_){if(_=N-_,_>c&&T.sane){e.msg="invalid distance too far back",T.mode=J0;break e}if(R=0,D=h,u===0){if(R+=l-_,_<F){F-=_;do V[a++]=h[R++];while(--_);R=a-N,D=V}}else if(u<_){if(R+=l+u-_,_-=u,_<F){F-=_;do V[a++]=h[R++];while(--_);if(R=0,u<F){_=u,F-=_;do V[a++]=h[R++];while(--_);R=a-N,D=V}}}else if(R+=u-_,_<F){F-=_;do V[a++]=h[R++];while(--_);R=a-N,D=V}for(;F>2;)V[a++]=D[R++],V[a++]=D[R++],V[a++]=D[R++],F-=3;F&&(V[a++]=D[R++],F>1&&(V[a++]=D[R++]))}else{R=a-N;do V[a++]=V[R++],V[a++]=V[R++],V[a++]=V[R++],F-=3;while(F>2);F&&(V[a++]=V[R++],F>1&&(V[a++]=V[R++]))}}else if(_&64){e.msg="invalid distance code",T.mode=J0;break e}else{x=B[(x&65535)+(d&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){T.mode=dK;break e}else{e.msg="invalid literal/length code",T.mode=J0;break e}else{x=y[(x&65535)+(d&(1<<_)-1)];continue t}break}}while(n<i&&a<o);F=g>>3,n-=F,g-=F<<3,d&=(1<<g)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),T.hold=d,T.bits=g};const Cu=15,MB=852,HB=592,KB=0,qv=1,VB=2,pK=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gK=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vK=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mK=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yK=(t,e,r,n,i,a,s,o)=>{const A=o.bits;let l=0,c=0,u=0,h=0,d=0,g=0,y=0,B=0,v=0,w=0,x,_,F,N,R,D=null,k;const V=new Uint16Array(Cu+1),T=new Uint16Array(Cu+1);let O=null,K,q,ie;for(l=0;l<=Cu;l++)V[l]=0;for(c=0;c<n;c++)V[e[r+c]]++;for(d=A,h=Cu;h>=1&&V[h]===0;h--);if(d>h&&(d=h),h===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<h&&V[u]===0;u++);for(d<u&&(d=u),B=1,l=1;l<=Cu;l++)if(B<<=1,B-=V[l],B<0)return-1;if(B>0&&(t===KB||h!==1))return-1;for(T[1]=0,l=1;l<Cu;l++)T[l+1]=T[l]+V[l];for(c=0;c<n;c++)e[r+c]!==0&&(s[T[e[r+c]]++]=c);if(t===KB?(D=O=s,k=20):t===qv?(D=pK,O=gK,k=257):(D=vK,O=mK,k=0),w=0,c=0,l=u,R=a,g=d,y=0,F=-1,v=1<<d,N=v-1,t===qv&&v>MB||t===VB&&v>HB)return 1;for(;;){K=l-y,s[c]+1<k?(q=0,ie=s[c]):s[c]>=k?(q=O[s[c]-k],ie=D[s[c]-k]):(q=96,ie=0),x=1<<l-y,_=1<<g,u=_;do _-=x,i[R+(w>>y)+_]=K<<24|q<<16|ie|0;while(_!==0);for(x=1<<l-1;w&x;)x>>=1;if(x!==0?(w&=x-1,w+=x):w=0,c++,--V[l]===0){if(l===h)break;l=e[r+s[c]]}if(l>d&&(w&N)!==F){for(y===0&&(y=d),R+=u,g=l-y,B=1<<g;g+y<h&&(B-=V[g+y],!(B<=0));)g++,B<<=1;if(v+=1<<g,t===qv&&v>MB||t===VB&&v>HB)return 1;F=w&N,i[F]=d<<24|g<<16|R-a|0}}return w!==0&&(i[R+w]=l-y<<24|64<<16|0),o.bits=d,0};var Jd=yK;const wK=0,A6=1,l6=2,{Z_FINISH:$B,Z_BLOCK:xK,Z_TREES:Z0,Z_OK:Qc,Z_STREAM_END:bK,Z_NEED_DICT:BK,Z_STREAM_ERROR:cs,Z_DATA_ERROR:c6,Z_MEM_ERROR:u6,Z_BUF_ERROR:CK,Z_DEFLATED:GB}=a6,Cg=16180,zB=16181,WB=16182,qB=16183,XB=16184,YB=16185,JB=16186,ZB=16187,eC=16188,tC=16189,Qp=16190,eA=16191,Xv=16192,rC=16193,Yv=16194,nC=16195,iC=16196,aC=16197,sC=16198,e1=16199,t1=16200,oC=16201,AC=16202,lC=16203,cC=16204,uC=16205,Jv=16206,fC=16207,dC=16208,en=16209,f6=16210,d6=16211,_K=852,EK=592,SK=15,IK=SK,hC=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function FK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Kc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Cg||e.mode>d6?1:0},h6=t=>{if(Kc(t))return cs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Cg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_K),e.distcode=e.distdyn=new Int32Array(EK),e.sane=1,e.back=-1,Qc},p6=t=>{if(Kc(t))return cs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,h6(t)},g6=(t,e)=>{let r;if(Kc(t))return cs;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?cs:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,p6(t))},v6=(t,e)=>{if(!t)return cs;const r=new FK;t.state=r,r.strm=t,r.window=null,r.mode=Cg;const n=g6(t,e);return n!==Qc&&(t.state=null),n},NK=t=>v6(t,IK);let pC=!0,Zv,e2;const TK=t=>{if(pC){Zv=new Int32Array(512),e2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Jd(A6,t.lens,0,288,Zv,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Jd(l6,t.lens,0,32,e2,0,t.work,{bits:5}),pC=!1}t.lencode=Zv,t.lenbits=9,t.distcode=e2,t.distbits=5},m6=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},UK=(t,e)=>{let r,n,i,a,s,o,A,l,c,u,h,d,g,y,B=0,v,w,x,_,F,N,R,D;const k=new Uint8Array(4);let V,T;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Kc(t)||!t.output||!t.input&&t.avail_in!==0)return cs;r=t.state,r.mode===eA&&(r.mode=Xv),s=t.next_out,i=t.output,A=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,l=r.hold,c=r.bits,u=o,h=A,D=Qc;e:for(;;)switch(r.mode){case Cg:if(r.wrap===0){r.mode=Xv;break}for(;c<16;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=l&255,k[1]=l>>>8&255,r.check=Ao(r.check,k,2,0),l=0,c=0,r.mode=zB;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=en;break}if((l&15)!==GB){t.msg="unknown compression method",r.mode=en;break}if(l>>>=4,c-=4,R=(l&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){t.msg="invalid window size",r.mode=en;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=l&512?tC:eA,l=0,c=0;break;case zB:for(;c<16;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(r.flags=l,(r.flags&255)!==GB){t.msg="unknown compression method",r.mode=en;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=en;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(k[0]=l&255,k[1]=l>>>8&255,r.check=Ao(r.check,k,2,0)),l=0,c=0,r.mode=WB;case WB:for(;c<32;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(k[0]=l&255,k[1]=l>>>8&255,k[2]=l>>>16&255,k[3]=l>>>24&255,r.check=Ao(r.check,k,4,0)),l=0,c=0,r.mode=qB;case qB:for(;c<16;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(k[0]=l&255,k[1]=l>>>8&255,r.check=Ao(r.check,k,2,0)),l=0,c=0,r.mode=XB;case XB:if(r.flags&1024){for(;c<16;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(k[0]=l&255,k[1]=l>>>8&255,r.check=Ao(r.check,k,2,0)),l=0,c=0}else r.head&&(r.head.extra=null);r.mode=YB;case YB:if(r.flags&1024&&(d=r.length,d>o&&(d=o),d&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),R)),r.flags&512&&r.wrap&4&&(r.check=Ao(r.check,n,d,a)),o-=d,a+=d,r.length-=d),r.length))break e;r.length=0,r.mode=JB;case JB:if(r.flags&2048){if(o===0)break e;d=0;do R=n[a+d++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&d<o);if(r.flags&512&&r.wrap&4&&(r.check=Ao(r.check,n,d,a)),o-=d,a+=d,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=ZB;case ZB:if(r.flags&4096){if(o===0)break e;d=0;do R=n[a+d++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&d<o);if(r.flags&512&&r.wrap&4&&(r.check=Ao(r.check,n,d,a)),o-=d,a+=d,R)break e}else r.head&&(r.head.comment=null);r.mode=eC;case eC:if(r.flags&512){for(;c<16;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(r.wrap&4&&l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=en;break}l=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=eA;break;case tC:for(;c<32;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}t.adler=r.check=hC(l),l=0,c=0,r.mode=Qp;case Qp:if(r.havedict===0)return t.next_out=s,t.avail_out=A,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=c,BK;t.adler=r.check=1,r.mode=eA;case eA:if(e===xK||e===Z0)break e;case Xv:if(r.last){l>>>=c&7,c-=c&7,r.mode=Jv;break}for(;c<3;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}switch(r.last=l&1,l>>>=1,c-=1,l&3){case 0:r.mode=rC;break;case 1:if(TK(r),r.mode=e1,e===Z0){l>>>=2,c-=2;break e}break;case 2:r.mode=iC;break;case 3:t.msg="invalid block type",r.mode=en}l>>>=2,c-=2;break;case rC:for(l>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=en;break}if(r.length=l&65535,l=0,c=0,r.mode=Yv,e===Z0)break e;case Yv:r.mode=nC;case nC:if(d=r.length,d){if(d>o&&(d=o),d>A&&(d=A),d===0)break e;i.set(n.subarray(a,a+d),s),o-=d,a+=d,A-=d,s+=d,r.length-=d;break}r.mode=eA;break;case iC:for(;c<14;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(r.nlen=(l&31)+257,l>>>=5,c-=5,r.ndist=(l&31)+1,l>>>=5,c-=5,r.ncode=(l&15)+4,l>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=en;break}r.have=0,r.mode=aC;case aC:for(;r.have<r.ncode;){for(;c<3;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}r.lens[O[r.have++]]=l&7,l>>>=3,c-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,V={bits:r.lenbits},D=Jd(wK,r.lens,0,19,r.lencode,0,r.work,V),r.lenbits=V.bits,D){t.msg="invalid code lengths set",r.mode=en;break}r.have=0,r.mode=sC;case sC:for(;r.have<r.nlen+r.ndist;){for(;B=r.lencode[l&(1<<r.lenbits)-1],v=B>>>24,w=B>>>16&255,x=B&65535,!(v<=c);){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(x<16)l>>>=v,c-=v,r.lens[r.have++]=x;else{if(x===16){for(T=v+2;c<T;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(l>>>=v,c-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=en;break}R=r.lens[r.have-1],d=3+(l&3),l>>>=2,c-=2}else if(x===17){for(T=v+3;c<T;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}l>>>=v,c-=v,R=0,d=3+(l&7),l>>>=3,c-=3}else{for(T=v+7;c<T;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}l>>>=v,c-=v,R=0,d=11+(l&127),l>>>=7,c-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=en;break}for(;d--;)r.lens[r.have++]=R}}if(r.mode===en)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=en;break}if(r.lenbits=9,V={bits:r.lenbits},D=Jd(A6,r.lens,0,r.nlen,r.lencode,0,r.work,V),r.lenbits=V.bits,D){t.msg="invalid literal/lengths set",r.mode=en;break}if(r.distbits=6,r.distcode=r.distdyn,V={bits:r.distbits},D=Jd(l6,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,V),r.distbits=V.bits,D){t.msg="invalid distances set",r.mode=en;break}if(r.mode=e1,e===Z0)break e;case e1:r.mode=t1;case t1:if(o>=6&&A>=258){t.next_out=s,t.avail_out=A,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=c,hK(t,h),s=t.next_out,i=t.output,A=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,l=r.hold,c=r.bits,r.mode===eA&&(r.back=-1);break}for(r.back=0;B=r.lencode[l&(1<<r.lenbits)-1],v=B>>>24,w=B>>>16&255,x=B&65535,!(v<=c);){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(w&&!(w&240)){for(_=v,F=w,N=x;B=r.lencode[N+((l&(1<<_+F)-1)>>_)],v=B>>>24,w=B>>>16&255,x=B&65535,!(_+v<=c);){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}l>>>=_,c-=_,r.back+=_}if(l>>>=v,c-=v,r.back+=v,r.length=x,w===0){r.mode=uC;break}if(w&32){r.back=-1,r.mode=eA;break}if(w&64){t.msg="invalid literal/length code",r.mode=en;break}r.extra=w&15,r.mode=oC;case oC:if(r.extra){for(T=r.extra;c<T;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=AC;case AC:for(;B=r.distcode[l&(1<<r.distbits)-1],v=B>>>24,w=B>>>16&255,x=B&65535,!(v<=c);){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(!(w&240)){for(_=v,F=w,N=x;B=r.distcode[N+((l&(1<<_+F)-1)>>_)],v=B>>>24,w=B>>>16&255,x=B&65535,!(_+v<=c);){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}l>>>=_,c-=_,r.back+=_}if(l>>>=v,c-=v,r.back+=v,w&64){t.msg="invalid distance code",r.mode=en;break}r.offset=x,r.extra=w&15,r.mode=lC;case lC:if(r.extra){for(T=r.extra;c<T;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=en;break}r.mode=cC;case cC:if(A===0)break e;if(d=h-A,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=en;break}d>r.wnext?(d-=r.wnext,g=r.wsize-d):g=r.wnext-d,d>r.length&&(d=r.length),y=r.window}else y=i,g=s-r.offset,d=r.length;d>A&&(d=A),A-=d,r.length-=d;do i[s++]=y[g++];while(--d);r.length===0&&(r.mode=t1);break;case uC:if(A===0)break e;i[s++]=r.length,A--,r.mode=t1;break;case Jv:if(r.wrap){for(;c<32;){if(o===0)break e;o--,l|=n[a++]<<c,c+=8}if(h-=A,t.total_out+=h,r.total+=h,r.wrap&4&&h&&(t.adler=r.check=r.flags?Ao(r.check,i,h,s-h):iy(r.check,i,h,s-h)),h=A,r.wrap&4&&(r.flags?l:hC(l))!==r.check){t.msg="incorrect data check",r.mode=en;break}l=0,c=0}r.mode=fC;case fC:if(r.wrap&&r.flags){for(;c<32;){if(o===0)break e;o--,l+=n[a++]<<c,c+=8}if(r.wrap&4&&l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=en;break}l=0,c=0}r.mode=dC;case dC:D=bK;break e;case en:D=c6;break e;case f6:return u6;case d6:default:return cs}return t.next_out=s,t.avail_out=A,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=c,(r.wsize||h!==t.avail_out&&r.mode<en&&(r.mode<Jv||e!==$B))&&m6(t,t.output,t.next_out,h-t.avail_out),u-=t.avail_in,h-=t.avail_out,t.total_in+=u,t.total_out+=h,r.total+=h,r.wrap&4&&h&&(t.adler=r.check=r.flags?Ao(r.check,i,h,t.next_out-h):iy(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===eA?128:0)+(r.mode===e1||r.mode===Yv?256:0),(u===0&&h===0||e===$B)&&D===Qc&&(D=CK),D},OK=t=>{if(Kc(t))return cs;let e=t.state;return e.window&&(e.window=null),t.state=null,Qc},LK=(t,e)=>{if(Kc(t))return cs;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Qc):cs},kK=(t,e)=>{const r=e.length;let n,i,a;return Kc(t)||(n=t.state,n.wrap!==0&&n.mode!==Qp)?cs:n.mode===Qp&&(i=1,i=iy(i,e,r,0),i!==n.check)?c6:(a=m6(t,e,r,r),a?(n.mode=f6,u6):(n.havedict=1,Qc))};var PK=p6,DK=g6,RK=h6,QK=NK,jK=v6,MK=UK,HK=OK,KK=LK,VK=kK,$K="pako inflate (from Nodeca project)",iA={inflateReset:PK,inflateReset2:DK,inflateResetKeep:RK,inflateInit:QK,inflateInit2:jK,inflate:MK,inflateEnd:HK,inflateGetHeader:KK,inflateSetDictionary:VK,inflateInfo:$K};function GK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zK=GK;const y6=Object.prototype.toString,{Z_NO_FLUSH:WK,Z_FINISH:qK,Z_OK:Eh,Z_STREAM_END:t2,Z_NEED_DICT:r2,Z_STREAM_ERROR:XK,Z_DATA_ERROR:gC,Z_MEM_ERROR:YK}=a6;function Qh(t){this.options=s6.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fK,this.strm.avail_out=0;let r=iA.inflateInit2(this.strm,e.windowBits);if(r!==Eh)throw new Error(ay[r]);if(this.header=new zK,iA.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=sy.string2buf(e.dictionary):y6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=iA.inflateSetDictionary(this.strm,e.dictionary),r!==Eh)))throw new Error(ay[r])}Qh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?qK:WK,y6.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=iA.inflate(r,s),a===r2&&i&&(a=iA.inflateSetDictionary(r,i),a===Eh?a=iA.inflate(r,s):a===gC&&(a=r2));r.avail_in>0&&a===t2&&r.state.wrap>0&&t[r.next_in]!==0;)iA.inflateReset(r),a=iA.inflate(r,s);switch(a){case XK:case gC:case r2:case YK:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===t2))if(this.options.to==="string"){let A=sy.utf8border(r.output,r.next_out),l=r.next_out-A,c=sy.buf2string(r.output,A);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(A,A+l),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Eh&&o===0)){if(a===t2)return a=iA.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Qh.prototype.onData=function(t){this.chunks.push(t)};Qh.prototype.onEnd=function(t){t===Eh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s6.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function JK(t,e){const r=new Qh(e);if(r.push(t),r.err)throw r.msg||ay[r.err];return r.result}var ZK=Qh,eV=JK,tV={Inflate:ZK,inflate:eV};const{Inflate:rV,inflate:nV}=tV;var vC=rV,iV=nV;const w6=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;w6[t]=e}const mC=4294967295;function aV(t,e,r){let n=t;for(let i=0;i<r;i++)n=w6[(n^e[i])&255]^n>>>8;return n}function sV(t,e){return(aV(mC,t,e)^mC)>>>0}function yC(t,e,r){const n=t.readUint32(),i=sV(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function x6(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function b6(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function B6(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function C6(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function _6(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+oV(e[a-i],r[a],r[a-i])&255}}function oV(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function AV(t,e,r,n,i,a){switch(t){case 0:x6(e,r,i);break;case 1:b6(e,r,i,a);break;case 2:B6(e,r,n,i);break;case 3:C6(e,r,n,i,a);break;case 4:_6(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const lV=new Uint16Array([255]),cV=new Uint8Array(lV.buffer),uV=cV[0]===255;function fV(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,A=new Uint8Array(n*r*o);let l=0;for(let c=0;c<7;c++){const u=s[c],h=Math.ceil((r-u.x)/u.xStep),d=Math.ceil((n-u.y)/u.yStep);if(h<=0||d<=0)continue;const g=h*o,y=new Uint8Array(g);for(let B=0;B<d;B++){const v=e[l++],w=e.subarray(l,l+g);l+=g;const x=new Uint8Array(g);AV(v,w,x,y,g,o),y.set(x);for(let _=0;_<h;_++){const F=u.x+_*u.xStep,N=u.y+B*u.yStep;if(!(F>=r||N>=n))for(let R=0;R<o;R++)A[(N*r+F)*o+R]=x[_*o+R]}}}if(a===16){const c=new Uint16Array(A.buffer);if(uV)for(let u=0;u<c.length;u++)c[u]=dV(c[u]);return c}else return A}function dV(t){return(t&255)<<8|t>>8&255}const hV=new Uint16Array([255]),pV=new Uint8Array(hV.buffer),gV=pV[0]===255,vV=new Uint8Array(0);function wC(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),A=new Uint8Array(n*o);let l=vV,c=0,u,h;for(let d=0;d<n;d++){switch(u=e.subarray(c+1,c+1+o),h=A.subarray(d*o,(d+1)*o),e[c]){case 0:x6(u,h,o);break;case 1:b6(u,h,o,s);break;case 2:B6(u,h,l,o);break;case 3:C6(u,h,l,o,s);break;case 4:_6(u,h,l,o,s);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}l=h,c+=o+1}if(a===16){const d=new Uint16Array(A.buffer);if(gV)for(let g=0;g<d.length;g++)d[g]=mV(d[g]);return d}else return A}function mV(t){return(t&255)<<8|t>>8&255}const T1=Uint8Array.of(137,80,78,71,13,10,26,10);function xC(t){if(!yV(t.readBytes(T1.length)))throw new Error("wrong PNG signature")}function yV(t){if(t.length<T1.length)return!1;for(let e=0;e<T1.length;e++)if(t[e]!==T1[e])return!1;return!0}const wV="tEXt",xV=0,E6=new TextDecoder("latin1");function bV(t){if(CV(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const BV=/^[\u0000-\u00FF]*$/;function CV(t){if(!BV.test(t))throw new Error("invalid latin1 text")}function _V(t,e,r){const n=S6(e);t[n]=EV(e,r-n.length-1)}function S6(t){for(t.mark();t.readByte()!==xV;);const e=t.offset;t.reset();const r=E6.decode(t.readBytes(e-t.offset-1));return t.skip(1),bV(r),r}function EV(t,e){return E6.decode(t.readBytes(e))}const Ta={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},n2={UNKNOWN:-1,DEFLATE:0},bC={UNKNOWN:-1,ADAPTIVE:0},i2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},r1={NONE:0,BACKGROUND:1,PREVIOUS:2},a2={SOURCE:0,OVER:1};class SV extends nx{constructor(r,n={}){super(r);Cr(this,"_checkCrc");Cr(this,"_inflator");Cr(this,"_png");Cr(this,"_apng");Cr(this,"_end");Cr(this,"_hasPalette");Cr(this,"_palette");Cr(this,"_hasTransparency");Cr(this,"_transparency");Cr(this,"_compressionMethod");Cr(this,"_filterMethod");Cr(this,"_interlaceMethod");Cr(this,"_colorType");Cr(this,"_isAnimated");Cr(this,"_numberOfFrames");Cr(this,"_numberOfPlays");Cr(this,"_frames");Cr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new vC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=n2.UNKNOWN,this._filterMethod=bC.UNKNOWN,this._interlaceMethod=i2.UNKNOWN,this._colorType=Ta.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xC(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(xC(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case wV:_V(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?yC(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?yC(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=IV(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ta.GREYSCALE:i=1;break;case Ta.TRUECOLOUR:i=3;break;case Ta.INDEXED_COLOUR:i=1;break;case Ta.GREYSCALE_ALPHA:i=2;break;case Ta.TRUECOLOUR_ALPHA:i=4;break;case Ta.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==n2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ta.GREYSCALE:case Ta.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ta.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ta.UNKNOWN:case Ta.GREYSCALE_ALPHA:case Ta.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=S6(this),i=this.readUint8();if(i!==n2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:iV(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=wC({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case r1.NONE:break;case r1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let A=0;A<this._png.channels;A++)i.data[o+A]=0}break;case r1.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const A=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,l=(s*n.width+o)*this._png.channels;return{index:A,frameIndex:l}};switch(n.blendOp){case a2.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:A,frameIndex:l}=a(s,o);for(let c=0;c<this._png.channels;c++)r.data[A+c]=n.data[l+c]}break;case a2.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:A,frameIndex:l}=a(s,o);for(let c=0;c<this._png.channels;c++){const u=n.data[l+this._png.channels-1]/i,h=c%(this._png.channels-1)===0?1:n.data[l+c],d=Math.floor(u*h+(1-u)*r.data[A+c]);r.data[A+c]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==bC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===i2.NO_INTERLACE)this._png.data=wC({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===i2.ADAM7)this._png.data=fV({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:r1.NONE,blendOp:a2.SOURCE,data:r}),this._inflator=new vC,this._writingDataChunks=!1}}function IV(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var BC;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(BC||(BC={}));function FV(t,e){return new SV(t,e).decode()}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function s2(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var kr={log:s2,warn:function(t){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):s2.call(null,arguments))},error:function(t){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):s2(t))}};function o2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){hc(n.response,e,r)},n.onerror=function(){kr.error("could not download file")},n.send()}function CC(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function n1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hc=Ut.saveAs||((typeof window>"u"?"undefined":Er(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ut.URL||Ut.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?CC(i.href)?o2(t,e,r):n1(i,i.target="_blank"):n1(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){n1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(CC(t))o2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){n1(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Er(a)!=="object"&&(kr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return o2(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Ut.HTMLElement)||Ut.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Er(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var A=Ut.URL||Ut.webkitURL,l=A.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout(function(){A.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function I6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),A=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),"#"+o+A+l}}var U1=Ut.atob.bind(Ut),_C=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function A2(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Fi(r,n,i,a,e[0],7,-680876936),a=Fi(a,r,n,i,e[1],12,-389564586),i=Fi(i,a,r,n,e[2],17,606105819),n=Fi(n,i,a,r,e[3],22,-1044525330),r=Fi(r,n,i,a,e[4],7,-176418897),a=Fi(a,r,n,i,e[5],12,1200080426),i=Fi(i,a,r,n,e[6],17,-1473231341),n=Fi(n,i,a,r,e[7],22,-45705983),r=Fi(r,n,i,a,e[8],7,1770035416),a=Fi(a,r,n,i,e[9],12,-1958414417),i=Fi(i,a,r,n,e[10],17,-42063),n=Fi(n,i,a,r,e[11],22,-1990404162),r=Fi(r,n,i,a,e[12],7,1804603682),a=Fi(a,r,n,i,e[13],12,-40341101),i=Fi(i,a,r,n,e[14],17,-1502002290),r=Ni(r,n=Fi(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ni(a,r,n,i,e[6],9,-1069501632),i=Ni(i,a,r,n,e[11],14,643717713),n=Ni(n,i,a,r,e[0],20,-373897302),r=Ni(r,n,i,a,e[5],5,-701558691),a=Ni(a,r,n,i,e[10],9,38016083),i=Ni(i,a,r,n,e[15],14,-660478335),n=Ni(n,i,a,r,e[4],20,-405537848),r=Ni(r,n,i,a,e[9],5,568446438),a=Ni(a,r,n,i,e[14],9,-1019803690),i=Ni(i,a,r,n,e[3],14,-187363961),n=Ni(n,i,a,r,e[8],20,1163531501),r=Ni(r,n,i,a,e[13],5,-1444681467),a=Ni(a,r,n,i,e[2],9,-51403784),i=Ni(i,a,r,n,e[7],14,1735328473),r=Ti(r,n=Ni(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ti(a,r,n,i,e[8],11,-2022574463),i=Ti(i,a,r,n,e[11],16,1839030562),n=Ti(n,i,a,r,e[14],23,-35309556),r=Ti(r,n,i,a,e[1],4,-1530992060),a=Ti(a,r,n,i,e[4],11,1272893353),i=Ti(i,a,r,n,e[7],16,-155497632),n=Ti(n,i,a,r,e[10],23,-1094730640),r=Ti(r,n,i,a,e[13],4,681279174),a=Ti(a,r,n,i,e[0],11,-358537222),i=Ti(i,a,r,n,e[3],16,-722521979),n=Ti(n,i,a,r,e[6],23,76029189),r=Ti(r,n,i,a,e[9],4,-640364487),a=Ti(a,r,n,i,e[12],11,-421815835),i=Ti(i,a,r,n,e[15],16,530742520),r=Ui(r,n=Ti(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ui(a,r,n,i,e[7],10,1126891415),i=Ui(i,a,r,n,e[14],15,-1416354905),n=Ui(n,i,a,r,e[5],21,-57434055),r=Ui(r,n,i,a,e[12],6,1700485571),a=Ui(a,r,n,i,e[3],10,-1894986606),i=Ui(i,a,r,n,e[10],15,-1051523),n=Ui(n,i,a,r,e[1],21,-2054922799),r=Ui(r,n,i,a,e[8],6,1873313359),a=Ui(a,r,n,i,e[15],10,-30611744),i=Ui(i,a,r,n,e[6],15,-1560198380),n=Ui(n,i,a,r,e[13],21,1309151649),r=Ui(r,n,i,a,e[4],6,-145523070),a=Ui(a,r,n,i,e[11],10,-1120210379),i=Ui(i,a,r,n,e[2],15,718787259),n=Ui(n,i,a,r,e[9],21,-343485551),t[0]=ul(r,t[0]),t[1]=ul(n,t[1]),t[2]=ul(i,t[2]),t[3]=ul(a,t[3])}function _g(t,e,r,n,i,a){return e=ul(ul(e,t),ul(n,a)),ul(e<<i|e>>>32-i,r)}function Fi(t,e,r,n,i,a,s){return _g(e&r|~e&n,t,e,i,a,s)}function Ni(t,e,r,n,i,a,s){return _g(e&n|r&~n,t,e,i,a,s)}function Ti(t,e,r,n,i,a,s){return _g(e^r^n,t,e,i,a,s)}function Ui(t,e,r,n,i,a,s){return _g(r^(e|~n),t,e,i,a,s)}function F6(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)A2(n,NV(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(A2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,A2(n,i),n}function NV(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var EC="0123456789abcdef".split("");function TV(t){for(var e="",r=0;r<4;r++)e+=EC[t>>8*r+4&15]+EC[t>>8*r&15];return e}function UV(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function oy(t){return F6(t).map(UV).join("")}var OV=function(t){for(var e=0;e<t.length;e++)t[e]=TV(t[e]);return t.join("")}(F6("hello"))!="5d41402abc4b2a76b9719d911017c592";function ul(t,e){if(OV){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ay(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],A=0;A<256;A++)o[A]=A;var l=0;for(A=0;A<256;A++){var c=o[A];l=(l+c+s.charCodeAt(A))%256,o[A]=o[l],o[l]=c}r=t,n=o}else o=n;var u=e.length,h=0,d=0,g="";for(A=0;A<u;A++)d=(d+(c=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=c,s=o[(o[h]+o[d])%256],g+=String.fromCharCode(e.charCodeAt(A)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var SC={print:4,modify:8,copy:16,"annot-forms":32};function Uu(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(SC.perm!==void 0)throw new Error("Invalid permission: "+o);i+=SC[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=oy(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Ay(this.encryptionKey,this.padding)}function Ou(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function IC(t){if(Er(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){Ut.console&&kr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function jp(t){if(!(this instanceof jp))return new jp(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function N6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function yc(t,e,r,n,i){if(!(this instanceof yc))return new yc(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,N6.call(this,n,i)}function qu(t,e,r,n,i){if(!(this instanceof qu))return new qu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,N6.call(this,n,i)}function yt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,A=16,l="S",c=null;Er(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(A=t.floatPrecision),l=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var u=t.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=IC;var g="1.3",y=d.__private__.getPdfVersion=function(){return g};d.__private__.setPdfVersion=function(b){g=b};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return B};var v=d.__private__.getPageFormat=function(b){return B[b]};i=i||"a4";var w="compat",x="advanced",_=w;function F(){this.saveGraphicsState(),G(new wt(Ze,0,0,-Ze,0,Do()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),l="n",_=x}function N(){this.restoreGraphicsState(),l="S",_=w}var R=d.__private__.combineFontStyleAndFontWeight=function(b,U){if(b=="bold"&&U=="normal"||b=="bold"&&U==400||b=="normal"&&U=="italic"||b=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(b=U==400||U==="normal"?b==="italic"?"italic":"normal":U!=700&&U!=="bold"||b!=="normal"?(U==700?"bold":U)+""+b:"bold"),b};d.advancedAPI=function(b){var U=_===w;return U&&F.call(this),typeof b!="function"||(b(this),U&&N.call(this)),this},d.compatAPI=function(b){var U=_===x;return U&&N.call(this),typeof b!="function"||(b(this),U&&F.call(this)),this},d.isAdvancedAPI=function(){return _===x};var D,k=function(b){if(_!==x)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=d.roundToPrecision=d.__private__.roundToPrecision=function(b,U){var J=e||U;if(isNaN(b)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(J).replace(/0+$/,"")};D=d.hpf=d.__private__.hpf=typeof A=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return V(b,A)}:A==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return V(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return V(b,16)};var T=d.f2=d.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return V(b,2)},O=d.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return V(b,3)},K=d.scale=d.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return _===w?b*Ze:_===x?b:void 0},q=function(b){return K(function(U){return _===w?Do()-U:_===x?U:void 0}(b))};d.__private__.setPrecision=d.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var ie,fe="00000000000000000000000000000000",de=d.__private__.getFileId=function(){return fe},te=d.__private__.setFileId=function(b){return fe=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(an=new Uu(c.userPermissions,c.userPassword,c.ownerPassword,fe)),fe};d.setFileId=function(b){return te(b),this},d.getFileId=function(){return de()};var ce=d.__private__.convertDateToPDFDate=function(b){var U=b.getTimezoneOffset(),J=U<0?"+":"-",ae=Math.floor(Math.abs(U/60)),pe=Math.abs(U%60),Ne=[J,z(ae),"'",z(pe),"'"].join("");return["D:",b.getFullYear(),z(b.getMonth()+1),z(b.getDate()),z(b.getHours()),z(b.getMinutes()),z(b.getSeconds()),Ne].join("")},Ce=d.__private__.convertPDFDateToDate=function(b){var U=parseInt(b.substr(2,4),10),J=parseInt(b.substr(6,2),10)-1,ae=parseInt(b.substr(8,2),10),pe=parseInt(b.substr(10,2),10),Ne=parseInt(b.substr(12,2),10),Re=parseInt(b.substr(14,2),10);return new Date(U,J,ae,pe,Ne,Re,0)},be=d.__private__.setCreationDate=function(b){var U;if(b===void 0&&(b=new Date),b instanceof Date)U=ce(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=b}return ie=U},P=d.__private__.getCreationDate=function(b){var U=ie;return b==="jsDate"&&(U=Ce(ie)),U};d.setCreationDate=function(b){return be(b),this},d.getCreationDate=function(b){return P(b)};var H,z=d.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},ne=d.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},oe=0,he=[],Ee=[],_e=0,Se=[],Pe=[],Qe=!1,Ue=Ee;d.__private__.setCustomOutputDestination=function(b){Qe=!0,Ue=b};var Be=function(b){Qe||(Ue=b)};d.__private__.resetCustomOutputDestination=function(){Qe=!1,Ue=Ee};var G=d.__private__.out=function(b){return b=b.toString(),_e+=b.length+1,Ue.push(b),Ue},He=d.__private__.write=function(b){return G(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},tt=d.__private__.getArrayBuffer=function(b){for(var U=b.length,J=new ArrayBuffer(U),ae=new Uint8Array(J);U--;)ae[U]=b.charCodeAt(U);return J},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Je};var De=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(b){return De=_===x?b/Ze:b,this};var ze,$e=d.__private__.getFontSize=d.getFontSize=function(){return _===w?De:De*Ze},Ct=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(b){return Ct=b,this},d.__private__.getR2L=d.getR2L=function(){return Ct};var lt,Vt=d.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))ze=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');ze=b}else ze=parseInt(b,10)};d.__private__.getZoomMode=function(){return ze};var Et,St=d.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');lt=b};d.__private__.getPageMode=function(){return lt};var Ar=d.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');Et=b};d.__private__.getLayoutMode=function(){return Et},d.__private__.setDisplayMode=d.setDisplayMode=function(b,U,J){return Vt(b),Ar(U),St(J),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(b){if(Object.keys(It).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[b]},d.__private__.getDocumentProperties=function(){return It},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(b){for(var U in It)It.hasOwnProperty(U)&&b[U]&&(It[U]=b[U]);return this},d.__private__.setDocumentProperty=function(b,U){if(Object.keys(It).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[b]=U};var Ie,Ze,rt,pr,it,qe={},mt={},$t=[],pt={},Gt={},Lt={},Pr={},Ur=null,yr=0,Ft=[],lr=new IC(d),Ws=t.hotfixes||[],cr={},Di={},jt=[],wt=function b(U,J,ae,pe,Ne,Re){if(!(this instanceof b))return new b(U,J,ae,pe,Ne,Re);isNaN(U)&&(U=1),isNaN(J)&&(J=0),isNaN(ae)&&(ae=0),isNaN(pe)&&(pe=1),isNaN(Ne)&&(Ne=0),isNaN(Re)&&(Re=0),this._matrix=[U,J,ae,pe,Ne,Re]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(b)},wt.prototype.multiply=function(b){var U=b.sx*this.sx+b.shy*this.shx,J=b.sx*this.shy+b.shy*this.sy,ae=b.shx*this.sx+b.sy*this.shx,pe=b.shx*this.shy+b.sy*this.sy,Ne=b.tx*this.sx+b.ty*this.shx+this.tx,Re=b.tx*this.shy+b.ty*this.sy+this.ty;return new wt(U,J,ae,pe,Ne,Re)},wt.prototype.decompose=function(){var b=this.sx,U=this.shy,J=this.shx,ae=this.sy,pe=this.tx,Ne=this.ty,Re=Math.sqrt(b*b+U*U),at=(b/=Re)*J+(U/=Re)*ae;J-=b*at,ae-=U*at;var ct=Math.sqrt(J*J+ae*ae);return at/=ct,b*(ae/=ct)<U*(J/=ct)&&(b=-b,U=-U,at=-at,Re=-Re),{scale:new wt(Re,0,0,ct,0,0),translate:new wt(1,0,0,1,pe,Ne),rotate:new wt(b,U,-U,b,0,0),skew:new wt(1,0,at,1,0,0)}},wt.prototype.toString=function(b){return this.join(" ")},wt.prototype.inversed=function(){var b=this.sx,U=this.shy,J=this.shx,ae=this.sy,pe=this.tx,Ne=this.ty,Re=1/(b*ae-U*J),at=ae*Re,ct=-U*Re,_t=-J*Re,Ot=b*Re;return new wt(at,ct,_t,Ot,-at*pe-_t*Ne,-ct*pe-Ot*Ne)},wt.prototype.applyToPoint=function(b){var U=b.x*this.sx+b.y*this.shx+this.tx,J=b.x*this.shy+b.y*this.sy+this.ty;return new ko(U,J)},wt.prototype.applyToRectangle=function(b){var U=this.applyToPoint(b),J=this.applyToPoint(new ko(b.x+b.w,b.y+b.h));return new Vl(U.x,U.y,J.x-U.x,J.y-U.y)},wt.prototype.clone=function(){var b=this.sx,U=this.shy,J=this.shx,ae=this.sy,pe=this.tx,Ne=this.ty;return new wt(b,U,J,ae,pe,Ne)},d.Matrix=wt;var Un=d.matrixMult=function(b,U){return U.multiply(b)},Qn=new wt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Qn;var ta=function(b,U){if(!Gt[b]){var J=(U instanceof yc?"Sh":"P")+(Object.keys(pt).length+1).toString(10);U.id=J,Gt[b]=J,pt[J]=U,lr.publish("addPattern",U)}};d.ShadingPattern=yc,d.TilingPattern=qu,d.addShadingPattern=function(b,U){return k("addShadingPattern()"),ta(b,U),this},d.beginTilingPattern=function(b){k("beginTilingPattern()"),$l(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},d.endTilingPattern=function(b,U){k("endTilingPattern()"),U.stream=Pe[H].join(`
`),ta(b,U),lr.publish("endTilingPattern",U),jt.pop().restore()};var ra,Dr=d.__private__.newObject=function(){var b=hn();return On(b,!0),b},hn=d.__private__.newObjectDeferred=function(){return oe++,he[oe]=function(){return _e},oe},On=function(b,U){return U=typeof U=="boolean"&&U,he[b]=_e,U&&G(b+" 0 obj"),b},_o=d.__private__.newAdditionalObject=function(){var b={objId:hn(),content:""};return Se.push(b),b},us=hn(),ai=hn(),Va=d.__private__.decodeColorString=function(b){var U=b.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var J=parseFloat(U[0]);U=[J,J,J,"r"]}for(var ae="#",pe=0;pe<3;pe++)ae+=("0"+Math.floor(255*parseFloat(U[pe])).toString(16)).slice(-2);return ae},Bi=d.__private__.encodeColorString=function(b){var U;typeof b=="string"&&(b={ch1:b});var J=b.ch1,ae=b.ch2,pe=b.ch3,Ne=b.ch4,Re=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var at=new I6(J);if(at.ok)J=at.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var ct=parseInt(J.substr(1),16);J=ct>>16&255,ae=ct>>8&255,pe=255&ct}if(ae===void 0||Ne===void 0&&J===ae&&ae===pe)U=typeof J=="string"?J+" "+Re[0]:b.precision===2?T(J/255)+" "+Re[0]:O(J/255)+" "+Re[0];else if(Ne===void 0||Er(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Re[1]].join(" ");U=typeof J=="string"?[J,ae,pe,Re[1]].join(" "):b.precision===2?[T(J/255),T(ae/255),T(pe/255),Re[1]].join(" "):[O(J/255),O(ae/255),O(pe/255),Re[1]].join(" ")}else U=typeof J=="string"?[J,ae,pe,Ne,Re[2]].join(" "):b.precision===2?[T(J),T(ae),T(pe),T(Ne),Re[2]].join(" "):[O(J),O(ae),O(pe),O(Ne),Re[2]].join(" ");return U},Ri=d.__private__.getFilters=function(){return s},Qi=d.__private__.putStream=function(b){var U=(b=b||{}).data||"",J=b.filters||Ri(),ae=b.alreadyAppliedFilters||[],pe=b.addLength1||!1,Ne=U.length,Re=b.objectId,at=function(bn){return bn};if(c!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(at=an.encryptor(Re,0));var ct={};J===!0&&(J=["FlateEncode"]);var _t=b.additionalKeyValues||[],Ot=(ct=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(U,J):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(ct.data.length!==0&&(_t.push({key:"Length",value:ct.data.length}),pe===!0&&_t.push({key:"Length1",value:Ne})),Ot.length!=0)if(Ot.split("/").length-1==1)_t.push({key:"Filter",value:Ot});else{_t.push({key:"Filter",value:"["+Ot+"]"});for(var tr=0;tr<_t.length;tr+=1)if(_t[tr].key==="DecodeParms"){for(var Or=[],pn=0;pn<ct.reverseChain.split("/").length-1;pn+=1)Or.push("null");Or.push(_t[tr].value),_t[tr].value="["+Or.join(" ")+"]"}}G("<<");for(var ur=0;ur<_t.length;ur++)G("/"+_t[ur].key+" "+_t[ur].value);G(">>"),ct.data.length!==0&&(G("stream"),G(at(ct.data)),G("endstream"))},qs=d.__private__.putPage=function(b){var U=b.number,J=b.data,ae=b.objId,pe=b.contentsObjId;On(ae,!0),G("<</Type /Page"),G("/Parent "+b.rootDictionaryObjId+" 0 R"),G("/Resources "+b.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(D(b.mediaBox.bottomLeftX))+" "+parseFloat(D(b.mediaBox.bottomLeftY))+" "+D(b.mediaBox.topRightX)+" "+D(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&G("/CropBox ["+D(b.cropBox.bottomLeftX)+" "+D(b.cropBox.bottomLeftY)+" "+D(b.cropBox.topRightX)+" "+D(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&G("/BleedBox ["+D(b.bleedBox.bottomLeftX)+" "+D(b.bleedBox.bottomLeftY)+" "+D(b.bleedBox.topRightX)+" "+D(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&G("/TrimBox ["+D(b.trimBox.bottomLeftX)+" "+D(b.trimBox.bottomLeftY)+" "+D(b.trimBox.topRightX)+" "+D(b.trimBox.topRightY)+"]"),b.artBox!==null&&G("/ArtBox ["+D(b.artBox.bottomLeftX)+" "+D(b.artBox.bottomLeftY)+" "+D(b.artBox.topRightX)+" "+D(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&G("/UserUnit "+b.userUnit),lr.publish("putPage",{objId:ae,pageContext:Ft[U],pageNumber:U,page:J}),G("/Contents "+pe+" 0 R"),G(">>"),G("endobj");var Ne=J.join(`
`);return _===x&&(Ne+=`
Q`),On(pe,!0),Qi({data:Ne,filters:Ri(),objectId:pe}),G("endobj"),ae},Ca=d.__private__.putPages=function(){var b,U,J=[];for(b=1;b<=yr;b++)Ft[b].objId=hn(),Ft[b].contentsObjId=hn();for(b=1;b<=yr;b++)J.push(qs({number:b,data:Pe[b],objId:Ft[b].objId,contentsObjId:Ft[b].contentsObjId,mediaBox:Ft[b].mediaBox,cropBox:Ft[b].cropBox,bleedBox:Ft[b].bleedBox,trimBox:Ft[b].trimBox,artBox:Ft[b].artBox,userUnit:Ft[b].userUnit,rootDictionaryObjId:us,resourceDictionaryObjId:ai}));On(us,!0),G("<</Type /Pages");var ae="/Kids [";for(U=0;U<yr;U++)ae+=J[U]+" 0 R ";G(ae+"]"),G("/Count "+yr),G(">>"),G("endobj"),lr.publish("postPutPages")},Eo=function(b){lr.publish("putFont",{font:b,out:G,newObject:Dr,putStream:Qi}),b.isAlreadyPutted!==!0&&(b.objectNumber=Dr(),G("<<"),G("/Type /Font"),G("/BaseFont /"+Ou(b.postScriptName)),G("/Subtype /Type1"),typeof b.encoding=="string"&&G("/Encoding /"+b.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},wA=function(b){b.objectNumber=Dr();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[D(b.x),D(b.y),D(b.x+b.width),D(b.y+b.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var J=b.pages[1].join(`
`);Qi({data:J,additionalKeyValues:U,objectId:b.objectNumber}),G("endobj")},xA=function(b,U){U||(U=21);var J=Dr(),ae=function(Re,at){var ct,_t=[],Ot=1/(at-1);for(ct=0;ct<1;ct+=Ot)_t.push(ct);if(_t.push(1),Re[0].offset!=0){var tr={offset:0,color:Re[0].color};Re.unshift(tr)}if(Re[Re.length-1].offset!=1){var Or={offset:1,color:Re[Re.length-1].color};Re.push(Or)}for(var pn="",ur=0,bn=0;bn<_t.length;bn++){for(ct=_t[bn];ct>Re[ur+1].offset;)ur++;var gn=Re[ur].offset,Mn=(ct-gn)/(Re[ur+1].offset-gn),ia=Re[ur].color,_i=Re[ur+1].color;pn+=ne(Math.round((1-Mn)*ia[0]+Mn*_i[0]).toString(16))+ne(Math.round((1-Mn)*ia[1]+Mn*_i[1]).toString(16))+ne(Math.round((1-Mn)*ia[2]+Mn*_i[2]).toString(16))}return pn.trim()}(b.colors,U),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+U+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qi({data:ae,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),G("endobj"),b.objectNumber=Dr(),G("<< /ShadingType "+b.type),G("/ColorSpace /DeviceRGB");var Ne="/Coords ["+D(parseFloat(b.coords[0]))+" "+D(parseFloat(b.coords[1]))+" ";b.type===2?Ne+=D(parseFloat(b.coords[2]))+" "+D(parseFloat(b.coords[3])):Ne+=D(parseFloat(b.coords[2]))+" "+D(parseFloat(b.coords[3]))+" "+D(parseFloat(b.coords[4]))+" "+D(parseFloat(b.coords[5])),G(Ne+="]"),b.matrix&&G("/Matrix ["+b.matrix.toString()+"]"),G("/Function "+J+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},bA=function(b,U){var J=hn(),ae=Dr();U.push({resourcesOid:J,objectOid:ae}),b.objectNumber=ae;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+b.boundingBox.map(D).join(" ")+"]"}),pe.push({key:"XStep",value:D(b.xStep)}),pe.push({key:"YStep",value:D(b.yStep)}),pe.push({key:"Resources",value:J+" 0 R"}),b.matrix&&pe.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),Qi({data:b.stream,additionalKeyValues:pe,objectId:b.objectNumber}),G("endobj")},Ol=function(b){for(var U in b.objectNumber=Dr(),G("<<"),b)switch(U){case"opacity":G("/ca "+T(b[U]));break;case"stroke-opacity":G("/CA "+T(b[U]))}G(">>"),G("endobj")},So=function(b){On(b.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var U in G("/Font <<"),qe)qe.hasOwnProperty(U)&&(u===!1||u===!0&&h.hasOwnProperty(U))&&G("/"+U+" "+qe[U].objectNumber+" 0 R");G(">>")}(),function(){if(Object.keys(pt).length>0){for(var U in G("/Shading <<"),pt)pt.hasOwnProperty(U)&&pt[U]instanceof yc&&pt[U].objectNumber>=0&&G("/"+U+" "+pt[U].objectNumber+" 0 R");lr.publish("putShadingPatternDict"),G(">>")}}(),function(U){if(Object.keys(pt).length>0){for(var J in G("/Pattern <<"),pt)pt.hasOwnProperty(J)&&pt[J]instanceof d.TilingPattern&&pt[J].objectNumber>=0&&pt[J].objectNumber<U&&G("/"+J+" "+pt[J].objectNumber+" 0 R");lr.publish("putTilingPatternDict"),G(">>")}}(b.objectOid),function(){if(Object.keys(Lt).length>0){var U;for(U in G("/ExtGState <<"),Lt)Lt.hasOwnProperty(U)&&Lt[U].objectNumber>=0&&G("/"+U+" "+Lt[U].objectNumber+" 0 R");lr.publish("putGStateDict"),G(">>")}}(),function(){for(var U in G("/XObject <<"),cr)cr.hasOwnProperty(U)&&cr[U].objectNumber>=0&&G("/"+U+" "+cr[U].objectNumber+" 0 R");lr.publish("putXobjectDict"),G(">>")}(),G(">>"),G("endobj")},Gc=function(b){mt[b.fontName]=mt[b.fontName]||{},mt[b.fontName][b.fontStyle]=b.id},zc=function(b,U,J,ae,pe){var Ne={id:"F"+(Object.keys(qe).length+1).toString(10),postScriptName:b,fontName:U,fontStyle:J,encoding:ae,isStandardFont:pe||!1,metadata:{}};return lr.publish("addFont",{font:Ne,instance:this}),qe[Ne.id]=Ne,Gc(Ne),Ne.id},na=d.__private__.pdfEscape=d.pdfEscape=function(b,U){return function(J,ae){var pe,Ne,Re,at,ct,_t,Ot,tr,Or;if(Re=(ae=ae||{}).sourceEncoding||"Unicode",ct=ae.outputEncoding,(ae.autoencode||ct)&&qe[Ie].metadata&&qe[Ie].metadata[Re]&&qe[Ie].metadata[Re].encoding&&(at=qe[Ie].metadata[Re].encoding,!ct&&qe[Ie].encoding&&(ct=qe[Ie].encoding),!ct&&at.codePages&&(ct=at.codePages[0]),typeof ct=="string"&&(ct=at[ct]),ct)){for(Ot=!1,_t=[],pe=0,Ne=J.length;pe<Ne;pe++)(tr=ct[J.charCodeAt(pe)])?_t.push(String.fromCharCode(tr)):_t.push(J[pe]),_t[pe].charCodeAt(0)>>8&&(Ot=!0);J=_t.join("")}for(pe=J.length;Ot===void 0&&pe!==0;)J.charCodeAt(pe-1)>>8&&(Ot=!0),pe--;if(!Ot)return J;for(_t=ae.noBOM?[]:[254,255],pe=0,Ne=J.length;pe<Ne;pe++){if((Or=(tr=J.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_t.push(Or),_t.push(tr-(Or<<8))}return String.fromCharCode.apply(void 0,_t)}(b,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},BA=d.__private__.beginPage=function(b){Pe[++yr]=[],Ft[yr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},qc(yr),Be(Pe[H])},Wc=function(b,U){var J,ae,pe;switch(r=U||r,typeof b=="string"&&(J=v(b.toLowerCase()),Array.isArray(J)&&(ae=J[0],pe=J[1])),Array.isArray(b)&&(ae=b[0]*Ze,pe=b[1]*Ze),isNaN(ae)&&(ae=i[0],pe=i[1]),(ae>14400||pe>14400)&&(kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),pe=Math.min(14400,pe)),i=[ae,pe],r.substr(0,1)){case"l":pe>ae&&(i=[pe,ae]);break;case"p":ae>pe&&(i=[pe,ae])}BA(i),Mf(jl),G(To),Hl!==0&&G(Hl+" J"),Kl!==0&&G(Kl+" j"),lr.publish("addPage",{pageNumber:yr})},Ll=function(b){b>0&&b<=yr&&(Pe.splice(b,1),Ft.splice(b,1),yr--,H>yr&&(H=yr),this.setPage(H))},qc=function(b){b>0&&b<=yr&&(H=b)},Io=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Pe.length-1},Xc=function(b,U,J){var ae,pe=void 0;return J=J||{},b=b!==void 0?b:qe[Ie].fontName,U=U!==void 0?U:qe[Ie].fontStyle,ae=b.toLowerCase(),mt[ae]!==void 0&&mt[ae][U]!==void 0?pe=mt[ae][U]:mt[b]!==void 0&&mt[b][U]!==void 0?pe=mt[b][U]:J.disableWarning===!1&&kr.warn("Unable to look up font label for font '"+b+"', '"+U+"'. Refer to getFontList() for available fonts."),pe||J.noFallback||(pe=mt.times[U])==null&&(pe=mt.times.normal),pe},CA=d.__private__.putInfo=function(){var b=Dr(),U=function(ae){return ae};for(var J in c!==null&&(U=an.encryptor(b,0)),G("<<"),G("/Producer ("+na(U("jsPDF "+yt.version))+")"),It)It.hasOwnProperty(J)&&It[J]&&G("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+na(U(It[J]))+")");G("/CreationDate ("+na(U(ie))+")"),G(">>"),G("endobj")},_A=d.__private__.putCatalog=function(b){var U=(b=b||{}).rootDictionaryObjId||us;switch(Dr(),G("<<"),G("/Type /Catalog"),G("/Pages "+U+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+ze;J.substr(J.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&G("/OpenAction [3 0 R /XYZ null null "+T(ze)+"]")}switch(Et||(Et="continuous"),Et){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}lt&&G("/PageMode /"+lt),lr.publish("putCatalog"),G(">>"),G("endobj")},nn=d.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(oe+1)),G("/Root "+oe+" 0 R"),G("/Info "+(oe-1)+" 0 R"),c!==null&&G("/Encrypt "+an.oid+" 0 R"),G("/ID [ <"+fe+"> <"+fe+"> ]"),G(">>")},kl=d.__private__.putHeader=function(){G("%PDF-"+g),G("%")},Pl=d.__private__.putXRef=function(){var b="0000000000";G("xref"),G("0 "+(oe+1)),G("0000000000 65535 f ");for(var U=1;U<=oe;U++)typeof he[U]=="function"?G((b+he[U]()).slice(-10)+" 00000 n "):he[U]!==void 0?G((b+he[U]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},kt=d.__private__.buildDocument=function(){var b;oe=0,_e=0,Ee=[],he=[],Se=[],us=hn(),ai=hn(),Be(Ee),lr.publish("buildDocument"),kl(),Ca(),function(){lr.publish("putAdditionalObjects");for(var J=0;J<Se.length;J++){var ae=Se[J];On(ae.objId,!0),G(ae.content),G("endobj")}lr.publish("postPutAdditionalObjects")}(),b=[],function(){for(var J in qe)qe.hasOwnProperty(J)&&(u===!1||u===!0&&h.hasOwnProperty(J))&&Eo(qe[J])}(),function(){var J;for(J in Lt)Lt.hasOwnProperty(J)&&Ol(Lt[J])}(),function(){for(var J in cr)cr.hasOwnProperty(J)&&wA(cr[J])}(),function(J){var ae;for(ae in pt)pt.hasOwnProperty(ae)&&(pt[ae]instanceof yc?xA(pt[ae]):pt[ae]instanceof qu&&bA(pt[ae],J))}(b),lr.publish("putResources"),b.forEach(So),So({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),lr.publish("postPutResources"),c!==null&&(an.oid=Dr(),G("<<"),G("/Filter /Standard"),G("/V "+an.v),G("/R "+an.r),G("/U <"+an.toHexString(an.U)+">"),G("/O <"+an.toHexString(an.O)+">"),G("/P "+an.P),G(">>"),G("endobj")),CA(),_A();var U=_e;return Pl(),nn(),G("startxref"),G(""+U),G("%%EOF"),Be(Pe[H]),Ee.join(`
`)},Fo=d.__private__.getBlob=function(b){return new Blob([tt(b)],{type:"application/pdf"})},_a=d.output=d.__private__.output=(ra=function(b,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",b){case void 0:return kt();case"save":d.save(U.filename);break;case"arraybuffer":return tt(kt());case"blob":return Fo(kt());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(Fo(kt()))||void 0;kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",ae=kt();try{J=_C(ae)}catch{J=_C(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+U.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(pe=U.pdfObjectUrl,Ne="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",at=Ut.open();return at!==null&&at.document.write(Re),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',_t=Ut.open();if(_t!==null){_t.document.write(ct);var Ot=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=U.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ot.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',Or=Ut.open();if(Or!==null&&(Or.document.write(tr),Or.document.title=U.filename),Or||typeof safari>"u")return Or;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",U);default:return null}},ra.foo=function(){try{return ra.apply(this,arguments)}catch(J){var b=J.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var U="Error in function "+b.split(`
`)[0].split("<")[0]+": "+J.message;if(!Ut.console)throw new Error(U);Ut.console.error(U,J),Ut.alert&&alert(U)}},ra.foo.bar=ra,ra.foo),jn=function(b){return Array.isArray(Ws)===!0&&Ws.indexOf(b)>-1};switch(n){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=jn("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ze=n}var an=null;be(),te();var EA=d.__private__.getPageInfo=d.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[b].objId,pageNumber:b,pageContext:Ft[b]}},SA=d.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Ft)if(Ft[U].objId===b)break;return EA(U)},Qf=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Ft[H].objId,pageNumber:H,pageContext:Ft[H]}};d.addPage=function(){return Wc.apply(this,arguments),this},d.setPage=function(){return qc.apply(this,arguments),Be.call(this,Pe[H]),this},d.insertPage=function(b){return this.addPage(),this.movePage(H,b),this},d.movePage=function(b,U){var J,ae;if(b>U){J=Pe[b],ae=Ft[b];for(var pe=b;pe>U;pe--)Pe[pe]=Pe[pe-1],Ft[pe]=Ft[pe-1];Pe[U]=J,Ft[U]=ae,this.setPage(U)}else if(b<U){J=Pe[b],ae=Ft[b];for(var Ne=b;Ne<U;Ne++)Pe[Ne]=Pe[Ne+1],Ft[Ne]=Ft[Ne+1];Pe[U]=J,Ft[U]=ae,this.setPage(U)}return this},d.deletePage=function(){return Ll.apply(this,arguments),this},d.__private__.text=d.text=function(b,U,J,ae,pe){var Ne,Re,at,ct,_t,Ot,tr,Or,pn,ur=(ae=ae||{}).scope||this;if(typeof b=="number"&&typeof U=="number"&&(typeof J=="string"||Array.isArray(J))){var bn=J;J=U,U=b,b=bn}if(arguments[3]instanceof wt==0?(at=arguments[4],ct=arguments[5],Er(tr=arguments[3])==="object"&&tr!==null||(typeof at=="string"&&(ct=at,at=null),typeof tr=="string"&&(ct=tr,tr=null),typeof tr=="number"&&(at=tr,tr=null),ae={flags:tr,angle:at,align:ct})):(k("The transform parameter of text() with a Matrix value"),pn=pe),isNaN(U)||isNaN(J)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return ur;var gn,Mn="",ia=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:No,_i=ur.internal.scaleFactor;function nu(dr){return dr=dr.split("	").join(Array(ae.TabLen||9).join(" ")),na(dr,tr)}function UA(dr){for(var wr,on=dr.concat(),Bn=[],ys=on.length;ys--;)typeof(wr=on.shift())=="string"?Bn.push(wr):Array.isArray(dr)&&(wr.length===1||wr[1]===void 0&&wr[2]===void 0)?Bn.push(wr[0]):Bn.push([wr[0],wr[1],wr[2]]);return Bn}function Ro(dr,wr){var on;if(typeof dr=="string")on=wr(dr)[0];else if(Array.isArray(dr)){for(var Bn,ys,nc=dr.concat(),kA=[],su=nc.length;su--;)typeof(Bn=nc.shift())=="string"?kA.push(wr(Bn)[0]):Array.isArray(Bn)&&typeof Bn[0]=="string"&&(ys=wr(Bn[0],Bn[1],Bn[2]),kA.push([ys[0],ys[1],ys[2]]));on=kA}return on}var Js=!1,fr=!0;if(typeof b=="string")Js=!0;else if(Array.isArray(b)){var Qo=b.concat();Re=[];for(var Mi,Hn=Qo.length;Hn--;)(typeof(Mi=Qo.shift())!="string"||Array.isArray(Mi)&&typeof Mi[0]!="string")&&(fr=!1);Js=fr}if(Js===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var jo=De/ur.internal.scaleFactor,Pt=jo*(ia-1);switch(ae.baseline){case"bottom":J-=Pt;break;case"top":J+=jo-Pt;break;case"hanging":J+=jo-2*Pt;break;case"middle":J+=jo/2-Pt}if((Ot=ae.maxWidth||0)>0&&(typeof b=="string"?b=ur.splitTextToSize(b,Ot):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(dr,wr){return dr.concat(ur.splitTextToSize(wr,Ot))},[]))),Ne={text:b,x:U,y:J,options:ae,mutex:{pdfEscape:na,activeFontKey:Ie,fonts:qe,activeFontSize:De}},lr.publish("preProcessText",Ne),b=Ne.text,at=(ae=Ne.options).angle,pn instanceof wt==0&&at&&typeof at=="number"){at*=Math.PI/180,ae.rotationDirection===0&&(at=-at),_===x&&(at=-at);var Wl=Math.cos(at),ql=Math.sin(at);pn=new wt(Wl,ql,-ql,Wl,0,0)}else at&&at instanceof wt&&(pn=at);_!==x||pn||(pn=Qn),(_t=ae.charSpace||FA)!==void 0&&(Mn+=D(K(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Or=ae.horizontalScale)!==void 0&&(Mn+=D(100*Or)+` Tz
`),ae.lang;var Jr=-1,vs=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,OA=ur.internal.getCurrentPageInfo().pageContext;switch(vs){case 0:case!1:case"fill":Jr=0;break;case 1:case!0:case"stroke":Jr=1;break;case 2:case"fillThenStroke":Jr=2;break;case 3:case"invisible":Jr=3;break;case 4:case"fillAndAddForClipping":Jr=4;break;case 5:case"strokeAndAddPathForClipping":Jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jr=6;break;case 7:case"addToPathForClipping":Jr=7}var iu=OA.usedRenderingMode!==void 0?OA.usedRenderingMode:-1;Jr!==-1?Mn+=Jr+` Tr
`:iu!==-1&&(Mn+=`0 Tr
`),Jr!==-1&&(OA.usedRenderingMode=Jr),ct=ae.align||"left";var aa,Mo=De*ia,Xl=ur.internal.pageSize.getWidth(),Yl=qe[Ie];_t=ae.charSpace||FA,Ot=ae.maxWidth||0,tr=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Zs=[],Ho=function(dr){return ur.getStringUnitWidth(dr,{font:Yl,charSpace:_t,fontSize:De,doKerning:!1})*De/_i};if(Object.prototype.toString.call(b)==="[object Array]"){var Hi;Re=UA(b),ct!=="left"&&(aa=Re.map(Ho));var Ki,eo=0;if(ct==="right"){U-=aa[0],b=[],Hn=Re.length;for(var ms=0;ms<Hn;ms++)ms===0?(Ki=hs(U),Hi=Ci(J)):(Ki=K(eo-aa[ms]),Hi=-Mo),b.push([Re[ms],Ki,Hi]),eo=aa[ms]}else if(ct==="center"){U-=aa[0]/2,b=[],Hn=Re.length;for(var to=0;to<Hn;to++)to===0?(Ki=hs(U),Hi=Ci(J)):(Ki=K((eo-aa[to])/2),Hi=-Mo),b.push([Re[to],Ki,Hi]),eo=aa[to]}else if(ct==="left"){b=[],Hn=Re.length;for(var Jl=0;Jl<Hn;Jl++)b.push(Re[Jl])}else if(ct==="justify"&&Yl.encoding==="Identity-H"){b=[],Hn=Re.length,Ot=Ot!==0?Ot:Xl;for(var LA=0,sn=0;sn<Hn;sn++)if(Hi=sn===0?Ci(J):-Mo,Ki=sn===0?hs(U):LA,sn<Hn-1){var au=K((Ot-aa[sn])/(Re[sn].split(" ").length-1)),Ga=Re[sn].split(" ");b.push([Ga[0]+" ",Ki,Hi]),LA=0;for(var za=1;za<Ga.length;za++){var Zl=(Ho(Ga[za-1]+" "+Ga[za])-Ho(Ga[za]))*_i+au;za==Ga.length-1?b.push([Ga[za],Zl,0]):b.push([Ga[za]+" ",Zl,0]),LA-=Zl}}else b.push([Re[sn],Ki,Hi]);b.push(["",LA,0])}else{if(ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Hn=Re.length,Ot=Ot!==0?Ot:Xl,sn=0;sn<Hn;sn++){Hi=sn===0?Ci(J):-Mo,Ki=sn===0?hs(U):0;var ec=Re[sn].split(" ").length-1,tc=ec>0?(Ot-aa[sn])/ec:0;sn<Hn-1?Zs.push(D(K(tc))):Zs.push(0),b.push([Re[sn],Ki,Hi])}}}(typeof ae.R2L=="boolean"?ae.R2L:Ct)===!0&&(b=Ro(b,function(dr,wr,on){return[dr.split("").reverse().join(""),wr,on]})),Ne={text:b,x:U,y:J,options:ae,mutex:{pdfEscape:na,activeFontKey:Ie,fonts:qe,activeFontSize:De}},lr.publish("postProcessText",Ne),b=Ne.text,gn=Ne.mutex.isHex||!1;var rc=qe[Ie].encoding;rc!=="WinAnsiEncoding"&&rc!=="StandardEncoding"||(b=Ro(b,function(dr,wr,on){return[nu(dr),wr,on]})),Re=UA(b),b=[];for(var ro,no,io,Ko=Array.isArray(Re[0])?1:0,ao="",Vo=function(dr,wr,on){var Bn="";return on instanceof wt?(on=typeof ae.angle=="number"?Un(on,new wt(1,0,0,1,dr,wr)):Un(new wt(1,0,0,1,dr,wr),on),_===x&&(on=Un(new wt(1,0,0,-1,0,0),on)),Bn=on.join(" ")+` Tm
`):Bn=D(dr)+" "+D(wr)+` Td
`,Bn},sa=0;sa<Re.length;sa++){switch(ao="",Ko){case 1:io=(gn?"<":"(")+Re[sa][0]+(gn?">":")"),ro=parseFloat(Re[sa][1]),no=parseFloat(Re[sa][2]);break;case 0:io=(gn?"<":"(")+Re[sa]+(gn?">":")"),ro=hs(U),no=Ci(J)}Zs!==void 0&&Zs[sa]!==void 0&&(ao=Zs[sa]+` Tw
`),sa===0?b.push(ao+Vo(ro,no,pn)+io):Ko===0?b.push(ao+io):Ko===1&&b.push(ao+Vo(ro,no,pn)+io)}b=Ko===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var Wa=`BT
/`;return Wa+=Ie+" "+De+` Tf
`,Wa+=D(De*ia)+` TL
`,Wa+=Uo+`
`,Wa+=Mn,Wa+=b,G(Wa+="ET"),h[Ie]=!0,ur};var Dl=d.__private__.clip=d.clip=function(b){return G(b==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Dl("evenodd")},d.__private__.discardPath=d.discardPath=function(){return G("n"),this};var $a=d.__private__.isValidStyle=function(b){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(U=!0),U};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(b){return $a(b)&&(l=b),this};var IA=d.__private__.getStyle=d.getStyle=function(b){var U=l;switch(b){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=b}return U},Yc=d.close=function(){return G("h"),this};d.stroke=function(){return G("S"),this},d.fill=function(b){return fs("f",b),this},d.fillEvenOdd=function(b){return fs("f*",b),this},d.fillStroke=function(b){return fs("B",b),this},d.fillStrokeEvenOdd=function(b){return fs("B*",b),this};var fs=function(b,U){Er(U)==="object"?ds(U,b):G(b)},Rl=function(b){b===null||_===x&&b===void 0||(b=IA(b),G(b))};function Jc(b,U,J,ae,pe){var Ne=new qu(U||this.boundingBox,J||this.xStep,ae||this.yStep,this.gState,pe||this.matrix);Ne.stream=this.stream;var Re=b+"$$"+this.cloneIndex+++"$$";return ta(Re,Ne),Ne}var ds=function(b,U){var J=Gt[b.key],ae=pt[J];if(ae instanceof yc)G("q"),G(Ql(U)),ae.gState&&d.setGState(ae.gState),G(b.matrix.toString()+" cm"),G("/"+J+" sh"),G("Q");else if(ae instanceof qu){var pe=new wt(1,0,0,-1,0,Do());b.matrix&&(pe=pe.multiply(b.matrix||Qn),J=Jc.call(ae,b.key,b.boundingBox,b.xStep,b.yStep,pe).id),G("q"),G("/Pattern cs"),G("/"+J+" scn"),ae.gState&&d.setGState(ae.gState),G(U),G("Q")}},Ql=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ji=d.moveTo=function(b,U){return G(D(K(b))+" "+D(q(U))+" m"),this},Xs=d.lineTo=function(b,U){return G(D(K(b))+" "+D(q(U))+" l"),this},Ys=d.curveTo=function(b,U,J,ae,pe,Ne){return G([D(K(b)),D(q(U)),D(K(J)),D(q(ae)),D(K(pe)),D(q(Ne)),"c"].join(" ")),this};d.__private__.line=d.line=function(b,U,J,ae,pe){if(isNaN(b)||isNaN(U)||isNaN(J)||isNaN(ae)||!$a(pe))throw new Error("Invalid arguments passed to jsPDF.line");return _===w?this.lines([[J-b,ae-U]],b,U,[1,1],pe||"S"):this.lines([[J-b,ae-U]],b,U,[1,1]).stroke()},d.__private__.lines=d.lines=function(b,U,J,ae,pe,Ne){var Re,at,ct,_t,Ot,tr,Or,pn,ur,bn,gn,Mn;if(typeof b=="number"&&(Mn=J,J=U,U=b,b=Mn),ae=ae||[1,1],Ne=Ne||!1,isNaN(U)||isNaN(J)||!Array.isArray(b)||!Array.isArray(ae)||!$a(pe)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ji(U,J),Re=ae[0],at=ae[1],_t=b.length,bn=U,gn=J,ct=0;ct<_t;ct++)(Ot=b[ct]).length===2?(bn=Ot[0]*Re+bn,gn=Ot[1]*at+gn,Xs(bn,gn)):(tr=Ot[0]*Re+bn,Or=Ot[1]*at+gn,pn=Ot[2]*Re+bn,ur=Ot[3]*at+gn,bn=Ot[4]*Re+bn,gn=Ot[5]*at+gn,Ys(tr,Or,pn,ur,bn,gn));return Ne&&Yc(),Rl(pe),this},d.path=function(b){for(var U=0;U<b.length;U++){var J=b[U],ae=J.c;switch(J.op){case"m":ji(ae[0],ae[1]);break;case"l":Xs(ae[0],ae[1]);break;case"c":Ys.apply(this,ae);break;case"h":Yc()}}return this},d.__private__.rect=d.rect=function(b,U,J,ae,pe){if(isNaN(b)||isNaN(U)||isNaN(J)||isNaN(ae)||!$a(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w&&(ae=-ae),G([D(K(b)),D(q(U)),D(K(J)),D(K(ae)),"re"].join(" ")),Rl(pe),this},d.__private__.triangle=d.triangle=function(b,U,J,ae,pe,Ne,Re){if(isNaN(b)||isNaN(U)||isNaN(J)||isNaN(ae)||isNaN(pe)||isNaN(Ne)||!$a(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-b,ae-U],[pe-J,Ne-ae],[b-pe,U-Ne]],b,U,[1,1],Re,!0),this},d.__private__.roundedRect=d.roundedRect=function(b,U,J,ae,pe,Ne,Re){if(isNaN(b)||isNaN(U)||isNaN(J)||isNaN(ae)||isNaN(pe)||isNaN(Ne)||!$a(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*J),Ne=Math.min(Ne,.5*ae),this.lines([[J-2*pe,0],[pe*at,0,pe,Ne-Ne*at,pe,Ne],[0,ae-2*Ne],[0,Ne*at,-pe*at,Ne,-pe,Ne],[2*pe-J,0],[-pe*at,0,-pe,-Ne*at,-pe,-Ne],[0,2*Ne-ae],[0,-Ne*at,pe*at,-Ne,pe,-Ne]],b+pe,U,[1,1],Re,!0),this},d.__private__.ellipse=d.ellipse=function(b,U,J,ae,pe){if(isNaN(b)||isNaN(U)||isNaN(J)||isNaN(ae)||!$a(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*J,Re=4/3*(Math.SQRT2-1)*ae;return ji(b+J,U),Ys(b+J,U-Re,b+Ne,U-ae,b,U-ae),Ys(b-Ne,U-ae,b-J,U-Re,b-J,U),Ys(b-J,U+Re,b-Ne,U+ae,b,U+ae),Ys(b+Ne,U+ae,b+J,U+Re,b+J,U),Rl(pe),this},d.__private__.circle=d.circle=function(b,U,J,ae){if(isNaN(b)||isNaN(U)||isNaN(J)||!$a(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,U,J,J,ae)},d.setFont=function(b,U,J){return J&&(U=R(U,J)),Ie=Xc(b,U,{disableWarning:!1}),this};var jf=d.__private__.getFont=d.getFont=function(){return qe[Xc.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var b,U,J={};for(b in mt)if(mt.hasOwnProperty(b))for(U in J[b]=[],mt[b])mt[b].hasOwnProperty(U)&&J[b].push(U);return J},d.addFont=function(b,U,J,ae,pe){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(J=R(J,ae)),zc.call(this,b,U,J,pe=pe||"Identity-H")};var No,jl=t.lineWidth||.200025,Nt=d.__private__.getLineWidth=d.getLineWidth=function(){return jl},Mf=d.__private__.setLineWidth=d.setLineWidth=function(b){return jl=b,G(D(K(b))+" w"),this};d.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(b,U){if(b=b||[],U=U||0,isNaN(U)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(J){return D(K(J))}).join(" "),U=D(K(U)),G("["+b+"] "+U+" d"),this};var Hf=d.__private__.getLineHeight=d.getLineHeight=function(){return De*No};d.__private__.getLineHeight=d.getLineHeight=function(){return De*No};var Kf=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(No=b),this},Vf=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return No};Kf(t.lineHeight);var hs=d.__private__.getHorizontalCoordinate=function(b){return K(b)},Ci=d.__private__.getVerticalCoordinate=function(b){return _===x?b:Ft[H].mediaBox.topRightY-Ft[H].mediaBox.bottomLeftY-K(b)},Zc=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(b){return D(hs(b))},eu=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(b){return D(Ci(b))},To=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Va(To)},d.__private__.setStrokeColor=d.setDrawColor=function(b,U,J,ae){return To=Bi({ch1:b,ch2:U,ch3:J,ch4:ae,pdfColorType:"draw",precision:2}),G(To),this};var Ml=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Va(Ml)},d.__private__.setFillColor=d.setFillColor=function(b,U,J,ae){return Ml=Bi({ch1:b,ch2:U,ch3:J,ch4:ae,pdfColorType:"fill",precision:2}),G(Ml),this};var Uo=t.textColor||"0 g",Oo=d.__private__.getTextColor=d.getTextColor=function(){return Va(Uo)};d.__private__.setTextColor=d.setTextColor=function(b,U,J,ae){return Uo=Bi({ch1:b,ch2:U,ch3:J,ch4:ae,pdfColorType:"text",precision:3}),this};var FA=t.charSpace,$f=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(FA||0)};d.__private__.setCharSpace=d.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return FA=b,this};var Hl=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(b){var U=d.CapJoinStyles[b];if(U===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hl=U,G(U+" J"),this};var Kl=0;d.__private__.setLineJoin=d.setLineJoin=function(b){var U=d.CapJoinStyles[b];if(U===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=U,G(U+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(D(K(b))+" M"),this},d.GState=jp,d.setGState=function(b){(b=typeof b=="string"?Lt[Pr[b]]:Lo(null,b)).equals(Ur)||(G("/"+b.id+" gs"),Ur=b)};var Lo=function(b,U){if(!b||!Pr[b]){var J=!1;for(var ae in Lt)if(Lt.hasOwnProperty(ae)&&Lt[ae].equals(U)){J=!0;break}if(J)U=Lt[ae];else{var pe="GS"+(Object.keys(Lt).length+1).toString(10);Lt[pe]=U,U.id=pe}return b&&(Pr[b]=U.id),lr.publish("addGState",U),U}};d.addGState=function(b,U){return Lo(b,U),this},d.saveGraphicsState=function(){return G("q"),$t.push({key:Ie,size:De,color:Uo}),this},d.restoreGraphicsState=function(){G("Q");var b=$t.pop();return Ie=b.key,De=b.size,Uo=b.color,Ur=null,this},d.setCurrentTransformationMatrix=function(b){return G(b.toString()+" cm"),this},d.comment=function(b){return G("#"+b),this};var ko=function(b,U){var J=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Ne){isNaN(Ne)||(J=parseFloat(Ne))}});var ae=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Ne){isNaN(Ne)||(ae=parseFloat(Ne))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(Ne){pe=Ne.toString()}}),this},Vl=function(b,U,J,ae){ko.call(this,b,U),this.type="rect";var pe=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Re){isNaN(Re)||(pe=parseFloat(Re))}});var Ne=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Re){isNaN(Re)||(Ne=parseFloat(Re))}}),this},NA=function(){this.page=yr,this.currentPage=H,this.pages=Pe.slice(0),this.pagesContext=Ft.slice(0),this.x=rt,this.y=pr,this.matrix=it,this.width=TA(H),this.height=ps(H),this.outputDestination=Ue,this.id="",this.objectNumber=-1};NA.prototype.restore=function(){yr=this.page,H=this.currentPage,Ft=this.pagesContext,Pe=this.pages,rt=this.x,pr=this.y,it=this.matrix,tu(H,this.width),gs(H,this.height),Ue=this.outputDestination};var $l=function(b,U,J,ae,pe){jt.push(new NA),yr=H=0,Pe=[],rt=b,pr=U,it=pe,BA([J,ae])};for(var Po in d.beginFormObject=function(b,U,J,ae,pe){return $l(b,U,J,ae,pe),this},d.endFormObject=function(b){return function(U){if(Di[U])jt.pop().restore();else{var J=new NA,ae="Xo"+(Object.keys(cr).length+1).toString(10);J.id=ae,Di[U]=ae,cr[ae]=J,lr.publish("addFormObject",J),jt.pop().restore()}}(b),this},d.doFormObject=function(b,U){var J=cr[Di[b]];return G("q"),G(U.toString()+" cm"),G("/"+J.id+" Do"),G("Q"),this},d.getFormObject=function(b){var U=cr[Di[b]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},d.save=function(b,U){return b=b||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(hc(Fo(kt()),b),typeof hc.unload=="function"&&Ut.setTimeout&&setTimeout(hc.unload,911),this):new Promise(function(J,ae){try{var pe=hc(Fo(kt()),b);typeof hc.unload=="function"&&Ut.setTimeout&&setTimeout(hc.unload,911),J(pe)}catch(Ne){ae(Ne.message)}})},yt.API)yt.API.hasOwnProperty(Po)&&(Po==="events"&&yt.API.events.length?function(b,U){var J,ae,pe;for(pe=U.length-1;pe!==-1;pe--)J=U[pe][0],ae=U[pe][1],b.subscribe.apply(b,[J].concat(typeof ae=="function"?[ae]:ae))}(lr,yt.API.events):d[Po]=yt.API[Po]);function TA(b){return Ft[b].mediaBox.topRightX-Ft[b].mediaBox.bottomLeftX}function tu(b,U){Ft[b].mediaBox.topRightX=U+Ft[b].mediaBox.bottomLeftX}function ps(b){return Ft[b].mediaBox.topRightY-Ft[b].mediaBox.bottomLeftY}function gs(b,U){Ft[b].mediaBox.topRightY=U+Ft[b].mediaBox.bottomLeftY}var Gl=d.getPageWidth=function(b){return TA(b=b||H)/Ze},ru=d.setPageWidth=function(b,U){tu(b,U*Ze)},Do=d.getPageHeight=function(b){return ps(b=b||H)/Ze},zl=d.setPageHeight=function(b,U){gs(b,U*Ze)};return d.internal={pdfEscape:na,getStyle:IA,getFont:jf,getFontSize:$e,getCharSpace:$f,getTextColor:Oo,getLineHeight:Hf,getLineHeightFactor:Vf,getLineWidth:Nt,write:He,getHorizontalCoordinate:hs,getVerticalCoordinate:Ci,getCoordinateString:Zc,getVerticalCoordinateString:eu,collections:{},newObject:Dr,newAdditionalObject:_o,newObjectDeferred:hn,newObjectDeferredBegin:On,getFilters:Ri,putStream:Qi,events:lr,scaleFactor:Ze,pageSize:{getWidth:function(){return Gl(H)},setWidth:function(b){ru(H,b)},getHeight:function(){return Do(H)},setHeight:function(b){zl(H,b)}},encryptionOptions:c,encryption:an,getEncryptor:function(b){return c!==null?an.encryptor(b,0):function(U){return U}},output:_a,getNumberOfPages:Io,pages:Pe,out:G,f2:T,f3:O,getPageInfo:EA,getPageInfoByObjId:SA,getCurrentPageInfo:Qf,getPDFVersion:y,Point:ko,Rectangle:Vl,Matrix:wt,hasHotfix:jn},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Gl(H)},set:function(b){ru(H,b)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Do(H)},set:function(b){zl(H,b)},enumerable:!0,configurable:!0}),(function(b){for(var U=0,J=Je.length;U<J;U++){var ae=zc.call(this,b[U][0],b[U][1],b[U][2],Je[U][3],!0);u===!1&&(h[ae]=!0);var pe=b[U][0].split("-");Gc({id:ae,fontName:pe[0],fontStyle:pe[1]||""})}lr.publish("addFonts",{fonts:qe,dictionary:mt})}).call(d,Je),Ie="F1",Wc(i,r),lr.publish("initialized"),d}Uu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Uu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Uu.prototype.processOwnerPassword=function(t,e){return Ay(oy(e).substr(0,5),t)},Uu.prototype.encryptor=function(t,e){var r=oy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Ay(r,n)}},jp.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Er(t)!==Er(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},yt.API={events:[]},yt.version="3.0.3";var wn=yt.API,ix=1,Vc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_u=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dt=function(t){return t.toFixed(2)},zA=function(t){return t.toFixed(5)};wn.__acroform__={};var xa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},FC=function(t){return t*ix},lo=function(t){var e=new U6,r=At.internal.getHeight(t)||0,n=At.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Dt(n)),Number(Dt(r))],e},LV=wn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},kV=wn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},PV=wn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Fn=wn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return PV(t,e-1)},Nn=wn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LV(t,e-1)},Tn=wn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kV(t,e-1)},DV=wn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],A={};return A.lowerLeft_X=r(i)||0,A.lowerLeft_Y=n(a+o)||0,A.upperRight_X=r(i+s)||0,A.upperRight_Y=n(a)||0,[Number(Dt(A.lowerLeft_X)),Number(Dt(A.lowerLeft_Y)),Number(Dt(A.upperRight_X)),Number(Dt(A.upperRight_Y))]},RV=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=ly(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Dt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=lo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},ly=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=r,s=At.internal.getHeight(t)||0;s=s<0?-s:s;var o=At.internal.getWidth(t)||0;o=o<0?-o:o;var A=function(T,O,K){if(T+1<i.length){var q=O+" "+i[T+1][0];return i1(q,t,K).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var l,c,u=i1("3",t,a).height,h=t.multiline?s-a:(s-u)/2,d=h+=2,g=0,y=0,B=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+i1(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",w=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var _=!1;if(i[x].length!==1&&B!==i[x].length-1){if((u+2)*(w+2)+2>s)continue e;v+=i[x][B],_=!0,y=x,x--}else{v=(v+=i[x][B]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var F=parseInt(x),N=A(F,v,a),R=x>=i.length-1;if(N&&!R){v+=" ",B=0;continue}if(N||R){if(R)y=F;else if(t.multiline&&(u+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(u+2)*(w+2)+2>s)continue e;y=F}}for(var D="",k=g;k<=y;k++){var V=i[k];if(t.multiline){if(k===y){D+=V[B]+" ",B=(B+1)%V.length;continue}if(k===g){D+=V[V.length-1]+" ";continue}}D+=V[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,c=i1(D,t,a).width,t.textAlign){case"right":l=o-c-2;break;case"center":l=(o-c)/2;break;default:l=2}e+=Dt(l)+" "+Dt(d)+` Td
`,e+="("+Vc(D)+`) Tj
`,e+=-Dt(l)+` 0 Td
`,d=-(a+2),c=0,g=_?y:y+1,w++,v=""}break}return n.text=e,n.fontSize=a,n},i1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},QV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jV=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},MV=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Gs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(QV)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ix=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new O6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&jV(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],A=[],l=o.Rect;if(o.Rect&&(o.Rect=DV(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=At.createDefaultAppearanceStream(o),Er(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(A=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=RV(o);A.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var u="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var g=d[s];typeof g=="function"&&(g=g.call(i,o)),u+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=d)=="function"&&(g=g.call(i,o)),u+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);u+=">>"}A.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:A,objectId:o.objId}),i.internal.out("endobj")}a&&function(y,B){for(var v in y)if(y.hasOwnProperty(v)){var w=v,x=y[v];B.internal.newObjectDeferredBegin(x.objId,!0),Er(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete y[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},T6=wn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Er(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Vc(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},l2=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Vc(n(t))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:T6(i,this.objId,this.scope)}):i instanceof po?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var U6=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};xa(U6,po);var O6=function(){po.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Vc(r(t))+")"}},set:function(r){t=r}})};xa(O6,po);var Gs=function t(){po.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fn(e,3)},set:function(v){v?this.F=Nn(e,3):this.F=Tn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Mp)return;a="FieldObject"+t.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Vc(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(v){A=v}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/ix:l},set:function(v){l=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Mp||this instanceof Nc))return l2(u,this.objId,this.scope)},set:function(v){v=v.toString(),u=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ri==0?l2(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof ri==0?v.substr(0,1)==="("?_u(v.substr(1,v.length-2)):_u(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ri==1?_u(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof ri==1?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ri==0?l2(d,this.objId,this.scope):d},set:function(v){v=v.toString(),d=this instanceof ri==0?v.substr(0,1)==="("?_u(v.substr(1,v.length-2)):_u(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ri==1?_u(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof ri==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(v){v=!!v,y=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,1)},set:function(v){v?this.Ff=Nn(this.Ff,1):this.Ff=Tn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,2)},set:function(v){v?this.Ff=Nn(this.Ff,2):this.Ff=Tn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,3)},set:function(v){v?this.Ff=Nn(this.Ff,3):this.Ff=Tn(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');B=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(B){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};xa(Gs,po);var of=function(){Gs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return T6(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var A,l=[];A=s.exec(a);)l.push(A[o]);return l}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,18)},set:function(r){r?this.Ff=Nn(this.Ff,18):this.Ff=Tn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Nn(this.Ff,19):this.Ff=Tn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,20)},set:function(r){r?(this.Ff=Nn(this.Ff,20),e.sort()):this.Ff=Tn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,22)},set:function(r){r?this.Ff=Nn(this.Ff,22):this.Ff=Tn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(r){r?this.Ff=Nn(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,27)},set:function(r){r?this.Ff=Nn(this.Ff,27):this.Ff=Tn(this.Ff,27)}}),this.hasAppearanceStream=!1};xa(of,Gs);var Af=function(){of.call(this),this.fontName="helvetica",this.combo=!1};xa(Af,of);var lf=function(){Af.call(this),this.combo=!0};xa(lf,Af);var O1=function(){lf.call(this),this.edit=!0};xa(O1,lf);var ri=function(){Gs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,15)},set:function(r){r?this.Ff=Nn(this.Ff,15):this.Ff=Tn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,16)},set:function(r){r?this.Ff=Nn(this.Ff,16):this.Ff=Tn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,17)},set:function(r){r?this.Ff=Nn(this.Ff,17):this.Ff=Tn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(r){r?this.Ff=Nn(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Vc(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Er(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};xa(ri,Gs);var L1=function(){ri.call(this),this.pushButton=!0};xa(L1,ri);var cf=function(){ri.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};xa(cf,ri);var Mp=function(){var t,e;Gs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Vc(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Er(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xa(Mp,Gs),cf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},cf.prototype.createOption=function(t){var e=new Mp;return e.Parent=this,e.optionName=t,this.Kids.push(e),HV.call(this.scope,e),e};var k1=function(){ri.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};xa(k1,ri);var Nc=function(){Gs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,13)},set:function(e){e?this.Ff=Nn(this.Ff,13):this.Ff=Tn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,21)},set:function(e){e?this.Ff=Nn(this.Ff,21):this.Ff=Tn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(e){e?this.Ff=Nn(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,24)},set:function(e){e?this.Ff=Nn(this.Ff,24):this.Ff=Tn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,25)},set:function(e){e?this.Ff=Nn(this.Ff,25):this.Ff=Tn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(e){e?this.Ff=Nn(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xa(Nc,Gs);var P1=function(){Nc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,14)},set:function(t){t?this.Ff=Nn(this.Ff,14):this.Ff=Tn(this.Ff,14)}}),this.password=!0};xa(P1,Nc);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=lo(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=ly(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Dt(At.internal.getWidth(t))+" "+Dt(At.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Dt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=lo(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=At.internal.getHeight(t),s=At.internal.getWidth(t),o=ly(t,t.caption);return i.push("1 g"),i.push("0 0 "+Dt(s)+" "+Dt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Dt(s-1)+" "+Dt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Dt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=lo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Dt(At.internal.getWidth(t))+" "+Dt(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Circle.YesNormal,e.D[t]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=lo(t);e.scope=t.scope;var r=[],n=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=At.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+zA(At.internal.getWidth(t)/2)+" "+zA(At.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=lo(t);e.scope=t.scope;var r=[],n=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*At.internal.Bezier_C).toFixed(5)),s=Number((n*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+zA(At.internal.getWidth(t)/2)+" "+zA(At.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+zA(At.internal.getWidth(t)/2)+" "+zA(At.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=lo(t);e.scope=t.scope;var r=[],n=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+zA(At.internal.getWidth(t)/2)+" "+zA(At.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Cross.YesNormal,e.D[t]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=lo(t);e.scope=t.scope;var r=[],n=At.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Dt(At.internal.getWidth(t)-2)+" "+Dt(At.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Dt(n.x1.x)+" "+Dt(n.x1.y)+" m"),r.push(Dt(n.x2.x)+" "+Dt(n.x2.y)+" l"),r.push(Dt(n.x4.x)+" "+Dt(n.x4.y)+" m"),r.push(Dt(n.x3.x)+" "+Dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=lo(t);e.scope=t.scope;var r=At.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Dt(At.internal.getWidth(t))+" "+Dt(At.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Dt(At.internal.getWidth(t)-2)+" "+Dt(At.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Dt(r.x1.x)+" "+Dt(r.x1.y)+" m"),n.push(Dt(r.x2.x)+" "+Dt(r.x2.y)+" l"),n.push(Dt(r.x4.x)+" "+Dt(r.x4.y)+" m"),n.push(Dt(r.x3.x)+" "+Dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=lo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Dt(At.internal.getWidth(t))+" "+Dt(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=At.internal.getWidth(t),r=At.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},At.internal.getWidth=function(t){var e=0;return Er(t)==="object"&&(e=FC(t.Rect[2])),e},At.internal.getHeight=function(t){var e=0;return Er(t)==="object"&&(e=FC(t.Rect[3])),e};var HV=wn.addField=function(t){if(MV(this,t),!(t instanceof Gs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};wn.AcroFormChoiceField=of,wn.AcroFormListBox=Af,wn.AcroFormComboBox=lf,wn.AcroFormEditBox=O1,wn.AcroFormButton=ri,wn.AcroFormPushButton=L1,wn.AcroFormRadioButton=cf,wn.AcroFormCheckBox=k1,wn.AcroFormTextField=Nc,wn.AcroFormPasswordField=P1,wn.AcroFormAppearance=At,wn.AcroForm={ChoiceField:of,ListBox:Af,ComboBox:lf,EditBox:O1,Button:ri,PushButton:L1,RadioButton:cf,CheckBox:k1,TextField:Nc,PasswordField:P1,Appearance:At},yt.AcroForm={ChoiceField:of,ListBox:Af,ComboBox:lf,EditBox:O1,Button:ri,PushButton:L1,RadioButton:cf,CheckBox:k1,TextField:Nc,PasswordField:P1,Appearance:At};yt.AcroForm;function L6(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,O){var K,q,ie,fe,de,te=r;if((O=O||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(N(T))for(de in n)for(ie=n[de],K=0;K<ie.length;K+=1){for(fe=!0,q=0;q<ie[K].length;q+=1)if(ie[K][q]!==void 0&&ie[K][q]!==T[q]){fe=!1;break}if(fe===!0){te=de;break}}else for(de in n)for(ie=n[de],K=0;K<ie.length;K+=1){for(fe=!0,q=0;q<ie[K].length;q+=1)if(ie[K][q]!==void 0&&ie[K][q]!==T.charCodeAt(q)){fe=!1;break}if(fe===!0){te=de;break}}return te===r&&O!==r&&(te=O),te},a=function T(O){for(var K=this.internal.write,q=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:O.width}),fe.push({key:"Height",value:O.height}),O.colorSpace===v.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===v.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var de="",te=0,ce=O.transparency.length;te<ce;te++)de+=O.transparency[te]+" "+O.transparency[te]+" ";fe.push({key:"Mask",value:"["+de+"]"})}O.sMask!==void 0&&fe.push({key:"SMask",value:O.objectId+1+" 0 R"});var Ce=O.filter!==void 0?["/"+O.filter]:void 0;if(q({data:O.data,additionalKeyValues:fe,alreadyAppliedFilters:Ce,objectId:O.objectId}),K("endobj"),"sMask"in O&&O.sMask!==void 0){var be,P=(be=O.sMaskBitsPerComponent)!==null&&be!==void 0?be:O.bitsPerComponent,H={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:O.sMask};"filter"in O&&(H.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(O.width),H.filter=O.filter),T.call(this,H)}if(O.colorSpace===v.INDEXED){var z=this.internal.newObject();q({data:D(new Uint8Array(O.palette)),objectId:z}),K("endobj")}},s=function(){var T=this.internal.collections[e+"images"];for(var O in T)a.call(this,T[O])},o=function(){var T,O=this.internal.collections[e+"images"],K=this.internal.write;for(var q in O)K("/I"+(T=O[q]).index,T.objectId,"0","R")},A=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var T=this.internal.collections[e+"images"];return A.call(this),T},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},u=function(T){return typeof t["process"+T.toUpperCase()]=="function"},h=function(T){return Er(T)==="object"&&T.nodeType===1},d=function(T,O){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var K=""+T.getAttribute("src");if(K.indexOf("data:image/")===0)return U1(unescape(K).split("base64,").pop());var q=t.loadFile(K,!0);if(q!==void 0)return q}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ie;switch(O){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return U1(T.toDataURL(ie,1).split("base64,").pop())}},g=function(T){var O=this.internal.collections[e+"images"];if(O){for(var K in O)if(T===O[K].alias)return O[K]}},y=function(T,O,K){return T||O||(T=-96,O=-96),T<0&&(T=-1*K.width*72/T/this.internal.scaleFactor),O<0&&(O=-1*K.height*72/O/this.internal.scaleFactor),T===0&&(T=O*K.width/K.height),O===0&&(O=T*K.height/K.width),[T,O]},B=function(T,O,K,q,ie,fe){var de=y.call(this,K,q,ie),te=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,Ce=l.call(this);if(K=de[0],q=de[1],Ce[ie.index]=ie,fe){fe*=Math.PI/180;var be=Math.cos(fe),P=Math.sin(fe),H=function(ne){return ne.toFixed(4)},z=[H(be),H(P),H(-1*P),H(be),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,te(T),ce(O+q),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([te(K),"0","0",te(q),"0","0","cm"].join(" "))):this.internal.write([te(K),"0","0",te(q),te(T),ce(O+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(T){var O,K,q=0;if(typeof T=="string")for(K=T.length,O=0;O<K;O++)q=(q<<5)-q+T.charCodeAt(O),q|=0;else if(N(T))for(K=T.byteLength/2,O=0;O<K;O++)q=(q<<5)-q+T[O],q|=0;return q},_=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var O=!0;return T.length===0&&(O=!1),T.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(O=!1),O},F=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var O=T.indexOf(",");return O<0?null:T.substring(0,O).trim().endsWith("base64")?T.substring(O+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var N=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},R=t.__addimage__.binaryStringToUint8Array=function(T){for(var O=T.length,K=new Uint8Array(O),q=0;q<O;q++)K[q]=T.charCodeAt(q);return K},D=t.__addimage__.arrayBufferToBinaryString=function(T){for(var O="",K=N(T)?T:new Uint8Array(T),q=0;q<K.length;q+=8192)O+=String.fromCharCode.apply(null,K.subarray(q,q+8192));return O};t.addImage=function(){var T,O,K,q,ie,fe,de,te,ce;if(typeof arguments[1]=="number"?(O=r,K=arguments[1],q=arguments[2],ie=arguments[3],fe=arguments[4],de=arguments[5],te=arguments[6],ce=arguments[7]):(O=arguments[1],K=arguments[2],q=arguments[3],ie=arguments[4],fe=arguments[5],de=arguments[6],te=arguments[7],ce=arguments[8]),Er(T=arguments[0])==="object"&&!h(T)&&"imageData"in T){var Ce=T;T=Ce.imageData,O=Ce.format||O||r,K=Ce.x||K||0,q=Ce.y||q||0,ie=Ce.w||Ce.width||ie,fe=Ce.h||Ce.height||fe,de=Ce.alias||de,te=Ce.compression||te,ce=Ce.rotation||Ce.angle||ce}var be=this.internal.getFilters();if(te===void 0&&be.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(K)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var P=k.call(this,T,O,de,te);return B.call(this,K,q,ie,fe,P,ce),this};var k=function(T,O,K,q){var ie,fe,de;if(typeof T=="string"&&i(T)===r){T=unescape(T);var te=V(T,!1);(te!==""||(te=t.loadFile(T,!0))!==void 0)&&(T=te)}if(h(T)&&(T=d(T,O)),O=i(T,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((de=K)==null||de.length===0)&&(K=function(ce){return typeof ce=="string"||N(ce)?x(ce):N(ce.data)?x(ce.data):null}(T)),(ie=g.call(this,K))||(T instanceof Uint8Array||O==="RGBA"||(fe=T,T=R(T)),ie=this["process"+O.toUpperCase()](T,c.call(this),K,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:w.NONE}(q),fe)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},V=t.__addimage__.convertBase64ToBinaryString=function(T,O){O=typeof O!="boolean"||O;var K,q="";if(typeof T=="string"){var ie;K=(ie=F(T))!==null&&ie!==void 0?ie:T;try{q=U1(K)}catch(fe){if(O)throw _(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};t.getImageProperties=function(T){var O,K,q="";if(h(T)&&(T=d(T)),typeof T=="string"&&i(T)===r&&((q=V(T,!1))===""&&(q=t.loadFile(T)||""),T=q),K=i(T),!u(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(T instanceof Uint8Array||(T=R(T)),!(O=this["process"+K.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=K,O}})(yt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(r.objId),l=r.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var d=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(y.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(v(n.contents))+")",a+=" /Popup "+B.objId+" 0 R",a+=" /P "+A.objId+" 0 R",a+=" /T ("+d(v(w))+") >>",y.content=a;var x=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(a+=" /Open true"),a+=" >>",B.content=a,this.internal.write(y.objId,"0 R",B.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var N=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:A(r),y:l(n),w:A(r+i),h:l(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,A=this.getTextWidth(r),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var c=this.splitTextToSize(r,o).length;s=Math.ceil(l*c)}else o=A,s=l;return this.text(r,n,i,a),i+=.2*l,a.align==="center"&&(n-=A/2),a.align==="right"&&(n-=A),this.link(n,i-l,o,s,a),A},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(yt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=t.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length<=2},A=t.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&e[y.charCodeAt(0)].length==4},u=t.__arabicParser__.resolveLigatures=function(y){var B=0,v=r,w="",x=0;for(B=0;B<y.length;B+=1)v[y.charCodeAt(B)]!==void 0?(x++,typeof(v=v[y.charCodeAt(B)])=="number"&&(w+=String.fromCharCode(v),v=r,x=0),B===y.length-1&&(v=r,w+=y.charAt(B-(x-1)),B-=x-1,x=0)):(v=r,w+=y.charAt(B-x),B-=x,x=0);return w};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(y,B,v){return s(y)?a(y)===!1?-1:!l(y)||!s(B)&&!s(v)||!s(v)&&o(B)||o(y)&&!s(B)||o(y)&&A(B)||o(y)&&o(B)?0:c(y)&&s(B)&&!o(B)&&s(v)&&l(v)?3:o(y)||!s(v)?1:2:-1},d=function(y){var B=0,v=0,w=0,x="",_="",F="",N=(y=y||"").split("\\s+"),R=[];for(B=0;B<N.length;B+=1){for(R.push(""),v=0;v<N[B].length;v+=1)x=N[B][v],_=N[B][v-1],F=N[B][v+1],s(x)?(w=h(x,_,F),R[B]+=w!==-1?String.fromCharCode(e[x.charCodeAt(0)][w]):x):R[B]+=x;R[B]=u(R[B])}return R.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var y,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(B)){var w=0;for(v=[],w=0;w<B.length;w+=1)Array.isArray(B[w])?v.push([d(B[w][0]),B[w][1],B[w][2]]):v.push([d(B[w])]);y=v}else y=d(B);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",g])}(yt.API),yt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(yt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(y){A=y}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},t.getTextDimensions=function(A,l){n.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),u=l.font||this.getFont(),h=l.scaleFactor||this.internal.scaleFactor,d=0,g=0,y=0,B=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var v=l.maxWidth;v>0?typeof A=="string"?A=this.splitTextToSize(A,v):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(x,_){return x.concat(B.splitTextToSize(_,v))},[])):A=Array.isArray(A)?A:[A];for(var w=0;w<A.length;w++)d<(y=this.getStringUnitWidth(A[w],{font:u})*c)&&(d=y);return d!==0&&(g=A.length),{w:d/=h,h:Math.max((g*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var A;A=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===A.lineNumber?(A.x=(l.x||0)+(l.width||0),A.y=l.y||0):l.y+l.height+A.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=u.top,d&&h&&(this.printHeaderRow(A.lineNumber,!0),A.y+=h[0].height)):A.y=l.y+l.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,r===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-c,A.y+c,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+c,{align:"center",baseline:"top",maxWidth:A.width-c-c}):this.text(A.text,A.x+c,A.y+c,{align:"left",baseline:"top",maxWidth:A.width-c-c})),this.internal.__cell__.lastCell=A,this};t.table=function(A,l,c,u,h){if(n.call(this),!c)throw new Error("No data for PDF table.");var d,g,y,B,v=[],w=[],x=[],_={},F={},N=[],R=[],D=(h=h||{}).autoSize||!1,k=h.printHeaders!==!1,V=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},e),O=typeof h.padding=="number"?h.padding:3,K=h.headerBackgroundColor||"#c8c8c8",q=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=q,this.setFontSize(V),u==null)w=v=Object.keys(c[0]),x=v.map(function(){return"left"});else if(Array.isArray(u)&&Er(u[0])==="object")for(v=u.map(function(Ce){return Ce.name}),w=u.map(function(Ce){return Ce.prompt||Ce.name||""}),x=u.map(function(Ce){return Ce.align||"left"}),d=0;d<u.length;d+=1)F[u[d].name]=.7499990551181103*u[d].width;else Array.isArray(u)&&typeof u[0]=="string"&&(w=v=u,x=v.map(function(){return"left"}));if(D||Array.isArray(u)&&typeof u[0]=="string")for(d=0;d<v.length;d+=1){for(_[B=v[d]]=c.map(function(Ce){return Ce[B]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(w[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[B],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)N.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[B]=Math.max.apply(null,N)+O+O,N=[]}if(k){var ie={};for(d=0;d<v.length;d+=1)ie[v[d]]={},ie[v[d]].text=w[d],ie[v[d]].align=x[d];var fe=o.call(this,ie,F);R=v.map(function(Ce){return new a(A,l,F[Ce],fe,ie[Ce].text,void 0,ie[Ce].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var de=u.reduce(function(Ce,be){return Ce[be.name]=be.align,Ce},{});for(d=0;d<c.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:c[d]},this);var te=o.call(this,c[d],F);for(y=0;y<v.length;y+=1){var ce=c[d][v[y]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:y,data:ce},this),s.call(this,new a(A,l,F[v[y]],te,ce,d+2,de[v[y]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=l,this};var o=function(A,l){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(A).map(function(d){var g=A[d];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,l[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*u/h+c+c},this).reduce(function(d,g){return Math.max(d,g)},0)};t.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},t.printHeaderRow=function(A,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=A;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(yt.API);var k6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},P6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],cy=L6(P6),D6=[100,200,300,400,500,600,700,800,900],KV=L6(D6);function c2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return k6[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof cy[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function NC(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var VV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},TC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function UC(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function OC(t){return t.trimLeft()}function $V(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function GV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var a1,LC,kC,Eu,s1,PC,DC,RC,u2=["times"];function QC(t,e,r,n,i){var a=4,s=MC;switch(i){case yt.API.image_compression.FAST:a=1,s=jC;break;case yt.API.image_compression.MEDIUM:a=6,s=HC;break;case yt.API.image_compression.SLOW:a=9,s=KC}t=function(A,l,c,u){for(var h,d=A.length/l,g=new Uint8Array(A.length+d),y=[zV,jC,MC,HC,KC],B=0;B<d;B+=1){var v=B*l,w=A.subarray(v,v+l);if(u)g.set(u(w,c,h),v+B);else{for(var x=y.length,_=[],F=0;F<x;F+=1)_[F]=y[F](w,c,h);var N=qV(_.concat());g.set(_[N],v+B)}h=w}return g}(t,e,Math.ceil(r*n/8),s);var o=ny(t,{level:a});return yt.API.__addimage__.arrayBufferToBinaryString(o)}function zV(t){var e=Array.apply([],t);return e.unshift(0),e}function jC(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function MC(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function HC(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function KC(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=WV(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function WV(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function qV(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function f2(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return R6(t,i)>>a&s}function VC(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,A=(e&o)<<s;(function(l,c,u){if(c+1<l.byteLength)l.setUint16(c,u,!1);else{var h=u>>8&255;l.setUint8(c,h)}})(t,a,R6(t,a)&~(o<<s)&65535|A)}function R6(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function XV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,A=null;a&&(o=e,A=s,e+=3*s);var l=!0,c=[],u=0,h=null,d=0,g=null;for(this.width=r,this.height=n;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];u=t[e++]|t[e++]<<8,h=t[e++],1&y||(h=null),d=y>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var B=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,_=t[e++],F=_>>6&1,N=1<<1+(7&_),R=o,D=A,k=!1;_>>7&&(k=!0,R=e,D=N,e+=3*N);var V=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}c.push({x:B,y:v,width:w,height:x,has_local_palette:k,palette_offset:R,palette_size:D,data_offset:V,data_length:e-V,transparent_index:h,interlaced:!!F,delay:u,disposal:d});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return g},this.frameInfo=function(O){if(O<0||O>=c.length)throw new Error("Frame index out of range.");return c[O]},this.decodeAndBlitFrameBGRA=function(O,K){var q=this.frameInfo(O),ie=q.width*q.height,fe=new Uint8Array(ie);$C(t,q.data_offset,fe,ie);var de=q.palette_offset,te=q.transparent_index;te===null&&(te=256);var ce=q.width,Ce=r-ce,be=ce,P=4*(q.y*r+q.x),H=4*((q.y+q.height)*r+q.x),z=P,ne=4*Ce;q.interlaced===!0&&(ne+=4*r*7);for(var oe=8,he=0,Ee=fe.length;he<Ee;++he){var _e=fe[he];if(be===0&&(be=ce,(z+=ne)>=H&&(ne=4*Ce+4*r*(oe-1),z=P+(ce+Ce)*(oe<<1),oe>>=1)),_e===te)z+=4;else{var Se=t[de+3*_e],Pe=t[de+3*_e+1],Qe=t[de+3*_e+2];K[z++]=Qe,K[z++]=Pe,K[z++]=Se,K[z++]=255}--be}},this.decodeAndBlitFrameRGBA=function(O,K){var q=this.frameInfo(O),ie=q.width*q.height,fe=new Uint8Array(ie);$C(t,q.data_offset,fe,ie);var de=q.palette_offset,te=q.transparent_index;te===null&&(te=256);var ce=q.width,Ce=r-ce,be=ce,P=4*(q.y*r+q.x),H=4*((q.y+q.height)*r+q.x),z=P,ne=4*Ce;q.interlaced===!0&&(ne+=4*r*7);for(var oe=8,he=0,Ee=fe.length;he<Ee;++he){var _e=fe[he];if(be===0&&(be=ce,(z+=ne)>=H&&(ne=4*Ce+4*r*(oe-1),z=P+(ce+Ce)*(oe<<1),oe>>=1)),_e===te)z+=4;else{var Se=t[de+3*_e],Pe=t[de+3*_e+1],Qe=t[de+3*_e+2];K[z++]=Se,K[z++]=Pe,K[z++]=Qe,K[z++]=255}--be}}}function $C(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,A=i+1,l=(1<<A)-1,c=0,u=0,h=0,d=t[e++],g=new Int32Array(4096),y=null;;){for(;c<16&&d!==0;)u|=t[e++]<<c,c+=8,d===1?d=t[e++]:--d;if(c<A)break;var B=u&l;if(u>>=A,c-=A,B!==a){if(B===s)break;for(var v=B<o?B:y,w=0,x=v;x>a;)x=g[x]>>8,++w;var _=x;if(h+w+(v!==B?1:0)>n)return void kr.log("Warning, gif stream longer than expected.");r[h++]=_;var F=h+=w;for(v!==B&&(r[h++]=_),x=v;w--;)x=g[x],r[--F]=255&x,x>>=8;y!==null&&o<4096&&(g[o++]=y<<8|_,o>=l+1&&A<12&&(++A,l=l<<1|1)),y=B}else o=s+1,l=(1<<(A=i+1))-1,y=null}return h!==n&&kr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function d2(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(65535),h=new Array(65535),d=new Array(64),g=new Array(64),y=[],B=0,v=7,w=new Array(64),x=new Array(64),_=new Array(64),F=new Array(256),N=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(P,H){for(var z=0,ne=0,oe=new Array,he=1;he<=16;he++){for(var Ee=1;Ee<=P[he];Ee++)oe[H[ne]]=[],oe[H[ne]][0]=z,oe[H[ne]][1]=he,ne++,z++;z*=2}return oe}function de(P){for(var H=P[0],z=P[1]-1;z>=0;)H&1<<z&&(B|=1<<v),z--,--v<0&&(B==255?(te(255),te(0)):te(B),v=7,B=0)}function te(P){y.push(P)}function ce(P){te(P>>8&255),te(255&P)}function Ce(P,H,z,ne,oe){for(var he,Ee=oe[0],_e=oe[240],Se=function(De,ze){var $e,Ct,lt,Vt,Et,St,Ar,It,Ie,Ze,rt=0;for(Ie=0;Ie<8;++Ie){$e=De[rt],Ct=De[rt+1],lt=De[rt+2],Vt=De[rt+3],Et=De[rt+4],St=De[rt+5],Ar=De[rt+6];var pr=$e+(It=De[rt+7]),it=$e-It,qe=Ct+Ar,mt=Ct-Ar,$t=lt+St,pt=lt-St,Gt=Vt+Et,Lt=Vt-Et,Pr=pr+Gt,Ur=pr-Gt,yr=qe+$t,Ft=qe-$t;De[rt]=Pr+yr,De[rt+4]=Pr-yr;var lr=.707106781*(Ft+Ur);De[rt+2]=Ur+lr,De[rt+6]=Ur-lr;var Ws=.382683433*((Pr=Lt+pt)-(Ft=mt+it)),cr=.5411961*Pr+Ws,Di=1.306562965*Ft+Ws,jt=.707106781*(yr=pt+mt),wt=it+jt,Un=it-jt;De[rt+5]=Un+cr,De[rt+3]=Un-cr,De[rt+1]=wt+Di,De[rt+7]=wt-Di,rt+=8}for(rt=0,Ie=0;Ie<8;++Ie){$e=De[rt],Ct=De[rt+8],lt=De[rt+16],Vt=De[rt+24],Et=De[rt+32],St=De[rt+40],Ar=De[rt+48];var Qn=$e+(It=De[rt+56]),ta=$e-It,ra=Ct+Ar,Dr=Ct-Ar,hn=lt+St,On=lt-St,_o=Vt+Et,us=Vt-Et,ai=Qn+_o,Va=Qn-_o,Bi=ra+hn,Ri=ra-hn;De[rt]=ai+Bi,De[rt+32]=ai-Bi;var Qi=.707106781*(Ri+Va);De[rt+16]=Va+Qi,De[rt+48]=Va-Qi;var qs=.382683433*((ai=us+On)-(Ri=Dr+ta)),Ca=.5411961*ai+qs,Eo=1.306562965*Ri+qs,wA=.707106781*(Bi=On+Dr),xA=ta+wA,bA=ta-wA;De[rt+40]=bA+Ca,De[rt+24]=bA-Ca,De[rt+8]=xA+Eo,De[rt+56]=xA-Eo,rt++}for(Ie=0;Ie<64;++Ie)Ze=De[Ie]*ze[Ie],d[Ie]=Ze>0?Ze+.5|0:Ze-.5|0;return d}(P,H),Pe=0;Pe<64;++Pe)g[R[Pe]]=Se[Pe];var Qe=g[0]-z;z=g[0],Qe==0?de(ne[0]):(de(ne[h[he=32767+Qe]]),de(u[he]));for(var Ue=63;Ue>0&&g[Ue]==0;)Ue--;if(Ue==0)return de(Ee),z;for(var Be,G=1;G<=Ue;){for(var He=G;g[G]==0&&G<=Ue;)++G;var tt=G-He;if(tt>=16){Be=tt>>4;for(var Je=1;Je<=Be;++Je)de(_e);tt&=15}he=32767+g[G],de(oe[(tt<<4)+h[he]]),de(u[he]),G++}return Ue!=63&&de(Ee),z}function be(P){P=Math.min(Math.max(P,1),100),a!=P&&(function(H){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var oe=s((z[ne]*H+50)/100);oe=Math.min(Math.max(oe,1),255),o[R[ne]]=oe}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var _e=s((he[Ee]*H+50)/100);_e=Math.min(Math.max(_e,1),255),A[R[Ee]]=_e}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Qe=0;Qe<8;Qe++)for(var Ue=0;Ue<8;Ue++)l[Pe]=1/(o[R[Pe]]*Se[Qe]*Se[Ue]*8),c[Pe]=1/(A[R[Pe]]*Se[Qe]*Se[Ue]*8),Pe++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,H){H&&be(H),y=new Array,B=0,v=7,ce(65496),ce(65504),ce(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ce(1),ce(1),te(0),te(0),function(){ce(65499),ce(132),te(0);for(var Ct=0;Ct<64;Ct++)te(o[Ct]);te(1);for(var lt=0;lt<64;lt++)te(A[lt])}(),function(Ct,lt){ce(65472),ce(17),te(8),ce(lt),ce(Ct),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(P.width,P.height),function(){ce(65476),ce(418),te(0);for(var Ct=0;Ct<16;Ct++)te(D[Ct+1]);for(var lt=0;lt<=11;lt++)te(k[lt]);te(16);for(var Vt=0;Vt<16;Vt++)te(V[Vt+1]);for(var Et=0;Et<=161;Et++)te(T[Et]);te(1);for(var St=0;St<16;St++)te(O[St+1]);for(var Ar=0;Ar<=11;Ar++)te(K[Ar]);te(17);for(var It=0;It<16;It++)te(q[It+1]);for(var Ie=0;Ie<=161;Ie++)te(ie[Ie])}(),ce(65498),ce(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var z=0,ne=0,oe=0;B=0,v=7,this.encode.displayName="_encode_";for(var he,Ee,_e,Se,Pe,Qe,Ue,Be,G,He=P.data,tt=P.width,Je=P.height,De=4*tt,ze=0;ze<Je;){for(he=0;he<De;){for(Pe=De*ze+he,Ue=-1,Be=0,G=0;G<64;G++)Qe=Pe+(Be=G>>3)*De+(Ue=4*(7&G)),ze+Be>=Je&&(Qe-=De*(ze+1+Be-Je)),he+Ue>=De&&(Qe-=he+Ue-De+4),Ee=He[Qe++],_e=He[Qe++],Se=He[Qe++],w[G]=(N[Ee]+N[_e+256|0]+N[Se+512|0]>>16)-128,x[G]=(N[Ee+768|0]+N[_e+1024|0]+N[Se+1280|0]>>16)-128,_[G]=(N[Ee+1280|0]+N[_e+1536|0]+N[Se+1792|0]>>16)-128;z=Ce(w,l,z,e,n),ne=Ce(x,c,ne,r,i),oe=Ce(_,c,oe,r,i),he+=32}ze+=8}if(v>=0){var $e=[];$e[1]=v+1,$e[0]=(1<<v+1)-1,de($e)}return ce(65497),new Uint8Array(y)},t=t||50,function(){for(var P=String.fromCharCode,H=0;H<256;H++)F[H]=P(H)}(),e=fe(D,k),r=fe(O,K),n=fe(V,T),i=fe(q,ie),function(){for(var P=1,H=2,z=1;z<=15;z++){for(var ne=P;ne<H;ne++)h[32767+ne]=z,u[32767+ne]=[],u[32767+ne][1]=z,u[32767+ne][0]=ne;for(var oe=-(H-1);oe<=-P;oe++)h[32767+oe]=z,u[32767+oe]=[],u[32767+oe][1]=z,u[32767+oe][0]=H-1+oe;P<<=1,H<<=1}}(),function(){for(var P=0;P<256;P++)N[P]=19595*P,N[P+256|0]=38470*P,N[P+512|0]=7471*P+32768,N[P+768|0]=-11059*P,N[P+1024|0]=-21709*P,N[P+1280|0]=32768*P+8421375,N[P+1536|0]=-27439*P,N[P+1792|0]=-5329*P}(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Cs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function GC(t){function e(k){if(!k)throw Error("assert :P")}function r(k,V,T){for(var O=0;4>O;O++)if(k[V+O]!=T.charCodeAt(O))return!0;return!1}function n(k,V,T,O,K){for(var q=0;q<K;q++)k[V+q]=T[O+q]}function i(k,V,T,O){for(var K=0;K<O;K++)k[V+K]=T}function a(k){return new Int32Array(k)}function s(k,V){for(var T=[],O=0;O<k;O++)T.push(new V);return T}function o(k,V){var T=[];return function O(K,q,ie){for(var fe=ie[q],de=0;de<fe&&(K.push(ie.length>q+1?[]:new V),!(ie.length<q+1));de++)O(K[de],q+1,ie)}(T,0,k),T}var A=function(){var k=this;function V(p,m){for(var C=1<<m-1>>>0;p&C;)C>>>=1;return C?(p&C-1)+C:p}function T(p,m,C,E,L){e(!(E%C));do p[m+(E-=C)]=L;while(0<E)}function O(p,m,C,E,L){if(e(2328>=L),512>=L)var Q=a(512);else if((Q=a(L))==null)return 0;return function(j,$,W,Z,Ae,xe){var ee,ue,ge=$,Fe=1<<W,we=a(16),Te=a(16);for(e(Ae!=0),e(Z!=null),e(j!=null),e(0<W),ue=0;ue<Ae;++ue){if(15<Z[ue])return 0;++we[Z[ue]]}if(we[0]==Ae)return 0;for(Te[1]=0,ee=1;15>ee;++ee){if(we[ee]>1<<ee)return 0;Te[ee+1]=Te[ee]+we[ee]}for(ue=0;ue<Ae;++ue)ee=Z[ue],0<Z[ue]&&(xe[Te[ee]++]=ue);if(Te[15]==1)return(Z=new K).g=0,Z.value=xe[0],T(j,ge,1,Fe,Z),Fe;var Oe,Me=-1,je=Fe-1,gt=0,st=1,Mt=1,ut=1<<W;for(ue=0,ee=1,Ae=2;ee<=W;++ee,Ae<<=1){if(st+=Mt<<=1,0>(Mt-=we[ee]))return 0;for(;0<we[ee];--we[ee])(Z=new K).g=ee,Z.value=xe[ue++],T(j,ge+gt,Ae,ut,Z),gt=V(gt,ee)}for(ee=W+1,Ae=2;15>=ee;++ee,Ae<<=1){if(st+=Mt<<=1,0>(Mt-=we[ee]))return 0;for(;0<we[ee];--we[ee]){if(Z=new K,(gt&je)!=Me){for(ge+=ut,Oe=1<<(Me=ee)-W;15>Me&&!(0>=(Oe-=we[Me]));)++Me,Oe<<=1;Fe+=ut=1<<(Oe=Me-W),j[$+(Me=gt&je)].g=Oe+W,j[$+Me].value=ge-$-Me}Z.g=ee-W,Z.value=xe[ue++],T(j,ge+(gt>>W),Ae,ut,Z),gt=V(gt,ee)}}return st!=2*Te[15]-1?0:Fe}(p,m,C,E,L,Q)}function K(){this.value=this.g=0}function q(){this.value=this.g=0}function ie(){this.G=s(5,K),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ho,q)}function fe(p,m,C,E){e(p!=null),e(m!=null),e(2147483648>E),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=m,p.pa=C,p.Jd=m,p.Yc=C+E,p.Zc=4<=E?C+E-4+1:C,Ee(p)}function de(p,m){for(var C=0;0<m--;)C|=Se(p,128)<<m;return C}function te(p,m){var C=de(p,m);return _e(p)?-C:C}function ce(p,m,C,E){var L,Q=0;for(e(p!=null),e(m!=null),e(4294967288>E),p.Sb=E,p.Ra=0,p.u=0,p.h=0,4<E&&(E=4),L=0;L<E;++L)Q+=m[C+L]<<8*L;p.Ra=Q,p.bb=E,p.oa=m,p.pa=C}function Ce(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<eo-8>>>0,++p.bb,p.u-=8;ne(p)&&(p.h=1,p.u=0)}function be(p,m){if(e(0<=m),!p.h&&m<=Ki){var C=z(p)&Hi[m];return p.u+=m,Ce(p),C}return p.h=1,p.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(p){return p.Ra>>>(p.u&eo-1)>>>0}function ne(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>eo}function oe(p,m){p.u=m,p.h=ne(p)}function he(p){p.u>=ms&&(e(p.u>=ms),Ce(p))}function Ee(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function _e(p){return de(p,1)}function Se(p,m){var C=p.Ca;0>p.b&&Ee(p);var E=p.b,L=C*m>>>8,Q=(p.I>>>E>L)+0;for(Q?(C-=L,p.I-=L+1<<E>>>0):C=L+1,E=C,L=0;256<=E;)L+=8,E>>=8;return E=7^L+to[E],p.b-=E,p.Ca=(C<<E)-1,Q}function Pe(p,m,C){p[m+0]=C>>24&255,p[m+1]=C>>16&255,p[m+2]=C>>8&255,p[m+3]=255&C}function Qe(p,m){return p[m+0]|p[m+1]<<8}function Ue(p,m){return Qe(p,m)|p[m+2]<<16}function Be(p,m){return Qe(p,m)|Qe(p,m+2)<<16}function G(p,m){var C=1<<m;return e(p!=null),e(0<m),p.X=a(C),p.X==null?0:(p.Mb=32-m,p.Xa=m,1)}function He(p,m){e(p!=null),e(m!=null),e(p.Xa==m.Xa),n(m.X,0,p.X,0,1<<m.Xa)}function tt(){this.X=[],this.Xa=this.Mb=0}function Je(p,m,C,E){e(C!=null),e(E!=null);var L=C[0],Q=E[0];return L==0&&(L=(p*Q+m/2)/m),Q==0&&(Q=(m*L+p/2)/p),0>=L||0>=Q?0:(C[0]=L,E[0]=Q,1)}function De(p,m){return p+(1<<m)-1>>>m}function ze(p,m){return((4278255360&p)+(4278255360&m)>>>0&4278255360)+((16711935&p)+(16711935&m)>>>0&16711935)>>>0}function $e(p,m){k[m]=function(C,E,L,Q,j,$,W){var Z;for(Z=0;Z<j;++Z){var Ae=k[p]($[W+Z-1],L,Q+Z);$[W+Z]=ze(C[E+Z],Ae)}}}function Ct(){this.ud=this.hd=this.jd=0}function lt(p,m){return((4278124286&(p^m))>>>1)+(p&m)>>>0}function Vt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Et(p,m){return Vt(p+(p-m+.5>>1))}function St(p,m,C){return Math.abs(m-C)-Math.abs(p-C)}function Ar(p,m,C,E,L,Q,j){for(E=Q[j-1],C=0;C<L;++C)Q[j+C]=E=ze(p[m+C],E)}function It(p,m,C,E,L){var Q;for(Q=0;Q<C;++Q){var j=p[m+Q],$=j>>8&255,W=16711935&(W=(W=16711935&j)+(($<<16)+$));E[L+Q]=(4278255360&j)+W>>>0}}function Ie(p,m){m.jd=255&p,m.hd=p>>8&255,m.ud=p>>16&255}function Ze(p,m,C,E,L,Q){var j;for(j=0;j<E;++j){var $=m[C+j],W=$>>>8,Z=$,Ae=255&(Ae=(Ae=$>>>16)+((p.jd<<24>>24)*(W<<24>>24)>>>5));Z=255&(Z=(Z+=(p.hd<<24>>24)*(W<<24>>24)>>>5)+((p.ud<<24>>24)*(Ae<<24>>24)>>>5)),L[Q+j]=(4278255360&$)+(Ae<<16)+Z}}function rt(p,m,C,E,L){k[m]=function(Q,j,$,W,Z,Ae,xe,ee,ue){for(W=xe;W<ee;++W)for(xe=0;xe<ue;++xe)Z[Ae++]=L($[E(Q[j++])])},k[p]=function(Q,j,$,W,Z,Ae,xe){var ee=8>>Q.b,ue=Q.Ea,ge=Q.K[0],Fe=Q.w;if(8>ee)for(Q=(1<<Q.b)-1,Fe=(1<<ee)-1;j<$;++j){var we,Te=0;for(we=0;we<ue;++we)we&Q||(Te=E(W[Z++])),Ae[xe++]=L(ge[Te&Fe]),Te>>=ee}else k["VP8LMapColor"+C](W,Z,ge,Fe,Ae,xe,j,$,ue)}}function pr(p,m,C,E,L){for(C=m+C;m<C;){var Q=p[m++];E[L++]=Q>>16&255,E[L++]=Q>>8&255,E[L++]=255&Q}}function it(p,m,C,E,L){for(C=m+C;m<C;){var Q=p[m++];E[L++]=Q>>16&255,E[L++]=Q>>8&255,E[L++]=255&Q,E[L++]=Q>>24&255}}function qe(p,m,C,E,L){for(C=m+C;m<C;){var Q=(j=p[m++])>>16&240|j>>12&15,j=240&j|j>>28&15;E[L++]=Q,E[L++]=j}}function mt(p,m,C,E,L){for(C=m+C;m<C;){var Q=(j=p[m++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;E[L++]=Q,E[L++]=j}}function $t(p,m,C,E,L){for(C=m+C;m<C;){var Q=p[m++];E[L++]=255&Q,E[L++]=Q>>8&255,E[L++]=Q>>16&255}}function pt(p,m,C,E,L,Q){if(Q==0)for(C=m+C;m<C;)Pe(E,((Q=p[m++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),L+=32;else n(E,L,p,m,C)}function Gt(p,m){k[m][0]=k[p+"0"],k[m][1]=k[p+"1"],k[m][2]=k[p+"2"],k[m][3]=k[p+"3"],k[m][4]=k[p+"4"],k[m][5]=k[p+"5"],k[m][6]=k[p+"6"],k[m][7]=k[p+"7"],k[m][8]=k[p+"8"],k[m][9]=k[p+"9"],k[m][10]=k[p+"10"],k[m][11]=k[p+"11"],k[m][12]=k[p+"12"],k[m][13]=k[p+"13"],k[m][14]=k[p+"0"],k[m][15]=k[p+"0"]}function Lt(p){return p==Au||p==lu||p==Go||p==PA}function Pr(){this.eb=[],this.size=this.A=this.fb=0}function Ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pr,this.f.kb=new Ur,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ws(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function cr(p,m){var C=p.T,E=m.ba.f.RGBA,L=E.eb,Q=E.fb+p.ka*E.A,j=qa[m.ba.S],$=p.y,W=p.O,Z=p.f,Ae=p.N,xe=p.ea,ee=p.W,ue=m.cc,ge=m.dc,Fe=m.Mc,we=m.Nc,Te=p.ka,Oe=p.ka+p.T,Me=p.U,je=Me+1>>1;for(Te==0?j($,W,null,null,Z,Ae,xe,ee,Z,Ae,xe,ee,L,Q,null,null,Me):(j(m.ec,m.fc,$,W,ue,ge,Fe,we,Z,Ae,xe,ee,L,Q-E.A,L,Q,Me),++C);Te+2<Oe;Te+=2)ue=Z,ge=Ae,Fe=xe,we=ee,Ae+=p.Rc,ee+=p.Rc,Q+=2*E.A,j($,(W+=2*p.fa)-p.fa,$,W,ue,ge,Fe,we,Z,Ae,xe,ee,L,Q-E.A,L,Q,Me);return W+=p.fa,p.j+Oe<p.o?(n(m.ec,m.fc,$,W,Me),n(m.cc,m.dc,Z,Ae,je),n(m.Mc,m.Nc,xe,ee,je),C--):1&Oe||j($,W,null,null,Z,Ae,xe,ee,Z,Ae,xe,ee,L,Q+E.A,null,null,Me),C}function Di(p,m,C){var E=p.F,L=[p.J];if(E!=null){var Q=p.U,j=m.ba.S,$=j==$o||j==Go;m=m.ba.f.RGBA;var W=[0],Z=p.ka;W[0]=p.T,p.Kb&&(Z==0?--W[0]:(--Z,L[0]-=p.width),p.j+p.ka+p.T==p.o&&(W[0]=p.o-p.j-Z));var Ae=m.eb;Z=m.fb+Z*m.A,p=ye(E,L[0],p.width,Q,W,Ae,Z+($?0:3),m.A),e(C==W),p&&Lt(j)&&se(Ae,Z,$,Q,W,m.A)}return 0}function jt(p){var m=p.ma,C=m.ba.S,E=11>C,L=C==oa||C==oi||C==$o||C==Gf||C==12||Lt(C);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Xl(m.Oa,p,L?11:12))return 0;if(L&&Lt(C)&&nu(),p.da)alert("todo:use_scaling");else{if(E){if(m.Ib=Ws,p.Kb){if(C=p.U+1>>1,m.memory=a(p.U+2*C),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+p.U,m.Mc=m.cc,m.Nc=m.dc+C,m.Ib=cr,nu()}}else alert("todo:EmitYUV");L&&(m.Jb=Di,E&&ia())}if(E&&!bx){for(p=0;256>p;++p)cF[p]=89858*(p-128)+Vh>>Kh,dF[p]=-22014*(p-128)+Vh,fF[p]=-45773*(p-128),uF[p]=113618*(p-128)+Vh>>Kh;for(p=qf;p<Og;++p)m=76283*(p-16)+Vh>>Kh,hF[p-qf]=Jr(m,255),pF[p-qf]=Jr(m+8>>4,15);bx=1}return 1}function wt(p){var m=p.ma,C=p.U,E=p.T;return e(!(1&p.ka)),0>=C||0>=E?0:(C=m.Ib(p,m),m.Jb!=null&&m.Jb(p,m,C),m.Dc+=C,1)}function Un(p){p.ma.memory=null}function Qn(p,m,C,E){return be(p,8)!=47?0:(m[0]=be(p,14)+1,C[0]=be(p,14)+1,E[0]=be(p,1),be(p,3)!=0?0:!p.h)}function ta(p,m){if(4>p)return p+1;var C=p-2>>1;return(2+(1&p)<<C)+be(m,C)+1}function ra(p,m){return 120<m?m-120:1<=(C=((C=XI[m-1])>>4)*p+(8-(15&C)))?C:1;var C}function Dr(p,m,C){var E=z(C),L=p[m+=255&E].g-8;return 0<L&&(oe(C,C.u+8),E=z(C),m+=p[m].value,m+=E&(1<<L)-1),oe(C,C.u+p[m].g),p[m].value}function hn(p,m,C){return C.g+=p.g,C.value+=p.value<<m>>>0,e(8>=C.g),p.g}function On(p,m,C){var E=p.xc;return e((m=E==0?0:p.vc[p.md*(C>>E)+(m>>E)])<p.Wb),p.Ya[m]}function _o(p,m,C,E){var L=p.ab,Q=p.c*m,j=p.C;m=j+m;var $=C,W=E;for(E=p.Ta,C=p.Ua;0<L--;){var Z=p.gc[L],Ae=j,xe=m,ee=$,ue=W,ge=(W=E,$=C,Z.Ea);switch(e(Ae<xe),e(xe<=Z.nc),Z.hc){case 2:sn(ee,ue,(xe-Ae)*ge,W,$);break;case 0:var Fe=Ae,we=xe,Te=W,Oe=$,Me=(ut=Z).Ea;Fe==0&&(Jl(ee,ue,null,null,1,Te,Oe),Ar(ee,ue+1,0,0,Me-1,Te,Oe+1),ue+=Me,Oe+=Me,++Fe);for(var je=1<<ut.b,gt=je-1,st=De(Me,ut.b),Mt=ut.K,ut=ut.w+(Fe>>ut.b)*st;Fe<we;){var Jt=Mt,Kn=ut,Ht=1;for(LA(ee,ue,Te,Oe-Me,1,Te,Oe);Ht<Me;){var ft=(Ht&~gt)+je;ft>Me&&(ft=Me),(0,ec[Jt[Kn++]>>8&15])(ee,ue+ +Ht,Te,Oe+Ht-Me,ft-Ht,Te,Oe+Ht),Ht=ft}ue+=Me,Oe+=Me,++Fe&gt||(ut+=st)}xe!=Z.nc&&n(W,$-ge,W,$+(xe-Ae-1)*ge,ge);break;case 1:for(ge=ee,we=ue,Me=(ee=Z.Ea)-(Oe=ee&~(Te=(ue=1<<Z.b)-1)),Fe=De(ee,Z.b),je=Z.K,Z=Z.w+(Ae>>Z.b)*Fe;Ae<xe;){for(gt=je,st=Z,Mt=new Ct,ut=we+Oe,Jt=we+ee;we<ut;)Ie(gt[st++],Mt),tc(Mt,ge,we,ue,W,$),we+=ue,$+=ue;we<Jt&&(Ie(gt[st++],Mt),tc(Mt,ge,we,Me,W,$),we+=Me,$+=Me),++Ae&Te||(Z+=Fe)}break;case 3:if(ee==W&&ue==$&&0<Z.b){for(we=W,ee=ge=$+(xe-Ae)*ge-(Oe=(xe-Ae)*De(Z.Ea,Z.b)),ue=W,Te=$,Fe=[],Oe=(Me=Oe)-1;0<=Oe;--Oe)Fe[Oe]=ue[Te+Oe];for(Oe=Me-1;0<=Oe;--Oe)we[ee+Oe]=Fe[Oe];au(Z,Ae,xe,W,ge,W,$)}else au(Z,Ae,xe,ee,ue,W,$)}$=E,W=C}W!=C&&n(E,C,$,W,Q)}function us(p,m){var C=p.V,E=p.Ba+p.c*p.C,L=m-p.C;if(e(m<=p.l.o),e(16>=L),0<L){var Q=p.l,j=p.Ta,$=p.Ua,W=Q.width;if(_o(p,L,C,E),L=$=[$],e((C=p.C)<(E=m)),e(Q.v<Q.va),E>Q.o&&(E=Q.o),C<Q.j){var Z=Q.j-C;C=Q.j,L[0]+=Z*W}if(C>=E?C=0:(L[0]+=4*Q.v,Q.ka=C-Q.j,Q.U=Q.va-Q.v,Q.T=E-C,C=1),C){if($=$[0],11>(C=p.ca).S){var Ae=C.f.RGBA,xe=(E=C.S,L=Q.U,Q=Q.T,Z=Ae.eb,Ae.A),ee=Q;for(Ae=Ae.fb+p.Ma*Ae.A;0<ee--;){var ue=j,ge=$,Fe=L,we=Z,Te=Ae;switch(E){case An:rc(ue,ge,Fe,we,Te);break;case oa:ro(ue,ge,Fe,we,Te);break;case Au:ro(ue,ge,Fe,we,Te),se(we,Te,0,Fe,1,0);break;case si:Ko(ue,ge,Fe,we,Te);break;case oi:pt(ue,ge,Fe,we,Te,1);break;case lu:pt(ue,ge,Fe,we,Te,1),se(we,Te,0,Fe,1,0);break;case $o:pt(ue,ge,Fe,we,Te,0);break;case Go:pt(ue,ge,Fe,we,Te,0),se(we,Te,1,Fe,1,0);break;case Gf:no(ue,ge,Fe,we,Te);break;case PA:no(ue,ge,Fe,we,Te),le(we,Te,Fe,1,0);break;case zf:io(ue,ge,Fe,we,Te);break;default:e(0)}$+=W,Ae+=xe}p.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=C.height)}}p.C=m,e(p.C<=p.i)}function ai(p){var m;if(0<p.ua)return 0;for(m=0;m<p.Wb;++m){var C=p.Ya[m].G,E=p.Ya[m].H;if(0<C[1][E[1]+0].g||0<C[2][E[2]+0].g||0<C[3][E[3]+0].g)return 0}return 1}function Va(p,m,C,E,L,Q){if(p.Z!=0){var j=p.qd,$=p.rd;for(e(RA[p.Z]!=null);m<C;++m)RA[p.Z](j,$,E,L,E,L,Q),j=E,$=L,L+=Q;p.qd=j,p.rd=$}}function Bi(p,m){var C=p.l.ma,E=C.Z==0||C.Z==1?p.l.j:p.C;if(E=p.C<E?E:p.C,e(m<=p.l.o),m>E){var L=p.l.width,Q=C.ca,j=C.tb+L*E,$=p.V,W=p.Ba+p.c*E,Z=p.gc;e(p.ab==1),e(Z[0].hc==3),za(Z[0],E,m,$,W,Q,j),Va(C,E,m,Q,j,L)}p.C=p.Ma=m}function Ri(p,m,C,E,L,Q,j){var $=p.$/E,W=p.$%E,Z=p.m,Ae=p.s,xe=C+p.$,ee=xe;L=C+E*L;var ue=C+E*Q,ge=280+Ae.ua,Fe=p.Pb?$:16777216,we=0<Ae.ua?Ae.Wa:null,Te=Ae.wc,Oe=xe<ue?On(Ae,W,$):null;e(p.C<Q),e(ue<=L);var Me=!1;e:for(;;){for(;Me||xe<ue;){var je=0;if($>=Fe){var gt=xe-C;e((Fe=p).Pb),Fe.wd=Fe.m,Fe.xd=gt,0<Fe.s.ua&&He(Fe.s.Wa,Fe.s.vb),Fe=$+JI}if(W&Te||(Oe=On(Ae,W,$)),e(Oe!=null),Oe.Qb&&(m[xe]=Oe.qb,Me=!0),!Me)if(he(Z),Oe.jc){je=Z,gt=m;var st=xe,Mt=Oe.pd[z(je)&Ho-1];e(Oe.jc),256>Mt.g?(oe(je,je.u+Mt.g),gt[st]=Mt.value,je=0):(oe(je,je.u+Mt.g-256),e(256<=Mt.value),je=Mt.value),je==0&&(Me=!0)}else je=Dr(Oe.G[0],Oe.H[0],Z);if(Z.h)break;if(Me||256>je){if(!Me)if(Oe.nd)m[xe]=(Oe.qb|je<<8)>>>0;else{if(he(Z),Me=Dr(Oe.G[1],Oe.H[1],Z),he(Z),gt=Dr(Oe.G[2],Oe.H[2],Z),st=Dr(Oe.G[3],Oe.H[3],Z),Z.h)break;m[xe]=(st<<24|Me<<16|je<<8|gt)>>>0}if(Me=!1,++xe,++W>=E&&(W=0,++$,j!=null&&$<=Q&&!($%16)&&j(p,$),we!=null))for(;ee<xe;)je=m[ee++],we.X[(506832829*je&4294967295)>>>we.Mb]=je}else if(280>je){if(je=ta(je-256,Z),gt=Dr(Oe.G[4],Oe.H[4],Z),he(Z),gt=ra(E,gt=ta(gt,Z)),Z.h)break;if(xe-C<gt||L-xe<je)break e;for(st=0;st<je;++st)m[xe+st]=m[xe+st-gt];for(xe+=je,W+=je;W>=E;)W-=E,++$,j!=null&&$<=Q&&!($%16)&&j(p,$);if(e(xe<=L),W&Te&&(Oe=On(Ae,W,$)),we!=null)for(;ee<xe;)je=m[ee++],we.X[(506832829*je&4294967295)>>>we.Mb]=je}else{if(!(je<ge))break e;for(Me=je-280,e(we!=null);ee<xe;)je=m[ee++],we.X[(506832829*je&4294967295)>>>we.Mb]=je;je=xe,e(!(Me>>>(gt=we).Xa)),m[je]=gt.X[Me],Me=!0}Me||e(Z.h==ne(Z))}if(p.Pb&&Z.h&&xe<L)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&He(p.s.vb,p.s.Wa);else{if(Z.h)break e;j!=null&&j(p,$>Q?Q:$),p.a=0,p.$=xe-C}return 1}return p.a=3,0}function Qi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var m=p.Wa;m!=null&&(m.X=null),p.vb=null,e(p!=null)}function qs(){var p=new ct;return p==null?null:(p.a=0,p.xb=vx,Gt("Predictor","VP8LPredictors"),Gt("Predictor","VP8LPredictors_C"),Gt("PredictorAdd","VP8LPredictorsAdd"),Gt("PredictorAdd","VP8LPredictorsAdd_C"),sn=It,tc=Ze,rc=pr,ro=it,no=qe,io=mt,Ko=$t,k.VP8LMapColor32b=Ga,k.VP8LMapColor8b=Zl,p)}function Ca(p,m,C,E,L){var Q=1,j=[p],$=[m],W=E.m,Z=E.s,Ae=null,xe=0;e:for(;;){if(C)for(;Q&&be(W,1);){var ee=j,ue=$,ge=E,Fe=1,we=ge.m,Te=ge.gc[ge.ab],Oe=be(we,2);if(ge.Oc&1<<Oe)Q=0;else{switch(ge.Oc|=1<<Oe,Te.hc=Oe,Te.Ea=ee[0],Te.nc=ue[0],Te.K=[null],++ge.ab,e(4>=ge.ab),Oe){case 0:case 1:Te.b=be(we,3)+2,Fe=Ca(De(Te.Ea,Te.b),De(Te.nc,Te.b),0,ge,Te.K),Te.K=Te.K[0];break;case 3:var Me,je=be(we,8)+1,gt=16<je?0:4<je?1:2<je?2:3;if(ee[0]=De(Te.Ea,gt),Te.b=gt,Me=Fe=Ca(je,1,0,ge,Te.K)){var st,Mt=je,ut=Te,Jt=1<<(8>>ut.b),Kn=a(Jt);if(Kn==null)Me=0;else{var Ht=ut.K[0],ft=ut.w;for(Kn[0]=ut.K[0][0],st=1;st<1*Mt;++st)Kn[st]=ze(Ht[ft+st],Kn[st-1]);for(;st<4*Jt;++st)Kn[st]=0;ut.K[0]=null,ut.K[0]=Kn,Me=1}}Fe=Me;break;case 2:break;default:e(0)}Q=Fe}}if(j=j[0],$=$[0],Q&&be(W,1)&&!(Q=1<=(xe=be(W,4))&&11>=xe)){E.a=3;break e}var Ge;if(Ge=Q)t:{var Cn,Qt,Zt,$r=E,Ai=j,Vi=$,vn=xe,Ei=C,$i=$r.m,Vn=$r.s,ir=[null],br=1,mn=0,Br=YI[vn];r:for(;;){if(Ei&&be($i,1)){var li=be($i,3)+2,xs=De(Ai,li),_n=De(Vi,li),Aa=xs*_n;if(!Ca(xs,_n,0,$r,ir))break r;for(ir=ir[0],Vn.xc=li,Cn=0;Cn<Aa;++Cn){var Lr=ir[Cn]>>8&65535;ir[Cn]=Lr,Lr>=br&&(br=Lr+1)}}if($i.h)break r;for(Qt=0;5>Qt;++Qt){var $n=px[Qt];!Qt&&0<vn&&($n+=1<<vn),mn<$n&&(mn=$n)}var Ea=s(br*Br,K),Gi=br,Sa=s(Gi,ie);if(Sa==null)var Ia=null;else e(65536>=Gi),Ia=Sa;var la=a(mn);if(Ia==null||la==null||Ea==null){$r.a=1;break r}var Fa=Ea;for(Cn=Zt=0;Cn<br;++Cn){var Rr=Ia[Cn],Na=Rr.G,bs=Rr.H,ic=0,Wo=1,ci=0;for(Qt=0;5>Qt;++Qt){$n=px[Qt],Na[Qt]=Fa,bs[Qt]=Zt,!Qt&&0<vn&&($n+=1<<vn);i:{var Gh,Lg=$n,zh=$r,Xf=la,mF=Fa,yF=Zt,kg=0,QA=zh.m,wF=be(QA,1);if(i(Xf,0,0,Lg),wF){var xF=be(QA,1)+1,bF=be(QA,1),_x=be(QA,bF==0?1:8);Xf[_x]=1,xF==2&&(Xf[_x=be(QA,8)]=1);var Wh=1}else{var Ex=a(19),Sx=be(QA,4)+4;if(19<Sx){zh.a=3;var qh=0;break i}for(Gh=0;Gh<Sx;++Gh)Ex[qI[Gh]]=be(QA,3);var Pg=void 0,Yf=void 0,Ix=zh,BF=Ex,Xh=Lg,Fx=Xf,Dg=0,jA=Ix.m,Nx=8,Tx=s(128,K);n:for(;O(Tx,0,7,BF,19);){if(be(jA,1)){var CF=2+2*be(jA,3);if((Pg=2+be(jA,CF))>Xh)break n}else Pg=Xh;for(Yf=0;Yf<Xh&&Pg--;){he(jA);var Ux=Tx[0+(127&z(jA))];oe(jA,jA.u+Ux.g);var cu=Ux.value;if(16>cu)Fx[Yf++]=cu,cu!=0&&(Nx=cu);else{var _F=cu==16,Ox=cu-16,EF=zI[Ox],Lx=be(jA,Hh[Ox])+EF;if(Yf+Lx>Xh)break n;for(var SF=_F?Nx:0;0<Lx--;)Fx[Yf++]=SF}}Dg=1;break n}Dg||(Ix.a=3),Wh=Dg}(Wh=Wh&&!QA.h)&&(kg=O(mF,yF,8,Xf,Lg)),Wh&&kg!=0?qh=kg:(zh.a=3,qh=0)}if(qh==0)break r;if(Wo&&WI[Qt]==1&&(Wo=Fa[Zt].g==0),ic+=Fa[Zt].g,Zt+=qh,3>=Qt){var Jf,Rg=la[0];for(Jf=1;Jf<$n;++Jf)la[Jf]>Rg&&(Rg=la[Jf]);ci+=Rg}}if(Rr.nd=Wo,Rr.Qb=0,Wo&&(Rr.qb=(Na[3][bs[3]+0].value<<24|Na[1][bs[1]+0].value<<16|Na[2][bs[2]+0].value)>>>0,ic==0&&256>Na[0][bs[0]+0].value&&(Rr.Qb=1,Rr.qb+=Na[0][bs[0]+0].value<<8)),Rr.jc=!Rr.Qb&&6>ci,Rr.jc){var Yh,qo=Rr;for(Yh=0;Yh<Ho;++Yh){var MA=Yh,HA=qo.pd[MA],Jh=qo.G[0][qo.H[0]+MA];256<=Jh.value?(HA.g=Jh.g+256,HA.value=Jh.value):(HA.g=0,HA.value=0,MA>>=hn(Jh,8,HA),MA>>=hn(qo.G[1][qo.H[1]+MA],16,HA),MA>>=hn(qo.G[2][qo.H[2]+MA],0,HA),hn(qo.G[3][qo.H[3]+MA],24,HA))}}}Vn.vc=ir,Vn.Wb=br,Vn.Ya=Ia,Vn.yc=Ea,Ge=1;break t}Ge=0}if(!(Q=Ge)){E.a=3;break e}if(0<xe){if(Z.ua=1<<xe,!G(Z.Wa,xe)){E.a=1,Q=0;break e}}else Z.ua=0;var Qg=E,kx=j,IF=$,jg=Qg.s,Mg=jg.xc;if(Qg.c=kx,Qg.i=IF,jg.md=De(kx,Mg),jg.wc=Mg==0?-1:(1<<Mg)-1,C){E.xb=aF;break e}if((Ae=a(j*$))==null){E.a=1,Q=0;break e}Q=(Q=Ri(E,Ae,0,j,$,$,null))&&!W.h;break e}return Q?(L!=null?L[0]=Ae:(e(Ae==null),e(C)),E.$=0,C||Qi(Z)):Qi(Z),Q}function Eo(p,m){var C=p.c*p.i,E=C+m+16*m;return e(p.c<=m),p.V=a(E),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+C+m,1)}function wA(p,m){var C=p.C,E=m-C,L=p.V,Q=p.Ba+p.c*C;for(e(m<=p.l.o);0<E;){var j=16<E?16:E,$=p.l.ma,W=p.l.width,Z=W*j,Ae=$.ca,xe=$.tb+W*C,ee=p.Ta,ue=p.Ua;_o(p,j,L,Q),ve(ee,ue,Ae,xe,Z),Va($,C,C+j,Ae,xe,W),E-=j,L+=j*p.c,C+=j}e(C==m),p.C=p.Ma=m}function xA(){this.ub=this.yd=this.td=this.Rb=0}function bA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ol(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function So(){this.Yb=function(){var p=[];return function m(C,E,L){for(var Q=L[E],j=0;j<Q&&(C.push(L.length>E+1?[]:0),!(L.length<E+1));j++)m(C[j],E+1,L)}(p,0,[3,11]),p}()}function Gc(){this.jb=a(3),this.Wc=o([4,8],So),this.Xc=o([4,17],So)}function zc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function na(){this.ld=this.La=this.dd=this.tc=0}function BA(){this.Na=this.la=0}function Wc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ll(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qc(){this.uc=this.M=this.Nb=0,this.wa=Array(new na),this.Y=0,this.ya=Array(new Ll),this.aa=0,this.l=new CA}function Io(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Xc(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new xA,this.Kc=new bA,this.ed=new zc,this.Qa=new Ol,this.Ic=this.$c=this.Aa=0,this.D=new qc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,Wc),this.Pa=new Gc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Io),this.Hd=0,this.rb=Array(new BA),this.sb=0,this.wa=Array(new na),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ll),this.L=this.aa=0,this.gd=o([4,2],na),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function CA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _A(){var p=new Xc;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Wf||(Wf=kt)),p}function nn(p,m,C){return p.a==0&&(p.a=m,p.sc=C,p.cb=0),0}function kl(p,m,C){return 3<=C&&p[m+0]==157&&p[m+1]==1&&p[m+2]==42}function Pl(p,m){if(p==null)return 0;if(p.a=0,p.sc="OK",m==null)return nn(p,2,"null VP8Io passed to VP8GetHeaders()");var C=m.data,E=m.w,L=m.ha;if(4>L)return nn(p,7,"Truncated header.");var Q=C[E+0]|C[E+1]<<8|C[E+2]<<16,j=p.Od;if(j.Rb=!(1&Q),j.td=Q>>1&7,j.yd=Q>>4&1,j.ub=Q>>5,3<j.td)return nn(p,3,"Incorrect keyframe parameters.");if(!j.yd)return nn(p,4,"Frame not displayable.");E+=3,L-=3;var $=p.Kc;if(j.Rb){if(7>L)return nn(p,7,"cannot parse picture header");if(!kl(C,E,L))return nn(p,3,"Bad code word");$.c=16383&(C[E+4]<<8|C[E+3]),$.Td=C[E+4]>>6,$.i=16383&(C[E+6]<<8|C[E+5]),$.Ud=C[E+6]>>6,E+=7,L-=7,p.za=$.c+15>>4,p.Ub=$.i+15>>4,m.width=$.c,m.height=$.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((Q=p.Pa).jb,0,255,Q.jb.length),e((Q=p.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(j.ub>L)return nn(p,7,"bad partition length");fe(Q=p.m,C,E,j.ub),E+=j.ub,L-=j.ub,j.Rb&&($.Ld=_e(Q),$.Kd=_e(Q)),$=p.Qa;var W,Z=p.Pa;if(e(Q!=null),e($!=null),$.Cb=_e(Q),$.Cb){if($.Bb=_e(Q),_e(Q)){for($.Fb=_e(Q),W=0;4>W;++W)$.Zb[W]=_e(Q)?te(Q,7):0;for(W=0;4>W;++W)$.Lb[W]=_e(Q)?te(Q,6):0}if($.Bb)for(W=0;3>W;++W)Z.jb[W]=_e(Q)?de(Q,8):255}else $.Bb=0;if(Q.Ka)return nn(p,3,"cannot parse segment header");if(($=p.ed).zd=_e(Q),$.Tb=de(Q,6),$.wb=de(Q,3),$.Pc=_e(Q),$.Pc&&_e(Q)){for(Z=0;4>Z;++Z)_e(Q)&&($.vd[Z]=te(Q,6));for(Z=0;4>Z;++Z)_e(Q)&&($.od[Z]=te(Q,6))}if(p.L=$.Tb==0?0:$.zd?1:2,Q.Ka)return nn(p,3,"cannot parse filter header");var Ae=L;if(L=W=E,E=W+Ae,$=Ae,p.Xb=(1<<de(p.m,2))-1,Ae<3*(Z=p.Xb))C=7;else{for(W+=3*Z,$-=3*Z,Ae=0;Ae<Z;++Ae){var xe=C[L+0]|C[L+1]<<8|C[L+2]<<16;xe>$&&(xe=$),fe(p.Jc[+Ae],C,W,xe),W+=xe,$-=xe,L+=3}fe(p.Jc[+Z],C,W,$),C=W<E?0:5}if(C!=0)return nn(p,C,"cannot parse partitions");for(C=de(W=p.m,7),L=_e(W)?te(W,4):0,E=_e(W)?te(W,4):0,$=_e(W)?te(W,4):0,Z=_e(W)?te(W,4):0,W=_e(W)?te(W,4):0,Ae=p.Qa,xe=0;4>xe;++xe){if(Ae.Cb){var ee=Ae.Zb[xe];Ae.Fb||(ee+=C)}else{if(0<xe){p.pb[xe]=p.pb[0];continue}ee=C}var ue=p.pb[xe];ue.Sc[0]=Tg[Jr(ee+L,127)],ue.Sc[1]=Ug[Jr(ee+0,127)],ue.Eb[0]=2*Tg[Jr(ee+E,127)],ue.Eb[1]=101581*Ug[Jr(ee+$,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=Tg[Jr(ee+Z,117)],ue.Qc[1]=Ug[Jr(ee+W,127)],ue.lc=ee+W}if(!j.Rb)return nn(p,4,"Not a key frame.");for(_e(Q),j=p.Pa,C=0;4>C;++C){for(L=0;8>L;++L)for(E=0;3>E;++E)for($=0;11>$;++$)Z=Se(Q,nF[C][L][E][$])?de(Q,8):tF[C][L][E][$],j.Wc[C][L].Yb[E][$]=Z;for(L=0;17>L;++L)j.Xc[C][L]=j.Wc[C][iF[L]]}return p.kc=_e(Q),p.kc&&(p.Bd=de(Q,8)),p.cb=1}function kt(p,m,C,E,L,Q,j){var $=m[L].Yb[C];for(C=0;16>L;++L){if(!Se(p,$[C+0]))return L;for(;!Se(p,$[C+1]);)if($=m[++L].Yb[0],C=0,L==16)return 16;var W=m[L+1].Yb;if(Se(p,$[C+2])){var Z=p,Ae=0;if(Se(Z,(ee=$)[(xe=C)+3]))if(Se(Z,ee[xe+6])){for($=0,xe=2*(Ae=Se(Z,ee[xe+8]))+(ee=Se(Z,ee[xe+9+Ae])),Ae=0,ee=ZI[xe];ee[$];++$)Ae+=Ae+Se(Z,ee[$]);Ae+=3+(8<<xe)}else Se(Z,ee[xe+7])?(Ae=7+2*Se(Z,165),Ae+=Se(Z,145)):Ae=5+Se(Z,159);else Ae=Se(Z,ee[xe+4])?3+Se(Z,ee[xe+5]):2;$=W[2]}else Ae=1,$=W[1];W=j+eF[L],0>(Z=p).b&&Ee(Z);var xe,ee=Z.b,ue=(xe=Z.Ca>>1)-(Z.I>>ee)>>31;--Z.b,Z.Ca+=ue,Z.Ca|=1,Z.I-=(xe+1&ue)<<ee,Q[W]=((Ae^ue)-ue)*E[(0<L)+0]}return 16}function Fo(p){var m=p.rb[p.sb-1];m.la=0,m.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function _a(p,m,C,E,L){L=p[m+C+32*E]+(L>>3),p[m+C+32*E]=-256&L?0>L?0:255:L}function jn(p,m,C,E,L,Q){_a(p,m,0,C,E+L),_a(p,m,1,C,E+Q),_a(p,m,2,C,E-Q),_a(p,m,3,C,E-L)}function an(p){return(20091*p>>16)+p}function EA(p,m,C,E){var L,Q=0,j=a(16);for(L=0;4>L;++L){var $=p[m+0]+p[m+8],W=p[m+0]-p[m+8],Z=(35468*p[m+4]>>16)-an(p[m+12]),Ae=an(p[m+4])+(35468*p[m+12]>>16);j[Q+0]=$+Ae,j[Q+1]=W+Z,j[Q+2]=W-Z,j[Q+3]=$-Ae,Q+=4,m++}for(L=Q=0;4>L;++L)$=(p=j[Q+0]+4)+j[Q+8],W=p-j[Q+8],Z=(35468*j[Q+4]>>16)-an(j[Q+12]),_a(C,E,0,0,$+(Ae=an(j[Q+4])+(35468*j[Q+12]>>16))),_a(C,E,1,0,W+Z),_a(C,E,2,0,W-Z),_a(C,E,3,0,$-Ae),Q++,E+=32}function SA(p,m,C,E){var L=p[m+0]+4,Q=35468*p[m+4]>>16,j=an(p[m+4]),$=35468*p[m+1]>>16;jn(C,E,0,L+j,p=an(p[m+1]),$),jn(C,E,1,L+Q,p,$),jn(C,E,2,L-Q,p,$),jn(C,E,3,L-j,p,$)}function Qf(p,m,C,E,L){EA(p,m,C,E),L&&EA(p,m+16,C,E+4)}function Dl(p,m,C,E){Vo(p,m+0,C,E,1),Vo(p,m+32,C,E+128,1)}function $a(p,m,C,E){var L;for(p=p[m+0]+4,L=0;4>L;++L)for(m=0;4>m;++m)_a(C,E,m,L,p)}function IA(p,m,C,E){p[m+0]&&dr(p,m+0,C,E),p[m+16]&&dr(p,m+16,C,E+4),p[m+32]&&dr(p,m+32,C,E+128),p[m+48]&&dr(p,m+48,C,E+128+4)}function Yc(p,m,C,E){var L,Q=a(16);for(L=0;4>L;++L){var j=p[m+0+L]+p[m+12+L],$=p[m+4+L]+p[m+8+L],W=p[m+4+L]-p[m+8+L],Z=p[m+0+L]-p[m+12+L];Q[0+L]=j+$,Q[8+L]=j-$,Q[4+L]=Z+W,Q[12+L]=Z-W}for(L=0;4>L;++L)j=(p=Q[0+4*L]+3)+Q[3+4*L],$=Q[1+4*L]+Q[2+4*L],W=Q[1+4*L]-Q[2+4*L],Z=p-Q[3+4*L],C[E+0]=j+$>>3,C[E+16]=Z+W>>3,C[E+32]=j-$>>3,C[E+48]=Z-W>>3,E+=64}function fs(p,m,C){var E,L=m-32,Q=rr,j=255-p[L-1];for(E=0;E<C;++E){var $,W=Q,Z=j+p[m-1];for($=0;$<C;++$)p[m+$]=W[Z+p[L+$]];m+=32}}function Rl(p,m){fs(p,m,4)}function Jc(p,m){fs(p,m,8)}function ds(p,m){fs(p,m,16)}function Ql(p,m){var C;for(C=0;16>C;++C)n(p,m+32*C,p,m-32,16)}function ji(p,m){var C;for(C=16;0<C;--C)i(p,m,p[m-1],16),m+=32}function Xs(p,m,C){var E;for(E=0;16>E;++E)i(m,C+32*E,p,16)}function Ys(p,m){var C,E=16;for(C=0;16>C;++C)E+=p[m-1+32*C]+p[m+C-32];Xs(E>>5,p,m)}function jf(p,m){var C,E=8;for(C=0;16>C;++C)E+=p[m-1+32*C];Xs(E>>4,p,m)}function No(p,m){var C,E=8;for(C=0;16>C;++C)E+=p[m+C-32];Xs(E>>4,p,m)}function jl(p,m){Xs(128,p,m)}function Nt(p,m,C){return p+2*m+C+2>>2}function Mf(p,m){var C,E=m-32;for(E=new Uint8Array([Nt(p[E-1],p[E+0],p[E+1]),Nt(p[E+0],p[E+1],p[E+2]),Nt(p[E+1],p[E+2],p[E+3]),Nt(p[E+2],p[E+3],p[E+4])]),C=0;4>C;++C)n(p,m+32*C,E,0,E.length)}function Hf(p,m){var C=p[m-1],E=p[m-1+32],L=p[m-1+64],Q=p[m-1+96];Pe(p,m+0,16843009*Nt(p[m-1-32],C,E)),Pe(p,m+32,16843009*Nt(C,E,L)),Pe(p,m+64,16843009*Nt(E,L,Q)),Pe(p,m+96,16843009*Nt(L,Q,Q))}function Kf(p,m){var C,E=4;for(C=0;4>C;++C)E+=p[m+C-32]+p[m-1+32*C];for(E>>=3,C=0;4>C;++C)i(p,m+32*C,E,4)}function Vf(p,m){var C=p[m-1+0],E=p[m-1+32],L=p[m-1+64],Q=p[m-1-32],j=p[m+0-32],$=p[m+1-32],W=p[m+2-32],Z=p[m+3-32];p[m+0+96]=Nt(E,L,p[m-1+96]),p[m+1+96]=p[m+0+64]=Nt(C,E,L),p[m+2+96]=p[m+1+64]=p[m+0+32]=Nt(Q,C,E),p[m+3+96]=p[m+2+64]=p[m+1+32]=p[m+0+0]=Nt(j,Q,C),p[m+3+64]=p[m+2+32]=p[m+1+0]=Nt($,j,Q),p[m+3+32]=p[m+2+0]=Nt(W,$,j),p[m+3+0]=Nt(Z,W,$)}function hs(p,m){var C=p[m+1-32],E=p[m+2-32],L=p[m+3-32],Q=p[m+4-32],j=p[m+5-32],$=p[m+6-32],W=p[m+7-32];p[m+0+0]=Nt(p[m+0-32],C,E),p[m+1+0]=p[m+0+32]=Nt(C,E,L),p[m+2+0]=p[m+1+32]=p[m+0+64]=Nt(E,L,Q),p[m+3+0]=p[m+2+32]=p[m+1+64]=p[m+0+96]=Nt(L,Q,j),p[m+3+32]=p[m+2+64]=p[m+1+96]=Nt(Q,j,$),p[m+3+64]=p[m+2+96]=Nt(j,$,W),p[m+3+96]=Nt($,W,W)}function Ci(p,m){var C=p[m-1+0],E=p[m-1+32],L=p[m-1+64],Q=p[m-1-32],j=p[m+0-32],$=p[m+1-32],W=p[m+2-32],Z=p[m+3-32];p[m+0+0]=p[m+1+64]=Q+j+1>>1,p[m+1+0]=p[m+2+64]=j+$+1>>1,p[m+2+0]=p[m+3+64]=$+W+1>>1,p[m+3+0]=W+Z+1>>1,p[m+0+96]=Nt(L,E,C),p[m+0+64]=Nt(E,C,Q),p[m+0+32]=p[m+1+96]=Nt(C,Q,j),p[m+1+32]=p[m+2+96]=Nt(Q,j,$),p[m+2+32]=p[m+3+96]=Nt(j,$,W),p[m+3+32]=Nt($,W,Z)}function Zc(p,m){var C=p[m+0-32],E=p[m+1-32],L=p[m+2-32],Q=p[m+3-32],j=p[m+4-32],$=p[m+5-32],W=p[m+6-32],Z=p[m+7-32];p[m+0+0]=C+E+1>>1,p[m+1+0]=p[m+0+64]=E+L+1>>1,p[m+2+0]=p[m+1+64]=L+Q+1>>1,p[m+3+0]=p[m+2+64]=Q+j+1>>1,p[m+0+32]=Nt(C,E,L),p[m+1+32]=p[m+0+96]=Nt(E,L,Q),p[m+2+32]=p[m+1+96]=Nt(L,Q,j),p[m+3+32]=p[m+2+96]=Nt(Q,j,$),p[m+3+64]=Nt(j,$,W),p[m+3+96]=Nt($,W,Z)}function eu(p,m){var C=p[m-1+0],E=p[m-1+32],L=p[m-1+64],Q=p[m-1+96];p[m+0+0]=C+E+1>>1,p[m+2+0]=p[m+0+32]=E+L+1>>1,p[m+2+32]=p[m+0+64]=L+Q+1>>1,p[m+1+0]=Nt(C,E,L),p[m+3+0]=p[m+1+32]=Nt(E,L,Q),p[m+3+32]=p[m+1+64]=Nt(L,Q,Q),p[m+3+64]=p[m+2+64]=p[m+0+96]=p[m+1+96]=p[m+2+96]=p[m+3+96]=Q}function To(p,m){var C=p[m-1+0],E=p[m-1+32],L=p[m-1+64],Q=p[m-1+96],j=p[m-1-32],$=p[m+0-32],W=p[m+1-32],Z=p[m+2-32];p[m+0+0]=p[m+2+32]=C+j+1>>1,p[m+0+32]=p[m+2+64]=E+C+1>>1,p[m+0+64]=p[m+2+96]=L+E+1>>1,p[m+0+96]=Q+L+1>>1,p[m+3+0]=Nt($,W,Z),p[m+2+0]=Nt(j,$,W),p[m+1+0]=p[m+3+32]=Nt(C,j,$),p[m+1+32]=p[m+3+64]=Nt(E,C,j),p[m+1+64]=p[m+3+96]=Nt(L,E,C),p[m+1+96]=Nt(Q,L,E)}function Ml(p,m){var C;for(C=0;8>C;++C)n(p,m+32*C,p,m-32,8)}function Uo(p,m){var C;for(C=0;8>C;++C)i(p,m,p[m-1],8),m+=32}function Oo(p,m,C){var E;for(E=0;8>E;++E)i(m,C+32*E,p,8)}function FA(p,m){var C,E=8;for(C=0;8>C;++C)E+=p[m+C-32]+p[m-1+32*C];Oo(E>>4,p,m)}function $f(p,m){var C,E=4;for(C=0;8>C;++C)E+=p[m+C-32];Oo(E>>3,p,m)}function Hl(p,m){var C,E=4;for(C=0;8>C;++C)E+=p[m-1+32*C];Oo(E>>3,p,m)}function Kl(p,m){Oo(128,p,m)}function Lo(p,m,C){var E=p[m-C],L=p[m+0],Q=3*(L-E)+Yt[1020+p[m-2*C]-p[m+C]],j=xr[112+(Q+4>>3)];p[m-C]=rr[255+E+xr[112+(Q+3>>3)]],p[m+0]=rr[255+L-j]}function ko(p,m,C,E){var L=p[m+0],Q=p[m+C];return nr[255+p[m-2*C]-p[m-C]]>E||nr[255+Q-L]>E}function Vl(p,m,C,E){return 4*nr[255+p[m-C]-p[m+0]]+nr[255+p[m-2*C]-p[m+C]]<=E}function NA(p,m,C,E,L){var Q=p[m-3*C],j=p[m-2*C],$=p[m-C],W=p[m+0],Z=p[m+C],Ae=p[m+2*C],xe=p[m+3*C];return 4*nr[255+$-W]+nr[255+j-Z]>E?0:nr[255+p[m-4*C]-Q]<=L&&nr[255+Q-j]<=L&&nr[255+j-$]<=L&&nr[255+xe-Ae]<=L&&nr[255+Ae-Z]<=L&&nr[255+Z-W]<=L}function $l(p,m,C,E){var L=2*E+1;for(E=0;16>E;++E)Vl(p,m+E,C,L)&&Lo(p,m+E,C)}function Po(p,m,C,E){var L=2*E+1;for(E=0;16>E;++E)Vl(p,m+E*C,1,L)&&Lo(p,m+E*C,1)}function TA(p,m,C,E){var L;for(L=3;0<L;--L)$l(p,m+=4*C,C,E)}function tu(p,m,C,E){var L;for(L=3;0<L;--L)Po(p,m+=4,C,E)}function ps(p,m,C,E,L,Q,j,$){for(Q=2*Q+1;0<L--;){if(NA(p,m,C,Q,j))if(ko(p,m,C,$))Lo(p,m,C);else{var W=p,Z=m,Ae=C,xe=W[Z-2*Ae],ee=W[Z-Ae],ue=W[Z+0],ge=W[Z+Ae],Fe=W[Z+2*Ae],we=27*(Oe=Yt[1020+3*(ue-ee)+Yt[1020+xe-ge]])+63>>7,Te=18*Oe+63>>7,Oe=9*Oe+63>>7;W[Z-3*Ae]=rr[255+W[Z-3*Ae]+Oe],W[Z-2*Ae]=rr[255+xe+Te],W[Z-Ae]=rr[255+ee+we],W[Z+0]=rr[255+ue-we],W[Z+Ae]=rr[255+ge-Te],W[Z+2*Ae]=rr[255+Fe-Oe]}m+=E}}function gs(p,m,C,E,L,Q,j,$){for(Q=2*Q+1;0<L--;){if(NA(p,m,C,Q,j))if(ko(p,m,C,$))Lo(p,m,C);else{var W=p,Z=m,Ae=C,xe=W[Z-Ae],ee=W[Z+0],ue=W[Z+Ae],ge=xr[112+(4+(Fe=3*(ee-xe))>>3)],Fe=xr[112+(Fe+3>>3)],we=ge+1>>1;W[Z-2*Ae]=rr[255+W[Z-2*Ae]+we],W[Z-Ae]=rr[255+xe+Fe],W[Z+0]=rr[255+ee-ge],W[Z+Ae]=rr[255+ue-we]}m+=E}}function Gl(p,m,C,E,L,Q){ps(p,m,C,1,16,E,L,Q)}function ru(p,m,C,E,L,Q){ps(p,m,1,C,16,E,L,Q)}function Do(p,m,C,E,L,Q){var j;for(j=3;0<j;--j)gs(p,m+=4*C,C,1,16,E,L,Q)}function zl(p,m,C,E,L,Q){var j;for(j=3;0<j;--j)gs(p,m+=4,1,C,16,E,L,Q)}function b(p,m,C,E,L,Q,j,$){ps(p,m,L,1,8,Q,j,$),ps(C,E,L,1,8,Q,j,$)}function U(p,m,C,E,L,Q,j,$){ps(p,m,1,L,8,Q,j,$),ps(C,E,1,L,8,Q,j,$)}function J(p,m,C,E,L,Q,j,$){gs(p,m+4*L,L,1,8,Q,j,$),gs(C,E+4*L,L,1,8,Q,j,$)}function ae(p,m,C,E,L,Q,j,$){gs(p,m+4,1,L,8,Q,j,$),gs(C,E+4,1,L,8,Q,j,$)}function pe(){this.ba=new yr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ne(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Re(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function at(){this.ua=0,this.Wa=new tt,this.vb=new tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new K}function ct(){this.xb=this.a=0,this.l=new CA,this.ca=new yr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new at,this.ab=0,this.gc=s(4,Re),this.Oc=0}function _t(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new CA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ot(p,m,C,E,L,Q,j){for(p=p==null?0:p[m+0],m=0;m<j;++m)L[Q+m]=p+C[E+m]&255,p=L[Q+m]}function tr(p,m,C,E,L,Q,j){var $;if(p==null)Ot(null,null,C,E,L,Q,j);else for($=0;$<j;++$)L[Q+$]=p[m+$]+C[E+$]&255}function Or(p,m,C,E,L,Q,j){if(p==null)Ot(null,null,C,E,L,Q,j);else{var $,W=p[m+0],Z=W,Ae=W;for($=0;$<j;++$)Z=Ae+(W=p[m+$])-Z,Ae=C[E+$]+(-256&Z?0>Z?0:255:Z)&255,Z=W,L[Q+$]=Ae}}function pn(p,m,C,E){var L=m.width,Q=m.o;if(e(p!=null&&m!=null),0>C||0>=E||C+E>Q)return null;if(!p.Cc){if(p.ga==null){var j;if(p.ga=new _t,(j=p.ga==null)||(j=m.width*m.o,e(p.Gb.length==0),p.Gb=a(j),p.Uc=0,p.Gb==null?j=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,j=1),j=!j),!j){j=p.ga;var $=p.Fa,W=p.P,Z=p.qc,Ae=p.mb,xe=p.nb,ee=W+1,ue=Z-1,ge=j.l;if(e($!=null&&Ae!=null&&m!=null),RA[0]=null,RA[1]=Ot,RA[2]=tr,RA[3]=Or,j.ca=Ae,j.tb=xe,j.c=m.width,j.i=m.height,e(0<j.c&&0<j.i),1>=Z)m=0;else if(j.$a=3&$[W+0],j.Z=$[W+0]>>2&3,j.Lc=$[W+0]>>4&3,W=$[W+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||W)m=0;else if(ge.put=wt,ge.ac=jt,ge.bc=Un,ge.ma=j,ge.width=m.width,ge.height=m.height,ge.Da=m.Da,ge.v=m.v,ge.va=m.va,ge.j=m.j,ge.o=m.o,j.$a)e:{e(j.$a==1),m=qs();t:for(;;){if(m==null){m=0;break e}if(e(j!=null),j.mc=m,m.c=j.c,m.i=j.i,m.l=j.l,m.l.ma=j,m.l.width=j.c,m.l.height=j.i,m.a=0,ce(m.m,$,ee,ue),!Ca(j.c,j.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&ai(m.s)?(j.ic=1,$=m.c*m.i,m.Ta=null,m.Ua=0,m.V=a($),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(j.ic=0,m=Eo(m,j.c)),!m))break t;m=1;break e}j.mc=null,m=0}else m=ue>=j.c*j.i;j=!m}if(j)return null;p.ga.Lc!=1?p.Ga=0:E=Q-C}e(p.ga!=null),e(C+E<=Q);e:{if(m=($=p.ga).c,Q=$.l.o,$.$a==0){if(ee=p.rc,ue=p.Vc,ge=p.Fa,W=p.P+1+C*m,Z=p.mb,Ae=p.nb+C*m,e(W<=p.P+p.qc),$.Z!=0)for(e(RA[$.Z]!=null),j=0;j<E;++j)RA[$.Z](ee,ue,ge,W,Z,Ae,m),ee=Z,ue=Ae,Ae+=m,W+=m;else for(j=0;j<E;++j)n(Z,Ae,ge,W,m),ee=Z,ue=Ae,Ae+=m,W+=m;p.rc=ee,p.Vc=ue}else{if(e($.mc!=null),m=C+E,e((j=$.mc)!=null),e(m<=j.i),j.C>=m)m=1;else if($.ic||ia(),$.ic){$=j.V,ee=j.Ba,ue=j.c;var Fe=j.i,we=(ge=1,W=j.$/ue,Z=j.$%ue,Ae=j.m,xe=j.s,j.$),Te=ue*Fe,Oe=ue*m,Me=xe.wc,je=we<Oe?On(xe,Z,W):null;e(we<=Te),e(m<=Fe),e(ai(xe));t:for(;;){for(;!Ae.h&&we<Oe;){if(Z&Me||(je=On(xe,Z,W)),e(je!=null),he(Ae),256>(Fe=Dr(je.G[0],je.H[0],Ae)))$[ee+we]=Fe,++we,++Z>=ue&&(Z=0,++W<=m&&!(W%16)&&Bi(j,W));else{if(!(280>Fe)){ge=0;break t}Fe=ta(Fe-256,Ae);var gt,st=Dr(je.G[4],je.H[4],Ae);if(he(Ae),!(we>=(st=ra(ue,st=ta(st,Ae)))&&Te-we>=Fe)){ge=0;break t}for(gt=0;gt<Fe;++gt)$[ee+we+gt]=$[ee+we+gt-st];for(we+=Fe,Z+=Fe;Z>=ue;)Z-=ue,++W<=m&&!(W%16)&&Bi(j,W);we<Oe&&Z&Me&&(je=On(xe,Z,W))}e(Ae.h==ne(Ae))}Bi(j,W>m?m:W);break t}!ge||Ae.h&&we<Te?(ge=0,j.a=Ae.h?5:3):j.$=we,m=ge}else m=Ri(j,j.V,j.Ba,j.c,j.i,m,wA);if(!m){E=0;break e}}C+E>=Q&&(p.Cc=1),E=1}if(!E)return null;if(p.Cc&&((E=p.ga)!=null&&(E.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+C*L}function ur(p,m,C,E,L,Q){for(;0<L--;){var j,$=p,W=m+(C?1:0),Z=p,Ae=m+(C?0:3);for(j=0;j<E;++j){var xe=Z[Ae+4*j];xe!=255&&(xe*=32897,$[W+4*j+0]=$[W+4*j+0]*xe>>23,$[W+4*j+1]=$[W+4*j+1]*xe>>23,$[W+4*j+2]=$[W+4*j+2]*xe>>23)}m+=Q}}function bn(p,m,C,E,L){for(;0<E--;){var Q;for(Q=0;Q<C;++Q){var j=p[m+2*Q+0],$=15&(Z=p[m+2*Q+1]),W=4369*$,Z=(240&Z|Z>>4)*W>>16;p[m+2*Q+0]=(240&j|j>>4)*W>>16&240|(15&j|j<<4)*W>>16>>4&15,p[m+2*Q+1]=240&Z|$}m+=L}}function gn(p,m,C,E,L,Q,j,$){var W,Z,Ae=255;for(Z=0;Z<L;++Z){for(W=0;W<E;++W){var xe=p[m+W];Q[j+4*W]=xe,Ae&=xe}m+=C,j+=$}return Ae!=255}function Mn(p,m,C,E,L){var Q;for(Q=0;Q<L;++Q)C[E+Q]=p[m+Q]>>8}function ia(){se=ur,le=bn,ye=gn,ve=Mn}function _i(p,m,C){k[p]=function(E,L,Q,j,$,W,Z,Ae,xe,ee,ue,ge,Fe,we,Te,Oe,Me){var je,gt=Me-1>>1,st=$[W+0]|Z[Ae+0]<<16,Mt=xe[ee+0]|ue[ge+0]<<16;e(E!=null);var ut=3*st+Mt+131074>>2;for(m(E[L+0],255&ut,ut>>16,Fe,we),Q!=null&&(ut=3*Mt+st+131074>>2,m(Q[j+0],255&ut,ut>>16,Te,Oe)),je=1;je<=gt;++je){var Jt=$[W+je]|Z[Ae+je]<<16,Kn=xe[ee+je]|ue[ge+je]<<16,Ht=st+Jt+Mt+Kn+524296,ft=Ht+2*(Jt+Mt)>>3;ut=ft+st>>1,st=(Ht=Ht+2*(st+Kn)>>3)+Jt>>1,m(E[L+2*je-1],255&ut,ut>>16,Fe,we+(2*je-1)*C),m(E[L+2*je-0],255&st,st>>16,Fe,we+(2*je-0)*C),Q!=null&&(ut=Ht+Mt>>1,st=ft+Kn>>1,m(Q[j+2*je-1],255&ut,ut>>16,Te,Oe+(2*je-1)*C),m(Q[j+2*je+0],255&st,st>>16,Te,Oe+(2*je+0)*C)),st=Jt,Mt=Kn}1&Me||(ut=3*st+Mt+131074>>2,m(E[L+Me-1],255&ut,ut>>16,Fe,we+(Me-1)*C),Q!=null&&(ut=3*Mt+st+131074>>2,m(Q[j+Me-1],255&ut,ut>>16,Te,Oe+(Me-1)*C)))}}function nu(){qa[An]=sF,qa[oa]=mx,qa[si]=oF,qa[oi]=yx,qa[$o]=wx,qa[Gf]=xx,qa[zf]=AF,qa[Au]=mx,qa[lu]=yx,qa[Go]=wx,qa[PA]=xx}function UA(p){return p&-16384?0>p?0:255:p>>lF}function Ro(p,m){return UA((19077*p>>8)+(26149*m>>8)-14234)}function Js(p,m,C){return UA((19077*p>>8)-(6419*m>>8)-(13320*C>>8)+8708)}function fr(p,m){return UA((19077*p>>8)+(33050*m>>8)-17685)}function Qo(p,m,C,E,L){E[L+0]=Ro(p,C),E[L+1]=Js(p,m,C),E[L+2]=fr(p,m)}function Mi(p,m,C,E,L){E[L+0]=fr(p,m),E[L+1]=Js(p,m,C),E[L+2]=Ro(p,C)}function Hn(p,m,C,E,L){var Q=Js(p,m,C);m=Q<<3&224|fr(p,m)>>3,E[L+0]=248&Ro(p,C)|Q>>5,E[L+1]=m}function jo(p,m,C,E,L){var Q=240&fr(p,m)|15;E[L+0]=240&Ro(p,C)|Js(p,m,C)>>4,E[L+1]=Q}function Pt(p,m,C,E,L){E[L+0]=255,Qo(p,m,C,E,L+1)}function Wl(p,m,C,E,L){Mi(p,m,C,E,L),E[L+3]=255}function ql(p,m,C,E,L){Qo(p,m,C,E,L),E[L+3]=255}function Jr(p,m){return 0>p?0:p>m?m:p}function vs(p,m,C){k[p]=function(E,L,Q,j,$,W,Z,Ae,xe){for(var ee=Ae+(-2&xe)*C;Ae!=ee;)m(E[L+0],Q[j+0],$[W+0],Z,Ae),m(E[L+1],Q[j+0],$[W+0],Z,Ae+C),L+=2,++j,++W,Ae+=2*C;1&xe&&m(E[L+0],Q[j+0],$[W+0],Z,Ae)}}function OA(p,m,C){return C==0?p==0?m==0?6:5:m==0?4:0:C}function iu(p,m,C,E,L){switch(p>>>30){case 3:Vo(m,C,E,L,0);break;case 2:sa(m,C,E,L);break;case 1:dr(m,C,E,L)}}function aa(p,m){var C,E,L=m.M,Q=m.Nb,j=p.oc,$=p.pc+40,W=p.oc,Z=p.pc+584,Ae=p.oc,xe=p.pc+600;for(C=0;16>C;++C)j[$+32*C-1]=129;for(C=0;8>C;++C)W[Z+32*C-1]=129,Ae[xe+32*C-1]=129;for(0<L?j[$-1-32]=W[Z-1-32]=Ae[xe-1-32]=129:(i(j,$-32-1,127,21),i(W,Z-32-1,127,9),i(Ae,xe-32-1,127,9)),E=0;E<p.za;++E){var ee=m.ya[m.aa+E];if(0<E){for(C=-1;16>C;++C)n(j,$+32*C-4,j,$+32*C+12,4);for(C=-1;8>C;++C)n(W,Z+32*C-4,W,Z+32*C+4,4),n(Ae,xe+32*C-4,Ae,xe+32*C+4,4)}var ue=p.Gd,ge=p.Hd+E,Fe=ee.ad,we=ee.Hc;if(0<L&&(n(j,$-32,ue[ge].y,0,16),n(W,Z-32,ue[ge].f,0,8),n(Ae,xe-32,ue[ge].ea,0,8)),ee.Za){var Te=j,Oe=$-32+16;for(0<L&&(E>=p.za-1?i(Te,Oe,ue[ge].y[15],4):n(Te,Oe,ue[ge+1].y,0,4)),C=0;4>C;C++)Te[Oe+128+C]=Te[Oe+256+C]=Te[Oe+384+C]=Te[Oe+0+C];for(C=0;16>C;++C,we<<=2)Te=j,Oe=$+Bx[C],ws[ee.Ob[C]](Te,Oe),iu(we,Fe,16*+C,Te,Oe)}else if(Te=OA(E,L,ee.Ob[0]),DA[Te](j,$),we!=0)for(C=0;16>C;++C,we<<=2)iu(we,Fe,16*+C,j,$+Bx[C]);for(C=ee.Gc,Te=OA(E,L,ee.Dd),zo[Te](W,Z),zo[Te](Ae,xe),we=Fe,Te=W,Oe=Z,255&(ee=0|C)&&(170&ee?Wa(we,256,Te,Oe):wr(we,256,Te,Oe)),ee=Ae,we=xe,255&(C>>=8)&&(170&C?Wa(Fe,320,ee,we):wr(Fe,320,ee,we)),L<p.Ub-1&&(n(ue[ge].y,0,j,$+480,16),n(ue[ge].f,0,W,Z+224,8),n(ue[ge].ea,0,Ae,xe+224,8)),C=8*Q*p.B,ue=p.sa,ge=p.ta+16*E+16*Q*p.R,Fe=p.qa,ee=p.ra+8*E+C,we=p.Ha,Te=p.Ia+8*E+C,C=0;16>C;++C)n(ue,ge+C*p.R,j,$+32*C,16);for(C=0;8>C;++C)n(Fe,ee+C*p.B,W,Z+32*C,8),n(we,Te+C*p.B,Ae,xe+32*C,8)}}function Mo(p,m,C,E,L,Q,j,$,W){var Z=[0],Ae=[0],xe=0,ee=W!=null?W.kd:0,ue=W??new Ne;if(p==null||12>C)return 7;ue.data=p,ue.w=m,ue.ha=C,m=[m],C=[C],ue.gb=[ue.gb];e:{var ge=m,Fe=C,we=ue.gb;if(e(p!=null),e(Fe!=null),e(we!=null),we[0]=0,12<=Fe[0]&&!r(p,ge[0],"RIFF")){if(r(p,ge[0]+8,"WEBP")){we=3;break e}var Te=Be(p,ge[0]+4);if(12>Te||4294967286<Te){we=3;break e}if(ee&&Te>Fe[0]-8){we=7;break e}we[0]=Te,ge[0]+=12,Fe[0]-=12}we=0}if(we!=0)return we;for(Te=0<ue.gb[0],C=C[0];;){e:{var Oe=p;Fe=m,we=C;var Me=Z,je=Ae,gt=ge=[0];if((ut=xe=[xe])[0]=0,8>we[0])we=7;else{if(!r(Oe,Fe[0],"VP8X")){if(Be(Oe,Fe[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var st=Be(Oe,Fe[0]+8),Mt=1+Ue(Oe,Fe[0]+12);if(2147483648<=Mt*(Oe=1+Ue(Oe,Fe[0]+15))){we=3;break e}gt!=null&&(gt[0]=st),Me!=null&&(Me[0]=Mt),je!=null&&(je[0]=Oe),Fe[0]+=18,we[0]-=18,ut[0]=1}we=0}}if(xe=xe[0],ge=ge[0],we!=0)return we;if(Fe=!!(2&ge),!Te&&xe)return 3;if(Q!=null&&(Q[0]=!!(16&ge)),j!=null&&(j[0]=Fe),$!=null&&($[0]=0),j=Z[0],ge=Ae[0],xe&&Fe&&W==null){we=0;break}if(4>C){we=7;break}if(Te&&xe||!Te&&!xe&&!r(p,m[0],"ALPH")){C=[C],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{st=p,we=m,Te=C;var ut=ue.gb;Me=ue.na,je=ue.P,gt=ue.Sa,Mt=22,e(st!=null),e(Te!=null),Oe=we[0];var Jt=Te[0];for(e(Me!=null),e(gt!=null),Me[0]=null,je[0]=null,gt[0]=0;;){if(we[0]=Oe,Te[0]=Jt,8>Jt){we=7;break e}var Kn=Be(st,Oe+4);if(4294967286<Kn){we=3;break e}var Ht=8+Kn+1&-2;if(Mt+=Ht,0<ut&&Mt>ut){we=3;break e}if(!r(st,Oe,"VP8 ")||!r(st,Oe,"VP8L")){we=0;break e}if(Jt[0]<Ht){we=7;break e}r(st,Oe,"ALPH")||(Me[0]=st,je[0]=Oe+8,gt[0]=Kn),Oe+=Ht,Jt-=Ht}}if(C=C[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],we!=0)break}C=[C],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(ut=p,we=m,Te=C,Me=ue.gb[0],je=ue.Ja,gt=ue.xa,st=we[0],Oe=!r(ut,st,"VP8 "),Mt=!r(ut,st,"VP8L"),e(ut!=null),e(Te!=null),e(je!=null),e(gt!=null),8>Te[0])we=7;else{if(Oe||Mt){if(ut=Be(ut,st+4),12<=Me&&ut>Me-12){we=3;break e}if(ee&&ut>Te[0]-8){we=7;break e}je[0]=ut,we[0]+=8,Te[0]-=8,gt[0]=Mt}else gt[0]=5<=Te[0]&&ut[st+0]==47&&!(ut[st+4]>>5),je[0]=Te[0];we=0}if(C=C[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],m=m[0],we!=0)break;if(4294967286<ue.Ja)return 3;if($==null||Fe||($[0]=ue.xa?2:1),j=[j],ge=[ge],ue.xa){if(5>C){we=7;break}$=j,ee=ge,Fe=Q,p==null||5>C?p=0:5<=C&&p[m+0]==47&&!(p[m+4]>>5)?(Te=[0],ut=[0],Me=[0],ce(je=new H,p,m,C),Qn(je,Te,ut,Me)?($!=null&&($[0]=Te[0]),ee!=null&&(ee[0]=ut[0]),Fe!=null&&(Fe[0]=Me[0]),p=1):p=0):p=0}else{if(10>C){we=7;break}$=ge,p==null||10>C||!kl(p,m+3,C-3)?p=0:(ee=p[m+0]|p[m+1]<<8|p[m+2]<<16,Fe=16383&(p[m+7]<<8|p[m+6]),p=16383&(p[m+9]<<8|p[m+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=ue.Ja||!Fe||!p?p=0:(j&&(j[0]=Fe),$&&($[0]=p),p=1))}if(!p||(j=j[0],ge=ge[0],xe&&(Z[0]!=j||Ae[0]!=ge)))return 3;W!=null&&(W[0]=ue,W.offset=m-W.w,e(4294967286>m-W.w),e(W.offset==W.ha-C));break}return we==0||we==7&&xe&&W==null?(Q!=null&&(Q[0]|=ue.na!=null&&0<ue.na.length),E!=null&&(E[0]=j),L!=null&&(L[0]=ge),0):we}function Xl(p,m,C){var E=m.width,L=m.height,Q=0,j=0,$=E,W=L;if(m.Da=p!=null&&0<p.Da,m.Da&&($=p.cd,W=p.bd,Q=p.v,j=p.j,11>C||(Q&=-2,j&=-2),0>Q||0>j||0>=$||0>=W||Q+$>E||j+W>L))return 0;if(m.v=Q,m.j=j,m.va=Q+$,m.o=j+W,m.U=$,m.T=W,m.da=p!=null&&0<p.da,m.da){if(!Je($,W,C=[p.ib],Q=[p.hb]))return 0;m.ib=C[0],m.hb=Q[0]}return m.ob=p!=null&&p.ob,m.Kb=p==null||!p.Sd,m.da&&(m.ob=m.ib<3*E/4&&m.hb<3*L/4,m.Kb=0),1}function Yl(p){if(p==null)return 2;if(11>p.S){var m=p.f.RGBA;m.fb+=(p.height-1)*m.A,m.A=-m.A}else m=p.f.kb,p=p.height,m.O+=(p-1)*m.fa,m.fa=-m.fa,m.N+=(p-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(p-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(p-1)*m.lb,m.lb=-m.lb);return 0}function Zs(p,m,C,E){if(E==null||0>=p||0>=m)return 2;if(C!=null){if(C.Da){var L=C.cd,Q=C.bd,j=-2&C.v,$=-2&C.j;if(0>j||0>$||0>=L||0>=Q||j+L>p||$+Q>m)return 2;p=L,m=Q}if(C.da){if(!Je(p,m,L=[C.ib],Q=[C.hb]))return 2;p=L[0],m=Q[0]}}E.width=p,E.height=m;e:{var W=E.width,Z=E.height;if(p=E.S,0>=W||0>=Z||!(p>=An&&13>p))p=2;else{if(0>=E.Rd&&E.sd==null){j=Q=L=m=0;var Ae=($=W*Cx[p])*Z;if(11>p||(Q=(Z+1)/2*(m=(W+1)/2),p==12&&(j=(L=W)*Z)),(Z=a(Ae+2*Q+j))==null){p=1;break e}E.sd=Z,11>p?((W=E.f.RGBA).eb=Z,W.fb=0,W.A=$,W.size=Ae):((W=E.f.kb).y=Z,W.O=0,W.fa=$,W.Fd=Ae,W.f=Z,W.N=0+Ae,W.Ab=m,W.Cd=Q,W.ea=Z,W.W=0+Ae+Q,W.Db=m,W.Ed=Q,p==12&&(W.F=Z,W.J=0+Ae+2*Q),W.Tc=j,W.lb=L)}if(m=1,L=E.S,Q=E.width,j=E.height,L>=An&&13>L)if(11>L)p=E.f.RGBA,m&=($=Math.abs(p.A))*(j-1)+Q<=p.size,m&=$>=Q*Cx[L],m&=p.eb!=null;else{p=E.f.kb,$=(Q+1)/2,Ae=(j+1)/2,W=Math.abs(p.fa),Z=Math.abs(p.Ab);var xe=Math.abs(p.Db),ee=Math.abs(p.lb),ue=ee*(j-1)+Q;m&=W*(j-1)+Q<=p.Fd,m&=Z*(Ae-1)+$<=p.Cd,m=(m&=xe*(Ae-1)+$<=p.Ed)&W>=Q&Z>=$&xe>=$,m&=p.y!=null,m&=p.f!=null,m&=p.ea!=null,L==12&&(m&=ee>=Q,m&=ue<=p.Tc,m&=p.F!=null)}else m=0;p=m?0:2}}return p!=0||C!=null&&C.fd&&(p=Yl(E)),p}var Ho=64,Hi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ki=24,eo=32,ms=8,to=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(p){return p},k.Predictor2=function(p,m,C){return m[C+0]},k.Predictor3=function(p,m,C){return m[C+1]},k.Predictor4=function(p,m,C){return m[C-1]},k.Predictor5=function(p,m,C){return lt(lt(p,m[C+1]),m[C+0])},k.Predictor6=function(p,m,C){return lt(p,m[C-1])},k.Predictor7=function(p,m,C){return lt(p,m[C+0])},k.Predictor8=function(p,m,C){return lt(m[C-1],m[C+0])},k.Predictor9=function(p,m,C){return lt(m[C+0],m[C+1])},k.Predictor10=function(p,m,C){return lt(lt(p,m[C-1]),lt(m[C+0],m[C+1]))},k.Predictor11=function(p,m,C){var E=m[C+0];return 0>=St(E>>24&255,p>>24&255,(m=m[C-1])>>24&255)+St(E>>16&255,p>>16&255,m>>16&255)+St(E>>8&255,p>>8&255,m>>8&255)+St(255&E,255&p,255&m)?E:p},k.Predictor12=function(p,m,C){var E=m[C+0];return(Vt((p>>24&255)+(E>>24&255)-((m=m[C-1])>>24&255))<<24|Vt((p>>16&255)+(E>>16&255)-(m>>16&255))<<16|Vt((p>>8&255)+(E>>8&255)-(m>>8&255))<<8|Vt((255&p)+(255&E)-(255&m)))>>>0},k.Predictor13=function(p,m,C){var E=m[C-1];return(Et((p=lt(p,m[C+0]))>>24&255,E>>24&255)<<24|Et(p>>16&255,E>>16&255)<<16|Et(p>>8&255,E>>8&255)<<8|Et(255&p,255&E))>>>0};var Jl=k.PredictorAdd0;k.PredictorAdd1=Ar,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var LA=k.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var sn,au=k.ColorIndexInverseTransform,Ga=k.MapARGB,za=k.VP8LColorIndexInverseTransformAlpha,Zl=k.MapAlpha,ec=k.VP8LPredictorsAdd=[];ec.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var tc,rc,ro,no,io,Ko,ao,Vo,sa,Wa,dr,wr,on,Bn,ys,nc,kA,su,ou,Mh,I,S,M,re,se,le,ye,ve,ke=a(511),Ve=a(2041),Xe=a(225),Tt=a(767),qt=0,Yt=Ve,xr=Xe,rr=Tt,nr=ke,An=0,oa=1,si=2,oi=3,$o=4,Gf=5,zf=6,Au=7,lu=8,Go=9,PA=10,Hh=[2,3,7],zI=[3,3,11],px=[280,256,256,256,40],WI=[0,1,1,1,0],qI=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],XI=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],YI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],JI=8,Tg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ug=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wf=null,ZI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],eF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],rF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],iF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],DA=[],ws=[],zo=[],aF=1,vx=2,RA=[],qa=[];_i("UpsampleRgbLinePair",Qo,3),_i("UpsampleBgrLinePair",Mi,3),_i("UpsampleRgbaLinePair",ql,4),_i("UpsampleBgraLinePair",Wl,4),_i("UpsampleArgbLinePair",Pt,4),_i("UpsampleRgba4444LinePair",jo,2),_i("UpsampleRgb565LinePair",Hn,2);var sF=k.UpsampleRgbLinePair,oF=k.UpsampleBgrLinePair,mx=k.UpsampleRgbaLinePair,yx=k.UpsampleBgraLinePair,wx=k.UpsampleArgbLinePair,xx=k.UpsampleRgba4444LinePair,AF=k.UpsampleRgb565LinePair,Kh=16,Vh=1<<Kh-1,qf=-227,Og=482,lF=6,bx=0,cF=a(256),uF=a(256),fF=a(256),dF=a(256),hF=a(Og-qf),pF=a(Og-qf);vs("YuvToRgbRow",Qo,3),vs("YuvToBgrRow",Mi,3),vs("YuvToRgbaRow",ql,4),vs("YuvToBgraRow",Wl,4),vs("YuvToArgbRow",Pt,4),vs("YuvToRgba4444Row",jo,2),vs("YuvToRgb565Row",Hn,2);var Bx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$h=[0,2,8],gF=[8,7,6,4,4,2,2,2,1,1,1,1],vF=1;this.WebPDecodeRGBA=function(p,m,C,E,L){var Q=oa,j=new pe,$=new yr;j.ba=$,$.S=Q,$.width=[$.width],$.height=[$.height];var W=$.width,Z=$.height,Ae=new Ft;if(Ae==null||p==null)var xe=2;else e(Ae!=null),xe=Mo(p,m,C,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(xe!=0?W=0:(W!=null&&(W[0]=Ae.width[0]),Z!=null&&(Z[0]=Ae.height[0]),W=1),W){$.width=$.width[0],$.height=$.height[0],E!=null&&(E[0]=$.width),L!=null&&(L[0]=$.height);e:{if(E=new CA,(L=new Ne).data=p,L.w=m,L.ha=C,L.kd=1,m=[0],e(L!=null),((p=Mo(L.data,L.w,L.ha,null,null,null,m,null,L))==0||p==7)&&m[0]&&(p=4),(m=p)==0){if(e(j!=null),E.data=L.data,E.w=L.w+L.offset,E.ha=L.ha-L.offset,E.put=wt,E.ac=jt,E.bc=Un,E.ma=j,L.xa){if((p=qs())==null){j=1;break e}if(function(ee,ue){var ge=[0],Fe=[0],we=[0];t:for(;;){if(ee==null)return 0;if(ue==null)return ee.a=2,0;if(ee.l=ue,ee.a=0,ce(ee.m,ue.data,ue.w,ue.ha),!Qn(ee.m,ge,Fe,we)){ee.a=3;break t}if(ee.xb=vx,ue.width=ge[0],ue.height=Fe[0],!Ca(ge[0],Fe[0],1,ee,null))break t;return 1}return e(ee.a!=0),0}(p,E)){if(E=(m=Zs(E.width,E.height,j.Oa,j.ba))==0){t:{E=p;r:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((C=E.l)!=null),e((L=C.ma)!=null),E.xb!=0){if(E.ca=L.ba,E.tb=L.tb,e(E.ca!=null),!Xl(L.Oa,C,oi)){E.a=2;break r}if(!Eo(E,C.width)||C.da)break r;if((C.da||Lt(E.ca.S))&&ia(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ia()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!G(E.s.vb,E.s.Wa.Xa)){E.a=1;break r}E.xb=0}if(!Ri(E,E.V,E.Ba,E.c,E.i,C.o,us))break r;L.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(m=p.a)}else m=p.a}else{if((p=new _A)==null){j=1;break e}if(p.Fa=L.na,p.P=L.P,p.qc=L.Sa,Pl(p,E)){if((m=Zs(E.width,E.height,j.Oa,j.ba))==0){if(p.Aa=0,C=j.Oa,e((L=p)!=null),C!=null){if(0<(W=0>(W=C.Md)?0:100<W?255:255*W/100)){for(Z=Ae=0;4>Z;++Z)12>(xe=L.pb[Z]).lc&&(xe.ia=W*gF[0>xe.lc?0:xe.lc]>>3),Ae|=xe.ia;Ae&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=C.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(ee,ue){if(ee==null)return 0;if(ue==null)return nn(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!Pl(ee,ue))return 0;if(e(ee.cb),ue.ac==null||ue.ac(ue)){ue.ob&&(ee.L=0);var ge=$h[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=ue.v-ge>>4,ee.zb=ue.j-ge>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=ue.o+15+ge>>4,ee.Hb=ue.va+15+ge>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var Fe=ee.ed;for(ge=0;4>ge;++ge){var we;if(ee.Qa.Cb){var Te=ee.Qa.Lb[ge];ee.Qa.Fb||(Te+=Fe.Tb)}else Te=Fe.Tb;for(we=0;1>=we;++we){var Oe=ee.gd[ge][we],Me=Te;if(Fe.Pc&&(Me+=Fe.vd[0],we&&(Me+=Fe.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var je=Me;0<Fe.wb&&(je=4<Fe.wb?je>>2:je>>1)>9-Fe.wb&&(je=9-Fe.wb),1>je&&(je=1),Oe.dd=je,Oe.tc=2*Me+je,Oe.ld=40<=Me?2:15<=Me?1:0}else Oe.tc=0;Oe.La=we}}}ge=0}else nn(ee,6,"Frame setup failed"),ge=ee.a;if(ge=ge==0){if(ge){ee.$c=0,0<ee.Aa||(ee.Ic=vF);t:{ge=ee.Ic,Fe=4*(je=ee.za);var gt=32*je,st=je+1,Mt=0<ee.L?je*(0<ee.Aa?2:1):0,ut=(ee.Aa==2?2:1)*je;if((Oe=Fe+832+(we=3*(16*ge+$h[ee.L])/2*gt)+(Te=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=Oe)ge=0;else{if(Oe>ee.Vb){if(ee.Vb=0,ee.Ec=a(Oe),ee.Fc=0,ee.Ec==null){ge=nn(ee,1,"no memory during frame initialization.");break t}ee.Vb=Oe}Oe=ee.Ec,Me=ee.Fc,ee.Ac=Oe,ee.Bc=Me,Me+=Fe,ee.Gd=s(gt,Io),ee.Hd=0,ee.rb=s(st+1,BA),ee.sb=1,ee.wa=Mt?s(Mt,na):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=je),e(!0),ee.oc=Oe,ee.pc=Me,Me+=832,ee.ya=s(ut,Ll),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=je),ee.R=16*je,ee.B=8*je,je=(gt=$h[ee.L])*ee.R,gt=gt/2*ee.B,ee.sa=Oe,ee.ta=Me+je,ee.qa=ee.sa,ee.ra=ee.ta+16*ge*ee.R+gt,ee.Ha=ee.qa,ee.Ia=ee.ra+8*ge*ee.B+gt,ee.$c=0,Me+=we,ee.mb=Te?Oe:null,ee.nb=Te?Me:null,e(Me+Te<=ee.Fc+ee.Vb),Fo(ee),i(ee.Ac,ee.Bc,0,Fe),ge=1}}if(ge){if(ue.ka=0,ue.y=ee.sa,ue.O=ee.ta,ue.f=ee.qa,ue.N=ee.ra,ue.ea=ee.Ha,ue.Vd=ee.Ia,ue.fa=ee.R,ue.Rc=ee.B,ue.F=null,ue.J=0,!qt){for(ge=-255;255>=ge;++ge)ke[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)Ve[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)Xe[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)Tt[255+ge]=0>ge?0:255<ge?255:ge;qt=1}ao=Yc,Vo=Qf,Wa=Dl,dr=$a,wr=IA,sa=SA,on=Gl,Bn=ru,ys=b,nc=U,kA=Do,su=zl,ou=J,Mh=ae,I=$l,S=Po,M=TA,re=tu,ws[0]=Kf,ws[1]=Rl,ws[2]=Mf,ws[3]=Hf,ws[4]=Vf,ws[5]=Ci,ws[6]=hs,ws[7]=Zc,ws[8]=To,ws[9]=eu,DA[0]=Ys,DA[1]=ds,DA[2]=Ql,DA[3]=ji,DA[4]=jf,DA[5]=No,DA[6]=jl,zo[0]=FA,zo[1]=Jc,zo[2]=Ml,zo[3]=Uo,zo[4]=Hl,zo[5]=$f,zo[6]=Kl,ge=1}else ge=0}ge&&(ge=function(Jt,Kn){for(Jt.M=0;Jt.M<Jt.Va;++Jt.M){var Ht,ft=Jt.Jc[Jt.M&Jt.Xb],Ge=Jt.m,Cn=Jt;for(Ht=0;Ht<Cn.za;++Ht){var Qt=Ge,Zt=Cn,$r=Zt.Ac,Ai=Zt.Bc+4*Ht,Vi=Zt.zc,vn=Zt.ya[Zt.aa+Ht];if(Zt.Qa.Bb?vn.$b=Se(Qt,Zt.Pa.jb[0])?2+Se(Qt,Zt.Pa.jb[2]):Se(Qt,Zt.Pa.jb[1]):vn.$b=0,Zt.kc&&(vn.Ad=Se(Qt,Zt.Bd)),vn.Za=!Se(Qt,145)+0,vn.Za){var Ei=vn.Ob,$i=0;for(Zt=0;4>Zt;++Zt){var Vn,ir=Vi[0+Zt];for(Vn=0;4>Vn;++Vn){ir=rF[$r[Ai+Vn]][ir];for(var br=gx[Se(Qt,ir[0])];0<br;)br=gx[2*br+Se(Qt,ir[br])];ir=-br,$r[Ai+Vn]=ir}n(Ei,$i,$r,Ai,4),$i+=4,Vi[0+Zt]=ir}}else ir=Se(Qt,156)?Se(Qt,128)?1:3:Se(Qt,163)?2:0,vn.Ob[0]=ir,i($r,Ai,ir,4),i(Vi,0,ir,4);vn.Dd=Se(Qt,142)?Se(Qt,114)?Se(Qt,183)?1:3:2:0}if(Cn.m.Ka)return nn(Jt,7,"Premature end-of-partition0 encountered.");for(;Jt.ja<Jt.za;++Jt.ja){if(Cn=ft,Qt=(Ge=Jt).rb[Ge.sb-1],$r=Ge.rb[Ge.sb+Ge.ja],Ht=Ge.ya[Ge.aa+Ge.ja],Ai=Ge.kc?Ht.Ad:0)Qt.la=$r.la=0,Ht.Za||(Qt.Na=$r.Na=0),Ht.Hc=0,Ht.Gc=0,Ht.ia=0;else{var mn,Br;if(Qt=$r,$r=Cn,Ai=Ge.Pa.Xc,Vi=Ge.ya[Ge.aa+Ge.ja],vn=Ge.pb[Vi.$b],Zt=Vi.ad,Ei=0,$i=Ge.rb[Ge.sb-1],ir=Vn=0,i(Zt,Ei,0,384),Vi.Za)var li=0,xs=Ai[3];else{br=a(16);var _n=Qt.Na+$i.Na;if(_n=Wf($r,Ai[1],_n,vn.Eb,0,br,0),Qt.Na=$i.Na=(0<_n)+0,1<_n)ao(br,0,Zt,Ei);else{var Aa=br[0]+3>>3;for(br=0;256>br;br+=16)Zt[Ei+br]=Aa}li=1,xs=Ai[0]}var Lr=15&Qt.la,$n=15&$i.la;for(br=0;4>br;++br){var Ea=1&$n;for(Aa=Br=0;4>Aa;++Aa)Lr=Lr>>1|(Ea=(_n=Wf($r,xs,_n=Ea+(1&Lr),vn.Sc,li,Zt,Ei))>li)<<7,Br=Br<<2|(3<_n?3:1<_n?2:Zt[Ei+0]!=0),Ei+=16;Lr>>=4,$n=$n>>1|Ea<<7,Vn=(Vn<<8|Br)>>>0}for(xs=Lr,li=$n>>4,mn=0;4>mn;mn+=2){for(Br=0,Lr=Qt.la>>4+mn,$n=$i.la>>4+mn,br=0;2>br;++br){for(Ea=1&$n,Aa=0;2>Aa;++Aa)_n=Ea+(1&Lr),Lr=Lr>>1|(Ea=0<(_n=Wf($r,Ai[2],_n,vn.Qc,0,Zt,Ei)))<<3,Br=Br<<2|(3<_n?3:1<_n?2:Zt[Ei+0]!=0),Ei+=16;Lr>>=2,$n=$n>>1|Ea<<5}ir|=Br<<4*mn,xs|=Lr<<4<<mn,li|=(240&$n)<<mn}Qt.la=xs,$i.la=li,Vi.Hc=Vn,Vi.Gc=ir,Vi.ia=43690&ir?0:vn.ia,Ai=!(Vn|ir)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[Ht.$b][Ht.Za],Ge.wa[Ge.Y+Ge.ja].La|=!Ai),Cn.Ka)return nn(Jt,7,"Premature end-of-file encountered.")}if(Fo(Jt),Ge=Kn,Cn=1,Ht=(ft=Jt).D,Qt=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(Ht.M=ft.M,Ht.uc=Qt,aa(ft,Ht),Cn=1,Ht=(Br=ft.D).Nb,Qt=(ir=$h[ft.L])*ft.R,$r=ir/2*ft.B,br=16*Ht*ft.R,Aa=8*Ht*ft.B,Ai=ft.sa,Vi=ft.ta-Qt+br,vn=ft.qa,Zt=ft.ra-$r+Aa,Ei=ft.Ha,$i=ft.Ia-$r+Aa,$n=(Lr=Br.M)==0,Vn=Lr>=ft.Va-1,ft.Aa==2&&aa(ft,Br),Br.uc)for(Ea=(_n=ft).D.M,e(_n.D.uc),Br=_n.yb;Br<_n.Hb;++Br){li=Br,xs=Ea;var Gi=(Sa=(ci=_n).D).Nb;mn=ci.R;var Sa=Sa.wa[Sa.Y+li],Ia=ci.sa,la=ci.ta+16*Gi*mn+16*li,Fa=Sa.dd,Rr=Sa.tc;if(Rr!=0)if(e(3<=Rr),ci.L==1)0<li&&S(Ia,la,mn,Rr+4),Sa.La&&re(Ia,la,mn,Rr),0<xs&&I(Ia,la,mn,Rr+4),Sa.La&&M(Ia,la,mn,Rr);else{var Na=ci.B,bs=ci.qa,ic=ci.ra+8*Gi*Na+8*li,Wo=ci.Ha,ci=ci.Ia+8*Gi*Na+8*li;Gi=Sa.ld,0<li&&(Bn(Ia,la,mn,Rr+4,Fa,Gi),nc(bs,ic,Wo,ci,Na,Rr+4,Fa,Gi)),Sa.La&&(su(Ia,la,mn,Rr,Fa,Gi),Mh(bs,ic,Wo,ci,Na,Rr,Fa,Gi)),0<xs&&(on(Ia,la,mn,Rr+4,Fa,Gi),ys(bs,ic,Wo,ci,Na,Rr+4,Fa,Gi)),Sa.La&&(kA(Ia,la,mn,Rr,Fa,Gi),ou(bs,ic,Wo,ci,Na,Rr,Fa,Gi))}}if(ft.ia&&alert("todo:DitherRow"),Ge.put!=null){if(Br=16*Lr,Lr=16*(Lr+1),$n?(Ge.y=ft.sa,Ge.O=ft.ta+br,Ge.f=ft.qa,Ge.N=ft.ra+Aa,Ge.ea=ft.Ha,Ge.W=ft.Ia+Aa):(Br-=ir,Ge.y=Ai,Ge.O=Vi,Ge.f=vn,Ge.N=Zt,Ge.ea=Ei,Ge.W=$i),Vn||(Lr-=ir),Lr>Ge.o&&(Lr=Ge.o),Ge.F=null,Ge.J=null,ft.Fa!=null&&0<ft.Fa.length&&Br<Lr&&(Ge.J=pn(ft,Ge,Br,Lr-Br),Ge.F=ft.mb,Ge.F==null&&Ge.F.length==0)){Cn=nn(ft,3,"Could not decode alpha data.");break t}Br<Ge.j&&(ir=Ge.j-Br,Br=Ge.j,e(!(1&ir)),Ge.O+=ft.R*ir,Ge.N+=ft.B*(ir>>1),Ge.W+=ft.B*(ir>>1),Ge.F!=null&&(Ge.J+=Ge.width*ir)),Br<Lr&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=Br-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=Lr-Br,Cn=Ge.put(Ge))}Ht+1!=ft.Ic||Vn||(n(ft.sa,ft.ta-Qt,Ai,Vi+16*ft.R,Qt),n(ft.qa,ft.ra-$r,vn,Zt+8*ft.B,$r),n(ft.Ha,ft.Ia-$r,Ei,$i+8*ft.B,$r))}if(!Cn)return nn(Jt,6,"Output aborted.")}return 1}(ee,ue)),ue.bc!=null&&ue.bc(ue),ge&=1}return ge?(ee.cb=0,ge):0})(p,E)||(m=p.a)}}else m=p.a}m==0&&j.Oa!=null&&j.Oa.fd&&(m=Yl(j.ba))}j=m}Q=j!=0?null:11>Q?$.f.RGBA.eb:$.f.kb.y}else Q=null;return Q};var Cx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(k,V){for(var T="",O=0;O<4;O++)T+=String.fromCharCode(k[V++]);return T}function c(k,V){return k[V+0]|k[V+1]<<8}function u(k,V){return(k[V+0]|k[V+1]<<8|k[V+2]<<16)>>>0}function h(k,V){return(k[V+0]|k[V+1]<<8|k[V+2]<<16|k[V+3]<<24)>>>0}new A;var d=[0],g=[0],y=[],B=new A,v=t,w=function(k,V){var T={},O=0,K=!1,q=0,ie=0;if(T.frames=[],!function(P,H){for(var z=0;z<4;z++)if(P[H+z]!="RIFF".charCodeAt(z))return!0;return!1}(k,V)){for(h(k,V+=4),V+=8;V<k.length;){var fe=l(k,V),de=h(k,V+=4);V+=4;var te=de+(1&de);switch(fe){case"VP8 ":case"VP8L":T.frames[O]===void 0&&(T.frames[O]={}),(be=T.frames[O]).src_off=K?ie:V-8,be.src_size=q+de+8,O++,K&&(K=!1,q=0,ie=0);break;case"VP8X":(be=T.header={}).feature_flags=k[V];var ce=V+4;be.canvas_width=1+u(k,ce),ce+=3,be.canvas_height=1+u(k,ce),ce+=3;break;case"ALPH":K=!0,q=te+8,ie=V-8;break;case"ANIM":(be=T.header).bgcolor=h(k,V),ce=V+4,be.loop_count=c(k,ce),ce+=2;break;case"ANMF":var Ce,be;(be=T.frames[O]={}).offset_x=2*u(k,V),V+=3,be.offset_y=2*u(k,V),V+=3,be.width=1+u(k,V),V+=3,be.height=1+u(k,V),V+=3,be.duration=u(k,V),V+=3,Ce=k[V++],be.dispose=1&Ce,be.blend=Ce>>1&1}fe!="ANMF"&&(V+=te)}return T}}(v,0);w.response=v,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,_=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,d=[x.canvas_height],g=[x.canvas_width];for(var F=0;F<_.length&&_[F].blend!=0;F++);}var N=_[0],R=B.WebPDecodeRGBA(v,N.src_off,N.src_size,g,d);N.rgba=R,N.imgwidth=g[0],N.imgheight=d[0];for(var D=0;D<g[0]*d[0]*4;D++)y[D]=R[D];return this.width=g,this.height=d,this.data=y,this}(function(t){var e,r,n,i,a,s,o,A,l,c=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new A,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,A=this.internal.Matrix,l=new c}]);var u=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=P;Object.defineProperty(this,"pdf",{get:function(){return H}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Be){z=!!Be}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Be){ne=!!Be}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Be){isNaN(Be)||(oe=Be)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Be){isNaN(Be)||(he=Be)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Be){var G;typeof Be=="number"?G=[Be,Be,Be,Be]:((G=new Array(4))[0]=Be[0],G[1]=Be.length>=2?Be[1]:G[0],G[2]=Be.length>=3?Be[2]:G[0],G[3]=Be.length>=4?Be[3]:G[1]),l.margin=G}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(Be){Ee=Be}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(Be){_e=Be}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(Be){Se=Be}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Be){Be instanceof c&&(l=Be)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Be){l.path=Be}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Be){Pe=Be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Be){var G;G=h(Be),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Be){var G=h(Be);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Be){["butt","round","square"].indexOf(Be)!==-1&&(this.ctx.lineCap=Be,this.pdf.setLineCap(Be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Be){isNaN(Be)||(this.ctx.lineWidth=Be,this.pdf.setLineWidth(Be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Be){["bevel","round","miter"].indexOf(Be)!==-1&&(this.ctx.lineJoin=Be,this.pdf.setLineJoin(Be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Be){isNaN(Be)||(this.ctx.miterLimit=Be,this.pdf.setMiterLimit(Be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Be){this.ctx.textBaseline=Be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Be){["right","end","center","left","start"].indexOf(Be)!==-1&&(this.ctx.textAlign=Be)}});var Qe=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(Be){Qe=null,Ue=Be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Be){var G;if(this.ctx.font=Be,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Be))!==null){var He=G[1];G[2];var tt=G[3],Je=G[4];G[5];var De=G[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(ze==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var $e=function(Ze){var rt,pr,it=[],qe=Ze.trim();if(qe==="")return u2;if(qe in TC)return[TC[qe]];for(;qe!=="";){switch(pr=null,rt=(qe=OC(qe)).charAt(0)){case'"':case"'":pr=$V(qe.substring(1),rt);break;default:pr=GV(qe)}if(pr===null||(it.push(pr[0]),(qe=OC(pr[1]))!==""&&qe.charAt(0)!==","))return u2;qe=qe.replace(/^,/,"")}return it}(De);if(this.fontFaces){var Ct=function(Ze,rt){if(Qe===null){var pr=function(it){var qe=[];return Object.keys(it).forEach(function(mt){it[mt].forEach(function($t){var pt=null;switch($t){case"bold":pt={family:mt,weight:"bold"};break;case"italic":pt={family:mt,style:"italic"};break;case"bolditalic":pt={family:mt,weight:"bold",style:"italic"};break;case"":case"normal":pt={family:mt}}pt!==null&&(pt.ref={name:mt,style:$t},qe.push(pt))})}),qe}(Ze.getFontList());Qe=function(it){for(var qe={},mt=0;mt<it.length;++mt){var $t=c2(it[mt]),pt=$t.family,Gt=$t.stretch,Lt=$t.style,Pr=$t.weight;qe[pt]=qe[pt]||{},qe[pt][Gt]=qe[pt][Gt]||{},qe[pt][Gt][Lt]=qe[pt][Gt][Lt]||{},qe[pt][Gt][Lt][Pr]=$t}return qe}(pr.concat(rt))}return Qe}(this.pdf,this.fontFaces),lt=$e.map(function(Ze){return{family:Ze,stretch:"normal",weight:tt,style:He}}),Vt=function(Ze,rt,pr){for(var it=(pr=pr||{}).defaultFontFamily||"times",qe=Object.assign({},VV,pr.genericFontFamilies||{}),mt=null,$t=null,pt=0;pt<rt.length;++pt)if(qe[(mt=c2(rt[pt])).family]&&(mt.family=qe[mt.family]),Ze.hasOwnProperty(mt.family)){$t=Ze[mt.family];break}if(!($t=$t||Ze[it]))throw new Error("Could not find a font-family for the rule '"+UC(mt)+"' and default family '"+it+"'.");if($t=function(Gt,Lt){if(Lt[Gt])return Lt[Gt];var Pr=cy[Gt],Ur=Pr<=cy.normal?-1:1,yr=NC(Lt,P6,Pr,Ur);if(!yr)throw new Error("Could not find a matching font-stretch value for "+Gt);return yr}(mt.stretch,$t),$t=function(Gt,Lt){if(Lt[Gt])return Lt[Gt];for(var Pr=k6[Gt],Ur=0;Ur<Pr.length;++Ur)if(Lt[Pr[Ur]])return Lt[Pr[Ur]];throw new Error("Could not find a matching font-style for "+Gt)}(mt.style,$t),!($t=function(Gt,Lt){if(Lt[Gt])return Lt[Gt];if(Gt===400&&Lt[500])return Lt[500];if(Gt===500&&Lt[400])return Lt[400];var Pr=KV[Gt],Ur=NC(Lt,D6,Pr,Gt<400?-1:1);if(!Ur)throw new Error("Could not find a matching font-weight for value "+Gt);return Ur}(mt.weight,$t)))throw new Error("Failed to resolve a font for the rule '"+UC(mt)+"'.");return $t}(Ct,lt);this.pdf.setFont(Vt.ref.name,Vt.ref.style)}else{var Et="";(tt==="bold"||parseInt(tt,10)>=700||He==="bold")&&(Et="bold"),He==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var St="",Ar={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},It=0;It<$e.length;It++){if(this.pdf.internal.getFont($e[It],Et,{noFallback:!0,disableWarning:!0})!==void 0){St=$e[It];break}if(Et==="bolditalic"&&this.pdf.internal.getFont($e[It],"bold",{noFallback:!0,disableWarning:!0})!==void 0)St=$e[It],Et="bold";else if(this.pdf.internal.getFont($e[It],"normal",{noFallback:!0,disableWarning:!0})!==void 0){St=$e[It],Et="normal";break}}if(St===""){for(var Ie=0;Ie<$e.length;Ie++)if(Ar[$e[Ie]]){St=Ar[$e[Ie]];break}}St=St===""?"Times":St,this.pdf.setFont(St,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Be){this.ctx.globalCompositeOperation=Be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Be){this.ctx.globalAlpha=Be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Be){this.ctx.lineDashOffset=Be,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Be){this.ctx.lineDash=Be,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Be){this.ctx.ignoreClearRect=!!Be}})};u.prototype.setLineDash=function(P){this.lineDash=P},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){_.call(this,"fill",!1)},u.prototype.stroke=function(){_.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(P,H){if(isNaN(P)||isNaN(H))throw kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(P,H));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(P,H)},u.prototype.closePath=function(){var P=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Er(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){P=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},u.prototype.lineTo=function(P,H){if(isNaN(P)||isNaN(H))throw kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(P,H));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},u.prototype.quadraticCurveTo=function(P,H,z,ne){if(isNaN(z)||isNaN(ne)||isNaN(P)||isNaN(H))throw kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new s(z,ne)),he=this.ctx.transform.applyToPoint(new s(P,H));this.path.push({type:"qct",x1:he.x,y1:he.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},u.prototype.bezierCurveTo=function(P,H,z,ne,oe,he){if(isNaN(oe)||isNaN(he)||isNaN(P)||isNaN(H)||isNaN(z)||isNaN(ne))throw kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new s(oe,he)),_e=this.ctx.transform.applyToPoint(new s(P,H)),Se=this.ctx.transform.applyToPoint(new s(z,ne));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Se.x,y2:Se.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new s(Ee.x,Ee.y)},u.prototype.arc=function(P,H,z,ne,oe,he){if(isNaN(P)||isNaN(H)||isNaN(z)||isNaN(ne)||isNaN(oe))throw kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new s(P,H));P=Ee.x,H=Ee.y;var _e=this.ctx.transform.applyToPoint(new s(0,z)),Se=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(_e.x-Se.x,2)+Math.pow(_e.y-Se.y,2))}Math.abs(oe-ne)>=2*Math.PI&&(ne=0,oe=2*Math.PI),this.path.push({type:"arc",x:P,y:H,radius:z,startAngle:ne,endAngle:oe,counterclockwise:he})},u.prototype.arcTo=function(P,H,z,ne,oe){throw new Error("arcTo not implemented.")},u.prototype.rect=function(P,H,z,ne){if(isNaN(P)||isNaN(H)||isNaN(z)||isNaN(ne))throw kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,H),this.lineTo(P+z,H),this.lineTo(P+z,H+ne),this.lineTo(P,H+ne),this.lineTo(P,H),this.lineTo(P+z,H),this.lineTo(P,H)},u.prototype.fillRect=function(P,H,z,ne){if(isNaN(P)||isNaN(H)||isNaN(z)||isNaN(ne))throw kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,H,z,ne),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},u.prototype.strokeRect=function(P,H,z,ne){if(isNaN(P)||isNaN(H)||isNaN(z)||isNaN(ne))throw kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(P,H,z,ne),this.stroke())},u.prototype.clearRect=function(P,H,z,ne){if(isNaN(P)||isNaN(H)||isNaN(z)||isNaN(ne))throw kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,H,z,ne))},u.prototype.save=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},u.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(H),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(P){var H,z,ne,oe;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))H=0,z=0,ne=0,oe=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(he!==null)H=parseInt(he[1]),z=parseInt(he[2]),ne=parseInt(he[3]),oe=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)H=parseInt(he[1]),z=parseInt(he[2]),ne=parseInt(he[3]),oe=parseFloat(he[4]);else{if(oe=1,typeof P=="string"&&P.charAt(0)!=="#"){var Ee=new I6(P);P=Ee.ok?Ee.toHex():"#000000"}P.length===4?(H=P.substring(1,2),H+=H,z=P.substring(2,3),z+=z,ne=P.substring(3,4),ne+=ne):(H=P.substring(1,3),z=P.substring(3,5),ne=P.substring(5,7)),H=parseInt(H,16),z=parseInt(z,16),ne=parseInt(ne,16)}}return{r:H,g:z,b:ne,a:oe,style:P}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(P,H,z,ne){if(isNaN(H)||isNaN(z)||typeof P!="string")throw kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!d.call(this)){var oe=te(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;O.call(this,{text:P,x:H,y:z,scale:he,angle:oe,align:this.textAlign,maxWidth:ne})}},u.prototype.strokeText=function(P,H,z,ne){if(isNaN(H)||isNaN(z)||typeof P!="string")throw kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ne=isNaN(ne)?void 0:ne;var oe=te(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;O.call(this,{text:P,x:H,y:z,scale:he,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ne})}},u.prototype.measureText=function(P){if(typeof P!="string")throw kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,z=this.pdf.internal.scaleFactor,ne=H.internal.getFontSize(),oe=H.getStringUnitWidth(P)*ne/H.internal.scaleFactor;return new function(he){var Ee=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:oe*=Math.round(96*z/72*1e4)/1e4})},u.prototype.scale=function(P,H){if(isNaN(P)||isNaN(H))throw kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new A(P,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},u.prototype.rotate=function(P){if(isNaN(P))throw kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new A(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.translate=function(P,H){if(isNaN(P)||isNaN(H))throw kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new A(1,0,0,1,P,H);this.ctx.transform=this.ctx.transform.multiply(z)},u.prototype.transform=function(P,H,z,ne,oe,he){if(isNaN(P)||isNaN(H)||isNaN(z)||isNaN(ne)||isNaN(oe)||isNaN(he))throw kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new A(P,H,z,ne,oe,he);this.ctx.transform=this.ctx.transform.multiply(Ee)},u.prototype.setTransform=function(P,H,z,ne,oe,he){P=isNaN(P)?1:P,H=isNaN(H)?0:H,z=isNaN(z)?0:z,ne=isNaN(ne)?1:ne,oe=isNaN(oe)?0:oe,he=isNaN(he)?0:he,this.ctx.transform=new A(P,H,z,ne,oe,he)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(P,H,z,ne,oe,he,Ee,_e,Se){var Pe=this.pdf.getImageProperties(P),Qe=1,Ue=1,Be=1,G=1;ne!==void 0&&_e!==void 0&&(Be=_e/ne,G=Se/oe,Qe=Pe.width/ne*_e/ne,Ue=Pe.height/oe*Se/oe),he===void 0&&(he=H,Ee=z,H=0,z=0),ne!==void 0&&_e===void 0&&(_e=ne,Se=oe),ne===void 0&&_e===void 0&&(_e=Pe.width,Se=Pe.height);for(var He,tt=this.ctx.transform.decompose(),Je=te(tt.rotate.shx),De=new A,ze=(De=(De=(De=De.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new o(he-H*Be,Ee-z*G,ne*Qe,oe*Ue)),$e=B.call(this,ze),Ct=[],lt=0;lt<$e.length;lt+=1)Ct.indexOf($e[lt])===-1&&Ct.push($e[lt]);if(x(Ct),this.autoPaging)for(var Vt=Ct[0],Et=Ct[Ct.length-1],St=Vt;St<Et+1;St++){this.pdf.setPage(St);var Ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=St===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=St===1?0:Ie+(St-2)*Ze;if(this.ctx.clip_path.length!==0){var pr=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(He,this.posX+this.margin[3],-rt+It+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=pr}var it=JSON.parse(JSON.stringify(ze));it=w([it],this.posX+this.margin[3],-rt+It+this.ctx.prevPageLastElemOffset)[0];var qe=(St>Vt||St<Et)&&y.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ar,Ze,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",it.x,it.y,it.w,it.h,null,null,Je),qe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Je)};var B=function(P,H,z){var ne=[];H=H||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ne.push(Math.floor((P.y+oe)/z)+1);break;case"arc":ne.push(Math.floor((P.y+oe-P.radius)/z)+1),ne.push(Math.floor((P.y+oe+P.radius)/z)+1);break;case"qct":var he=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ne.push(Math.floor((he.y+oe)/z)+1),ne.push(Math.floor((he.y+he.h+oe)/z)+1);break;case"bct":var Ee=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ne.push(Math.floor((Ee.y+oe)/z)+1),ne.push(Math.floor((Ee.y+Ee.h+oe)/z)+1);break;case"rect":ne.push(Math.floor((P.y+oe)/z)+1),ne.push(Math.floor((P.y+P.h+oe)/z)+1)}for(var _e=0;_e<ne.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<ne[_e];)v.call(this);return ne},v=function(){var P=this.fillStyle,H=this.strokeStyle,z=this.font,ne=this.lineCap,oe=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=H,this.font=z,this.lineCap=ne,this.lineWidth=oe,this.lineJoin=he},w=function(P,H,z){for(var ne=0;ne<P.length;ne++)switch(P[ne].type){case"bct":P[ne].x2+=H,P[ne].y2+=z;case"qct":P[ne].x1+=H,P[ne].y1+=z;default:P[ne].x+=H,P[ne].y+=z}return P},x=function(P){return P.sort(function(H,z){return H-z})},_=function(P,H){for(var z,ne,oe=this.fillStyle,he=this.strokeStyle,Ee=this.lineCap,_e=this.lineWidth,Se=Math.abs(_e*this.ctx.transform.scaleX),Pe=this.lineJoin,Qe=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),Be=[],G=0;G<Ue.length;G++)if(Ue[G].x!==void 0)for(var He=B.call(this,Ue[G]),tt=0;tt<He.length;tt+=1)Be.indexOf(He[tt])===-1&&Be.push(He[tt]);for(var Je=0;Je<Be.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Be[Je];)v.call(this);if(x(Be),this.autoPaging)for(var De=Be[0],ze=Be[Be.length-1],$e=De;$e<ze+1;$e++){this.pdf.setPage($e),this.fillStyle=oe,this.strokeStyle=he,this.lineCap=Ee,this.lineWidth=Se,this.lineJoin=Pe;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=$e===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=$e===1?0:Vt+($e-2)*Et;if(this.ctx.clip_path.length!==0){var Ar=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(z,this.posX+this.margin[3],-St+lt+this.ctx.prevPageLastElemOffset),F.call(this,P,!0),this.path=Ar}if(ne=JSON.parse(JSON.stringify(Qe)),this.path=w(ne,this.posX+this.margin[3],-St+lt+this.ctx.prevPageLastElemOffset),H===!1||$e===0){var It=($e>De||$e<ze)&&y.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Et,null).clip().discardPath()),F.call(this,P,H),It&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=Se,F.call(this,P,H),this.lineWidth=_e;this.path=Qe},F=function(P,H){if((P!=="stroke"||H||!g.call(this))&&(P==="stroke"||H||!d.call(this))){for(var z,ne,oe=[],he=this.path,Ee=0;Ee<he.length;Ee++){var _e=he[Ee];switch(_e.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:_e,deltas:[],abs:[]});break;case"lt":var Se=oe.length;if(he[Ee-1]&&!isNaN(he[Ee-1].x)&&(z=[_e.x-he[Ee-1].x,_e.y-he[Ee-1].y],Se>0)){for(;Se>=0;Se--)if(oe[Se-1].close!==!0&&oe[Se-1].begin!==!0){oe[Se-1].deltas.push(z),oe[Se-1].abs.push(_e);break}}break;case"bct":z=[_e.x1-he[Ee-1].x,_e.y1-he[Ee-1].y,_e.x2-he[Ee-1].x,_e.y2-he[Ee-1].y,_e.x-he[Ee-1].x,_e.y-he[Ee-1].y],oe[oe.length-1].deltas.push(z);break;case"qct":var Pe=he[Ee-1].x+2/3*(_e.x1-he[Ee-1].x),Qe=he[Ee-1].y+2/3*(_e.y1-he[Ee-1].y),Ue=_e.x+2/3*(_e.x1-_e.x),Be=_e.y+2/3*(_e.y1-_e.y),G=_e.x,He=_e.y;z=[Pe-he[Ee-1].x,Qe-he[Ee-1].y,Ue-he[Ee-1].x,Be-he[Ee-1].y,G-he[Ee-1].x,He-he[Ee-1].y],oe[oe.length-1].deltas.push(z);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(_e)}}ne=H?null:P==="stroke"?"stroke":"fill";for(var tt=!1,Je=0;Je<oe.length;Je++)if(oe[Je].arc)for(var De=oe[Je].abs,ze=0;ze<De.length;ze++){var $e=De[ze];$e.type==="arc"?D.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,H,!tt):K.call(this,$e.x,$e.y),tt=!0}else if(oe[Je].close===!0)this.pdf.internal.out("h"),tt=!1;else if(oe[Je].begin!==!0){var Ct=oe[Je].start.x,lt=oe[Je].start.y;q.call(this,oe[Je].deltas,Ct,lt),tt=!0}ne&&k.call(this,ne),H&&V.call(this)}},N=function(P){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-z;case"top":return P+H-z;case"hanging":return P+H-2*z;case"middle":return P+H/2-z;default:return P}},R=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(H,z){this.colorStops.push([H,z])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(P,H,z,ne,oe,he,Ee,_e,Se){for(var Pe=fe.call(this,z,ne,oe,he),Qe=0;Qe<Pe.length;Qe++){var Ue=Pe[Qe];Qe===0&&(Se?T.call(this,Ue.x1+P,Ue.y1+H):K.call(this,Ue.x1+P,Ue.y1+H)),ie.call(this,P,H,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}_e?V.call(this):k.call(this,Ee)},k=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(P,H){this.pdf.internal.out(r(P)+" "+n(H)+" m")},O=function(P){var H;switch(P.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var z=this.pdf.getTextDimensions(P.text),ne=N.call(this,P.y),oe=R.call(this,ne)-z.h,he=this.ctx.transform.applyToPoint(new s(P.x,ne)),Ee=this.ctx.transform.decompose(),_e=new A;_e=(_e=(_e=_e.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Se,Pe,Qe,Ue=this.ctx.transform.applyToRectangle(new o(P.x,ne,z.w,z.h)),Be=_e.applyToRectangle(new o(P.x,oe,z.w,z.h)),G=B.call(this,Be),He=[],tt=0;tt<G.length;tt+=1)He.indexOf(G[tt])===-1&&He.push(G[tt]);if(x(He),this.autoPaging)for(var Je=He[0],De=He[He.length-1],ze=Je;ze<De+1;ze++){this.pdf.setPage(ze);var $e=ze===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[2],Vt=lt-this.margin[0],Et=this.pdf.internal.pageSize.width-this.margin[1],St=Et-this.margin[3],Ar=ze===1?0:Ct+(ze-2)*Vt;if(this.ctx.clip_path.length!==0){var It=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Se,this.posX+this.margin[3],-1*Ar+$e),F.call(this,"fill",!0),this.path=It}var Ie=w([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Ar+$e+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*P.scale),Qe=this.lineWidth,this.lineWidth=Qe*P.scale);var Ze=this.autoPaging!=="text";if(Ze||Ie.y+Ie.h<=lt){if(Ze||Ie.y>=$e&&Ie.x<=Et){var rt=Ze?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Et-Ie.x)[0],pr=w([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Ar+$e+this.ctx.prevPageLastElemOffset)[0],it=Ze&&(ze>Je||ze<De)&&y.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Vt,null).clip().discardPath()),this.pdf.text(rt,pr.x,pr.y,{angle:P.angle,align:H,renderingMode:P.renderingMode}),it&&this.pdf.restoreGraphicsState()}}else Ie.y<lt&&(this.ctx.prevPageLastElemOffset+=lt-Ie.y);P.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Qe)}else P.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*P.scale),Qe=this.lineWidth,this.lineWidth=Qe*P.scale),this.pdf.text(P.text,he.x+this.posX,he.y+this.posY,{angle:P.angle,align:H,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Qe)},K=function(P,H,z,ne){z=z||0,ne=ne||0,this.pdf.internal.out(r(P+z)+" "+n(H+ne)+" l")},q=function(P,H,z){return this.pdf.lines(P,H,z,null,null)},ie=function(P,H,z,ne,oe,he,Ee,_e){this.pdf.internal.out([e(i(z+P)),e(a(ne+H)),e(i(oe+P)),e(a(he+H)),e(i(Ee+P)),e(a(_e+H)),"c"].join(" "))},fe=function(P,H,z,ne){for(var oe=2*Math.PI,he=Math.PI/2;H>z;)H-=oe;var Ee=Math.abs(z-H);Ee<oe&&ne&&(Ee=oe-Ee);for(var _e=[],Se=ne?-1:1,Pe=H;Ee>1e-5;){var Qe=Pe+Se*Math.min(Ee,he);_e.push(de.call(this,P,Pe,Qe)),Ee-=Math.abs(Qe-Pe),Pe=Qe}return _e},de=function(P,H,z){var ne=(z-H)/2,oe=P*Math.cos(ne),he=P*Math.sin(ne),Ee=oe,_e=-he,Se=Ee*Ee+_e*_e,Pe=Se+Ee*oe+_e*he,Qe=4/3*(Math.sqrt(2*Se*Pe)-Pe)/(Ee*he-_e*oe),Ue=Ee-Qe*_e,Be=_e+Qe*Ee,G=Ue,He=-Be,tt=ne+H,Je=Math.cos(tt),De=Math.sin(tt);return{x1:P*Math.cos(H),y1:P*Math.sin(H),x2:Ue*Je-Be*De,y2:Ue*De+Be*Je,x3:G*Je-He*De,y3:G*De+He*Je,x4:P*Math.cos(z),y4:P*Math.sin(z)}},te=function(P){return 180*P/Math.PI},ce=function(P,H,z,ne,oe,he){var Ee=P+.5*(z-P),_e=H+.5*(ne-H),Se=oe+.5*(z-oe),Pe=he+.5*(ne-he),Qe=Math.min(P,oe,Ee,Se),Ue=Math.max(P,oe,Ee,Se),Be=Math.min(H,he,_e,Pe),G=Math.max(H,he,_e,Pe);return new o(Qe,Be,Ue-Qe,G-Be)},Ce=function(P,H,z,ne,oe,he,Ee,_e){var Se,Pe,Qe,Ue,Be,G,He,tt,Je,De,ze,$e,Ct,lt,Vt=z-P,Et=ne-H,St=oe-z,Ar=he-ne,It=Ee-oe,Ie=_e-he;for(Pe=0;Pe<41;Pe++)Je=(He=(Qe=P+(Se=Pe/40)*Vt)+Se*((Be=z+Se*St)-Qe))+Se*(Be+Se*(oe+Se*It-Be)-He),De=(tt=(Ue=H+Se*Et)+Se*((G=ne+Se*Ar)-Ue))+Se*(G+Se*(he+Se*Ie-G)-tt),Pe==0?(ze=Je,$e=De,Ct=Je,lt=De):(ze=Math.min(ze,Je),$e=Math.min($e,De),Ct=Math.max(Ct,Je),lt=Math.max(lt,De));return new o(Math.round(ze),Math.round($e),Math.round(Ct-ze),Math.round(lt-$e))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,H,z=(P=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:H}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(yt.API),function(t){var e=function(s){var o,A,l,c,u,h,d,g,y,B;for(A=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(B=u%85))/85)-(y=u%85))/85)-(g=u%85))/85)-(d=u%85))/85)%85,A.push(h+33,d+33,g+33,y+33,B+33)):A.push(122);return function(v,w){for(var x=w;x>0;x--)v.pop()}(A,o.length),String.fromCharCode.apply(String,A)+"~>"},r=function(s){var o,A,l,c,u,h=String,d="length",g=255,y="charCodeAt",B="slice",v="replace";for(s[B](-2),s=s[B](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[B](s[d]%5||5))[d];u>c;c+=5)A=52200625*(s[y](c)-33)+614125*(s[y](c+1)-33)+7225*(s[y](c+2)-33)+85*(s[y](c+3)-33)+(s[y](c+4)-33),l.push(g&A>>24,g&A>>16,g&A>>8,g&A);return function(w,x){for(var _=x;_>0;_--)w.pop()}(l,o[d]),h.fromCharCode.apply(h,l)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var A="",l=0;l<s.length;l+=2)A+=String.fromCharCode("0x"+(s[l]+s[l+1]));return A},a=function(s){for(var o=new Uint8Array(s.length),A=s.length;A--;)o[A]=s.charCodeAt(A);return(o=ny(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var A=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),A=0;A<o.length;A+=1)switch(o[A]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(yt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(A,l,c){var u=new XMLHttpRequest,h=0,d=function(g){var y=g.length,B=[],v=String.fromCharCode;for(h=0;h<y;h+=1)B.push(v(255&g.charCodeAt(h)));return B.join("")};if(u.open("GET",A,!l),u.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(u.onload=function(){u.status===200?c(d(this.responseText)):c(void 0)}),u.send(null),l&&u.status===200)return d(u.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(yt.API),function(t){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):lA(()=>Promise.resolve().then(()=>BH),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):lA(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var A=Er(o);return A==="undefined"?"undefined":A==="string"||o instanceof String?"string":A==="number"||o instanceof Number?"number":A==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":A==="object"?"object":"unknown"},i=function(o,A){var l=document.createElement(o);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},a=function o(A,l){for(var c=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),u=A.firstChild;u;u=u.nextSibling)l!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||c.appendChild(o(u,l));return A.nodeType===1&&(A.nodeName==="CANVAS"?(c.width=A.width,c.height=A.height,c.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(c.value=A.value),c.addEventListener("load",function(){c.scrollTop=A.scrollTop,c.scrollLeft=A.scrollLeft},!0)),c},s=function o(A){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(A)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,A){return o.__proto__=A||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,A){return this.then(function(){switch(A=A||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),A){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var g=c[d],y=g.src.find(function(B){return B.format==="truetype"});y&&l.addFont(y.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),A(this.prop.container,h)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,A):this.outputPdf(o,A)},s.prototype.outputPdf=function(o,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,A)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var A=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(A)})},s.prototype.get=function(o,A){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return A?A(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:A(o.inner.width,o.k),height:A(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,A,l,c){return o!=null&&(this.progress.val=o),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,A,l,c){return this.setProgress(o?this.progress.val+o:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,A){var l=this;return this.thenCore(o,A,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,A,l){l=l||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),A&&(A=A.bind(c));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:s.convert(Object.assign({},c),Promise.prototype),h=l.call(u,o,A);return s.convert(h,c.__proto__)},s.prototype.thenExternal=function(o,A){return Promise.prototype.then.call(this,o,A)},s.prototype.thenList=function(o){var A=this;return o.forEach(function(l){A=A.thenCore(l)}),A},s.prototype.catch=function(o){o&&(o=o.bind(this));var A=Promise.prototype.catch.call(this,o);return s.convert(A,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,yt.getPageSize=function(o,A,l){if(Er(o)==="object"){var c=o;o=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+A}var g,y=0,B=0;if(d.hasOwnProperty(h))y=d[h][1]/u,B=d[h][0]/u;else try{y=l[1],B=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",B>y&&(g=B,B=y,y=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>B&&(g=B,B=y,y=g)}return{width:B,height:y,unit:A,k:u,orientation:o}},t.html=function(o,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(c2):null;var l=new s(A);return A.worker?l:l.from(o).doCallback()}}(yt.API),yt.API.addJS=function(t){return kC=t,this.internal.events.subscribe("postPutResources",function(){a1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(a1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),LC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){a1!==void 0&&LC!==void 0&&this.internal.out("/Names <</JavaScript "+a1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var A=o[1];r.internal.newObjectDeferredBegin(A,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var u=r.internal.newObject();c.push(u);var h=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<c.length;a++)r.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var A=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(yt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var A,l=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,A=function(u){for(var h,d=256*u.charCodeAt(4)+u.charCodeAt(5),g=u.length,y={width:0,height:0,numcomponents:1},B=4;B<g;B+=2){if(B+=d,e.indexOf(u.charCodeAt(B+1))!==-1){h=256*u.charCodeAt(B+5)+u.charCodeAt(B+6),y={width:256*u.charCodeAt(B+7)+u.charCodeAt(B+8),height:h,numcomponents:u.charCodeAt(B+9)};break}d=256*u.charCodeAt(B+2)+u.charCodeAt(B+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),A.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:A.width,height:A.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:i}}return c}}(yt.API),yt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=FV(t,{checkCrc:!0}),s=a.width,o=a.height,A=a.channels,l=a.palette,c=a.depth;i=l&&A===1?function(D){for(var k=D.width,V=D.height,T=D.data,O=D.palette,K=D.depth,q=!1,ie=[],fe=[],de=void 0,te=!1,ce=0,Ce=0;Ce<O.length;Ce++){var be=QB(O[Ce],4),P=be[0],H=be[1],z=be[2],ne=be[3];ie.push(P,H,z),ne!=null&&(ne===0?(ce++,fe.length<1&&fe.push(Ce)):ne<255&&(te=!0))}if(te||ce>1){q=!0,fe=void 0;var oe=k*V;de=new Uint8Array(oe);for(var he=new DataView(T.buffer),Ee=0;Ee<oe;Ee++){var _e=f2(he,Ee,K),Se=QB(O[_e],4)[3];de[Ee]=Se}}else ce===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:T,alphaBytes:de,needSMask:q,palette:ie,mask:fe}}(a):A===2||A===4?function(D){for(var k=D.data,V=D.width,T=D.height,O=D.channels,K=D.depth,q=O===2?"DeviceGray":"DeviceRGB",ie=O-1,fe=V*T,de=ie,te=fe*de,ce=1*fe,Ce=Math.ceil(te*K/8),be=Math.ceil(ce*K/8),P=new Uint8Array(Ce),H=new Uint8Array(be),z=new DataView(k.buffer),ne=new DataView(P.buffer),oe=new DataView(H.buffer),he=!1,Ee=0;Ee<fe;Ee++){for(var _e=Ee*O,Se=0;Se<de;Se++)VC(ne,f2(z,_e+Se,K),Ee*de+Se,K);var Pe=f2(z,_e+de,K);Pe<(1<<K)-1&&(he=!0),VC(oe,Pe,1*Ee,K)}return{colorSpace:q,colorsPerPixel:ie,sMaskBitsPerComponent:he?K:void 0,colorBytes:P,alphaBytes:H,needSMask:he}}(a):function(D){var k=D.data,V=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(T){for(var O=T.length,K=new Uint8Array(2*O),q=new DataView(K.buffer,K.byteOffset,K.byteLength),ie=0;ie<O;ie++)q.setUint16(2*ie,T[ie],!1);return K}(k):k,needSMask:!1}}(a);var u,h,d,g=i,y=g.colorSpace,B=g.colorsPerPixel,v=g.sMaskBitsPerComponent,w=g.colorBytes,x=g.alphaBytes,_=g.needSMask,F=g.palette,N=g.mask,R=null;return n!==yt.API.image_compression.NONE&&typeof ny=="function"?(R=function(D){var k;switch(D){case yt.API.image_compression.FAST:k=11;break;case yt.API.image_compression.MEDIUM:k=13;break;case yt.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(R," /Colors ").concat(B," /BitsPerComponent ").concat(c," /Columns ").concat(s),t=QC(w,Math.ceil(s*B*c/8),B,c,n),_&&(d=QC(x,Math.ceil(s*v/8),1,v,n))):(u=void 0,h=void 0,t=w,_&&(d=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:t,index:e,filter:u,decodeParameters:h,transparency:N,palette:F,sMask:d,predictor:R,width:s,height:o,bitsPerComponent:c,sMaskBitsPerComponent:v,colorSpace:y}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new XV(e),s=a.width,o=a.height,A=[];a.decodeAndBlitFrameRGBA(0,A);var l={data:A,width:s,height:o},c=new d2(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(yt.API),Cs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Cs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){kr.log("bit decode error:"+r)}},Cs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var A=this.palette[a>>7-o&1];this.data[s+4*o]=A.blue,this.data[s+4*o+1]=A.green,this.data[s+4*o+2]=A.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Cs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,A=15&a,l=this.palette[o];if(this.data[s]=l.blue,this.data[s+1]=l.green,this.data[s+2]=l.red,this.data[s+3]=255,2*i+1>=this.width)break;l=this.palette[A],this.data[s+4]=l.blue,this.data[s+4+1]=l.green,this.data[s+4+2]=l.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Cs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Cs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,A=(a>>10&e)/e*255|0,l=a>>15?255:0,c=n*this.width*4+4*i;this.data[c]=A,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=l}this.pos+=t}},Cs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,A=(s>>5&r)/r*255|0,l=(s>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=l,this.data[c+1]=A,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},Cs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Cs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Cs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new Cs(e,!1),s=a.width,o=a.height,A={data:a.getData(),width:s,height:o},l=new d2(100).encode(A,100);return t.processJPEG.call(this,l,r,n,i)}}(yt.API),GC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new GC(e),s=a.width,o=a.height,A={data:a.getData(),width:s,height:o},l=new d2(100).encode(A,100);return t.processJPEG.call(this,l,r,n,i)}}(yt.API),yt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,A=0,l=0;l<i;l+=4){var c=n[l],u=n[l+1],h=n[l+2],d=n[l+3];a[o++]=c,a[o++]=u,a[o++]=h,s[A++]=d}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Eu=yt.API,s1=Eu.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,A=o.fof?o.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=l.fof?l.fof:1,u=e.doKerning!==!1,h=0,d=t.length,g=0,y=o[0]||A,B=[];for(r=0;r<d;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?B.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(h=u&&Er(l[n])==="object"&&!isNaN(parseInt(l[n][g],10))?l[n][g]/c:0,B.push((o[n]||y)/A+h)),g=n;return B},PC=Eu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Eu.processArabic&&(t=Eu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:s1.apply(this,arguments).reduce(function(a,s){return a+s},0)},DC=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var A=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(A,a)),o=0,A=a),o+=e[a],a++;return A!==a&&i.push(t.slice(A,a)),i},RC=function(t,e,r){r||(r={});var n,i,a,s,o,A,l,c=[],u=[c],h=r.textIndent||0,d=0,g=0,y=t.split(" "),B=s1.apply(this,[" ",r])[0];if(A=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var v=Array(A).join(" "),w=[];y.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(F,N){return(N&&F.length?`
`:"")+F})):w.push(_[0])}),y=w,A=PC.apply(this,[v,r])}for(a=0,s=y.length;a<s;a++){var x=0;if(n=y[a],A&&n[0]==`
`&&(n=n.substr(1),x=1),h+d+(g=(i=s1.apply(this,[n,r])).reduce(function(_,F){return _+F},0))>e||x){if(g>e){for(o=DC.apply(this,[n,i,e-(h+d),e]),c.push(o.shift()),c=[o.pop()];o.length;)u.push([o.shift()]);g=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(_,F){return _+F},0)}else c=[n];u.push(c),h=g+A,d=B}else c.push(n),h+=d+g,d=B}return l=A?function(_,F){return(F?v:"")+_.join(" ")}:function(_){return _.join(" ")},u.map(l)},Eu.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle),h="Unicode";return u.metadata[h]?{widths:u.metadata[h].widths||{0:1},kerning:u.metadata[h].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,A,l=[];for(o=0,A=n.length;o<A;o++)l=l.concat(RC.apply(this,[n[o],s,a]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var d,g,y,B,v=["{"];for(var w in h){if(d=h[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=s(w).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof d=="number")d<0?(y=s(d).slice(3),B="-"):(y=s(d).slice(2),B=""),y=B+y.slice(0,-1)+i[y.slice(-1)];else{if(Er(d)!=="object")throw new Error("Don't know what to do with value type "+Er(d)+".");y=o(d)}v.push(g+y)}return v.push("}"),v.join("")},A=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,g,y,B,v={},w=1,x=v,_=[],F="",N="",R=h.length-1,D=1;D<R;D+=1)(B=h[D])=="'"?d?(y=d.join(""),d=void 0):d=[]:d?d.push(B):B=="{"?(_.push([x,y]),x={},y=void 0):B=="}"?((g=_.pop())[0][g[1]]=x,y=void 0,x=g[0]):B=="-"?w=-1:y===void 0?n.hasOwnProperty(B)?(F+=n[B],y=parseInt(F,16)*w,w=1,F=""):F+=B:n.hasOwnProperty(B)?(N+=n[B],x[y]=parseInt(N,16)*w,w=1,y=void 0,N=""):N+=B;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var d=h.font,g=u.Unicode[d.postScriptName];g&&(d.metadata.Unicode={},d.metadata.Unicode.widths=g.widths,d.metadata.Unicode.kerning=g.kerning);var y=c.Unicode[d.postScriptName];y&&(d.metadata.Unicode.encoding=y,d.encoding=y.codePages[0])}])}(yt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(U1(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(yt),yt.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=n,A.height=i;var l=A.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,A.width,A.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(Ut.canvg?Promise.resolve(Ut.canvg):lA(()=>import("./index.es-KmI8x1m7.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(l,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(c)}).then(function(){u.addImage(A.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},yt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},yt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),A=[],l=0,c=0,u=0;function h(g,y){var B,v=!1;for(B=0;B<g.length;B+=1)g[B]===y&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=o.length;for(u=0;u<d;u+=1)r[o[u]].value=r[o[u]].defaultValue,r[o[u]].explicitSet=!1}if(Er(t)==="object"){for(i in t)if(a=t[i],h(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&h(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(l=0;l<a.length;l+=1)if(n=!0,a[l].length===1&&typeof a[l][0]=="number")A.push(String(a[l]-1));else if(a[l].length>1){for(c=0;c<a[l].length;c+=1)typeof a[l][c]!="number"&&(n=!1);n===!0&&A.push([a[l][0]-1,a[l][1]-1].join(" "))}r[i].value="["+A.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?y.push("/"+g+" /"+r[g].value):y.push("/"+g+" "+r[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),l=a.length+s.length+o.length+i.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+A),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(yt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,A=s.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],u=0,h=a.length;u<h;++u){if(o=s.metadata.characterToGlyph(a.charCodeAt(u)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(u),A.indexOf(o)==-1&&(A.push(o),A.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(l[4-o.length],o)}return c.join("")},n=function(a){var s,o,A,l,c,u,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],u=0,h=(o=Object.keys(a).sort(function(d,g){return d-g})).length;u<h;u++)s=o[u],A.length>=100&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(l=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),A.push("<"+s+"><"+l+">"));return A.length&&(c+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,A=s.out,l=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var u=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",g=0;g<h.length;g++)d+=String.fromCharCode(h[g]);var y=l();c({data:d,addLength1:!0,objectId:y}),A("endobj");var B=l();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:B}),A("endobj");var v=l();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Ou(o.fontName)),A("/FontFile2 "+y+" 0 R"),A("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),A("/Flags "+o.metadata.flags),A("/StemV "+o.metadata.stemV),A("/ItalicAngle "+o.metadata.italicAngle),A("/Ascent "+o.metadata.ascender),A("/Descent "+o.metadata.decender),A("/CapHeight "+o.metadata.capHeight),A(">>"),A("endobj");var w=l();A("<<"),A("/Type /Font"),A("/BaseFont /"+Ou(o.fontName)),A("/FontDescriptor "+v+" 0 R"),A("/W "+t.API.PDFObject.convert(u)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+o.encoding+")"),A(">>"),A(">>"),A("endobj"),o.objectNumber=l(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+B+" 0 R"),A("/BaseFont /"+Ou(o.fontName)),A("/Encoding /"+o.encoding),A("/DescendantFonts ["+w+" 0 R]"),A(">>"),A("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,A=s.out,l=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var u=o.metadata.rawData,h="",d=0;d<u.length;d++)h+=String.fromCharCode(u[d]);var g=l();c({data:h,addLength1:!0,objectId:g}),A("endobj");var y=l();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),A("endobj");var B=l();A("<<"),A("/Descent "+o.metadata.decender),A("/CapHeight "+o.metadata.capHeight),A("/StemV "+o.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+g+" 0 R"),A("/Flags 96"),A("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),A("/FontName /"+Ou(o.fontName)),A("/ItalicAngle "+o.metadata.italicAngle),A("/Ascent "+o.metadata.ascender),A(">>"),A("endobj"),o.objectNumber=l();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Ou(o.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),A("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",A=a.x,l=a.y,c=a.options||{},u=a.mutex||{},h=u.pdfEscape,d=u.activeFontKey,g=u.fonts,y=d,B="",v=0,w="",x=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:A,y:l,options:c,mutex:u};for(w=o,y=d,Array.isArray(o)&&(w=o[0]),v=0;v<w.length;v+=1)g[y].metadata.hasOwnProperty("cmap")&&(s=g[y].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),s||w[v].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?B+=w[v]:B+="";var _="";return parseInt(y.slice(1))<14||x==="WinAnsiEncoding"?_=h(B,y).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(_=r(B,g[y])),u.isHex=!0,{text:_,x:A,y:l,options:c,mutex:u}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],A={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var l=0;for(l=0;l<s.length;l+=1)Array.isArray(s[l])&&s[l].length===3?o.push([i(Object.assign({},A,{text:s[l][0]})).text,s[l][1],s[l][2]]):o.push(i(Object.assign({},A,{text:s[l]})).text);a.text=o}else a.text=i(Object.assign({},A,{text:s})).text}])}(yt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(yt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,A,l,c,u=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,x=0;this.__bidiEngine__={};var _=function(T){var O=T.charCodeAt(),K=O>>8,q=y[K];return q!==void 0?u[256*q+(255&O)]:K===252||K===253?"AL":v.test(K)?"L":K===8?"R":"N"},F=function(T){for(var O,K=0;K<T.length;K++){if((O=_(T.charAt(K)))==="L")return!1;if(O==="R")return!0}return!1},N=function(T,O,K,q){var ie,fe,de,te,ce=O[q];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ce="AN");break;case"AL":w=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":q<1||q+1>=O.length||(ie=K[q-1])!=="EN"&&ie!=="AN"||(fe=O[q+1])!=="EN"&&fe!=="AN"?ce="N":w&&(fe="AN"),ce=fe===ie?fe:"N";break;case"ES":ce=(ie=q>0?K[q-1]:"B")==="EN"&&q+1<O.length&&O[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&K[q-1]==="EN"){ce="EN";break}if(w){ce="N";break}for(de=q+1,te=O.length;de<te&&O[de]==="ET";)de++;ce=de<te&&O[de]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(te=O.length,de=q+1;de<te&&O[de]==="NSM";)de++;if(de<te){var Ce=T[q],be=Ce>=1425&&Ce<=2303||Ce===64286;if(ie=O[de],be&&(ie==="R"||ie==="AL")){ce="R";break}}}ce=q<1||(ie=O[q-1])==="B"?"N":K[q-1];break;case"B":w=!1,i=!0,ce=x;break;case"S":a=!0,ce="N"}return ce},R=function(T,O,K){var q=T.split("");return K&&D(q,K,{hiLevel:x}),q.reverse(),O&&O.reverse(),q.join("")},D=function(T,O,K){var q,ie,fe,de,te,ce=-1,Ce=T.length,be=0,P=[],H=x?d:h,z=[];for(w=!1,i=!1,a=!1,ie=0;ie<Ce;ie++)z[ie]=_(T[ie]);for(fe=0;fe<Ce;fe++){if(te=be,P[fe]=N(T,z,P,fe),q=240&(be=H[te][g[P[fe]]]),be&=15,O[fe]=de=H[be][5],q>0)if(q===16){for(ie=ce;ie<fe;ie++)O[ie]=1;ce=-1}else ce=-1;if(H[be][6])ce===-1&&(ce=fe);else if(ce>-1){for(ie=ce;ie<fe;ie++)O[ie]=de;ce=-1}z[fe]==="B"&&(O[fe]=0),K.hiLevel|=de}a&&function(ne,oe,he){for(var Ee=0;Ee<he;Ee++)if(ne[Ee]==="S"){oe[Ee]=x;for(var _e=Ee-1;_e>=0&&ne[_e]==="WS";_e--)oe[_e]=x}}(z,O,Ce)},k=function(T,O,K,q,ie){if(!(ie.hiLevel<T)){if(T===1&&x===1&&!i)return O.reverse(),void(K&&K.reverse());for(var fe,de,te,ce,Ce=O.length,be=0;be<Ce;){if(q[be]>=T){for(te=be+1;te<Ce&&q[te]>=T;)te++;for(ce=be,de=te-1;ce<de;ce++,de--)fe=O[ce],O[ce]=O[de],O[de]=fe,K&&(fe=K[ce],K[ce]=K[de],K[de]=fe);be=te}be++}}},V=function(T,O,K){var q=T.split(""),ie={hiLevel:x};return K||(K=[]),D(q,K,ie),function(fe,de,te){if(te.hiLevel!==0&&c)for(var ce,Ce=0;Ce<fe.length;Ce++)de[Ce]===1&&(ce=B.indexOf(fe[Ce]))>=0&&(fe[Ce]=B[ce+1])}(q,K,ie),k(2,q,O,K,ie),k(1,q,O,K,ie),q.join("")};return this.__bidiEngine__.doBidiReorder=function(T,O,K){if(function(ie,fe){if(fe)for(var de=0;de<ie.length;de++)fe[de]=de;o===void 0&&(o=F(ie)),l===void 0&&(l=F(ie))}(T,O),s||!A||l)if(s&&A&&o^l)x=o?1:0,T=R(T,O,K);else if(!s&&A&&l)x=o?1:0,T=V(T,O,K),T=R(T,O);else if(!s||o||A||l){if(s&&!A&&o^l)T=R(T,O),o?(x=0,T=V(T,O,K)):(x=1,T=V(T,O,K),T=R(T,O));else if(s&&o&&!A&&l)x=1,T=V(T,O,K),T=R(T,O);else if(!s&&!A&&o^l){var q=c;o?(x=1,T=V(T,O,K),x=0,c=!1,T=V(T,O,K),c=q):(x=0,T=V(T,O,K),T=R(T,O),x=1,c=!1,T=V(T,O,K),c=q,T=R(T,O))}}else x=0,T=V(T,O,K);else x=o?1:0,T=V(T,O,K);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,A=T.isOutputVisual,o=T.isInputRtl,l=T.isOutputRtl,c=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Sl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new u$(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new YV(this.contents),this.head=new ZV(this),this.name=new i$(this),this.cmap=new Q6(this),this.toUnicode={},this.hhea=new e$(this),this.maxp=new a$(this),this.hmtx=new s$(this),this.post=new r$(this),this.os2=new t$(this),this.loca=new c$(this),this.glyf=new o$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,A,l;for(l=[],s=0,o=(A=this.bbox).length;s<o;s++)e=A[s],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var zs,Sl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,A;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),A=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^A)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+A},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),YV=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,A,l,c,u,h,d,g,y;for(y in d=Object.keys(r).length,A=Math.log(2),u=16*Math.floor(Math.log(d)/A),s=Math.floor(u/A),c=16*d-u,(i=new Sl).writeInt(this.scalarType),i.writeShort(d),i.writeShort(u),i.writeShort(s),i.writeShort(c),a=16*d,l=i.pos+a,o=null,g=[],r)for(h=r[y],i.writeString(y),i.writeInt(t(h)),i.writeInt(l),i.writeInt(h.length),g=g.concat(h),y==="head"&&(o=l),l+=h.length;l%4;)g.push(0),l++;return i.write(g),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=j6.call(r);r.length%4;)r.push(0);for(a=new Sl(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),JV={}.hasOwnProperty,Co=function(t,e){for(var r in e)JV.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};zs=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var ZV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Sl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),zC=function(){function t(e,r){var n,i,a,s,o,A,l,c,u,h,d,g,y,B,v,w,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,a=function(){var _,F;for(F=[],A=_=0;0<=h?_<h:_>h;A=0<=h?++_:--_)F.push(e.readUInt16());return F}(),e.pos+=2,y=function(){var _,F;for(F=[],A=_=0;0<=h?_<h:_>h;A=0<=h?++_:--_)F.push(e.readUInt16());return F}(),l=function(){var _,F;for(F=[],A=_=0;0<=h?_<h:_>h;A=0<=h?++_:--_)F.push(e.readUInt16());return F}(),c=function(){var _,F;for(F=[],A=_=0;0<=h?_<h:_>h;A=0<=h?++_:--_)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,o=function(){var _,F;for(F=[],A=_=0;0<=i?_<i:_>i;A=0<=i?++_:--_)F.push(e.readUInt16());return F}(),A=v=0,x=a.length;v<x;A=++v)for(B=a[A],n=w=g=y[A];g<=B?w<=B:w>=B;n=g<=B?++w:--w)c[A]===0?s=n+l[A]:(s=o[c[A]/2+(n-g)-(h-A)]||0)!==0&&(s+=l[A]),this.codeMap[n]=65535&s}e.pos=u}return t.encode=function(e,r){var n,i,a,s,o,A,l,c,u,h,d,g,y,B,v,w,x,_,F,N,R,D,k,V,T,O,K,q,ie,fe,de,te,ce,Ce,be,P,H,z,ne,oe,he,Ee,_e,Se,Pe,Qe;switch(q=new Sl,s=Object.keys(e).sort(function(Ue,Be){return Ue-Be}),r){case"macroman":for(y=0,B=function(){var Ue=[];for(g=0;g<256;++g)Ue.push(0);return Ue}(),w={0:0},a={},ie=0,ce=s.length;ie<ce;ie++)w[_e=e[i=s[ie]]]==null&&(w[_e]=++y),a[i]={old:e[i],new:w[e[i]]},B[i]=w[e[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(B),{charMap:a,subtable:q.data,maxGlyphID:y+1};case"unicode":for(O=[],u=[],x=0,w={},n={},v=l=null,fe=0,Ce=s.length;fe<Ce;fe++)w[F=e[i=s[fe]]]==null&&(w[F]=++x),n[i]={old:F,new:w[F]},o=w[F]-i,v!=null&&o===l||(v&&u.push(v),O.push(i),l=o),v=i;for(v&&u.push(v),u.push(65535),O.push(65535),V=2*(k=O.length),D=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(D/2)/Math.LN2,R=2*k-D,A=[],N=[],d=[],g=de=0,be=O.length;de<be;g=++de){if(T=O[g],c=u[g],T===65535){A.push(0),N.push(0);break}if(T-(K=n[T].new)>=32768)for(A.push(0),N.push(2*(d.length+k-g)),i=te=T;T<=c?te<=c:te>=c;i=T<=c?++te:--te)d.push(n[i].new);else A.push(K-T),N.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*k+2*d.length),q.writeUInt16(0),q.writeUInt16(V),q.writeUInt16(D),q.writeUInt16(h),q.writeUInt16(R),he=0,P=u.length;he<P;he++)i=u[he],q.writeUInt16(i);for(q.writeUInt16(0),Ee=0,H=O.length;Ee<H;Ee++)i=O[Ee],q.writeUInt16(i);for(Se=0,z=A.length;Se<z;Se++)o=A[Se],q.writeUInt16(o);for(Pe=0,ne=N.length;Pe<ne;Pe++)_=N[Pe],q.writeUInt16(_);for(Qe=0,oe=d.length;Qe<oe;Qe++)y=d[Qe],q.writeUInt16(y);return{charMap:n,subtable:q.data,maxGlyphID:x+1}}},t}(),Q6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new zC(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=zC.encode(e,r),(i=new Sl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),e$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),t$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),r$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,A;for(A=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)A.push(e.readUInt32());return A}).call(this)}},t}(),n$=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},i$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,A,l,c,u,h;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(A={},a=c=0,u=n.length;c<u;a=++c)i=n[a],e.pos=i.offset,l=e.readString(i.length),s=new n$(l,i),A[h=i.nameID]==null&&(A[h]=[]),A[i.nameID].push(s);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},t}(),a$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),s$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,A;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,c;for(c=[],r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l)c.push(e.readInt16());return c}(),this.widths=(function(){var l,c,u,h;for(h=[],l=0,c=(u=this.metrics).length;l<c;l++)a=u[l],h.push(a.advance);return h}).call(this),n=this.widths[this.widths.length-1],A=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)A.push(this.widths.push(n));return A},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),j6=[].slice,o$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,A,l,c,u;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new Sl(r.read(i))).readShort(),l=o.readShort(),u=o.readShort(),A=o.readShort(),c=o.readShort(),this.cache[e]=s===-1?new l$(o,l,u,A,c):new A$(o,s,l,u,A,c),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,A;for(s=[],a=[],o=0,A=r.length;o<A;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),A$=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),l$=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Sl(j6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),c$=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Co(t,zs),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],A=this.offsets[s+1]-o;A>0&&(i+=A)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},t}(),u$=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,A;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in A=this.glyphsFor(r))n=A[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,A,l,c,u,h,d,g,y,B,v;for(i in n=Q6.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),d={0:0},v=n.charMap)d[(A=v[i]).old]=A.new;for(g in h=n.maxGlyphID,s)g in d||(d[g]=h++);return c=function(w){var x,_;for(x in _={},w)_[w[x]]=x;return _}(d),u=Object.keys(c).sort(function(w,x){return w-x}),y=function(){var w,x,_;for(_=[],w=0,x=u.length;w<x;w++)o=u[w],_.push(c[o]);return _}(),a=this.font.glyf.encode(s,y,d),l=this.font.loca.encode(a.offsets,y),B={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},t}();yt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,A,l;for(l=[],o=0,A=r.length;o<A;o++)n=r[o],l.push(e.convert(n));return l}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();function f$(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function d$(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var h$=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p$=function(t){h$(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),f$(a,i.prototype),d$(a),a}return e}(Error),g$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ba=function(t){g$(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(p$),v$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Is=function(t){v$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(ba),m$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bt=function(t){m$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(ba),y$=function(){function t(e){if(this.binarizer=e,e===null)throw new bt("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),w$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vi=function(t){w$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(ba),x$=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Vr=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),b$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ax=function(t){b$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(ba),B$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WC=function(t){B$(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(ax),C$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wa=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new bt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new WC(r);if(n>e)throw new WC(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=C$(e),s=a.next();!s.done;s=a.next()){var o=s.value;i=31*i+o}}catch(A){r={error:A}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Vr.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,o=n(r,e[s]);if(o>0)i=s+1;else if(o<0)a=s-1;else return s}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),er=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),ni=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Vr.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var s=n.length;a===0;){if(++i===s)return r;a=n[i]}var o=i*32+er.numberOfTrailingZeros(a);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var s=n.length;a===0;){if(++i===s)return r;a=~n[i]}var o=i*32+er.numberOfTrailingZeros(a);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new bt;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,s=n;s<=i;s++){var o=s>n?0:e&31,A=s<i?31:r&31,l=(2<<A)-(1<<o);a[s]|=l}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new bt;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),s=this.bits,o=i;o<=a;o++){var A=o>i?0:e&31,l=o<a?31:r&31,c=(2<<l)-(1<<A)&4294967295;if((s[o]&c)!==(n?c:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new bt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new bt("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;r[n+a]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-a]=s}if(this.size!==n*32){for(var o=n*32-this.size,A=e[0]>>>o,a=1;a<n;a++){var l=e[a];A|=l<<32-o,e[a-1]=A,A=l>>>o}e[n-1]=A}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&wa.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+wa.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t}(),uy;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(uy||(uy={}));const un=uy;var _$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),We=function(t){_$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(ba),E$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_r;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(_r||(_r={}));var Yn=function(){function t(e,r,n){for(var i,a,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var A=this.values,l=0,c=A.length;l!==c;l++){var u=A[l];t.VALUES_TO_ECI.set(u,this)}try{for(var h=E$(s),d=h.next();!d.done;d=h.next()){var g=d.value;t.NAME_TO_ECI.set(g,this)}}catch(y){i={error:y}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new We("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new We("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new We("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(_r.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(_r.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(_r.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(_r.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(_r.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(_r.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(_r.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(_r.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(_r.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(_r.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(_r.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(_r.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(_r.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(_r.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(_r.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(_r.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(_r.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(_r.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(_r.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(_r.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(_r.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(_r.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(_r.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(_r.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(_r.Big5,28,"Big5"),t.GB18030=new t(_r.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(_r.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),S$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D1=function(t){S$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(ba),yo=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Yn?e:Yn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,s=e.length;a<s;a++){var o=e[a].toString(16);o.length<2&&(o="0"+o),i+="%"+o}return decodeURIComponent(i)}if(n.equals(Yn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new D1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Yn.UTF8)||e.equals(Yn.ISO8859_1)||e.equals(Yn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),Mr=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return yo.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(un.CHARACTER_SET)!==void 0)return r.get(un.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,s=!0,o=0,A=0,l=0,c=0,u=0,h=0,d=0,g=0,y=0,B=0,v=0,w=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,x=0;x<n&&(i||a||s);x++){var _=e[x]&255;s&&(o>0?_&128?o--:s=!1:_&128&&(_&64?(o++,_&32?(o++,_&16?(o++,_&8?s=!1:c++):l++):A++):s=!1)),i&&(_>127&&_<160?i=!1:_>159&&(_<192||_===215||_===247)&&v++),a&&(u>0?_<64||_===127||_>252?a=!1:u--:_===128||_===160||_>239?a=!1:_>160&&_<224?(h++,g=0,d++,d>y&&(y=d)):_>127?(u++,d=0,g++,g>B&&(B=g)):(d=0,g=0))}return s&&o>0&&(s=!1),a&&u>0&&(a=!1),s&&(w||A+l+c>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||y>=3||B>=3)?t.SHIFT_JIS:i&&a?y===2&&h===2||v*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(o,A,l,c,u,h){if(o==="%%")return"%";if(r[++i]!==void 0){o=c?parseInt(c.substr(1)):void 0;var d=u?parseInt(u.substr(1)):void 0,g;switch(h){case"s":g=r[i];break;case"c":g=r[i][0];break;case"f":g=parseFloat(r[i]).toFixed(o);break;case"p":g=parseFloat(r[i]).toPrecision(o);break;case"e":g=parseFloat(r[i]).toExponential(o);break;case"x":g=parseInt(r[i]).toString(d||16);break;case"d":g=parseFloat(parseInt(r[i],d||10).toPrecision(o)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(d);for(var y=parseInt(l),B=l&&l[0]+""=="0"?"0":" ";g.length<y;)g=A!==void 0?g+B:B+g;return g}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},t.getBytes=function(e,r){return yo.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Yn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Yn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Yn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Nr=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Mr.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)},t}(),wo=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new bt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var s=e[a],o=0;o<n;o++)s[o]&&i.set(o,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new bt("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,o=-1,A=0,l=0;l<e.length;)if(e.charAt(l)===`
`||e.charAt(l)==="\r"){if(a>s){if(o===-1)o=a-s;else if(a-s!==o)throw new bt("row lengths do not match");s=a,A++}l++}else if(e.substring(l,l+r.length)===r)l+=r.length,i[a]=!0,a++;else if(e.substring(l,l+n.length)===n)l+=n.length,i[a]=!1,a++;else throw new bt("illegal character encountered: "+e.substring(l));if(a>s){if(o===-1)o=a-s;else if(a-s!==o)throw new bt("row lengths do not match");A++}for(var c=new t(o,A),u=0;u<a;u++)i[u]&&c.set(Math.floor(u%o),Math.floor(u/o));return c},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new bt("input matrix dimensions do not match");for(var r=new ni(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var o=a*n,A=e.getRow(a,r).getBitArray(),l=0;l<n;l++)i[o+l]^=A[l]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new bt("Left and top must be nonnegative");if(i<1||n<1)throw new bt("Height and width must be at least 1");var a=e+n,s=r+i;if(s>this.height||a>this.width)throw new bt("The region must fit inside the matrix");for(var o=this.rowSize,A=this.bits,l=r;l<s;l++)for(var c=l*o,u=e;u<a;u++)A[c+Math.floor(u/32)]|=1<<(u&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new ni(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,s=0;s<n;s++)r.setBulk(s*32,i[a+s]);return r},t.prototype.setRow=function(e,r){Vr.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new ni(e),i=new ni(e),a=0,s=Math.floor((r+1)/2);a<s;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,s=r,o=-1,A=-1,l=0;l<r;l++)for(var c=0;c<n;c++){var u=i[l*n+c];if(u!==0){if(l<s&&(s=l),l>A&&(A=l),c*32<a){for(var h=0;!(u<<31-h&4294967295);)h++;c*32+h<a&&(a=c*32+h)}if(c*32+31>o){for(var h=31;!(u>>>h);)h--;c*32+h>o&&(o=c*32+h)}}}return o<a||A<s?null:Int32Array.from([a,s,o-a+1,A-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,s=r[n],o=0;!(s<<31-o&4294967295);)o++;return a+=o,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,s=r[n],o=31;!(s>>>o);)o--;return a+=o,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&wa.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+wa.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Nr,a=0,s=this.height;a<s;a++){for(var o=0,A=this.width;o<A;o++)i.append(this.get(o,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),I$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Le=function(t){I$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(ba),F$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N$=function(t){F$(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new ni(a):n.clear(),this.initArrays(a);for(var s=i.getRow(r,this.luminances),o=this.buckets,A=0;A<a;A++)o[(s[A]&255)>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(o);if(a<3)for(var A=0;A<a;A++)(s[A]&255)<l&&n.set(A);else for(var c=s[0]&255,u=s[1]&255,A=1;A<a-1;A++){var h=s[A+1]&255;(u*4-c-h)/2<l&&n.set(A),c=u,u=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new wo(n,i);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var A=Math.floor(i*o/5),l=r.getRow(A,this.luminances),c=Math.floor(n*4/5),u=Math.floor(n/5);u<c;u++){var h=l[u]&255;s[h>>e.LUMINANCE_SHIFT]++}for(var d=e.estimateBlackPoint(s),g=r.getMatrix(),o=0;o<i;o++)for(var y=o*n,u=0;u<n;u++){var h=g[y+u]&255;h<d&&a.set(u,o)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,s=0,o=0;o<n;o++)r[o]>s&&(a=o,s=r[o]),r[o]>i&&(i=r[o]);for(var A=0,l=0,o=0;o<n;o++){var c=o-a,u=r[o]*c*c;u>l&&(A=o,l=u)}if(a>A){var h=a;a=A,A=h}if(A-a<=n/16)throw new Le;for(var d=A-1,g=-1,o=A-1;o>a;o--){var y=o-a,u=y*y*(A-o)*(i-r[o]);u>g&&(d=o,g=u)}return d<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(x$),T$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U$=function(t){T$(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var o=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&o++;var A=e.calculateBlackPoints(a,s,o,n,i),l=new wo(n,i);e.calculateThresholdForBlock(a,s,o,n,i,A,l),this.matrix=l}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,s,o,A){for(var l=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,u=0;u<i;u++){var h=u<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var d=e.cap(u,2,i-3),g=0;g<n;g++){var y=g<<e.BLOCK_SIZE_POWER;y>c&&(y=c);for(var B=e.cap(g,2,n-3),v=0,w=-2;w<=2;w++){var x=o[d+w];v+=x[B-2]+x[B-1]+x[B]+x[B+1]+x[B+2]}var _=v/25;e.thresholdBlock(r,y,h,_,a,A)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,s,o){for(var A=0,l=i*s+n;A<e.BLOCK_SIZE;A++,l+=s)for(var c=0;c<e.BLOCK_SIZE;c++)(r[l+c]&255)<=a&&o.set(n+c,i+A)},e.calculateBlackPoints=function(r,n,i,a,s){for(var o=s-e.BLOCK_SIZE,A=a-e.BLOCK_SIZE,l=new Array(i),c=0;c<i;c++){l[c]=new Int32Array(n);var u=c<<e.BLOCK_SIZE_POWER;u>o&&(u=o);for(var h=0;h<n;h++){var d=h<<e.BLOCK_SIZE_POWER;d>A&&(d=A);for(var g=0,y=255,B=0,v=0,w=u*a+d;v<e.BLOCK_SIZE;v++,w+=a){for(var x=0;x<e.BLOCK_SIZE;x++){var _=r[w+x]&255;g+=_,_<y&&(y=_),_>B&&(B=_)}if(B-y>e.MIN_DYNAMIC_RANGE)for(v++,w+=a;v<e.BLOCK_SIZE;v++,w+=a)for(var x=0;x<e.BLOCK_SIZE;x++)g+=r[w+x]&255}var F=g>>e.BLOCK_SIZE_POWER*2;if(B-y<=e.MIN_DYNAMIC_RANGE&&(F=y/2,c>0&&h>0)){var N=(l[c-1][h]+2*l[c][h-1]+l[c-1][h-1])/4;y<N&&(F=N)}l[c][h]=F}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(N$),Eg=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new D1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new D1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new D1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Nr,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var s=i[a]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t}(),O$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sx=function(t){O$(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Eg),L$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),k$=function(t){L$(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),s=0,o=0,A=r.length;s<A;s+=4,o++){var l=void 0,c=r[s+3];if(c===0)l=255;else{var u=r[s],h=r[s+1],d=r[s+2];l=306*u+601*h+117*d+512>>10}a[o]=l}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new bt("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,A=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*o),l=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*o);return n.width=A,n.height=l,i.translate(A/2,l/2),i.rotate(a),i.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new sx(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Eg),P$=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),zi=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(u){s(u)}}function A(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){c.done?a(c.value):i(c.value).then(o,A)}l((n=n.apply(t,e||[])).next())})},Wi=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},D$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Df=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return zi(this,void 0,void 0,function(){var e,r,n,i,a,s,o,A,l,c,u,h;return Wi(this,function(d){switch(d.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=d.sent(),r=[];try{for(n=D$(e),i=n.next();!i.done;i=n.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(o=a.deviceId||a.id,A=a.label||"Video device "+(r.length+1),l=a.groupId,c={deviceId:o,label:A,kind:s,groupId:l},r.push(c))}catch(g){u={error:g}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(u)throw u.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return zi(this,void 0,void 0,function(){var e;return Wi(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new P$(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return zi(this,void 0,void 0,function(){var r;return Wi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return zi(this,void 0,void 0,function(){return Wi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return zi(this,void 0,void 0,function(){var n,i;return Wi(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return zi(this,void 0,void 0,function(){var n;return Wi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return zi(this,void 0,void 0,function(){var n,i;return Wi(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return zi(this,void 0,void 0,function(){return Wi(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return zi(this,void 0,void 0,function(){var i,a;return Wi(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return zi(this,void 0,void 0,function(){var i;return Wi(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return zi(this,void 0,void 0,function(){var i;return Wi(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return zi(this,void 0,void 0,function(){var n;return Wi(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return zi(this,void 0,void 0,function(){return Wi(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Is("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Is("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Is("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Is("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Is("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Is("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Is("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Is("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Is("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Is("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return zi(this,void 0,void 0,function(){return Wi(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return zi(this,void 0,void 0,function(){return Wi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(s,o){if(i._stopAsyncDecode){o(new Le("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var A=i.decode(e);s(A)}catch(h){var l=r&&h instanceof Le,c=h instanceof vi||h instanceof We,u=c&&n;if(l||u)return setTimeout(a,i._timeBetweenDecodingAttempts,s,o);o(h)}};return new Promise(function(s,o){return a(s,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(A){r(null,A);var s=A instanceof vi||A instanceof We,o=A instanceof Le;(s||o)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype._isHTMLVideoElement=function(e){var r=e;return r.videoWidth!==0},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new k$(r),i=new U$(n);return new y$(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Ba=function(){function t(e,r,n,i,a,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=Vr.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Vr.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Vr.arraycopy(r,0,n,0,r.length),Vr.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),fy;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fy||(fy={}));const Bt=fy;var dy;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dy||(dy={}));const yi=dy;var Sg=function(){function t(e,r,n,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Fd=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new bt;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),bl=function(){function t(e,r){if(r.length===0)throw new bt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Vr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var s=r[i];n=Fd.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,A=this.field,i=1;i<o;i++)n=Fd.addOrSubtract(A.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new bt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),s=n.length-r.length;Vr.arraycopy(n,0,a,0,s);for(var o=s;o<n.length;o++)a[o]=Fd.addOrSubtract(r[o-s],n[o]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new bt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,s=new Int32Array(n+a-1),o=this.field,A=0;A<n;A++)for(var l=r[A],c=0;c<a;c++)s[A+c]=Fd.addOrSubtract(s[A+c],o.multiply(l,i[c]));return new t(o,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,s=0;s<r;s++)i[s]=n.multiply(a[s],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new bt;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),s=this.field,o=0;o<i;o++)a[o]=s.multiply(n[o],r);return new t(s,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new bt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new bt("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var o=i.getDegree()-e.getDegree(),A=r.multiply(i.getCoefficient(i.getDegree()),s),l=e.multiplyByMonomial(o,A),c=r.buildMonomial(o,A);n=n.addOrSubtract(c),i=i.addOrSubtract(l)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),R$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M6=function(t){R$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(ba),Q$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ha=function(t){Q$(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var s=new Int32Array(n),o=1,A=0;A<n;A++)s[A]=o,o*=2,o>=n&&(o^=r,o&=n-1);a.expTable=s;for(var l=new Int32Array(n),A=0;A<n-1;A++)l[s[A]]=A;return a.logTable=l,a.zero=new bl(a,Int32Array.from([0])),a.one=new bl(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new bt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new bl(this,i)},e.prototype.inverse=function(r){if(r===0)throw new M6;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+er.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Fd),j$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o1=function(t){j$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(ba),M$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jh=function(t){M$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(ba),Ig=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new bl(n,e),a=new Int32Array(r),s=!0,o=0;o<r;o++){var A=i.evaluateAt(n.exp(o+n.getGeneratorBase()));a[a.length-1-o]=A,A!==0&&(s=!1)}if(!s)for(var l=new bl(n,a),c=this.runEuclideanAlgorithm(n.buildMonomial(r,1),l,r),u=c[0],h=c[1],d=this.findErrorLocations(u),g=this.findErrorMagnitudes(h,d),o=0;o<d.length;o++){var y=e.length-1-n.log(d[o]);if(y<0)throw new o1("Bad error location");e[y]=ha.addOrSubtract(e[y],g[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,s=e,o=r,A=a.getZero(),l=a.getOne();o.getDegree()>=(n/2|0);){var c=s,u=A;if(s=o,A=l,s.isZero())throw new o1("r_{i-1} was zero");o=c;for(var h=a.getZero(),d=s.getCoefficient(s.getDegree()),g=a.inverse(d);o.getDegree()>=s.getDegree()&&!o.isZero();){var y=o.getDegree()-s.getDegree(),B=a.multiply(o.getCoefficient(o.getDegree()),g);h=h.addOrSubtract(a.buildMonomial(y,B)),o=o.addOrSubtract(s.multiplyByMonomial(y,B))}if(l=h.multiply(A).addOrSubtract(u),o.getDegree()>=s.getDegree())throw new jh("Division algorithm failed to reduce polynomial?")}var v=l.getCoefficient(0);if(v===0)throw new o1("sigmaTilde(0) was zero");var w=a.inverse(v),x=l.multiplyScalar(w),_=o.multiplyScalar(w);return[x,_]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,s=1;s<a.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=a.inverse(s),i++);if(i!==r)throw new o1("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,s=0;s<n;s++){for(var o=a.inverse(r[s]),A=1,l=0;l<n;l++)if(s!==l){var c=a.multiply(r[l],o),u=c&1?c&-2:c|1;A=a.multiply(A,u)}i[s]=a.multiply(e.evaluateAt(o),a.inverse(A)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],o))}return i},t}(),di;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(di||(di={}));var qC=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),s=t.getEncodedData(i),o=new Sg(a,s,null,null);return o.setNumBits(i.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=di.UPPER,i=di.UPPER,a="",s=0;s<r;)if(i===di.BINARY){if(r-s<5)break;var o=t.readCode(e,s,5);if(s+=5,o===0){if(r-s<11)break;o=t.readCode(e,s,11)+31,s+=11}for(var A=0;A<o;A++){if(r-s<8){s=r;break}var l=t.readCode(e,s,8);a+=Mr.castAsNonUtf8Char(l),s+=8}i=n}else{var c=i===di.DIGIT?4:5;if(r-s<c)break;var l=t.readCode(e,s,c);s+=c;var u=t.getCharacter(i,l);u.startsWith("CTRL_")?(n=i,i=t.getTable(u.charAt(5)),u.charAt(6)==="L"&&(n=i)):(a+=u,i=n)}return a},t.getTable=function(e){switch(e){case"L":return di.LOWER;case"P":return di.PUNCT;case"M":return di.MIXED;case"D":return di.DIGIT;case"B":return di.BINARY;case"U":default:return di.UPPER}},t.getCharacter=function(e,r){switch(e){case di.UPPER:return t.UPPER_TABLE[r];case di.LOWER:return t.LOWER_TABLE[r];case di.MIXED:return t.MIXED_TABLE[r];case di.PUNCT:return t.PUNCT_TABLE[r];case di.DIGIT:return t.DIGIT_TABLE[r];default:throw new jh("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=ha.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=ha.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=ha.AZTEC_DATA_10):(n=12,r=ha.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new We;for(var s=e.length%n,o=new Int32Array(a),A=0;A<a;A++,s+=n)o[A]=t.readCode(e,s,n);try{var l=new Ig(r);l.decode(o,a-i)}catch(B){throw new We(B)}for(var c=(1<<n)-1,u=0,A=0;A<i;A++){var h=o[A];if(h===0||h===c)throw new We;(h===1||h===c-1)&&u++}for(var d=new Array(i*n-u),g=0,A=0;A<i;A++){var h=o[A];if(h===1||h===c-1)d.fill(h>1,g,g+n-1),g+=n-1;else for(var y=n-1;y>=0;--y)d[g++]=(h&1<<y)!==0}return d},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<a.length;o++)a[o]=o;else for(var A=i+1+2*er.truncDivision(er.truncDivision(i,2)-1,15),l=i/2,c=er.truncDivision(A,2),o=0;o<l;o++){var u=o+er.truncDivision(o,15);a[l-o-1]=c-u-1,a[l+o]=c+u+1}for(var o=0,h=0;o<n;o++){for(var d=(n-o)*4+(r?9:12),g=o*2,y=i-1-g,B=0;B<d;B++)for(var v=B*2,w=0;w<2;w++)s[h+v+w]=e.get(a[g+w],a[g+B]),s[h+2*d+v+w]=e.get(a[g+B],a[y-w]),s[h+4*d+v+w]=e.get(a[y-w],a[y-B]),s[h+6*d+v+w]=e.get(a[y-B],a[g+w]);h+=d*8}return s},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),hr=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,s=r-i;return Math.sqrt(a*a+s*s)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),hy=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),vt=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*hy.floatToIntBits(this.x)+hy.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,o;if(n>=r&&n>=i?(s=e[0],a=e[1],o=e[2]):i>=n&&i>=r?(s=e[1],a=e[0],o=e[2]):(s=e[2],a=e[0],o=e[1]),this.crossProductZ(a,s,o)<0){var A=a;a=o,o=A}e[0]=a,e[1]=s,e[2]=o},t.distance=function(e,r){return hr.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),ox=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),H$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K$=function(t){H$(e,t);function e(r,n,i,a,s){var o=t.call(this,r,n)||this;return o.compact=i,o.nbDatablocks=a,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(ox),py=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Le}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,s=!0,o=!1,A=!1,l=!1,c=!1,u=!1,h=this.width,d=this.height;s;){s=!1;for(var g=!0;(g||!A)&&r<h;)g=this.containsBlackPoint(n,i,r,!1),g?(r++,s=!0,A=!0):A||r++;if(r>=h){a=!0;break}for(var y=!0;(y||!l)&&i<d;)y=this.containsBlackPoint(e,r,i,!0),y?(i++,s=!0,l=!0):l||i++;if(i>=d){a=!0;break}for(var B=!0;(B||!c)&&e>=0;)B=this.containsBlackPoint(n,i,e,!1),B?(e--,s=!0,c=!0):c||e--;if(e<0){a=!0;break}for(var v=!0;(v||!u)&&n>=0;)v=this.containsBlackPoint(e,r,n,!0),v?(n--,s=!0,u=!0):u||n--;if(n<0){a=!0;break}s&&(o=!0)}if(!a&&o){for(var w=r-e,x=null,_=1;x===null&&_<w;_++)x=this.getBlackPointOnSegment(e,i-_,e+_,i);if(x==null)throw new Le;for(var F=null,_=1;F===null&&_<w;_++)F=this.getBlackPointOnSegment(e,n+_,e+_,n);if(F==null)throw new Le;for(var N=null,_=1;N===null&&_<w;_++)N=this.getBlackPointOnSegment(r,n+_,r-_,n);if(N==null)throw new Le;for(var R=null,_=1;R===null&&_<w;_++)R=this.getBlackPointOnSegment(r,i-_,r-_,i);if(R==null)throw new Le;return this.centerEdges(R,x,N,F)}else throw new Le},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=hr.round(hr.distance(e,r,n,i)),s=(n-e)/a,o=(i-r)/a,A=this.image,l=0;l<a;l++){var c=hr.round(e+l*s),u=hr.round(r+l*o);if(A.get(c,u))return new vt(c,u)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),s=e.getY(),o=r.getX(),A=r.getY(),l=n.getX(),c=n.getY(),u=i.getX(),h=i.getY(),d=t.CORR;return a<this.width/2?[new vt(u-d,h+d),new vt(o+d,A+d),new vt(l-d,c-d),new vt(a+d,s-d)]:[new vt(u+d,h+d),new vt(o+d,A-d),new vt(l-d,c+d),new vt(a-d,s-d)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var s=e;s<=r;s++)if(a.get(s,n))return!0}else for(var o=e;o<=r;o++)if(a.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),XC=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<r.length&&a;s+=2){var o=Math.floor(r[s]),A=Math.floor(r[s+1]);if(o<-1||o>n||A<-1||A>i)throw new Le;a=!1,o===-1?(r[s]=0,a=!0):o===n&&(r[s]=n-1,a=!0),A===-1?(r[s+1]=0,a=!0):A===i&&(r[s+1]=i-1,a=!0)}a=!0;for(var s=r.length-2;s>=0&&a;s-=2){var o=Math.floor(r[s]),A=Math.floor(r[s+1]);if(o<-1||o>n||A<-1||A>i)throw new Le;a=!1,o===-1?(r[s]=0,a=!0):o===n&&(r[s]=n-1,a=!0),A===-1?(r[s+1]=0,a=!0):A===i&&(r[s+1]=i-1,a=!0)}},t}(),H6=function(){function t(e,r,n,i,a,s,o,A,l){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=s,this.a13=o,this.a23=A,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,s,o,A,l,c,u,h,d,g,y,B){var v=t.quadrilateralToSquare(e,r,n,i,a,s,o,A),w=t.squareToQuadrilateral(l,c,u,h,d,g,y,B);return w.times(v)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,s=this.a21,o=this.a22,A=this.a23,l=this.a31,c=this.a32,u=this.a33,h=0;h<r;h+=2){var d=e[h],g=e[h+1],y=a*d+A*g+u;e[h]=(n*d+s*g+l)/y,e[h+1]=(i*d+o*g+c)/y}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,s=this.a21,o=this.a22,A=this.a23,l=this.a31,c=this.a32,u=this.a33,h=e.length,d=0;d<h;d++){var g=e[d],y=r[d],B=a*g+A*y+u;e[d]=(n*g+s*y+l)/B,r[d]=(i*g+o*y+c)/B}},t.squareToQuadrilateral=function(e,r,n,i,a,s,o,A){var l=e-n+a-o,c=r-i+s-A;if(l===0&&c===0)return new t(n-e,a-n,e,i-r,s-i,r,0,0,1);var u=n-a,h=o-a,d=i-s,g=A-s,y=u*g-h*d,B=(l*g-h*c)/y,v=(u*c-l*d)/y;return new t(n-e+B*n,o-e+v*o,e,i-r+B*i,A-r+v*A,r,B,v,1)},t.quadrilateralToSquare=function(e,r,n,i,a,s,o,A){return t.squareToQuadrilateral(e,r,n,i,a,s,o,A).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),V$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$$=function(t){V$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,s,o,A,l,c,u,h,d,g,y,B,v,w,x,_){var F=H6.quadrilateralToQuadrilateral(a,s,o,A,l,c,u,h,d,g,y,B,v,w,x,_);return this.sampleGridWithTransform(r,n,i,F)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new Le;for(var s=new wo(n,i),o=new Float32Array(2*n),A=0;A<i;A++){for(var l=o.length,c=A+.5,u=0;u<l;u+=2)o[u]=u/2+.5,o[u+1]=c;a.transformPoints(o),XC.checkAndNudgePoints(r,o);try{for(var u=0;u<l;u+=2)r.get(Math.floor(o[u]),Math.floor(o[u+1]))&&s.set(u/2,A)}catch{throw new Le}}return s},e}(XC),Ax=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new $$,t}(),ca=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new vt(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),G$=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new K$(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Le;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var s=n[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,s,o){var A=(a>>r-2<<1)+(a&1);n=(n<<3)+A}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(er.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Le},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var A=new Ig(ha.AZTEC_PARAM);A.decode(s,a)}catch{throw new Le}for(var l=0,o=0;o<i;o++)l=(l<<4)+s[o];return l},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),A=this.getFirstDifferent(n,s,1,1),l=this.getFirstDifferent(i,s,-1,1),c=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var u=this.distancePoint(c,o)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(u<.75||u>1.25||!this.isWhiteOrBlackRectangle(o,A,l,c))break}r=o,n=A,i=l,a=c,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Le;this.compact=this.nbCenterLayers===5;var h=new vt(r.getX()+.5,r.getY()-.5),d=new vt(n.getX()+.5,n.getY()+.5),g=new vt(i.getX()-.5,i.getY()+.5),y=new vt(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,d,g,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new py(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new ca(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ca(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ca(s-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ca(s-7,o-7),!1,-1,-1).toResultPoint()}var A=hr.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=hr.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new py(this.image,15,A,l).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ca(A+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ca(A+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ca(A-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ca(A-7,l-7),!1,-1,-1).toResultPoint()}return A=hr.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=hr.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new ca(A,l)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var s=Ax.getInstance(),o=this.getDimension(),A=o/2-this.nbCenterLayers,l=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,A,A,l,A,l,l,A,l,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),s=a/n,o=e.getX(),A=e.getY(),l=s*(r.getX()-e.getX())/a,c=s*(r.getY()-e.getY())/a,u=0;u<n;u++)this.image.get(hr.round(o+u*l),hr.round(A+u*c))&&(i|=1<<n-u-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new ca(e.getX()-a,e.getY()+a),r=new ca(r.getX()-a,r.getY()-a),n=new ca(n.getX()+a,n.getY()-a),i=new ca(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var o=this.getColor(e,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,i),o===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,s=0,o=e.getX(),A=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),u=0;u<c;u++)o+=i,A+=a,this.image.get(hr.round(o),hr.round(A))!==l&&s++;var h=s/n;return h>.1&&h<.9?0:h<=.1===l?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===r;)a+=n,s+=i;for(a-=n,s-=i;this.isValid(a,s)&&this.image.get(a,s)===r;)a+=n;for(a-=n;this.isValid(a,s)&&this.image.get(a,s)===r;)s+=i;return s-=i,new ca(a,s)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,A=(e[0].getY()+e[2].getY())/2,l=new vt(o+i*a,A+i*s),c=new vt(o-i*a,A-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,A=(e[1].getY()+e[3].getY())/2;var u=new vt(o+i*a,A+i*s),h=new vt(o-i*a,A-i*s),d=[l,u,c,h];return d},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=hr.round(e.getX()),n=hr.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return hr.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return hr.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(er.truncDivision(this.nbLayers-4,8)+1)+15},t}(),gy=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new G$(e.getBlackMatrix()),a=null,s=null;try{var o=i.detectMirror(!1);a=o.getPoints(),this.reportFoundResultPoints(r,a),s=new qC().decode(o)}catch(u){n=u}if(s==null)try{var o=i.detectMirror(!0);a=o.getPoints(),this.reportFoundResultPoints(r,a),s=new qC().decode(o)}catch(u){throw n??u}var A=new Ba(s.getText(),s.getRawBytes(),s.getNumBits(),a,Bt.AZTEC,Vr.currentTimeMillis()),l=s.getByteSegments();l!=null&&A.putMetadata(yi.BYTE_SEGMENTS,l);var c=s.getECLevel();return c!=null&&A.putMetadata(yi.ERROR_CORRECTION_LEVEL,c),A},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(un.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,s){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),z$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){z$(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new gy,r)||this}return e})(Df);var wi=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(un.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),s=a.getResultMetadata(),o=270;s!==null&&s.get(yi.ORIENTATION)===!0&&(o=o+s.get(yi.ORIENTATION)%360),a.putMetadata(yi.ORIENTATION,o);var A=a.getResultPoints();if(A!==null)for(var l=i.getHeight(),c=0;c<A.length;c++)A[c]=new vt(l-A[c].getY()-1,A[c].getX());return a}else throw new Le}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new ni(n),s=r&&r.get(un.TRY_HARDER)===!0,o=Math.max(1,i>>(s?8:5)),A;s?A=i:A=15;for(var l=Math.trunc(i/2),c=0;c<A;c++){var u=Math.trunc((c+1)/2),h=(c&1)===0,d=l+o*(h?u:-u);if(d<0||d>=i)break;try{a=e.getBlackRow(d,a)}catch{continue}for(var g=function(w){if(w===1&&(a.reverse(),r&&r.get(un.NEED_RESULT_POINT_CALLBACK)===!0)){var x=new Map;r.forEach(function(N,R){return x.set(R,N)}),x.delete(un.NEED_RESULT_POINT_CALLBACK),r=x}try{var _=y.decodeRow(d,a,r);if(w===1){_.putMetadata(yi.ORIENTATION,180);var F=_.getResultPoints();F!==null&&(F[0]=new vt(n-F[0].getX()-1,F[0].getY()),F[1]=new vt(n-F[1].getX()-1,F[1].getY()))}return{value:_}}catch{}},y=this,B=0;B<2;B++){var v=g(B);if(typeof v=="object")return v.value}}throw new Le},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var s=e.getSize();if(r>=s)throw new Le;for(var o=!e.get(r),A=0,l=r;l<s;){if(e.get(l)!==o)n[A]++;else{if(++A===i)break;n[A]=1,o=!o}l++}if(!(A===i||A===i-1&&l===s))throw new Le},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new Le;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,s=0,o=0;o<i;o++)a+=e[o],s+=r[o];if(a<s)return Number.POSITIVE_INFINITY;var A=a/s;n*=A;for(var l=0,c=0;c<i;c++){var u=e[c],h=r[c]*A,d=u>h?u-h:h-u;if(d>n)return Number.POSITIVE_INFINITY;l+=d}return l/a},t}(),W$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YC=function(t){W$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),o=i,A=!1,l=6,c=i;c<n;c++)if(r.get(c)!==A)s[a]++;else{if(a===l-1){for(var u=e.MAX_AVG_VARIANCE,h=-1,d=e.CODE_START_A;d<=e.CODE_START_C;d++){var g=wi.patternMatchVariance(s,e.CODE_PATTERNS[d],e.MAX_INDIVIDUAL_VARIANCE);g<u&&(u=g,h=d)}if(h>=0&&r.isRange(Math.max(0,o-(c-o)/2),o,!1))return Int32Array.from([o,c,h]);o+=s[0]+s[1],s=s.slice(2,s.length-1),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,A=!A}throw new Le},e.decodeCode=function(r,n,i){wi.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var A=e.CODE_PATTERNS[o],l=this.patternMatchVariance(n,A,e.MAX_INDIVIDUAL_VARIANCE);l<a&&(a=l,s=o)}if(s>=0)return s;throw new Le},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(un.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],A=0,l=new Uint8Array(20);l[A++]=o;var c;switch(o){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new We}for(var u=!1,h=!1,d="",g=s[0],y=s[1],B=Int32Array.from([0,0,0,0,0,0]),v=0,w=0,x=o,_=0,F=!0,N=!1,R=!1;!u;){var D=h;switch(h=!1,v=w,w=e.decodeCode(n,B,y),l[A++]=w,w!==e.CODE_STOP&&(F=!0),w!==e.CODE_STOP&&(_++,x+=_*w),g=y,y+=B.reduce(function(de,te){return de+te},0),w){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new We}switch(c){case e.CODE_CODE_A:if(w<64)R===N?d+=String.fromCharCode(32+w):d+=String.fromCharCode(32+w+128),R=!1;else if(w<96)R===N?d+=String.fromCharCode(w-64):d+=String.fromCharCode(w+64),R=!1;else switch(w!==e.CODE_STOP&&(F=!1),w){case e.CODE_FNC_1:a&&(d.length===0?d+="]C1":d+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!N&&R?(N=!0,R=!1):N&&R?(N=!1,R=!1):R=!0;break;case e.CODE_SHIFT:h=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:u=!0;break}break;case e.CODE_CODE_B:if(w<96)R===N?d+=String.fromCharCode(32+w):d+=String.fromCharCode(32+w+128),R=!1;else switch(w!==e.CODE_STOP&&(F=!1),w){case e.CODE_FNC_1:a&&(d.length===0?d+="]C1":d+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!N&&R?(N=!0,R=!1):N&&R?(N=!1,R=!1):R=!0;break;case e.CODE_SHIFT:h=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:u=!0;break}break;case e.CODE_CODE_C:if(w<100)w<10&&(d+="0"),d+=w;else switch(w!==e.CODE_STOP&&(F=!1),w){case e.CODE_FNC_1:a&&(d.length===0?d+="]C1":d+="");break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:u=!0;break}break}D&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var k=y-g;if(y=n.getNextUnset(y),!n.isRange(y,Math.min(n.getSize(),y+(y-g)/2),!1))throw new Le;if(x-=_*v,x%103!==v)throw new vi;var V=d.length;if(V===0)throw new Le;V>0&&F&&(c===e.CODE_CODE_C?d=d.substring(0,V-2):d=d.substring(0,V-1));for(var T=(s[1]+s[0])/2,O=g+k/2,K=l.length,q=new Uint8Array(K),ie=0;ie<K;ie++)q[ie]=l[ie];var fe=[new vt(T,r),new vt(O,r)];return new Ba(d,q,0,fe,Bt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(wi),q$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JC=function(t){q$(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,s,o,A,l=this.counters;l.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,l),u=n.getNextSet(c[1]),h=n.getSize(),d,g;do{e.recordPattern(n,u,l);var y=e.toNarrowWidePattern(l);if(y<0)throw new Le;d=e.patternToChar(y),this.decodeRowResult+=d,g=u;try{for(var B=(a=void 0,h2(l)),v=B.next();!v.done;v=B.next()){var w=v.value;u+=w}}catch(K){a={error:K}}finally{try{v&&!v.done&&(s=B.return)&&s.call(B)}finally{if(a)throw a.error}}u=n.getNextSet(u)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var x=0;try{for(var _=h2(l),F=_.next();!F.done;F=_.next()){var w=F.value;x+=w}}catch(K){o={error:K}}finally{try{F&&!F.done&&(A=_.return)&&A.call(_)}finally{if(o)throw o.error}}var N=u-g-x;if(u!==h&&N*2<x)throw new Le;if(this.usingCheckDigit){for(var R=this.decodeRowResult.length-1,D=0,k=0;k<R;k++)D+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(k));if(this.decodeRowResult.charAt(R)!==e.ALPHABET_STRING.charAt(D%43))throw new vi;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new Le;var V;this.extendedMode?V=e.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;var T=(c[1]+c[0])/2,O=g+x/2;return new Ba(V,null,0,[new vt(T,r),new vt(O,r)],Bt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),s=0,o=a,A=!1,l=n.length,c=a;c<i;c++)if(r.get(c)!==A)n[s]++;else{if(s===l-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((c-o)/2)),o,!1))return[o,c];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,A=!A}throw new Le},e.toNarrowWidePattern=function(r){var n,i,a=r.length,s=0,o;do{var A=2147483647;try{for(var l=(n=void 0,h2(r)),c=l.next();!c.done;c=l.next()){var u=c.value;u<A&&u>s&&(A=u)}}catch(y){n={error:y}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}s=A,o=0;for(var h=0,d=0,g=0;g<a;g++){var u=r[g];u>s&&(d|=1<<a-1-g,o++,h+=u)}if(o===3){for(var g=0;g<a&&o>0;g++){var u=r[g];if(u>s&&(o--,u*2>=h))return-1}return d}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Le},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var s=r.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(a+1),A="\0";switch(s){case"+":if(o>="A"&&o<="Z")A=String.fromCharCode(o.charCodeAt(0)+32);else throw new We;break;case"$":if(o>="A"&&o<="Z")A=String.fromCharCode(o.charCodeAt(0)-64);else throw new We;break;case"%":if(o>="A"&&o<="E")A=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")A=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")A=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")A=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")A="\0";else if(o==="V")A="@";else if(o==="W")A="`";else if(o==="X"||o==="Y"||o==="Z")A="";else throw new We;break;case"/":if(o>="A"&&o<="O")A=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")A=":";else throw new We;break}i+=A,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(wi),X$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZC=function(t){X$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,s,o=this.decodeStart(n),A=this.decodeEnd(n),l=new Nr;e.decodeMiddle(n,o[1],A[0],l);var c=l.toString(),u=null;i!=null&&(u=i.get(un.ALLOWED_LENGTHS)),u==null&&(u=e.DEFAULT_ALLOWED_LENGTHS);var h=c.length,d=!1,g=0;try{for(var y=Y$(u),B=y.next();!B.done;B=y.next()){var v=B.value;if(h===v){d=!0;break}v>g&&(g=v)}}catch(_){a={error:_}}finally{try{B&&!B.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(!d&&h>g&&(d=!0),!d)throw new We;var w=[new vt(o[1],r),new vt(A[0],r)],x=new Ba(c,null,0,w,Bt.ITF,new Date().getTime());return x},e.decodeMiddle=function(r,n,i,a){var s=new Int32Array(10),o=new Int32Array(5),A=new Int32Array(5);for(s.fill(0),o.fill(0),A.fill(0);n<i;){wi.recordPattern(r,n,s);for(var l=0;l<5;l++){var c=2*l;o[l]=s[c],A[l]=s[c+1]}var u=e.decodeDigit(o);a.append(u.toString()),u=this.decodeDigit(A),a.append(u.toString()),s.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new Le},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new Le;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof Le&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,s=new Int32Array(a),o=r.getSize(),A=!1,l=0,c=n;s.fill(0);for(var u=n;u<o;u++)if(r.get(u)!==A)s[l]++;else{if(l===a-1){if(wi.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,u];c+=s[0]+s[1],Vr.arraycopy(s,2,s,0,l-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,A=!A}throw new Le},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var o=e.PATTERNS[s],A=wi.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);A<n?(n=A,i=s):A===n&&(i=-1)}if(i>=0)return i%10;throw new Le},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(wi),J$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bf=function(t){J$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,s);var o=i[0];a=i[1];var A=o-(a-o);A>=0&&(n=r.isRange(A,o,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new We;i+=s}i*=3;for(var a=n-2;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new We;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,s){var o=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var A=0,l=n,c=a.length,u=i,h=n;h<o;h++)if(r.get(h)!==u)s[A]++;else{if(A===c-1){if(wi.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,h]);l+=s[0]+s[1];for(var d=s.slice(2,s.length-1),g=0;g<A-1;g++)s[g]=d[g];s[A-1]=0,s[A]=0,A--}else A++;s[A]=1,u=!u}throw new Le},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,A=a.length,l=0;l<A;l++){var c=a[l],u=wi.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<s&&(s=u,o=l)}if(o>=0)return o;throw new Le},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(wi),Z$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eG=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),s=i.toString(),o=t.parseExtensionString(s),A=[new vt((n[0]+n[1])/2,e),new vt(a,e)],l=new Ba(s,null,0,A,Bt.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&l.putAllMetadata(o),l},t.prototype.decodeMiddle=function(e,r,n){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),A=r[1],l=0,c=0;c<5&&A<o;c++){var u=Bf.decodeDigit(e,s,A,Bf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+u%10);try{for(var h=(i=void 0,Z$(s)),d=h.next();!d.done;d=h.next()){var g=d.value;A+=g}}catch(B){i={error:B}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u>=10&&(l|=1<<4-c),c!==4&&(A=e.getNextSet(A),A=e.getNextUnset(A))}if(n.length!==5)throw new Le;var y=this.determineCheckDigit(l);if(t.extensionChecksum(n.toString())!==y)throw new Le;return A},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Le},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[yi.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,s=a<10?"0"+a:a.toString();return r+i+"."+s},t}(),tG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rG=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),s=i.toString(),o=t.parseExtensionString(s),A=[new vt((n[0]+n[1])/2,e),new vt(a,e)],l=new Ba(s,null,0,A,Bt.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&l.putAllMetadata(o),l},t.prototype.decodeMiddle=function(e,r,n){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),A=r[1],l=0,c=0;c<2&&A<o;c++){var u=Bf.decodeDigit(e,s,A,Bf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+u%10);try{for(var h=(i=void 0,tG(s)),d=h.next();!d.done;d=h.next()){var g=d.value;A+=g}}catch(y){i={error:y}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u>=10&&(l|=1<<1-c),c!==1&&(A=e.getNextSet(A),A=e.getNextUnset(A))}if(n.length!==2)throw new Le;if(parseInt(n.toString())%4!==l)throw new Le;return A},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[yi.ISSUE_NUMBER,parseInt(e)]])},t}(),nG=function(){function t(){}return t.decodeRow=function(e,r,n){var i=Bf.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new eG;return a.decodeRow(e,r,i)}catch{var s=new rG;return s.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),iG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qn=function(t){iG(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),s=i==null?null:i.get(un.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new vt((a[0]+a[1])/2,r);s.foundPossibleResultPoint(o)}var A=this.decodeMiddle(n,a,this.decodeRowStringBuffer),l=A.rowOffset,c=A.resultString;if(s!=null){var u=new vt(l,r);s.foundPossibleResultPoint(u)}var h=e.decodeEnd(n,l);if(s!=null){var d=new vt((h[0]+h[1])/2,r);s.foundPossibleResultPoint(d)}var g=h[1],y=g+(g-h[0]);if(y>=n.getSize()||!n.isRange(g,y,!1))throw new Le;var B=c.toString();if(B.length<8)throw new We;if(!e.checkChecksum(B))throw new vi;var v=(a[1]+a[0])/2,w=(h[1]+h[0])/2,x=this.getBarcodeFormat(),_=[new vt(v,r),new vt(w,r)],F=new Ba(B,null,0,_,x,new Date().getTime()),N=0;try{var R=nG.decodeRow(r,n,h[1]);F.putMetadata(yi.UPC_EAN_EXTENSION,R.getText()),F.putAllMetadata(R.getResultMetadata()),F.addResultPoints(R.getResultPoints()),N=R.getText().length}catch{}var D=i==null?null:i.get(un.ALLOWED_EAN_EXTENSIONS);if(D!=null){var k=!1;for(var V in D)if(N.toString()===V){k=!0;break}if(!k)throw new Le}return x===Bt.EAN_13||Bt.UPC_A,F},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new We;i+=s}i*=3;for(var a=n-2;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new We;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Bf),aG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vy=function(t){aG(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o,A,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],h=0,d=0;d<6&&u<c;d++){var g=qn.decodeDigit(r,l,u,qn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var y=(a=void 0,e4(l)),B=y.next();!B.done;B=y.next()){var v=B.value;u+=v}}catch(F){a={error:F}}finally{try{B&&!B.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}g>=10&&(h|=1<<5-d)}i=e.determineFirstDigit(i,h);var w=qn.findGuardPattern(r,u,!0,qn.MIDDLE_PATTERN,new Int32Array(qn.MIDDLE_PATTERN.length).fill(0));u=w[1];for(var d=0;d<6&&u<c;d++){var g=qn.decodeDigit(r,l,u,qn.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var x=(o=void 0,e4(l)),_=x.next();!_.done;_=x.next()){var v=_.value;u+=v}}catch(R){o={error:R}}finally{try{_&&!_.done&&(A=x.return)&&A.call(x)}finally{if(o)throw o.error}}}return{rowOffset:u,resultString:i}},e.prototype.getBarcodeFormat=function(){return Bt.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new Le},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(qn),sG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r4=function(t){sG(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o,A,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],h=0;h<4&&u<c;h++){var d=qn.decodeDigit(r,l,u,qn.L_PATTERNS);i+=String.fromCharCode(48+d);try{for(var g=(a=void 0,t4(l)),y=g.next();!y.done;y=g.next()){var B=y.value;u+=B}}catch(_){a={error:_}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}}var v=qn.findGuardPattern(r,u,!0,qn.MIDDLE_PATTERN,new Int32Array(qn.MIDDLE_PATTERN.length).fill(0));u=v[1];for(var h=0;h<4&&u<c;h++){var d=qn.decodeDigit(r,l,u,qn.L_PATTERNS);i+=String.fromCharCode(48+d);try{for(var w=(o=void 0,t4(l)),x=w.next();!x.done;x=w.next()){var B=x.value;u+=B}}catch(N){o={error:N}}finally{try{x&&!x.done&&(A=w.return)&&A.call(w)}finally{if(o)throw o.error}}}return{rowOffset:u,resultString:i}},e.prototype.getBarcodeFormat=function(){return Bt.EAN_8},e}(qn),oG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n4=function(t){oG(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new vy,r}return e.prototype.getBarcodeFormat=function(){return Bt.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Ba(n.substring(1),null,null,r.getResultPoints(),Bt.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new Le},e.prototype.reset=function(){this.ean13Reader.reset()},e}(qn),AG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i4=function(t){AG(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o=this.decodeMiddleCounters.map(function(B){return B});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var A=r.getSize(),l=n[1],c=0,u=0;u<6&&l<A;u++){var h=e.decodeDigit(r,o,l,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var d=(a=void 0,lG(o)),g=d.next();!g.done;g=d.next()){var y=g.value;l+=y}}catch(B){a={error:B}}finally{try{g&&!g.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}h>=10&&(c|=1<<5-u)}return e.determineNumSysAndCheckDigit(new Nr(i),c),l},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return qn.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw Le.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Bt.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new Nr;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(qn),cG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),a4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p2=function(t){cG(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(un.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Bt.EAN_13)>-1&&a.push(new vy),i.indexOf(Bt.UPC_A)>-1&&a.push(new n4),i.indexOf(Bt.EAN_8)>-1&&a.push(new r4),i.indexOf(Bt.UPC_E)>-1&&a.push(new i4)),a.length===0&&(a.push(new vy),a.push(new n4),a.push(new r4),a.push(new i4)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,s;try{for(var o=a4(this.readers),A=o.next();!A.done;A=o.next()){var l=A.value;try{var c=l.decodeRow(r,n,i),u=c.getBarcodeFormat()===Bt.EAN_13&&c.getText().charAt(0)==="0",h=i==null?null:i.get(un.POSSIBLE_FORMATS),d=h==null||h.includes(Bt.UPC_A);if(u&&d){var g=c.getRawBytes(),y=new Ba(c.getText().substring(1),g,g?g.length:null,c.getResultPoints(),Bt.UPC_A);return y.putAllMetadata(c.getResultMetadata()),y}return c}catch{}}}catch(B){a={error:B}}finally{try{A&&!A.done&&(s=o.return)&&s.call(o)}finally{if(a)throw a.error}}throw new Le},e.prototype.reset=function(){var r,n;try{for(var i=a4(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(wi),uG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pc=function(t){uG(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(wi.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Le},e.count=function(r){return hr.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],s=1;s<r.length;s++)n[s]>a&&(a=n[s],i=s);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],s=1;s<r.length;s++)n[s]<a&&(a=n[s],i=s);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],s=a+r[2]+r[3],o=a/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var A=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var c=fG(r),u=c.next();!u.done;u=c.next()){var h=u.value;h>l&&(l=h),h<A&&(A=h)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l<10*A}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(wi),Hp=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),K6=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new vt(n,a)),this.resultPoints.push(new vt(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),dG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xu=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,s=0;try{for(var o=dG(e),A=o.next();!A.done;A=o.next()){var l=A.value;s+=l}}catch(w){i={error:w}}finally{try{A&&!A.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}for(var c=0,u=0,h=e.length,d=0;d<h-1;d++){var g=void 0;for(g=1,u|=1<<d;g<e[d];g++,u&=~(1<<d)){var y=t.combins(s-g-1,h-d-2);if(n&&u===0&&s-g-(h-d-1)>=h-d-1&&(y-=t.combins(s-g-(h-d),h-d-2)),h-d-1>1){for(var B=0,v=s-g-(h-d-2);v>r;v--)B+=t.combins(s-g-v-1,h-d-3);y-=B*(h-1-d)}else s-g>r&&y--;c+=y}s-=g}return c},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,s=1,o=e;o>n;o--)a*=o,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},t}(),hG=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new ni(n),a=0,s=e[0],o=s.getRightChar().getValue(),A=11;A>=0;--A)o&1<<A&&i.set(a),a++;for(var A=1;A<e.length;++A){for(var l=e[A],c=l.getLeftChar().getValue(),u=11;u>=0;--u)c&1<<u&&i.set(a),a++;if(l.getRightChar()!=null)for(var h=l.getRightChar().getValue(),u=11;u>=0;--u)h&1<<u&&i.set(a),a++}return i},t}(),lc=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),lx=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),pG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_s=function(t){pG(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(lx),gG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cc=function(t){gG(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(lx),vG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Su=function(t){vG(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new We;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(lx),A1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mG=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,s,o,A,l;if(!e)return null;if(e.length<2)throw new Le;var c=e.substring(0,2);try{for(var u=A1(t.TWO_DIGIT_DATA_LENGTH),h=u.next();!h.done;h=u.next()){var d=h.value;if(d[0]===c)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,d[2],e):t.processFixedAI(2,d[1],e)}}catch(N){r={error:N}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(e.length<3)throw new Le;var g=e.substring(0,3);try{for(var y=A1(t.THREE_DIGIT_DATA_LENGTH),B=y.next();!B.done;B=y.next()){var d=B.value;if(d[0]===g)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,d[2],e):t.processFixedAI(3,d[1],e)}}catch(N){i={error:N}}finally{try{B&&!B.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}try{for(var v=A1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),w=v.next();!w.done;w=v.next()){var d=w.value;if(d[0]===g)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,d[2],e):t.processFixedAI(4,d[1],e)}}catch(N){s={error:N}}finally{try{w&&!w.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}if(e.length<4)throw new Le;var x=e.substring(0,4);try{for(var _=A1(t.FOUR_DIGIT_DATA_LENGTH),F=_.next();!F.done;F=_.next()){var d=F.value;if(d[0]===x)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,d[2],e):t.processFixedAI(4,d[1],e)}}catch(N){A={error:N}}finally{try{F&&!F.done&&(l=_.return)&&l.call(_)}finally{if(A)throw A.error}}throw new Le},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Le;var i=n.substring(0,e);if(n.length<e+r)throw new Le;var a=n.substring(e,e+r),s=n.substring(e+r),o="("+i+")"+a,A=t.parseFieldsInGeneralPurpose(s);return A==null?o:o+A},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var s=n.substring(e,a),o=n.substring(a),A="("+i+")"+s,l=t.parseFieldsInGeneralPurpose(o);return l==null?A:A+l},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),R1=function(){function t(e){this.buffer=new Nr,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),s=mG.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Su(this.information.getSize(),Su.FNC1,Su.FNC1):new Su(this.information.getSize(),r-1,Su.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Su(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new cc(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new cc(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new cc(this.current.getPosition(),this.buffer.toString()):r=new cc(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new lc(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new cc(this.current.getPosition(),this.buffer.toString());return new lc(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new lc(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new cc(this.current.getPosition(),this.buffer.toString());return new lc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new lc(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new cc(this.current.getPosition(),this.buffer.toString());return new lc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new lc(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new _s(e+5,_s.FNC1);if(r>=5&&r<15)return new _s(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new _s(e+7,""+(n+1));if(n>=90&&n<116)return new _s(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new We}return new _s(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new _s(e+5,_s.FNC1);if(r>=5&&r<15)return new _s(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new _s(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new jh("Decoding invalid alphanumeric value: "+n)}return new _s(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),V6=function(){function t(e){this.information=e,this.generalDecoder=new R1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),yG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ks=function(t){yG(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var s=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?s:3*s}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(V6),wG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xG=function(t){wG(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Nr;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(ks),bG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BG=function(t){bG(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Nr;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(V6),CG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q1=function(t){CG(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var s=this.checkWeight(a),o=1e5,A=0;A<5;++A)s/o===0&&r.append("0"),o/=10;r.append(s)},e}(ks),_G=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$6=function(t){_G(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+Q1.GTIN_SIZE+e.WEIGHT_SIZE)throw new Le;var r=new Nr;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Q1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Q1),EG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SG=function(t){EG(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}($6),IG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FG=function(t){IG(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}($6),NG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TG=function(t){NG(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ks.GTIN_SIZE)throw new Le;var r=new Nr;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ks.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ks.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(ks),UG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OG=function(t){UG(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ks.GTIN_SIZE)throw new Le;var r=new Nr;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ks.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ks.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&r.append("0"),i/10==0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ks.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ks),LG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WA=function(t){LG(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Le;var r=new Nr;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!=38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var o=i;o/10==0&&r.append("0"),r.append(o),s/10==0&&r.append("0"),r.append(s),a/10==0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Q1);function kG(t){try{if(t.get(1))return new xG(t);if(!t.get(2))return new BG(t);var e=R1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new SG(t);case 5:return new FG(t)}var r=R1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new TG(t);case 13:return new OG(t)}var n=R1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new WA(t,"310","11");case 57:return new WA(t,"320","11");case 58:return new WA(t,"310","13");case 59:return new WA(t,"320","13");case 60:return new WA(t,"310","15");case 61:return new WA(t,"320","15");case 62:return new WA(t,"310","17");case 63:return new WA(t,"320","17")}}catch(i){throw console.log(i),new jh("unknown decoder: "+t)}}var s4=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),PG=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),DG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RG=function(t){DG(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof Le){if(!this.pairs.length)throw new Le;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new Le},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var A=(i=void 0,qA(r)),l=A.next();!l.done;l=A.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(h){i={error:h}}finally{try{l&&!l.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var u=new Array(r);u.push(o);try{return this.checkRows(u,s+1)}catch(h){console.log(h)}}}throw new Le},e.isValidSequence=function(r){var n,i;try{for(var a=qA(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var o=s.value;if(!(r.length>o.length)){for(var A=!0,l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!=o[l]){A=!1;break}if(A)return!0}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,s=!1;i<this.rows.length;){var o=this.rows[i];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}a=o.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new PG(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,s,o,A,l;try{for(var c=qA(n),u=c.next();!u.done;u=c.next()){var h=u.value;if(h.getPairs().length!==r.length){var d=!0;try{for(var g=(s=void 0,qA(h.getPairs())),y=g.next();!y.done;y=g.next()){var B=y.value,v=!1;try{for(var w=(A=void 0,qA(r)),x=w.next();!x.done;x=w.next()){var _=x.value;if(s4.equals(B,_)){v=!0;break}}}catch(F){A={error:F}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(A)throw A.error}}v||(d=!1)}}catch(F){s={error:F}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}}}}catch(F){i={error:F}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,s,o,A,l;try{for(var c=qA(n),u=c.next();!u.done;u=c.next()){var h=u.value,d=!0;try{for(var g=(s=void 0,qA(r)),y=g.next();!y.done;y=g.next()){var B=y.value,v=!1;try{for(var w=(A=void 0,qA(h.getPairs())),x=w.next();!x.done;x=w.next()){var _=x.value;if(B.equals(_)){v=!0;break}}}catch(F){A={error:F}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(A)throw A.error}}if(!v){d=!1;break}}}catch(F){s={error:F}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}if(d)return!0}}catch(F){i={error:F}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=hG.buildBitArray(r),i=kG(n),a=i.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),A=[s[0],s[1],o[0],o[1]];return new Ba(a,null,null,A,Bt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i==null)return!1;for(var a=i.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var A=this.pairs.get(o);a+=A.getLeftChar().getChecksumPortion(),s++;var l=A.getRightChar();l!=null&&(a+=l.getChecksumPortion(),s++)}a%=211;var c=211*(s-4)+a;return c==n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2==0;this.startFromEven&&(a=!a);var s,o=!0,A=-1;do this.findNextPair(r,n,A),s=this.parseFoundFinderPattern(r,i,a),s==null?A=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var l=this.decodeDataCharacter(r,s,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Le;var c;try{c=this.decodeDataCharacter(r,s,a,!1)}catch(u){c=null,console.log(u)}return new s4(l,c,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=r.getSize(),o;if(i>=0)o=i;else if(this.isEmptyPair(n))o=0;else{var A=n[n.length-1];o=A.getFinderPattern().getStartEnd()[1]}var l=n.length%2!=0;this.startFromEven&&(l=!l);for(var c=!1;o<s&&(c=!r.get(o),!!c);)o++;for(var u=0,h=o,d=o;d<s;d++)if(r.get(d)!=c)a[u]++;else{if(u==3){if(l&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=d;return}l&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,u--}else u++;a[u]=1,c=!c}throw new Le},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,s,o;if(i){for(var A=this.startEnd[0]-1;A>=0&&!r.get(A);)A--;A++,a=this.startEnd[0]-A,s=A,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),a=o-this.startEnd[1];var l=this.getDecodeFinderCounters();Vr.arraycopy(l,0,l,1,l.length-1),l[0]=a;var c;try{c=this.parseFinderValue(l,e.FINDER_PATTERNS)}catch{return null}return new K6(c,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var A=0,l=s.length-1;A<l;A++,l--){var c=s[A];s[A]=s[l],s[l]=c}}var u=17,h=hr.sum(new Int32Array(s))/u,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-d)/d>.3)throw new Le;for(var g=this.getOddCounts(),y=this.getEvenCounts(),B=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),A=0;A<s.length;A++){var w=1*s[A]/h,x=w+.5;if(x<1){if(w<.3)throw new Le;x=1}else if(x>8){if(w>8.7)throw new Le;x=8}var _=A/2;A&1?(y[_]=x,v[_]=w-x):(g[_]=x,B[_]=w-x)}this.adjustOddEvenCounts(u);for(var F=4*n.getValue()+(i?0:2)+(a?0:1)-1,N=0,R=0,A=g.length-1;A>=0;A--){if(e.isNotA1left(n,i,a)){var D=e.WEIGHTS[F][2*A];R+=g[A]*D}N+=g[A]}for(var k=0,A=y.length-1;A>=0;A--)if(e.isNotA1left(n,i,a)){var D=e.WEIGHTS[F][2*A+1];k+=y[A]*D}var V=R+k;if(N&1||N>13||N<4)throw new Le;var T=(13-N)/2,O=e.SYMBOL_WIDEST[T],K=9-O,q=Xu.getRSSvalue(g,O,!0),ie=Xu.getRSSvalue(y,K,!1),fe=e.EVEN_TOTAL_SUBSET[T],de=e.GSUM[T],te=q*fe+ie+de;return new Hp(te,V)},e.isNotA1left=function(r,n,i){return!(r.getValue()==0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=hr.sum(new Int32Array(this.getOddCounts())),i=hr.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;n>13?s=!0:n<4&&(a=!0);var o=!1,A=!1;i>13?A=!0:i<4&&(o=!0);var l=n+i-r,c=(n&1)==1,u=(i&1)==0;if(l==1)if(c){if(u)throw new Le;s=!0}else{if(!u)throw new Le;A=!0}else if(l==-1)if(c){if(u)throw new Le;a=!0}else{if(!u)throw new Le;o=!0}else if(l==0){if(c){if(!u)throw new Le;n<i?(a=!0,A=!0):(s=!0,o=!0)}else if(u)throw new Le}else throw new Le;if(a){if(s)throw new Le;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(A)throw new Le;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(pc),QG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jG=function(t){QG(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Hp),MG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o4=function(t){MG(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,s,o,A,l=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,l),n.reverse();var c=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var u=g2(this.possibleLeftPairs),h=u.next();!h.done;h=u.next()){var d=h.value;if(d.getCount()>1)try{for(var g=(o=void 0,g2(this.possibleRightPairs)),y=g.next();!y.done;y=g.next()){var B=y.value;if(B.getCount()>1&&e.checkChecksum(d,B))return e.constructResult(d,B)}}catch(v){o={error:v}}finally{try{y&&!y.done&&(A=g.return)&&A.call(g)}finally{if(o)throw o.error}}}}catch(v){a={error:v}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}throw new Le},e.addOrTally=function(r,n){var i,a;if(n!=null){var s=!1;try{for(var o=g2(r),A=o.next();!A.done;A=o.next()){var l=A.value;if(l.getValue()===n.getValue()){l.incrementCount(),s=!0;break}}}catch(c){i={error:c}}finally{try{A&&!A.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),s=new Nr,o=13-a.length;o>0;o--)s.append("0");s.append(a);for(var A=0,o=0;o<13;o++){var l=s.charAt(o).charCodeAt(0)-48;A+=o&1?l:3*l}A=10-A%10,A===10&&(A=0),s.append(A.toString());var c=r.getFinderPattern().getResultPoints(),u=n.getFinderPattern().getResultPoints();return new Ba(s.toString(),null,0,[c[0],c[1],u[0],u[1]],Bt.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,i,n,s),A=a==null?null:a.get(un.NEED_RESULT_POINT_CALLBACK);if(A!=null){var l=(s[0]+s[1])/2;n&&(l=r.getSize()-1-l),A.foundPossibleResultPoint(new vt(l,i))}var c=this.decodeDataCharacter(r,o,!0),u=this.decodeDataCharacter(r,o,!1);return new jG(1597*c.getValue()+u.getValue(),c.getChecksumPortion()+4*u.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)wi.recordPatternInReverse(r,n.getStartEnd()[0],a);else{wi.recordPattern(r,n.getStartEnd()[1]+1,a);for(var o=0,A=a.length-1;o<A;o++,A--){var l=a[o];a[o]=a[A],a[A]=l}}for(var c=i?16:15,u=hr.sum(new Int32Array(a))/c,h=this.getOddCounts(),d=this.getEvenCounts(),g=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),o=0;o<a.length;o++){var B=a[o]/u,v=Math.floor(B+.5);v<1?v=1:v>8&&(v=8);var w=Math.floor(o/2);o&1?(d[w]=v,y[w]=B-v):(h[w]=v,g[w]=B-v)}this.adjustOddEvenCounts(i,c);for(var x=0,_=0,o=h.length-1;o>=0;o--)_*=9,_+=h[o],x+=h[o];for(var F=0,N=0,o=d.length-1;o>=0;o--)F*=9,F+=d[o],N+=d[o];var R=_+3*F;if(i){if(x&1||x>12||x<4)throw new Le;var D=(12-x)/2,k=e.OUTSIDE_ODD_WIDEST[D],V=9-k,T=Xu.getRSSvalue(h,k,!1),O=Xu.getRSSvalue(d,V,!0),K=e.OUTSIDE_EVEN_TOTAL_SUBSET[D],q=e.OUTSIDE_GSUM[D];return new Hp(T*K+O+q,R)}else{if(N&1||N>10||N<4)throw new Le;var D=(10-N)/2,k=e.INSIDE_ODD_WIDEST[D],V=9-k,T=Xu.getRSSvalue(h,k,!0),O=Xu.getRSSvalue(d,V,!1),ie=e.INSIDE_ODD_TOTAL_SUBSET[D],q=e.INSIDE_GSUM[D];return new Hp(O*ie+T+q,R)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),s=!1,o=0;o<a&&(s=!r.get(o),n!==s);)o++;for(var A=0,l=o,c=o;c<a;c++)if(r.get(c)!==s)i[A]++;else{if(A===3){if(pc.isFinderPattern(i))return[l,c];l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,A--}else A++;i[A]=1,s=!s}throw new Le},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var s=r.get(a[0]),o=a[0]-1;o>=0&&s!==r.get(o);)o--;o++;var A=a[0]-o,l=this.getDecodeFinderCounters(),c=new Int32Array(l.length);Vr.arraycopy(l,0,c,1,l.length-1),c[0]=A;var u=this.parseFinderValue(c,e.FINDER_PATTERNS),h=o,d=a[1];return i&&(h=r.getSize()-1-h,d=r.getSize()-1-d),new K6(u,[o,a[1]],h,d,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=hr.sum(new Int32Array(this.getOddCounts())),a=hr.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,A=!1,l=!1;r?(i>12?o=!0:i<4&&(s=!0),a>12?l=!0:a<4&&(A=!0)):(i>11?o=!0:i<5&&(s=!0),a>10?l=!0:a<4&&(A=!0));var c=i+a-n,u=(i&1)===(r?1:0),h=(a&1)===1;if(c===1)if(u){if(h)throw new Le;o=!0}else{if(!h)throw new Le;l=!0}else if(c===-1)if(u){if(h)throw new Le;s=!0}else{if(!h)throw new Le;A=!0}else if(c===0){if(u){if(!h)throw new Le;i<a?(s=!0,l=!0):(o=!0,A=!0)}else if(h)throw new Le}else throw new Le;if(s){if(o)throw new Le;pc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&pc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(l)throw new Le;pc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&pc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(pc),HG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nd=function(t){HG(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(un.POSSIBLE_FORMATS):null,a=r&&r.get(un.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(Bt.EAN_13)||i.includes(Bt.UPC_A)||i.includes(Bt.EAN_8)||i.includes(Bt.UPC_E))&&n.readers.push(new p2(r)),i.includes(Bt.CODE_39)&&n.readers.push(new JC(a)),i.includes(Bt.CODE_128)&&n.readers.push(new YC),i.includes(Bt.ITF)&&n.readers.push(new ZC),i.includes(Bt.RSS_14)&&n.readers.push(new o4),i.includes(Bt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new RG))),n.readers.length===0&&(n.readers.push(new p2(r)),n.readers.push(new JC),n.readers.push(new p2(r)),n.readers.push(new YC),n.readers.push(new ZC),n.readers.push(new o4)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new Le},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(wi),KG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){KG(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Nd(n),r,n)||this}return e})(Df);var A4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vr=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),gr=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),VG=function(){function t(e,r,n,i,a,s){var o,A;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var l=0,c=s.getECCodewords(),u=s.getECBlocks();try{for(var h=A4(u),d=h.next();!d.done;d=h.next()){var g=d.value;l+=g.getCount()*(g.getDataCodewords()+c)}}catch(y){o={error:y}}finally{try{d&&!d.done&&(A=h.return)&&A.call(h)}finally{if(o)throw o.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new We;try{for(var a=A4(t.VERSIONS),s=a.next();!s.done;s=a.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(A){n={error:A}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new We},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new vr(5,new gr(1,3))),new t(2,12,12,10,10,new vr(7,new gr(1,5))),new t(3,14,14,12,12,new vr(10,new gr(1,8))),new t(4,16,16,14,14,new vr(12,new gr(1,12))),new t(5,18,18,16,16,new vr(14,new gr(1,18))),new t(6,20,20,18,18,new vr(18,new gr(1,22))),new t(7,22,22,20,20,new vr(20,new gr(1,30))),new t(8,24,24,22,22,new vr(24,new gr(1,36))),new t(9,26,26,24,24,new vr(28,new gr(1,44))),new t(10,32,32,14,14,new vr(36,new gr(1,62))),new t(11,36,36,16,16,new vr(42,new gr(1,86))),new t(12,40,40,18,18,new vr(48,new gr(1,114))),new t(13,44,44,20,20,new vr(56,new gr(1,144))),new t(14,48,48,22,22,new vr(68,new gr(1,174))),new t(15,52,52,24,24,new vr(42,new gr(2,102))),new t(16,64,64,14,14,new vr(56,new gr(2,140))),new t(17,72,72,16,16,new vr(36,new gr(4,92))),new t(18,80,80,18,18,new vr(48,new gr(4,114))),new t(19,88,88,20,20,new vr(56,new gr(4,144))),new t(20,96,96,22,22,new vr(68,new gr(4,174))),new t(21,104,104,24,24,new vr(56,new gr(6,136))),new t(22,120,120,18,18,new vr(68,new gr(6,175))),new t(23,132,132,20,20,new vr(62,new gr(8,163))),new t(24,144,144,22,22,new vr(62,new gr(8,156),new gr(2,155))),new t(25,8,18,6,16,new vr(7,new gr(1,5))),new t(26,8,32,6,14,new vr(11,new gr(1,10))),new t(27,12,26,10,24,new vr(14,new gr(1,16))),new t(28,12,36,10,16,new vr(18,new gr(1,22))),new t(29,16,36,14,16,new vr(24,new gr(1,32))),new t(30,16,48,14,22,new vr(28,new gr(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),$G=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new We;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new wo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return VG.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,A=!1,l=!1,c=!1;do if(n===a&&i===0&&!o)e[r++]=this.readCorner1(a,s)&255,n-=2,i+=2,o=!0;else if(n===a-2&&i===0&&s&3&&!A)e[r++]=this.readCorner2(a,s)&255,n-=2,i+=2,A=!0;else if(n===a+4&&i===2&&!(s&7)&&!l)e[r++]=this.readCorner3(a,s)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(s&7)===4&&!c)e[r++]=this.readCorner4(a,s)&255,n-=2,i+=2,c=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,s)&255),n-=2,i+=2;while(n>=0&&i<s);n+=1,i+=3;do n>=0&&i<s&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,s)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<s);if(r!==this.version.getTotalCodewords())throw new We;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new bt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=r/i|0,o=n/a|0,A=s*i,l=o*a,c=new wo(l,A),u=0;u<s;++u)for(var h=u*i,d=0;d<o;++d)for(var g=d*a,y=0;y<i;++y)for(var B=u*(i+2)+1+y,v=h+y,w=0;w<a;++w){var x=d*(a+2)+1+w;if(e.get(x,B)){var _=g+w;c.set(_,v)}}return c},t}(),l4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GG=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,s,o=r.getECBlocks(),A=0,l=o.getECBlocks();try{for(var c=l4(l),u=c.next();!u.done;u=c.next()){var h=u.value;A+=h.getCount()}}catch(q){n={error:q}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var d=new Array(A),g=0;try{for(var y=l4(l),B=y.next();!B.done;B=y.next())for(var h=B.value,v=0;v<h.getCount();v++){var w=h.getDataCodewords(),x=o.getECCodewords()+w;d[g++]=new t(w,new Uint8Array(x))}}catch(q){a={error:q}}finally{try{B&&!B.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}for(var _=d[0].codewords.length,F=_-o.getECCodewords(),N=F-1,R=0,v=0;v<N;v++)for(var D=0;D<g;D++)d[D].codewords[v]=e[R++];for(var k=r.getVersionNumber()===24,V=k?8:g,D=0;D<V;D++)d[D].codewords[F-1]=e[R++];for(var T=d[0].codewords.length,v=F;v<T;v++)for(var D=0;D<g;D++){var O=k?(D+8)%g:D,K=k&&O>7?v-1:v;d[O].codewords[K]=e[R++]}if(R!==e.length)throw new bt;return d},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),G6=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new bt(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,A=s-o,l=255>>8-o<<A;r=(a[i]&l)>>A,e-=o,n+=o,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var A=8-e,l=255>>A<<A;r=r<<e|(a[i]&l)>>A,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),zn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(zn||(zn={}));var zG=function(){function t(){}return t.decode=function(e){var r=new G6(e),n=new Nr,i=new Nr,a=new Array,s=zn.ASCII_ENCODE;do if(s===zn.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,i);else{switch(s){case zn.C40_ENCODE:this.decodeC40Segment(r,n);break;case zn.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case zn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case zn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case zn.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new We}s=zn.ASCII_ENCODE}while(s!==zn.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Sg(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new We;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),zn.ASCII_ENCODE;if(a===129)return zn.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&r.append("0"),r.append(""+s)}else switch(a){case 230:return zn.C40_ENCODE;case 231:return zn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return zn.ANSIX12_ENCODE;case 239:return zn.TEXT_ENCODE;case 240:return zn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new We;break}}while(e.available()>0);return zn.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var o=0;o<3;o++){var A=i[o];switch(a){case 0:if(A<3)a=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new We;break;case 1:n?(r.append(String.fromCharCode(A+128)),n=!1):r.append(String.fromCharCode(A)),a=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(A){case 27:r.append("");break;case 30:n=!0;break;default:throw new We}a=0;break;case 3:n?(r.append(String.fromCharCode(A+224)),n=!1):r.append(String.fromCharCode(A+96)),a=0;break;default:throw new We}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var o=0;o<3;o++){var A=i[o];switch(a){case 0:if(A<3)a=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new We;break;case 1:n?(r.append(String.fromCharCode(A+128)),n=!1):r.append(String.fromCharCode(A)),a=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(A){case 27:r.append("");break;case 30:n=!0;break;default:throw new We}a=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[A];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l),a=0}else throw new We;break;default:throw new We}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var s=n[a];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new We;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new We;for(var o=new Uint8Array(s),A=0;A<s;A++){if(e.available()<8)throw new We;o[A]=this.unrandomize255State(e.readBits(8),i++)}n.push(o);try{r.append(yo.decode(o,Mr.ISO88591))}catch(l){throw new jh("Platform does not support required encoding: "+l.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),WG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qG=function(){function t(){this.rsDecoder=new Ig(ha.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new $G(e),a=i.getVersion(),s=i.readCodewords(),o=GG.getDataBlocks(s,a),A=0;try{for(var l=WG(o),c=l.next();!c.done;c=l.next()){var u=c.value;A+=u.getNumDataCodewords()}}catch(x){r={error:x}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var h=new Uint8Array(A),d=o.length,g=0;g<d;g++){var y=o[g],B=y.getCodewords(),v=y.getNumDataCodewords();this.correctErrors(B,v);for(var w=0;w<v;w++)h[w*d+g]=B[w]}return zG.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new vi}for(var i=0;i<r;i++)e[i]=n[i]},t}(),XG=function(){function t(e){this.image=e,this.rectangleDetector=new py(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Le;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,A=this.transitionsBetween(a,s)+1;(o&1)===1&&(o+=1),(A&1)===1&&(A+=1),4*o<7*A&&4*A<7*o&&(o=A=Math.max(o,A));var l=t.sampleGrid(this.image,n,i,a,s,o,A);return new ox(l,[n,i,a,s])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new vt(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new vt(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,i),A=this.transitionsBetween(i,a),l=this.transitionsBetween(a,r),c=s,u=[a,r,n,i];return c>o&&(c=o,u[0]=r,u[1]=n,u[2]=i,u[3]=a),c>A&&(c=A,u[0]=n,u[1]=i,u[2]=a,u[3]=r),c>l&&(u[0]=i,u[1]=a,u[2]=r,u[3]=n),u},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a),o=t.shiftPoint(n,i,(s+1)*4),A=t.shiftPoint(i,n,(s+1)*4),l=this.transitionsBetween(o,r),c=this.transitionsBetween(A,a);return l<c?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a),o=this.transitionsBetween(n,a),A=t.shiftPoint(r,n,(o+1)*4),l=t.shiftPoint(i,n,(s+1)*4);s=this.transitionsBetween(A,a),o=this.transitionsBetween(l,a);var c=new vt(a.getX()+(i.getX()-n.getX())/(s+1),a.getY()+(i.getY()-n.getY())/(s+1)),u=new vt(a.getX()+(r.getX()-n.getX())/(o+1),a.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(c))return this.isValid(u)?u:null;if(!this.isValid(u))return c;var h=this.transitionsBetween(A,c)+this.transitionsBetween(l,c),d=this.transitionsBetween(A,u)+this.transitionsBetween(l,u);return h>d?c:u},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a)+1,o=this.transitionsBetween(i,a)+1,A=t.shiftPoint(r,n,o*4),l=t.shiftPoint(i,n,s*4);s=this.transitionsBetween(A,a)+1,o=this.transitionsBetween(l,a)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var c=(r.getX()+n.getX()+i.getX()+a.getX())/4,u=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,c,u),n=t.moveAway(n,c,u),i=t.moveAway(i,c,u),a=t.moveAway(a,c,u);var h,d;return A=t.shiftPoint(r,n,o*4),A=t.shiftPoint(A,a,s*4),h=t.shiftPoint(n,r,o*4),h=t.shiftPoint(h,i,s*4),l=t.shiftPoint(i,a,o*4),l=t.shiftPoint(l,n,s*4),d=t.shiftPoint(a,i,o*4),d=t.shiftPoint(d,r,s*4),[A,h,l,d]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,s,o){var A=Ax.getInstance();return A.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-i)>Math.abs(a-n);if(o){var A=n;n=i,i=A,A=a,a=s,s=A}for(var l=Math.abs(a-n),c=Math.abs(s-i),u=-l/2,h=i<s?1:-1,d=n<a?1:-1,g=0,y=this.image.get(o?i:n,o?n:i),B=n,v=i;B!==a;B+=d){var w=this.image.get(o?v:B,o?B:v);if(w!==y&&(g++,y=w),u+=c,u>0){if(v===s)break;v+=h,u-=l}}return g},t}(),my=function(){function t(){this.decoder=new qG}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(un.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var s=new XG(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),i=s.getPoints()}var o=n.getRawBytes(),A=new Ba(n.getText(),o,8*o.length,i,Bt.DATA_MATRIX,Vr.currentTimeMillis()),l=n.getByteSegments();l!=null&&A.putMetadata(yi.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!=null&&A.putMetadata(yi.ERROR_CORRECTION_LEVEL,c),A},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Le;var i=this.moduleSize(r,e),a=r[1],s=n[1],o=r[0],A=n[0],l=(A-o+1)/i,c=(s-a+1)/i;if(l<=0||c<=0)throw new Le;var u=i/2;a+=u,o+=u;for(var h=new wo(l,c),d=0;d<c;d++)for(var g=a+d*i,y=0;y<l;y++)e.get(o+y*i,g)&&h.set(y,d);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new Le;var s=i-e[0];if(s===0)throw new Le;return s},t.NO_POINTS=[],t}(),YG=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){YG(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new my,r)||this}return e})(Df);var Yu;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Yu||(Yu={}));var JG=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Is(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new bt;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Yu.L,"L",1),t.M=new t(Yu.M,"M",0),t.Q=new t(Yu.Q,"Q",3),t.H=new t(Yu.H,"H",2),t}(),ZG=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z6=function(){function t(e){this.errorCorrectionLevel=JG.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return er.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=ZG(t.FORMAT_INFO_DECODE_LOOKUP),A=o.next();!A.done;A=o.next()){var l=A.value,c=l[0];if(c===e||c===r)return new t(l[1]);var u=t.numBitsDiffering(e,c);u<a&&(s=l[1],a=u),e!==r&&(u=t.numBitsDiffering(r,c),u<a&&(s=l[1],a=u))}}catch(h){n={error:h}}finally{try{A&&!A.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),ez=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},me=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=ez(i),s=a.next();!s.done;s=a.next()){var o=s.value;n+=o.getCount()}}catch(A){e={error:A}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Y=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),tz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tc=function(){function t(e,r){for(var n,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var o=0,A=a[0].getECCodewordsPerBlock(),l=a[0].getECBlocks();try{for(var c=tz(l),u=c.next();!u.done;u=c.next()){var h=u.value;o+=h.getCount()*(h.getDataCodewords()+A)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new We;try{return this.getVersionForNumber((e-17)/4)}catch{throw new We}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new bt;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var s=z6.numBitsDiffering(e,a);s<r&&(n=i+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new wo(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<n;s++)i===0&&(s===0||s===n-1)||i===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new me(7,new Y(1,19)),new me(10,new Y(1,16)),new me(13,new Y(1,13)),new me(17,new Y(1,9))),new t(2,Int32Array.from([6,18]),new me(10,new Y(1,34)),new me(16,new Y(1,28)),new me(22,new Y(1,22)),new me(28,new Y(1,16))),new t(3,Int32Array.from([6,22]),new me(15,new Y(1,55)),new me(26,new Y(1,44)),new me(18,new Y(2,17)),new me(22,new Y(2,13))),new t(4,Int32Array.from([6,26]),new me(20,new Y(1,80)),new me(18,new Y(2,32)),new me(26,new Y(2,24)),new me(16,new Y(4,9))),new t(5,Int32Array.from([6,30]),new me(26,new Y(1,108)),new me(24,new Y(2,43)),new me(18,new Y(2,15),new Y(2,16)),new me(22,new Y(2,11),new Y(2,12))),new t(6,Int32Array.from([6,34]),new me(18,new Y(2,68)),new me(16,new Y(4,27)),new me(24,new Y(4,19)),new me(28,new Y(4,15))),new t(7,Int32Array.from([6,22,38]),new me(20,new Y(2,78)),new me(18,new Y(4,31)),new me(18,new Y(2,14),new Y(4,15)),new me(26,new Y(4,13),new Y(1,14))),new t(8,Int32Array.from([6,24,42]),new me(24,new Y(2,97)),new me(22,new Y(2,38),new Y(2,39)),new me(22,new Y(4,18),new Y(2,19)),new me(26,new Y(4,14),new Y(2,15))),new t(9,Int32Array.from([6,26,46]),new me(30,new Y(2,116)),new me(22,new Y(3,36),new Y(2,37)),new me(20,new Y(4,16),new Y(4,17)),new me(24,new Y(4,12),new Y(4,13))),new t(10,Int32Array.from([6,28,50]),new me(18,new Y(2,68),new Y(2,69)),new me(26,new Y(4,43),new Y(1,44)),new me(24,new Y(6,19),new Y(2,20)),new me(28,new Y(6,15),new Y(2,16))),new t(11,Int32Array.from([6,30,54]),new me(20,new Y(4,81)),new me(30,new Y(1,50),new Y(4,51)),new me(28,new Y(4,22),new Y(4,23)),new me(24,new Y(3,12),new Y(8,13))),new t(12,Int32Array.from([6,32,58]),new me(24,new Y(2,92),new Y(2,93)),new me(22,new Y(6,36),new Y(2,37)),new me(26,new Y(4,20),new Y(6,21)),new me(28,new Y(7,14),new Y(4,15))),new t(13,Int32Array.from([6,34,62]),new me(26,new Y(4,107)),new me(22,new Y(8,37),new Y(1,38)),new me(24,new Y(8,20),new Y(4,21)),new me(22,new Y(12,11),new Y(4,12))),new t(14,Int32Array.from([6,26,46,66]),new me(30,new Y(3,115),new Y(1,116)),new me(24,new Y(4,40),new Y(5,41)),new me(20,new Y(11,16),new Y(5,17)),new me(24,new Y(11,12),new Y(5,13))),new t(15,Int32Array.from([6,26,48,70]),new me(22,new Y(5,87),new Y(1,88)),new me(24,new Y(5,41),new Y(5,42)),new me(30,new Y(5,24),new Y(7,25)),new me(24,new Y(11,12),new Y(7,13))),new t(16,Int32Array.from([6,26,50,74]),new me(24,new Y(5,98),new Y(1,99)),new me(28,new Y(7,45),new Y(3,46)),new me(24,new Y(15,19),new Y(2,20)),new me(30,new Y(3,15),new Y(13,16))),new t(17,Int32Array.from([6,30,54,78]),new me(28,new Y(1,107),new Y(5,108)),new me(28,new Y(10,46),new Y(1,47)),new me(28,new Y(1,22),new Y(15,23)),new me(28,new Y(2,14),new Y(17,15))),new t(18,Int32Array.from([6,30,56,82]),new me(30,new Y(5,120),new Y(1,121)),new me(26,new Y(9,43),new Y(4,44)),new me(28,new Y(17,22),new Y(1,23)),new me(28,new Y(2,14),new Y(19,15))),new t(19,Int32Array.from([6,30,58,86]),new me(28,new Y(3,113),new Y(4,114)),new me(26,new Y(3,44),new Y(11,45)),new me(26,new Y(17,21),new Y(4,22)),new me(26,new Y(9,13),new Y(16,14))),new t(20,Int32Array.from([6,34,62,90]),new me(28,new Y(3,107),new Y(5,108)),new me(26,new Y(3,41),new Y(13,42)),new me(30,new Y(15,24),new Y(5,25)),new me(28,new Y(15,15),new Y(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new me(28,new Y(4,116),new Y(4,117)),new me(26,new Y(17,42)),new me(28,new Y(17,22),new Y(6,23)),new me(30,new Y(19,16),new Y(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new me(28,new Y(2,111),new Y(7,112)),new me(28,new Y(17,46)),new me(30,new Y(7,24),new Y(16,25)),new me(24,new Y(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new me(30,new Y(4,121),new Y(5,122)),new me(28,new Y(4,47),new Y(14,48)),new me(30,new Y(11,24),new Y(14,25)),new me(30,new Y(16,15),new Y(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new me(30,new Y(6,117),new Y(4,118)),new me(28,new Y(6,45),new Y(14,46)),new me(30,new Y(11,24),new Y(16,25)),new me(30,new Y(30,16),new Y(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new me(26,new Y(8,106),new Y(4,107)),new me(28,new Y(8,47),new Y(13,48)),new me(30,new Y(7,24),new Y(22,25)),new me(30,new Y(22,15),new Y(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new me(28,new Y(10,114),new Y(2,115)),new me(28,new Y(19,46),new Y(4,47)),new me(28,new Y(28,22),new Y(6,23)),new me(30,new Y(33,16),new Y(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new me(30,new Y(8,122),new Y(4,123)),new me(28,new Y(22,45),new Y(3,46)),new me(30,new Y(8,23),new Y(26,24)),new me(30,new Y(12,15),new Y(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new me(30,new Y(3,117),new Y(10,118)),new me(28,new Y(3,45),new Y(23,46)),new me(30,new Y(4,24),new Y(31,25)),new me(30,new Y(11,15),new Y(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new me(30,new Y(7,116),new Y(7,117)),new me(28,new Y(21,45),new Y(7,46)),new me(30,new Y(1,23),new Y(37,24)),new me(30,new Y(19,15),new Y(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new me(30,new Y(5,115),new Y(10,116)),new me(28,new Y(19,47),new Y(10,48)),new me(30,new Y(15,24),new Y(25,25)),new me(30,new Y(23,15),new Y(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new me(30,new Y(13,115),new Y(3,116)),new me(28,new Y(2,46),new Y(29,47)),new me(30,new Y(42,24),new Y(1,25)),new me(30,new Y(23,15),new Y(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new me(30,new Y(17,115)),new me(28,new Y(10,46),new Y(23,47)),new me(30,new Y(10,24),new Y(35,25)),new me(30,new Y(19,15),new Y(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new me(30,new Y(17,115),new Y(1,116)),new me(28,new Y(14,46),new Y(21,47)),new me(30,new Y(29,24),new Y(19,25)),new me(30,new Y(11,15),new Y(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new me(30,new Y(13,115),new Y(6,116)),new me(28,new Y(14,46),new Y(23,47)),new me(30,new Y(44,24),new Y(7,25)),new me(30,new Y(59,16),new Y(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new me(30,new Y(12,121),new Y(7,122)),new me(28,new Y(12,47),new Y(26,48)),new me(30,new Y(39,24),new Y(14,25)),new me(30,new Y(22,15),new Y(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new me(30,new Y(6,121),new Y(14,122)),new me(28,new Y(6,47),new Y(34,48)),new me(30,new Y(46,24),new Y(10,25)),new me(30,new Y(2,15),new Y(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new me(30,new Y(17,122),new Y(4,123)),new me(28,new Y(29,46),new Y(14,47)),new me(30,new Y(49,24),new Y(10,25)),new me(30,new Y(24,15),new Y(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new me(30,new Y(4,122),new Y(18,123)),new me(28,new Y(13,46),new Y(32,47)),new me(30,new Y(48,24),new Y(14,25)),new me(30,new Y(42,15),new Y(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new me(30,new Y(20,117),new Y(4,118)),new me(28,new Y(40,47),new Y(7,48)),new me(30,new Y(43,24),new Y(22,25)),new me(30,new Y(10,15),new Y(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new me(30,new Y(19,118),new Y(6,119)),new me(28,new Y(18,47),new Y(31,48)),new me(30,new Y(34,24),new Y(34,25)),new me(30,new Y(20,15),new Y(61,16)))],t}(),ei;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(ei||(ei={}));var c4=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[ei.DATA_MASK_000,new t(ei.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[ei.DATA_MASK_001,new t(ei.DATA_MASK_001,function(e,r){return(e&1)===0})],[ei.DATA_MASK_010,new t(ei.DATA_MASK_010,function(e,r){return r%3===0})],[ei.DATA_MASK_011,new t(ei.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[ei.DATA_MASK_100,new t(ei.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[ei.DATA_MASK_101,new t(ei.DATA_MASK_101,function(e,r){return e*r%6===0})],[ei.DATA_MASK_110,new t(ei.DATA_MASK_110,function(e,r){return e*r%6<3})],[ei.DATA_MASK_111,new t(ei.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),rz=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new We;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,n=i-1;n>=s;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=z6.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new We},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Tc.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)n=this.copyBit(s,a,n);var o=Tc.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)n=this.copyBit(s,a,n);if(o=Tc.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new We},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=c4.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),A=0,l=0,c=0,u=i-1;u>0;u-=2){u===6&&u--;for(var h=0;h<i;h++)for(var d=s?i-1-h:h,g=0;g<2;g++)a.get(u-g,d)||(c++,l<<=1,this.bitMatrix.get(u-g,d)&&(l|=1),c===8&&(o[A++]=l,c=0,l=0));s=!s}if(A!==r.getTotalCodewords())throw new We;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=c4.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),u4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nz=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,s,o;if(e.length!==r.getTotalCodewords())throw new bt;var A=r.getECBlocksForLevel(n),l=0,c=A.getECBlocks();try{for(var u=u4(c),h=u.next();!h.done;h=u.next()){var d=h.value;l+=d.getCount()}}catch(K){i={error:K}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var g=new Array(l),y=0;try{for(var B=u4(c),v=B.next();!v.done;v=B.next())for(var d=v.value,w=0;w<d.getCount();w++){var x=d.getDataCodewords(),_=A.getECCodewordsPerBlock()+x;g[y++]=new t(x,new Uint8Array(_))}}catch(K){s={error:K}}finally{try{v&&!v.done&&(o=B.return)&&o.call(B)}finally{if(s)throw s.error}}for(var F=g[0].codewords.length,N=g.length-1;N>=0;){var R=g[N].codewords.length;if(R===F)break;N--}N++;for(var D=F-A.getECCodewordsPerBlock(),k=0,w=0;w<D;w++)for(var V=0;V<y;V++)g[V].codewords[w]=e[k++];for(var V=N;V<y;V++)g[V].codewords[D]=e[k++];for(var T=g[0].codewords.length,w=D;w<T;w++)for(var V=0;V<y;V++){var O=V<N?w:w+1;g[V].codewords[O]=e[k++]}return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Ja;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Ja||(Ja={}));var qr=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new bt;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Ja.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Ja.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Ja.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Ja.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Ja.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Ja.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Ja.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Ja.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Ja.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Ja.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),iz=function(){function t(){}return t.decode=function(e,r,n,i){var a=new G6(e),s=new Nr,o=new Array,A=-1,l=-1;try{var c=null,u=!1,h=void 0;do{if(a.available()<4)h=qr.TERMINATOR;else{var d=a.readBits(4);h=qr.forBits(d)}switch(h){case qr.TERMINATOR:break;case qr.FNC1_FIRST_POSITION:case qr.FNC1_SECOND_POSITION:u=!0;break;case qr.STRUCTURED_APPEND:if(a.available()<16)throw new We;A=a.readBits(8),l=a.readBits(8);break;case qr.ECI:var g=t.parseECIValue(a);if(c=Yn.getCharacterSetECIByValue(g),c===null)throw new We;break;case qr.HANZI:var y=a.readBits(4),B=a.readBits(h.getCharacterCountBits(r));y===t.GB2312_SUBSET&&t.decodeHanziSegment(a,s,B);break;default:var v=a.readBits(h.getCharacterCountBits(r));switch(h){case qr.NUMERIC:t.decodeNumericSegment(a,s,v);break;case qr.ALPHANUMERIC:t.decodeAlphanumericSegment(a,s,v,u);break;case qr.BYTE:t.decodeByteSegment(a,s,v,c,o,i);break;case qr.KANJI:t.decodeKanjiSegment(a,s,v);break;default:throw new We}break}}while(h!==qr.TERMINATOR)}catch{throw new We}return new Sg(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),A,l)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new We;for(var i=new Uint8Array(2*n),a=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,i[a]=o>>8&255,i[a+1]=o&255,a+=2,n--}try{r.append(yo.decode(i,Mr.GB2312))}catch(A){throw new We(A)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new We;for(var i=new Uint8Array(2*n),a=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,i[a]=o>>8,i[a+1]=o,a+=2,n--}try{r.append(yo.decode(i,Mr.SHIFT_JIS))}catch(A){throw new We(A)}},t.decodeByteSegment=function(e,r,n,i,a,s){if(8*n>e.available())throw new We;for(var o=new Uint8Array(n),A=0;A<n;A++)o[A]=e.readBits(8);var l;i===null?l=Mr.guessEncoding(o,s):l=i.getName();try{r.append(yo.decode(o,l))}catch(c){throw new We(c)}a.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new We;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new We;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new We;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var o=a;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new We;var i=e.readBits(10);if(i>=1e3)throw new We;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new We;var a=e.readBits(7);if(a>=100)throw new We;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new We;var s=e.readBits(4);if(s>=10)throw new We;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new We},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),W6=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),f4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},az=function(){function t(){this.rsDecoder=new Ig(ha.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(wo.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new rz(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new W6(!0)),a}catch(s){throw i!==null?i:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,s,o=e.readVersion(),A=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=nz.getDataBlocks(l,o,A),u=0;try{for(var h=f4(c),d=h.next();!d.done;d=h.next()){var g=d.value;u+=g.getNumDataCodewords()}}catch(N){n={error:N}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var y=new Uint8Array(u),B=0;try{for(var v=f4(c),w=v.next();!w.done;w=v.next()){var g=w.value,x=g.getCodewords(),_=g.getNumDataCodewords();this.correctErrors(x,_);for(var F=0;F<_;F++)y[B++]=x[F]}}catch(N){a={error:N}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}return iz.decode(y,o,A,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new vi}for(var i=0;i<r;i++)e[i]=n[i]},t}(),sz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oz=function(t){sz(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+i)/2;return new e(a,s,o)},e}(vt),Az=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lz=function(){function t(e,r,n,i,a,s,o){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,s=new Int32Array(3),o=this.image,A=0;A<r;A++){var l=a+(A&1?-Math.floor((A+1)/2):Math.floor((A+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var c=e;c<i&&!o.get(c,l);)c++;for(var u=0;c<i;){if(o.get(c,l))if(u===1)s[1]++;else if(u===2){if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,l,c);if(h!==null)return h}s[0]=s[2],s[1]=1,s[2]=0,u=1}else s[++u]++;else u===1&&u++,s[u]++;c++}if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,l,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Le},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,s=a.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var A=e;A>=0&&a.get(r,A)&&o[1]<=n;)o[1]++,A--;if(A<0||o[1]>n)return NaN;for(;A>=0&&!a.get(r,A)&&o[0]<=n;)o[0]++,A--;if(o[0]>n)return NaN;for(A=e+1;A<s&&a.get(r,A)&&o[1]<=n;)o[1]++,A++;if(A===s||o[1]>n)return NaN;for(;A<s&&!a.get(r,A)&&o[2]<=n;)o[2]++,A++;if(o[2]>n)return NaN;var l=o[0]+o[1]+o[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,A):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,s=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),A=this.crossCheckVertical(r,o,2*e[1],s);if(!isNaN(A)){var l=(e[0]+e[1]+e[2])/3;try{for(var c=Az(this.possibleCenters),u=c.next();!u.done;u=c.next()){var h=u.value;if(h.aboutEquals(l,A,o))return h.combineEstimate(A,o,l)}}catch(g){i={error:g}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var d=new oz(o,A,l);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null},t}(),cz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uz=function(t){cz(e,t);function e(r,n,i,a){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,s=(this.count*this.getX()+n)/a,o=(this.count*this.getY()+r)/a,A=(this.count*this.estimatedModuleSize+i)/a;return new e(s,o,A,a)},e}(vt),fz=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),hd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dz=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(un.TRY_HARDER)!==void 0,n=e!=null&&e.get(un.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),o=Math.floor(3*a/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var A=!1,l=new Int32Array(5),c=o-1;c<a&&!A;c+=o){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var u=0,h=0;h<s;h++)if(i.get(h,c))(u&1)===1&&u++,l[u]++;else if(u&1)l[u]++;else if(u===4)if(t.foundPatternCross(l)){var d=this.handlePossibleCenter(l,c,h,n);if(d===!0)if(o=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>l[2]&&(c+=g-l[2]-o,h=s-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,u=3;continue}u=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,u=3;else l[++u]++;if(t.foundPatternCross(l)){var d=this.handlePossibleCenter(l,c,s,n);d===!0&&(o=l[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}}var y=this.selectBestPatterns();return vt.orderBestPatterns(y),new fz(y)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&r>=s&&o.get(r-s,e-s);)a[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!o.get(r-s,e-s)&&a[1]<=n;)a[1]++,s++;if(e<s||r<s||a[1]>n)return!1;for(;e>=s&&r>=s&&o.get(r-s,e-s)&&a[0]<=n;)a[0]++,s++;if(a[0]>n)return!1;var A=o.getHeight(),l=o.getWidth();for(s=1;e+s<A&&r+s<l&&o.get(r+s,e+s);)a[2]++,s++;if(e+s>=A||r+s>=l)return!1;for(;e+s<A&&r+s<l&&!o.get(r+s,e+s)&&a[3]<n;)a[3]++,s++;if(e+s>=A||r+s>=l||a[3]>=n)return!1;for(;e+s<A&&r+s<l&&o.get(r+s,e+s)&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return!1;var c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,s=a.getHeight(),o=this.getCrossCheckStateCount(),A=e;A>=0&&a.get(r,A);)o[2]++,A--;if(A<0)return NaN;for(;A>=0&&!a.get(r,A)&&o[1]<=n;)o[1]++,A--;if(A<0||o[1]>n)return NaN;for(;A>=0&&a.get(r,A)&&o[0]<=n;)o[0]++,A--;if(o[0]>n)return NaN;for(A=e+1;A<s&&a.get(r,A);)o[2]++,A++;if(A===s)return NaN;for(;A<s&&!a.get(r,A)&&o[3]<n;)o[3]++,A++;if(A===s||o[3]>=n)return NaN;for(;A<s&&a.get(r,A)&&o[4]<n;)o[4]++,A++;if(o[4]>=n)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-i)>=2*i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,A):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,s=a.getWidth(),o=this.getCrossCheckStateCount(),A=e;A>=0&&a.get(A,r);)o[2]++,A--;if(A<0)return NaN;for(;A>=0&&!a.get(A,r)&&o[1]<=n;)o[1]++,A--;if(A<0||o[1]>n)return NaN;for(;A>=0&&a.get(A,r)&&o[0]<=n;)o[0]++,A--;if(o[0]>n)return NaN;for(A=e+1;A<s&&a.get(A,r);)o[2]++,A++;if(A===s)return NaN;for(;A<s&&!a.get(A,r)&&o[3]<n;)o[3]++,A++;if(A===s||o[3]>=n)return NaN;for(;A<s&&a.get(A,r)&&o[4]<n;)o[4]++,A++;if(o[4]>=n)return NaN;var l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-i)>=i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,A):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(s),e[2],a);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],a)))){for(var A=a/7,l=!1,c=this.possibleCenters,u=0,h=c.length;u<h;u++){var d=c[u];if(d.aboutEquals(A,o,s)){c[u]=d.combineEstimate(o,s,A),l=!0;break}}if(!l){var g=new uz(s,o,A);c.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=hd(this.possibleCenters),s=a.next();!s.done;s=a.next()){var o=s.value;if(o.getCount()>=t.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2)}}catch(A){e={error:A}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,s=0,o=this.possibleCenters.length;try{for(var A=hd(this.possibleCenters),l=A.next();!l.done;l=A.next()){var c=l.value;c.getCount()>=t.CENTER_QUORUM&&(a++,s+=c.getEstimatedModuleSize())}}catch(y){e={error:y}}finally{try{l&&!l.done&&(r=A.return)&&r.call(A)}finally{if(e)throw e.error}}if(a<3)return!1;var u=s/o,h=0;try{for(var d=hd(this.possibleCenters),g=d.next();!g.done;g=d.next()){var c=g.value;h+=Math.abs(c.getEstimatedModuleSize()-u)}}catch(y){n={error:y}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return h<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new Le;var s=this.possibleCenters,o;if(a>3){var A=0,l=0;try{for(var c=hd(this.possibleCenters),u=c.next();!u.done;u=c.next()){var h=u.value,d=h.getEstimatedModuleSize();A+=d,l+=d*d}}catch(F){e={error:F}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}o=A/a;var g=Math.sqrt(l/a-o*o);s.sort(function(F,N){var R=Math.abs(N.getEstimatedModuleSize()-o),D=Math.abs(F.getEstimatedModuleSize()-o);return R<D?-1:R>D?1:0});for(var y=Math.max(.2*o,g),B=0;B<s.length&&s.length>3;B++){var v=s[B];Math.abs(v.getEstimatedModuleSize()-o)>y&&(s.splice(B,1),B--)}}if(s.length>3){var A=0;try{for(var w=hd(s),x=w.next();!x.done;x=w.next()){var _=x.value;A+=_.getEstimatedModuleSize()}}catch(N){n={error:N}}finally{try{x&&!x.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}o=A/s.length,s.sort(function(N,R){if(R.getCount()===N.getCount()){var D=Math.abs(R.getEstimatedModuleSize()-o),k=Math.abs(N.getEstimatedModuleSize()-o);return D<k?1:D>k?-1:0}else return R.getCount()-N.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),hz=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(un.NEED_RESULT_POINT_CALLBACK);var r=new dz(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new Le("No pattern found in proccess finder.");var s=t.computeDimension(r,n,i,a),o=Tc.getProvisionalVersionForDimension(s),A=o.getDimensionForVersion()-7,l=null;if(o.getAlignmentPatternCenters().length>0)for(var c=n.getX()-r.getX()+i.getX(),u=n.getY()-r.getY()+i.getY(),h=1-3/A,d=Math.floor(r.getX()+h*(c-r.getX())),g=Math.floor(r.getY()+h*(u-r.getY())),y=4;y<=16;y<<=1)try{l=this.findAlignmentInRegion(a,d,g,y);break}catch(x){if(!(x instanceof Le))throw x}var B=t.createTransform(r,n,i,l,s),v=t.sampleGrid(this.image,B,s),w;return l===null?w=[i,r,n]:w=[i,r,n,l],new ox(v,w)},t.createTransform=function(e,r,n,i,a){var s=a-3.5,o,A,l,c;return i!==null?(o=i.getX(),A=i.getY(),l=s-3,c=l):(o=r.getX()-e.getX()+n.getX(),A=r.getY()-e.getY()+n.getY(),l=s,c=s),H6.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,l,c,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),o,A,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=Ax.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=hr.round(vt.distance(e,r)/i),s=hr.round(vt.distance(e,n)/i),o=Math.floor((a+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new Le("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var A=Math.floor(r-(i-r)*s);return s=1,A<0?(s=r/(r-A),A=0):A>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(A-r),A=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,r,o,A),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var s=e;e=r,r=s,s=n,n=i,i=s}for(var o=Math.abs(n-e),A=Math.abs(i-r),l=-o/2,c=e<n?1:-1,u=r<i?1:-1,h=0,d=n+c,g=e,y=r;g!==d;g+=c){var B=a?y:g,v=a?g:y;if(h===1===this.image.get(B,v)){if(h===2)return hr.distance(g,y,e,r);h++}if(l+=A,l>0){if(y===i)break;y+=u,l-=o}}return h===2?hr.distance(n+c,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),s=Math.max(0,r-a),o=Math.min(this.image.getWidth()-1,r+a);if(o-s<e*3)throw new Le("Alignment top exceeds estimated module size.");var A=Math.max(0,n-a),l=Math.min(this.image.getHeight()-1,n+a);if(l-A<e*3)throw new Le("Alignment bottom exceeds estimated module size.");var c=new lz(this.image,s,A,o-s,l-A,e,this.resultPointCallback);return c.find()},t}(),yy=function(){function t(){this.decoder=new az}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(un.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var s=new hz(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),i=s.getPoints()}n.getOther()instanceof W6&&n.getOther().applyMirroredCorrection(i);var o=new Ba(n.getText(),n.getRawBytes(),void 0,i,Bt.QR_CODE,void 0),A=n.getByteSegments();A!==null&&o.putMetadata(yi.BYTE_SEGMENTS,A);var l=n.getECLevel();return l!==null&&o.putMetadata(yi.ERROR_CORRECTION_LEVEL,l),n.hasStructuredAppend()&&(o.putMetadata(yi.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(yi.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Le;var i=this.moduleSize(r,e),a=r[1],s=n[1],o=r[0],A=n[0];if(o>=A||a>=s)throw new Le;if(s-a!==A-o&&(A=o+(s-a),A>=e.getWidth()))throw new Le;var l=Math.round((A-o+1)/i),c=Math.round((s-a+1)/i);if(l<=0||c<=0)throw new Le;if(c!==l)throw new Le;var u=Math.floor(i/2);a+=u,o+=u;var h=o+Math.floor((l-1)*i)-A;if(h>0){if(h>u)throw new Le;o-=h}var d=a+Math.floor((c-1)*i)-s;if(d>0){if(d>u)throw new Le;a-=d}for(var g=new wo(l,c),y=0;y<c;y++)for(var B=a+Math.floor(y*i),v=0;v<l;v++)e.get(o+Math.floor(v*i),B)&&g.set(v,y);return g},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],s=e[1],o=!0,A=0;a<i&&s<n;){if(o!==r.get(a,s)){if(++A===5)break;o=!o}a++,s++}if(a===i||s===n)throw new Le;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),pz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sr=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return hr.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=pz(e),o=s.next();!o.done;o=s.next()){var A=o.value;i[a++]=A}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=wa.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),gz=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),vz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mz=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new gz(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,s=0,o=0,A=!1;s<r.getHeight();){var l=t.findVertices(r,s,o);if(l[0]==null&&l[3]==null){if(!A)break;A=!1,o=0;try{for(var c=(n=void 0,vz(a)),u=c.next();!u.done;u=c.next()){var h=u.value;h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())))}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(A=!0,a.push(l),!e)break;l[2]!=null?(o=Math.trunc(l[2].getX()),s=Math.trunc(l[2].getY())):(o=Math.trunc(l[4].getX()),s=Math.trunc(l[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,s){for(var o=new Array(4),A=!1,l=new Int32Array(s.length);i<r;i+=t.ROW_STEP){var c=t.findGuardPattern(e,a,i,n,!1,s,l);if(c!=null){for(;i>0;){var u=t.findGuardPattern(e,a,--i,n,!1,s,l);if(u!=null)c=u;else{i++;break}}o[0]=new vt(c[0],i),o[1]=new vt(c[1],i),A=!0;break}}var h=i+1;if(A){for(var d=0,u=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);h<r;h++){var c=t.findGuardPattern(e,u[0],h,n,!1,s,l);if(c!=null&&Math.abs(u[0]-c[0])<t.MAX_PATTERN_DRIFT&&Math.abs(u[1]-c[1])<t.MAX_PATTERN_DRIFT)u=c,d=0;else{if(d>t.SKIPPED_ROW_COUNT_MAX)break;d++}}h-=d+1,o[2]=new vt(u[0],h),o[3]=new vt(u[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&wa.fill(o,null),o},t.findGuardPattern=function(e,r,n,i,a,s,o){wa.fillWithin(o,0,o.length,0);for(var A=r,l=0;e.get(A,n)&&A>0&&l++<t.MAX_PIXEL_DRIFT;)A--;for(var c=A,u=0,h=s.length,d=a;c<i;c++){var g=e.get(c,n);if(g!==d)o[u]++;else{if(u===h-1){if(t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([A,c]);A+=o[0]+o[1],Vr.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,d=!d}}return u===h-1&&t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([A,c-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,s=0,o=0;o<i;o++)a+=e[o],s+=r[o];if(a<s)return 1/0;var A=a/s;n*=A;for(var l=0,c=0;c<i;c++){var u=e[c],h=r[c]*A,d=u>h?u-h:h-u;if(d>n)return 1/0;l+=d}return l/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),yz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_c=function(){function t(e,r){if(r.length===0)throw new bt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Vr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=yz(this.coefficients),s=a.next();!s.done;s=a.next()){var o=s.value;i=this.field.add(i,o)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var A=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)A=this.field.add(this.field.multiply(e,A),this.coefficients[c]);return A},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new bt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),s=n.length-r.length;Vr.arraycopy(n,0,a,0,s);for(var o=s;o<n.length;o++)a[o]=this.field.add(r[o-s],n[o]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new bt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new bt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,s=new Int32Array(n+a-1),o=0;o<n;o++)for(var A=r[o],l=0;l<a;l++)s[o+l]=this.field.add(s[o+l],this.field.multiply(A,i[l]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new bt;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Nr,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),wz=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new bt;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new M6;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),xz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bz=function(t){xz(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,s=0;s<r;s++)i.expTable[s]=a,a=a*n%r;for(var s=0;s<r-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new _c(i,new Int32Array([0])),i.one=new _c(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new bt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new _c(this,i)},e.PDF417_GF=new e(sr.NUMBER_OF_CODEWORDS,3),e}(wz),Bz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cz=function(){function t(){this.field=bz.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,s=new _c(this.field,e),o=new Int32Array(r),A=!1,l=r;l>0;l--){var c=s.evaluateAt(this.field.exp(l));o[r-l]=c,c!==0&&(A=!0)}if(!A)return 0;var u=this.field.getOne();if(n!=null)try{for(var h=Bz(n),d=h.next();!d.done;d=h.next()){var g=d.value,y=this.field.exp(e.length-1-g),B=new _c(this.field,new Int32Array([this.field.subtract(0,y),1]));u=u.multiply(B)}}catch(D){i={error:D}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var v=new _c(this.field,o),w=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),v,r),x=w[0],_=w[1],F=this.findErrorLocations(x),N=this.findErrorMagnitudes(_,x,F),l=0;l<F.length;l++){var R=e.length-1-this.field.log(F[l]);if(R<0)throw vi.getChecksumInstance();e[R]=this.field.subtract(e[R],N[l])}return F.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,s=r,o=this.field.getZero(),A=this.field.getOne();s.getDegree()>=Math.round(n/2);){var l=a,c=o;if(a=s,o=A,a.isZero())throw vi.getChecksumInstance();s=l;for(var u=this.field.getZero(),h=a.getCoefficient(a.getDegree()),d=this.field.inverse(h);s.getDegree()>=a.getDegree()&&!s.isZero();){var g=s.getDegree()-a.getDegree(),y=this.field.multiply(s.getCoefficient(s.getDegree()),d);u=u.add(this.field.buildMonomial(g,y)),s=s.subtract(a.multiplyByMonomial(g,y))}A=u.multiply(o).subtract(c).negative()}var B=A.getCoefficient(0);if(B===0)throw vi.getChecksumInstance();var v=this.field.inverse(B),w=A.multiply(v),x=s.multiply(v);return[w,x]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw vi.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new _c(this.field,a),A=n.length,l=new Int32Array(A),s=0;s<A;s++){var c=this.field.inverse(n[s]),u=this.field.subtract(0,e.evaluateAt(c)),h=this.field.inverse(o.evaluateAt(c));l[s]=this.field.multiply(u,h)}return l},t}(),wy=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var s=r==null||n==null,o=i==null||a==null;if(s&&o)throw new Le;s?(r=new vt(0,i.getY()),n=new vt(0,a.getY())):o&&(i=new vt(e.getWidth()-1,r.getY()),a=new vt(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var A=n?this.topLeft:this.topRight,l=Math.trunc(A.getY()-e);l<0&&(l=0);var c=new vt(A.getX(),l);n?i=c:s=c}if(r>0){var u=n?this.bottomLeft:this.bottomRight,h=Math.trunc(u.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var d=new vt(u.getX(),h);n?a=d:o=d}return new t(this.image,i,a,s,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),_z=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),cx=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(s,o,A,l,c,u){if(s==="%%")return"%";if(r[++n]!==void 0){s=l?parseInt(l.substr(1)):void 0;var h=c?parseInt(c.substr(1)):void 0,d;switch(u){case"s":d=r[n];break;case"c":d=r[n][0];break;case"f":d=parseFloat(r[n]).toFixed(s);break;case"p":d=parseFloat(r[n]).toPrecision(s);break;case"e":d=parseFloat(r[n]).toExponential(s);break;case"x":d=parseInt(r[n]).toString(h||16);break;case"d":d=parseFloat(parseInt(r[n],h||10).toPrecision(s)).toFixed(0);break}d=typeof d=="object"?JSON.stringify(d):(+d).toString(h);for(var g=parseInt(A),y=A&&A[0]+""=="0"?"0":" ";d.length<g;)d=o!==void 0?d+y:y+d;return d}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Ez=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q6=function(){function t(e){this.boundingBox=new wy(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new cx,i=0;try{for(var a=Ez(this.codewords),s=a.next();!s.done;s=a.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}}catch(A){e={error:A}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Sz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Iz=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},Td=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(u,h){var d={getKey:function(){return u},getValue:function(){return h}};d.getValue()>n?(n=d.getValue(),i=[],i.push(d.getKey())):d.getValue()===n&&i.push(d.getKey())};try{for(var s=Sz(this.values.entries()),o=s.next();!o.done;o=s.next()){var A=Iz(o.value,2),l=A[0],c=A[1];a(l,c)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return sr.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),Fz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d4=function(t){Fz(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=v2(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),A=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=-1,c=1,u=0,h=o;h<A;h++)if(n[h]!=null){var d=n[h],g=d.getRowNumber()-l;if(g===0)u++;else if(g===1)c=Math.max(c,u),u=1,l=d.getRowNumber();else if(g<0||d.getRowNumber()>=r.getRowCount()||g>h)n[h]=null;else{var y=void 0;c>2?y=(c-2)*g:y=g;for(var B=y>=h,v=1;v<=y&&!B;v++)B=n[h-v]!=null;B?n[h]=null:(l=d.getRowNumber(),u=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=v2(this.getCodewords()),o=s.next();!o.done;o=s.next()){var A=o.value;if(A!=null){var l=A.getRowNumber();if(l>=a.length)continue;a[l]++}}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),A=this.getCodewords(),l=-1,c=s;c<o;c++)if(A[c]!=null){var u=A[c];u.setRowNumberAsRowIndicatorColumn();var h=u.getRowNumber()-l;h===0||(h===1?l=u.getRowNumber():u.getRowNumber()>=r.getRowCount()?A[c]=null:l=u.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new Td,s=new Td,o=new Td,A=new Td;try{for(var l=v2(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(u!=null){u.setRowNumberAsRowIndicatorColumn();var h=u.getValue()%30,d=u.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:s.setValue(h*3+1);break;case 1:A.setValue(h/3),o.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(y){r={error:y}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(a.getValue().length===0||s.getValue().length===0||o.getValue().length===0||A.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<sr.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>sr.MAX_ROWS_IN_BARCODE)return null;var g=new _z(a.getValue()[0],s.getValue()[0],o.getValue()[0],A.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var s=a.getValue()%30,o=a.getRowNumber();if(o>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:s+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(q6),Nz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tz=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=sr.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(a=t.adjustRowNumberIfValid(i,a,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(a=t.adjustRowNumberIfValid(i,a,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=n[r],o=this.detectionResultColumns[e-1].getCodewords(),A=o;this.detectionResultColumns[e+1]!=null&&(A=this.detectionResultColumns[e+1].getCodewords());var l=new Array(14);l[2]=o[r],l[3]=A[r],r>0&&(l[0]=n[r-1],l[4]=o[r-1],l[5]=A[r-1]),r>1&&(l[8]=n[r-2],l[10]=o[r-2],l[11]=A[r-2]),r<n.length-1&&(l[1]=n[r+1],l[6]=o[r+1],l[7]=A[r+1]),r<n.length-2&&(l[9]=n[r+2],l[12]=o[r+2],l[13]=A[r+2]);try{for(var c=Nz(l),u=c.next();!u.done;u=c.next()){var h=u.value;if(t.adjustRowNumber(s,h))return}}catch(d){i={error:d}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new cx,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),Uz=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),Oz=function(){function t(){}return t.initialize=function(){for(var e=0;e<sr.SYMBOL_TABLE.length;e++)for(var r=sr.SYMBOL_TABLE[e],n=r&1,i=0;i<sr.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(sr.BARS_IN_MODULE)),t.RATIOS_TABLE[e][sr.BARS_IN_MODULE-i-1]=Math.fround(a/sr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=hr.sum(e),n=new Int32Array(sr.BARS_IN_MODULE),i=0,a=0,s=0;s<sr.MODULES_IN_CODEWORD;s++){var o=r/(2*sr.MODULES_IN_CODEWORD)+s*r/sr.MODULES_IN_CODEWORD;a+e[i]<=o&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return sr.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=hr.sum(e),n=new Array(sr.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=hy.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var A=0,l=t.RATIOS_TABLE[o],c=0;c<sr.BARS_IN_MODULE;c++){var u=Math.fround(l[c]-n[c]);if(A+=Math.fround(u*u),A>=a)break}A<a&&(a=A,s=sr.SYMBOL_TABLE[o])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(sr.SYMBOL_TABLE.length).map(function(e){return new Array(sr.BARS_IN_MODULE)}),t}(),Lz=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),h4=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),kz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pz=function(t){kz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(ba),Dz=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new Pz;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new ax;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),Rz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qz=function(t){Rz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ba),jz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mz=function(t){jz(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new bt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new Qz;i=er.MAX_VALUE}this.buf=wa.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new ax;this.ensureCapacity(this.count+i),Vr.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return wa.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Dz),Fr;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fr||(Fr={}));function X6(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var l1;function rl(t){if(typeof l1>"u"&&(l1=X6()),l1===null)throw new Error("BigInt is not supported!");return l1(t)}function Hz(){var t=[];t[0]=rl(1);var e=rl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var Kz=function(){function t(){}return t.decode=function(e,r){var n=new Nr(""),i=Yn.ISO8859_1;n.enableDecoding(i);for(var a=1,s=e[a++],o=new Lz;a<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(s,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:Yn.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new We;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)s=e[a++];else throw We.getFormatInstance()}if(n.length()===0)throw We.getFormatInstance();var A=new Sg(null,n.toString(),null,r);return A.setOther(o),A},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw We.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(er.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Nr;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var A=new Nr;r=t.textCompaction(e,r+1,A),n.setFileName(A.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new Nr;r=t.textCompaction(e,r+1,l),n.setSender(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new Nr;r=t.textCompaction(e,r+1,c),n.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var u=new Nr;r=t.numericCompaction(e,r+1,u),n.setSegmentCount(er.parseInt(u.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new Nr;r=t.numericCompaction(e,r+1,h),n.setTimestamp(h4.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var d=new Nr;r=t.numericCompaction(e,r+1,d),n.setChecksum(er.parseInt(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new Nr;r=t.numericCompaction(e,r+1,g),n.setFileSize(h4.parseLong(g.toString()));break;default:throw We.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw We.getFormatInstance()}if(o!==-1){var y=r-o;n.isLastSegment()&&y--,n.setOptionalData(wa.copyOfRange(e,o,o+y))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),s=0,o=!1;r<e[0]&&!o;){var A=e[r++];if(A<t.TEXT_COMPACTION_MODE_LATCH)i[s]=A/30,i[s+1]=A%30,s+=2;else switch(A){case t.TEXT_COMPACTION_MODE_LATCH:i[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=e[r++],a[s]=A,s++;break}}return t.decodeTextCompaction(i,a,s,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Fr.ALPHA,s=Fr.ALPHA,o=0;o<n;){var A=e[o],l="";switch(a){case Fr.ALPHA:if(A<26)l=String.fromCharCode(65+A);else switch(A){case 26:l=" ";break;case t.LL:a=Fr.LOWER;break;case t.ML:a=Fr.MIXED;break;case t.PS:s=a,a=Fr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Fr.ALPHA;break}break;case Fr.LOWER:if(A<26)l=String.fromCharCode(97+A);else switch(A){case 26:l=" ";break;case t.AS:s=a,a=Fr.ALPHA_SHIFT;break;case t.ML:a=Fr.MIXED;break;case t.PS:s=a,a=Fr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Fr.ALPHA;break}break;case Fr.MIXED:if(A<t.PL)l=t.MIXED_CHARS[A];else switch(A){case t.PL:a=Fr.PUNCT;break;case 26:l=" ";break;case t.LL:a=Fr.LOWER;break;case t.AL:a=Fr.ALPHA;break;case t.PS:s=a,a=Fr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Fr.ALPHA;break}break;case Fr.PUNCT:if(A<t.PAL)l=t.PUNCT_CHARS[A];else switch(A){case t.PAL:a=Fr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Fr.ALPHA;break}break;case Fr.ALPHA_SHIFT:if(a=s,A<26)l=String.fromCharCode(65+A);else switch(A){case 26:l=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Fr.ALPHA;break}break;case Fr.PUNCT_SHIFT:if(a=s,A<t.PAL)l=t.PUNCT_CHARS[A];else switch(A){case t.PAL:a=Fr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Fr.ALPHA;break}break}l!==""&&i.append(l),o++}},t.byteCompaction=function(e,r,n,i,a){var s=new Mz,o=0,A=0,l=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),u=r[i++];i<r[0]&&!l;)switch(c[o++]=u,A=900*A+u,u=r[i++],u){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(rl(A)>>rl(8*(5-h))));A=0,o=0}break}i===r[0]&&u<t.TEXT_COMPACTION_MODE_LATCH&&(c[o++]=u);for(var d=0;d<o;d++)s.write(c[d]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!l;){var g=r[i++];if(g<t.TEXT_COMPACTION_MODE_LATCH)o++,A=900*A+g;else switch(g){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break}if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(rl(A)>>rl(8*(5-h))));A=0,o=0}}break}return a.append(yo.decode(s.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var o=e[r++];if(r===e[0]&&(a=!0),o<t.TEXT_COMPACTION_MODE_LATCH)s[i]=o,i++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(s,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=rl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*rl(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new We;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=X6()?Hz():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),pd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vz=function(){function t(){}return t.decode=function(e,r,n,i,a,s,o){for(var A=new wy(e,r,n,i,a),l=null,c=null,u,h=!0;;h=!1){if(r!=null&&(l=t.getRowIndicatorColumn(e,A,r,!0,s,o)),i!=null&&(c=t.getRowIndicatorColumn(e,A,i,!1,s,o)),u=t.merge(l,c),u==null)throw Le.getNotFoundInstance();var d=u.getBoundingBox();if(h&&d!=null&&(d.getMinY()<A.getMinY()||d.getMaxY()>A.getMaxY()))A=d;else break}u.setBoundingBox(A);var g=u.getBarcodeColumnCount()+1;u.setDetectionResultColumn(0,l),u.setDetectionResultColumn(g,c);for(var y=l!=null,B=1;B<=g;B++){var v=y?B:g-B;if(u.getDetectionResultColumn(v)===void 0){var w=void 0;v===0||v===g?w=new d4(A,v===0):w=new q6(A),u.setDetectionResultColumn(v,w);for(var x=-1,_=x,F=A.getMinY();F<=A.getMaxY();F++){if(x=t.getStartColumn(u,v,F,y),x<0||x>A.getMaxX()){if(_===-1)continue;x=_}var N=t.detectCodeword(e,A.getMinX(),A.getMaxX(),y,x,F,s,o);N!=null&&(w.setCodeword(F,N),_=x,s=Math.min(s,N.getWidth()),o=Math.max(o,N.getWidth()))}}}return t.createDecoderResult(u)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=wy.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Tz(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),s=0;try{for(var o=pd(i),A=o.next();!A.done;A=o.next()){var l=A.value;if(s+=a-l,l>0)break}}catch(d){r={error:d}}finally{try{A&&!A.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var c=e.getCodewords(),u=0;s>0&&c[u]==null;u++)s--;for(var h=0,u=i.length-1;u>=0&&(h+=a-i[u],!(i[u]>0));u--);for(var u=c.length-1;h>0&&c[u]==null;u--)h--;return e.getBoundingBox().addMissingRows(s,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=pd(e),s=a.next();!s.done;s=a.next()){var o=s.value;i=Math.max(i,o)}}catch(A){r={error:A}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,s){for(var o=new d4(r,i),A=0;A<2;A++)for(var l=A===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),u=Math.trunc(Math.trunc(n.getY()));u<=r.getMaxY()&&u>=r.getMinY();u+=l){var h=t.detectCodeword(e,0,e.getWidth(),i,c,u,a,s);h!=null&&(o.setCodeword(u,h),i?c=h.getStartX():c=h.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>sr.MAX_CODEWORDS_IN_BARCODE)throw Le.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var A=0;A<e.getBarcodeColumnCount();A++){var l=r[o][A+1].getValue(),c=o*e.getBarcodeColumnCount()+A;l.length===0?n.push(c):l.length===1?i[c]=l[0]:(s.push(c),a.push(l))}for(var u=new Array(a.length),h=0;h<u.length;h++)u[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,sr.toIntArray(n),sr.toIntArray(s),u)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var s=new Int32Array(i.length),o=100;o-- >0;){for(var A=0;A<s.length;A++)r[i[A]]=a[A][s[A]];try{return t.decodeCodewords(r,e,n)}catch(c){var l=c instanceof vi;if(!l)throw c}if(s.length===0)throw vi.getChecksumInstance();for(var A=0;A<s.length;A++)if(s[A]<a[A].length-1){s[A]++;break}else if(s[A]=0,A===s.length-1)throw vi.getChecksumInstance()}throw vi.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var A=0;A<s[o].length;A++)s[o][A]=new Td;var l=0;try{for(var c=pd(e.getDetectionResultColumns()),u=c.next();!u.done;u=c.next()){var h=u.value;if(h!=null)try{for(var d=(i=void 0,pd(h.getCodewords())),g=d.next();!g.done;g=d.next()){var y=g.value;if(y!=null){var B=y.getRowNumber();if(B>=0){if(B>=s.length)continue;s[B][l].setValue(y.getValue())}}}}catch(v){i={error:v}}finally{try{g&&!g.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}l++}}catch(v){r={error:v}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,s,o=i?1:-1,A=null;if(t.isValidBarcodeColumn(e,r-o)&&(A=e.getDetectionResultColumn(r-o).getCodeword(n)),A!=null)return i?A.getEndX():A.getStartX();if(A=e.getDetectionResultColumn(r).getCodewordNearby(n),A!=null)return i?A.getStartX():A.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(A=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),A!=null)return i?A.getEndX():A.getStartX();for(var l=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var c=(a=void 0,pd(e.getDetectionResultColumn(r).getCodewords())),u=c.next();!u.done;u=c.next()){var h=u.value;if(h!=null)return(i?h.getEndX():h.getStartX())+o*l*(h.getEndX()-h.getStartX())}}catch(d){a={error:d}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}l++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,s,o,A){a=t.adjustCodewordStartColumn(e,r,n,i,a,s);var l=t.getModuleBitCount(e,r,n,i,a,s);if(l==null)return null;var c,u=hr.sum(l);if(i)c=a+u;else{for(var h=0;h<l.length/2;h++){var d=l[h];l[h]=l[l.length-1-h],l[l.length-1-h]=d}c=a,a=c-u}if(!t.checkCodewordSkew(u,o,A))return null;var g=Oz.getDecodedValue(l),y=sr.getCodeword(g);return y===-1?null:new Uz(a,c,t.getCodewordBucketNumber(g),y)},t.getModuleBitCount=function(e,r,n,i,a,s){for(var o=a,A=new Int32Array(8),l=0,c=i?1:-1,u=i;(i?o<n:o>=r)&&l<A.length;)e.get(o,s)===u?(A[l]++,o+=c):(l++,u=!u);return l===A.length||o===(i?n:r)&&l===A.length-1?A:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,s){for(var o=a,A=i?-1:1,l=0;l<2;l++){for(;(i?o>=r:o<n)&&i===e.get(o,s);){if(Math.abs(a-o)>t.CODEWORD_SKEW_SIZE)return a;o+=A}A=-A,i=!i}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw We.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var s=Kz.decode(e,""+r);return s.setErrorsCorrected(a),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw vi.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw We.getFormatInstance();var n=e[0];if(n>e.length)throw We.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw We.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new cx,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Cz,t}(),$z=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xy=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Le.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof We||n instanceof vi?Le.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,s=new Array,o=mz.detectMultiple(e,r,n);try{for(var A=$z(o.getPoints()),l=A.next();!l.done;l=A.next()){var c=l.value,u=Vz.decode(o.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),h=new Ba(u.getText(),u.getRawBytes(),void 0,c,Bt.PDF_417);h.putMetadata(yi.ERROR_CORRECTION_LEVEL,u.getECLevel());var d=u.getOther();d!=null&&h.putMetadata(yi.PDF417_EXTRA_METADATA,d),s.push(h)}}catch(g){i={error:g}}finally{try{l&&!l.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}return s.map(function(g){return g})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?er.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*sr.MODULES_IN_CODEWORD/sr.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*sr.MODULES_IN_CODEWORD/sr.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*sr.MODULES_IN_CODEWORD/sr.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*sr.MODULES_IN_CODEWORD/sr.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),Gz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p4=function(t){Gz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(ba),g4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zz=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(un.TRY_HARDER)!==void 0,n=e==null?null:e.get(un.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(s){return s===Bt.UPC_A||s===Bt.UPC_E||s===Bt.EAN_13||s===Bt.EAN_8||s===Bt.CODABAR||s===Bt.CODE_39||s===Bt.CODE_93||s===Bt.CODE_128||s===Bt.ITF||s===Bt.RSS_14||s===Bt.RSS_EXPANDED});a&&!r&&i.push(new Nd(e)),n.includes(Bt.QR_CODE)&&i.push(new yy),n.includes(Bt.DATA_MATRIX)&&i.push(new my),n.includes(Bt.AZTEC)&&i.push(new gy),n.includes(Bt.PDF_417)&&i.push(new xy),a&&r&&i.push(new Nd(e))}i.length===0&&(r||i.push(new Nd(e)),i.push(new yy),i.push(new my),i.push(new gy),i.push(new xy),r&&i.push(new Nd(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=g4(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new p4("No readers where selected, nothing can be read.");try{for(var i=g4(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof p4)continue}}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new Le("No MultiFormat Readers were able to detect the code.")},t}(),Wz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qz=function(t){Wz(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new zz;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(Df),Xz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Xz(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new xy,r)||this}return e})(Df);var Yz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Yz(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new yy,r)||this}return e})(Df);var by;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"})(by||(by={}));const c1=by;var Y6=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new bl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var s=n.multiply(new bl(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new bt("No error correction bytes");var n=e.length-r;if(n<=0)throw new bt("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Vr.arraycopy(e,0,a,0,n);var s=new bl(this.field,a);s=s.multiplyByMonomial(r,1);for(var o=s.divide(i)[1],A=o.getCoefficients(),l=r-A.length,c=0;c<l;c++)e[n+c]=0;Vr.arraycopy(A,0,e,n+l,A.length)},t}(),Ud=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var o=n[s],A=0;A<i-1;A++){var l=o[A];l===o[A+1]&&l===n[s+1][A]&&l===n[s+1][A+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var o=0;o<i;o++){var A=n[s];o+6<i&&A[o]===1&&A[o+1]===0&&A[o+2]===1&&A[o+3]===1&&A[o+4]===1&&A[o+5]===0&&A[o+6]===1&&(t.isWhiteHorizontal(A,o-4,o)||t.isWhiteHorizontal(A,o+7,o+11))&&r++,s+6<a&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(t.isWhiteVertical(n,o,s-4,s)||t.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var o=n[s],A=0;A<i;A++)o[A]===1&&r++;var l=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(r*2-l)*10/l);return c*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new bt("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<i;o++){for(var A=0,l=-1,c=0;c<a;c++){var u=r?s[o][c]:s[c][o];u===l?A++:(A>=5&&(n+=t.N1+(A-5)),A=1,l=u)}A>=5&&(n+=t.N1+(A-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),Jz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zz=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=Jz(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;wa.fill(s,e)}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],s=r.bytes[n],o=0,A=this.width;o<A;++o)if(a[o]!==s[o])return!1;return!0},t.prototype.toString=function(){for(var e=new Nr,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),By=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Nr;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),eW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zr=function(t){eW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(ba),v4=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new ni;t.makeTypeInfoBits(e,r,i);for(var a=0,s=i.getSize();a<s;++a){var o=i.get(i.getSize()-1-a),A=t.TYPE_INFO_COORDINATES[a],l=A[0],c=A[1];if(n.setBoolean(l,c,o),a<8){var u=n.getWidth()-a-1,h=8;n.setBoolean(u,h,o)}else{var u=8,h=n.getHeight()-7+(a-8);n.setBoolean(u,h,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new ni;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var o=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,a,o)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var A=0;A<2;++A){var l=s-A;if(t.isEmpty(n.get(l,o))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,r!==255&&Ud.getDataMaskBit(r,l,o)&&(c=!c),n.setBoolean(l,o,c)}}o+=a}a=-a,o+=a,s-=2}if(i!==e.getSize())throw new zr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-er.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new bt("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!By.isValidMaskPattern(r))throw new zr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var s=new ni;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new zr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new zr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new zr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new zr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new zr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)n.setNumber(e+s,r+i,a[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)n.setNumber(e+s,r+i,a[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,s=i.length;a!==s;a++){var o=i[a];if(o>=0)for(var A=0;A!==s;A++){var l=i[A];l>=0&&t.isEmpty(r.get(l,o))&&t.embedPositionAdjustmentPattern(l-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),tW=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),m4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Ud.applyMaskPenaltyRule1(e)+Ud.applyMaskPenaltyRule2(e)+Ud.applyMaskPenaltyRule3(e)+Ud.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(c1.CHARACTER_SET)!==void 0;a&&(i=n.get(c1.CHARACTER_SET).toString());var s=this.chooseMode(e,i),o=new ni;if(s===qr.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var A=Yn.getCharacterSetECIByName(i);A!==void 0&&this.appendECI(A,o)}this.appendModeInfo(s,o);var l=new ni;this.appendBytes(e,s,l,i);var c;if(n!==null&&n.get(c1.QR_VERSION)!==void 0){var u=Number.parseInt(n.get(c1.QR_VERSION).toString(),10);c=Tc.getVersionForNumber(u);var h=this.calculateBitsNeeded(s,o,l,c);if(!this.willFit(h,c,r))throw new zr("Data too big for requested version")}else c=this.recommendVersion(r,s,o,l);var d=new ni;d.appendBitArray(o);var g=s===qr.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(g,c,s,d),d.appendBitArray(l);var y=c.getECBlocksForLevel(r),B=c.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(B,d);var v=this.interleaveWithECBytes(d,c.getTotalCodewords(),B,y.getNumBlocks()),w=new By;w.setECLevel(r),w.setMode(s),w.setVersion(c);var x=c.getDimensionForVersion(),_=new Zz(x,x),F=this.chooseMaskPattern(v,r,c,_);return w.setMaskPattern(F),v4.buildMatrix(v,r,c,F,_),w.setMatrix(_),w},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Tc.getVersionForNumber(1)),s=this.chooseVersion(a,e),o=this.calculateBitsNeeded(r,n,i,s);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Yn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return qr.KANJI;for(var n=!1,i=!1,a=0,s=e.length;a<s;++a){var o=e.charAt(a);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)i=!0;else return qr.BYTE}return i?qr.ALPHANUMERIC:n?qr.NUMERIC:qr.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=yo.encode(e,Yn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<By.NUM_MASK_PATTERNS;o++){v4.buildMatrix(e,r,n,o,i);var A=this.calculateMaskPenalty(i);A<a&&(a=A,s=o)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Tc.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new zr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),s=a.getTotalECCodewords(),o=i-s,A=(e+7)/8;return o>=A},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new zr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),i=0;i<s;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new zr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,s){if(i>=n)throw new zr("Block ID too large");var o=e%n,A=n-o,l=Math.floor(e/n),c=l+1,u=Math.floor(r/n),h=u+1,d=l-u,g=c-h;if(d!==g)throw new zr("EC bytes mismatch");if(n!==A+o)throw new zr("RS blocks mismatch");if(e!==(u+d)*A+(h+g)*o)throw new zr("Total bytes mismatch");i<A?(a[0]=u,s[0]=d):(a[0]=h,s[0]=g)},t.interleaveWithECBytes=function(e,r,n,i){var a,s,o,A;if(e.getSizeInBytes()!==n)throw new zr("Number of bits and data bytes does not match");for(var l=0,c=0,u=0,h=new Array,d=0;d<i;++d){var g=new Int32Array(1),y=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,d,g,y);var B=g[0],v=new Uint8Array(B);e.toBytes(8*l,v,0,B);var w=t.generateECBytes(v,y[0]);h.push(new tW(v,w)),c=Math.max(c,B),u=Math.max(u,w.length),l+=g[0]}if(n!==l)throw new zr("Data bytes does not match offset");for(var x=new ni,d=0;d<c;++d)try{for(var _=(a=void 0,m4(h)),F=_.next();!F.done;F=_.next()){var N=F.value,v=N.getDataBytes();d<v.length&&x.appendBits(v[d],8)}}catch(V){a={error:V}}finally{try{F&&!F.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}for(var d=0;d<u;++d)try{for(var R=(o=void 0,m4(h)),D=R.next();!D.done;D=R.next()){var N=D.value,w=N.getErrorCorrectionBytes();d<w.length&&x.appendBits(w[d],8)}}catch(V){o={error:V}}finally{try{D&&!D.done&&(A=R.return)&&A.call(R)}finally{if(o)throw o.error}}if(r!==x.getSizeInBytes())throw new zr("Interleaving error: "+r+" and "+x.getSizeInBytes()+" differ.");return x},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new Y6(ha.QR_CODE_FIELD_256).encode(i,r);for(var s=new Uint8Array(r),a=0;a<r;a++)s[a]=i[n+a];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new zr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case qr.NUMERIC:t.appendNumericBytes(e,n);break;case qr.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case qr.BYTE:t.append8BitBytes(e,n,i);break;case qr.KANJI:t.appendKanjiBytes(e,n);break;default:throw new zr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var s=t.getDigit(e.charAt(i+1)),o=t.getDigit(e.charAt(i+2));r.appendBits(a*100+s*10+o,10),i+=3}else if(i+1<n){var s=t.getDigit(e.charAt(i+1));r.appendBits(a*10+s,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new zr;if(i+1<n){var s=t.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new zr;r.appendBits(a*45+s,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=yo.encode(e,n)}catch(A){throw new zr(A)}for(var a=0,s=i.length;a!==s;a++){var o=i[a];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=yo.encode(e,Yn.SJIS)}catch(u){throw new zr(u)}for(var i=n.length,a=0;a<i;a+=2){var s=n[a]&255,o=n[a+1]&255,A=s<<8&4294967295|o,l=-1;if(A>=33088&&A<=40956?l=A-33088:A>=57408&&A<=60351&&(l=A-49472),l===-1)throw new zr("Invalid byte sequence");var c=(l>>8)*192+(l&255);r.appendBits(c,13)}},t.appendECI=function(e,r){r.appendBits(qr.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Yn.UTF8.getName(),t})();var rW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){rW(e,t);function e(r,n,i,a,s,o,A,l){var c=t.call(this,o,A)||this;if(c.yuvData=r,c.dataWidth=n,c.dataHeight=i,c.left=a,c.top=s,a+o>n||s+A>i)throw new bt("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(o,A),c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new bt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Vr.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Vr.arraycopy(this.yuvData,s,a,0,i),a;for(var o=0;o<n;o++){var A=o*r;Vr.arraycopy(this.yuvData,s,a,A,r),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var A=o*r,l=0;l<r;l++){var c=a[s+l*e.THUMBNAIL_SCALE_FACTOR]&255;i[A+l]=4278190080|c*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<n;a++,s+=this.dataWidth)for(var o=s+r/2,A=s,l=s+r-1;A<o;A++,l--){var c=i[A];i[A]=i[l],i[l]=c}},e.prototype.invert=function(){return new sx(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Eg);var nW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){nW(e,t);function e(r,n,i,a,s,o,A){var l=t.call(this,n,i)||this;if(l.dataWidth=a,l.dataHeight=s,l.left=o,l.top=A,r.BYTES_PER_ELEMENT===4){for(var c=n*i,u=new Uint8ClampedArray(c),h=0;h<c;h++){var d=r[h],g=d>>16&255,y=d>>7&510,B=d&255;u[h]=(g+y+B)/4&255}l.luminances=u}else l.luminances=r;if(a===void 0&&(l.dataWidth=n),s===void 0&&(l.dataHeight=i),o===void 0&&(l.left=0),A===void 0&&(l.top=0),l.left+n>l.dataWidth||l.top+i>l.dataHeight)throw new bt("Crop rectangle does not fit within image data.");return l}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new bt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Vr.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Vr.arraycopy(this.luminances,s,a,0,i),a;for(var o=0;o<n;o++){var A=o*r;Vr.arraycopy(this.luminances,s,a,A,r),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new sx(this)},e})(Eg);var iW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){iW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e})(Yn);(function(){function t(){}return t.ISO_8859_1=Yn.ISO8859_1,t})();var aW=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),y4=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),sW=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),oW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ux=function(t){oW(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+er.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(sW),AW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lW=function(t){AW(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(ux);function cW(t,e,r){return new lW(t,e,r)}function gd(t,e,r){return new ux(t,e,r)}var uW=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Bl=0,Kp=1,ss=2,J6=3,go=4,fW=new ux(null,0,0),m2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],dW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function hW(t){var e,r;try{for(var n=dW(t),i=n.next();!i.done;i=n.next()){var a=i.value;wa.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Bl][go]=0,t[Kp][go]=0,t[Kp][Bl]=28,t[J6][go]=0,t[ss][go]=0,t[ss][Bl]=15,t}var Z6=hW(wa.createInt32Array(6,6)),pW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gW=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=m2[this.mode][e];i=gd(i,a&65535,a>>16),n+=a>>16}var s=e===ss?4:5;return i=gd(i,r,s),new t(i,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===ss?4:5;return n=gd(n,Z6[this.mode][e],i),n=gd(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===go||this.mode===ss){var a=m2[n][Bl];r=gd(r,a&65535,a>>16),i+=a>>16,n=Bl}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,i+s);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=cW(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(m2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new ni;try{for(var o=pW(i),A=o.next();!A.done;A=o.next()){var l=A.value;l.appendTo(s,e)}}catch(c){r={error:c}}finally{try{A&&!A.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return Mr.format("%s bits=%d bytes=%d",uW[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(fW,Bl,0,0),t}();function vW(t){var e=Mr.getCharCode(" "),r=Mr.getCharCode("."),n=Mr.getCharCode(",");t[Bl][e]=1;for(var i=Mr.getCharCode("Z"),a=Mr.getCharCode("A"),s=a;s<=i;s++)t[Bl][s]=s-a+2;t[Kp][e]=1;for(var o=Mr.getCharCode("z"),A=Mr.getCharCode("a"),s=A;s<=o;s++)t[Kp][s]=s-A+2;t[ss][e]=1;for(var l=Mr.getCharCode("9"),c=Mr.getCharCode("0"),s=c;s<=l;s++)t[ss][s]=s-c+2;t[ss][n]=12,t[ss][r]=13;for(var u=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<u.length;h++)t[J6][Mr.getCharCode(u[h])]=h;for(var d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<d.length;h++)Mr.getCharCode(d[h])>0&&(t[go][Mr.getCharCode(d[h])]=h);return t}var y2=vW(wa.createInt32Array(5,256)),u1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mW=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Mr.getCharCode(" "),r=Mr.getCharCode(`
`),n=y4.singletonList(gW.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Mr.getCharCode("\r"):a=s===r?2:0;break;case Mr.getCharCode("."):a=s===e?3:0;break;case Mr.getCharCode(","):a=s===e?4:0;break;case Mr.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var o=y4.min(n,function(A,l){return A.getBitCount()-l.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var s=u1(e),o=s.next();!o.done;o=s.next()){var A=o.value;this.updateStateForChar(A,r,a)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=y2[e.getMode()][i]>0,s=null,o=0;o<=go;o++){var A=y2[o][i];if(A>0){if(s==null&&(s=e.endBinaryShift(r)),!a||o===e.getMode()||o===ss){var l=s.latchAndAppend(o,A);n.push(l)}if(!a&&Z6[e.getMode()][o]>=0){var c=s.shiftAndAppend(o,A);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||y2[e.getMode()][i]===0){var u=e.addBinaryShiftChar(r);n.push(u)}},t.updateStateListForPair=function(e,r,n){var i,a,s=[];try{for(var o=u1(e),A=o.next();!A.done;A=o.next()){var l=A.value;this.updateStateForPair(l,r,n,s)}}catch(c){i={error:c}}finally{try{A&&!A.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(go,n)),e.getMode()!==go&&i.push(a.shiftAndAppend(go,n)),n===3||n===4){var s=a.latchAndAppend(ss,16-n).latchAndAppend(ss,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(o)}},t.simplifyStates=function(e){var r,n,i,a,s=[];try{for(var o=u1(e),A=o.next();!A.done;A=o.next()){var l=A.value,c=!0,u=function(B){if(B.isBetterThanOrEqualTo(l))return c=!1,"break";l.isBetterThanOrEqualTo(B)&&(s=s.filter(function(v){return v!==B}))};try{for(var h=(i=void 0,u1(s)),d=h.next();!d.done;d=h.next()){var g=d.value,y=u(g);if(y==="break")break}}catch(B){i={error:B}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}c&&s.push(l)}}catch(B){r={error:B}}finally{try{A&&!A.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t}(),yW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new mW(e).encode(),a=er.truncDivision(i.getSize()*r,100)+11,s=i.getSize()+a,o,A,l,c,u;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,A=Math.abs(n),A>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new bt(Mr.format("Illegal value %s for layers",n));l=t.totalBitsInLayer(A,o),c=t.WORD_SIZE[A];var h=l-l%c;if(u=t.stuffBits(i,c),u.getSize()+a>h)throw new bt("Data to large for user specified layer");if(o&&u.getSize()>c*64)throw new bt("Data to large for user specified layer")}else{c=0,u=null;for(var d=0;;d++){if(d>t.MAX_NB_BITS)throw new bt("Data too large for an Aztec code");if(o=d<=3,A=o?d+1:d,l=t.totalBitsInLayer(A,o),!(s>l)){(u==null||c!==t.WORD_SIZE[A])&&(c=t.WORD_SIZE[A],u=t.stuffBits(i,c));var h=l-l%c;if(!(o&&u.getSize()>c*64)&&u.getSize()+a<=h)break}}}var g=t.generateCheckWords(u,l,c),y=u.getSize()/c,B=t.generateModeMessage(o,A,y),v=(o?11:14)+A*4,w=new Int32Array(v),x;if(o){x=v;for(var d=0;d<w.length;d++)w[d]=d}else{x=v+1+2*er.truncDivision(er.truncDivision(v,2)-1,15);for(var _=er.truncDivision(v,2),F=er.truncDivision(x,2),d=0;d<_;d++){var N=d+er.truncDivision(d,15);w[_-d-1]=F-N-1,w[_+d]=F+N+1}}for(var R=new wo(x),d=0,D=0;d<A;d++){for(var k=(A-d)*4+(o?9:12),V=0;V<k;V++)for(var T=V*2,O=0;O<2;O++)g.get(D+T+O)&&R.set(w[d*2+O],w[d*2+V]),g.get(D+k*2+T+O)&&R.set(w[d*2+V],w[v-1-d*2-O]),g.get(D+k*4+T+O)&&R.set(w[v-1-d*2-O],w[v-1-d*2-V]),g.get(D+k*6+T+O)&&R.set(w[v-1-d*2-V],w[d*2+O]);D+=k*8}if(t.drawModeMessage(R,o,x,B),o)t.drawBullsEye(R,er.truncDivision(x,2),5);else{t.drawBullsEye(R,er.truncDivision(x,2),7);for(var d=0,V=0;d<er.truncDivision(v,2)-1;d+=15,V+=16)for(var O=er.truncDivision(x,2)&1;O<x;O+=2)R.set(er.truncDivision(x,2)-V,O),R.set(er.truncDivision(x,2)+V,O),R.set(O,er.truncDivision(x,2)-V),R.set(O,er.truncDivision(x,2)+V)}var K=new aW;return K.setCompact(o),K.setSize(x),K.setLayers(A),K.setCodeWords(y),K.setMatrix(R),K},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new ni;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=er.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=a-3+s;i.get(s)&&e.set(o,a-5),i.get(s+7)&&e.set(a+5,o),i.get(20-s)&&e.set(o,a+5),i.get(27-s)&&e.set(a-5,o)}else for(var s=0;s<10;s++){var o=a-5+s+er.truncDivision(s,5);i.get(s)&&e.set(o,a-7),i.get(s+10)&&e.set(a+7,o),i.get(29-s)&&e.set(o,a+7),i.get(39-s)&&e.set(a-7,o)}},t.generateCheckWords=function(e,r,n){var i,a,s=e.getSize()/n,o=new Y6(t.getGF(n)),A=er.truncDivision(r,n),l=t.bitsToWords(e,n,A);o.encode(l,A-s);var c=r%n,u=new ni;u.appendBits(0,c);try{for(var h=yW(Array.from(l)),d=h.next();!d.done;d=h.next()){var g=d.value;u.appendBits(g,n)}}catch(y){i={error:y}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return u},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,s;for(a=0,s=e.getSize()/r;a<s;a++){for(var o=0,A=0;A<r;A++)o|=e.get(a*r+A)?1<<r-A-1:0;i[a]=o}return i},t.getGF=function(e){switch(e){case 4:return ha.AZTEC_PARAM;case 6:return ha.AZTEC_DATA_6;case 8:return ha.AZTEC_DATA_8;case 10:return ha.AZTEC_DATA_10;case 12:return ha.AZTEC_DATA_12;default:throw new bt("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new ni,i=e.getSize(),a=(1<<r)-2,s=0;s<i;s+=r){for(var o=0,A=0;A<r;A++)(s+A>=i||e.get(s+A))&&(o|=1<<r-1-A);(o&a)===a?(n.appendBits(o&a,r),s--):o&a?n.appendBits(o,r):(n.appendBits(o|1,r),s--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var wW={audio:!1,video:{facingMode:"environment"}},xW=300,bW=function(t){var e=t===void 0?{}:t,r=e.timeBetweenDecodingAttempts,n=r===void 0?xW:r,i=e.hints;return X.useMemo(function(){var a=new qz(i);return a.timeBetweenDecodingAttempts=n,a},[i,n])},w4=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(u){s(u)}}function A(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){c.done?a(c.value):i(c.value).then(o,A)}l((n=n.apply(t,e||[])).next())})},x4=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},BW=function(t){var e=t.resetStream,r=X.useState(!1),n=r[0],i=r[1],a=X.useState(null),s=a[0],o=a[1],A=X.useRef(null),l=X.useRef(e),c=X.useCallback(function(d){A.current=d,o(d.getCapabilities().torch!==void 0)},[]),u=X.useCallback(function(){return w4(void 0,void 0,void 0,function(){return x4(this,function(d){switch(d.label){case 0:return!A.current||!s?[2]:[4,A.current.applyConstraints({advanced:[{torch:!0}]})];case 1:return d.sent(),i(!0),[2]}})})},[s]),h=X.useCallback(function(){return w4(void 0,void 0,void 0,function(){return x4(this,function(d){switch(d.label){case 0:return!A.current||!s?[2]:(A.current=null,o(null),i(!1),[4,l.current()]);case 1:return d.sent(),[2]}})})},[s]);return X.useEffect(function(){l.current=e},[e]),{init:c,isOn:n,isAvailable:s,on:u,off:h}},CW=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},b4=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(n.next(c))}catch(u){s(u)}}function A(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){c.done?a(c.value):i(c.value).then(o,A)}l((n=n.apply(t,e||[])).next())})},B4=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},_W=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function C4(t){return t.deviceId!==void 0}var EW=function(t){t===void 0&&(t={});var e=t.paused,r=e===void 0?!1:e,n=t.hints,i=t.timeBetweenDecodingAttempts,a=t.onResult,s=a===void 0?function(){}:a,o=t.onError,A=o===void 0?function(){}:o,l=C4(t)?t.deviceId:void 0,c=X.useState(C4(t)?void 0:t.constraints),u=c[0],h=c[1],d=X.useRef(s),g=X.useRef(A),y=X.useRef(null),B=bW({hints:n,timeBetweenDecodingAttempts:i}),v=BW({resetStream:function(){return b4(void 0,void 0,void 0,function(){return B4(this,function(R){switch(R.label){case 0:return N(),[4,F()];case 1:return R.sent(),[2]}})})}}),w=v.init,x=_W(v,["init"]),_=X.useCallback(function(R,D){R&&d.current(R),D&&g.current(D)},[]),F=X.useCallback(function(){return b4(void 0,void 0,void 0,function(){var R,D;return B4(this,function(k){switch(k.label){case 0:return y.current?r?[2]:l?[4,B.decodeFromVideoDevice(l,y.current,_)]:[3,2]:[2];case 1:return k.sent(),[3,4];case 2:return[4,B.decodeFromConstraints(u??wW,y.current,_)];case 3:k.sent(),k.label=4;case 4:return R=y.current.srcObject,D=R.getVideoTracks()[0],D&&w(D),[2]}})})},[B,l,u,r,_,w]),N=X.useCallback(function(){B.reset()},[B]);return X.useEffect(function(){d.current=s},[s]),X.useEffect(function(){g.current=A},[A]),X.useEffect(function(){var R=CW(u,t.constraints);R||h(t.constraints)},[u,t]),X.useEffect(function(){return F(),function(){N()}},[F,N]),{ref:y,torch:x}};const SW=({onClose:t})=>{const{products:e,currentUser:r,recordEmployeeConsumption:n}=zt(),[i,a]=X.useState([]),[s,o]=X.useState(""),A=s?e.filter(d=>d.name.toLowerCase().includes(s.toLowerCase())):[],l=d=>{i.some(g=>g.id===d.id)||a([...i,{id:d.id,name:d.name,quantity:1}]),o("")},c=(d,g)=>{const y=Math.max(1,parseInt(g,10)||1);a(i.map(B=>B.id===d?{...B,quantity:y}:B))},u=d=>{a(i.filter(g=>g.id!==d))},h=d=>{if(d.preventDefault(),i.length===0){alert("Por favor, aade al menos un producto para registrar el consumo.");return}n(i,r),t()};return f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar Producto"}),f.jsx(Sr,{icon:Nf,type:"text",placeholder:"Escribe para buscar...",value:s,onChange:d=>o(d.target.value)}),s&&f.jsx("ul",{className:"mt-2 border rounded-md max-h-40 overflow-y-auto",children:A.map(d=>f.jsx("li",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>l(d),children:d.name},d.id))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-lg font-medium",children:"Productos a Consumir"}),i.length===0?f.jsx("p",{className:"text-sm text-gray-500",children:"An no has aadido productos para consumo."}):i.map(d=>f.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded-md",children:[f.jsx("span",{children:d.name}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Sr,{type:"number",value:d.quantity,onChange:g=>c(d.id,g.target.value),className:"w-20 text-center",min:"1"}),f.jsx(ot,{onClick:()=>u(d.id),className:"text-red-500 hover:text-red-700",children:f.jsx(ya,{size:18})})]})]},d.id))]}),f.jsx("div",{className:"pt-4 flex justify-end",children:f.jsx(ot,{type:"submit",className:"bg-indigo-600 text-white hover:bg-indigo-700",children:"Registrar Consumo"})})]})},IW=({onClose:t,onResult:e})=>{const[r,n]=X.useState("0"),[i,a]=X.useState(null),[s,o]=X.useState(null),[A,l]=X.useState(!1),c=w=>{A?(n(String(w)),l(!1)):n(r==="0"?String(w):r+w)},u=()=>{A?(n("0."),l(!1)):r.indexOf(".")===-1&&n(r+".")},h=()=>{n("0"),a(null),o(null),l(!1)},d=()=>{n(String(parseFloat(r)*-1))},g=()=>{const w=parseFloat(r);n(String(w/100))},y=w=>{const x=parseFloat(r);if(i===null)a(x);else if(s){const _=B(i,x,s);n(String(_)),a(_)}l(!0),o(w)},B=(w,x,_)=>{switch(_){case"+":return w+x;case"-":return w-x;case"*":return w*x;case"/":return w/x;default:return x}},v=()=>{if(i!==null&&s!==null&&!A){const w=B(i,parseFloat(r),s);n(String(w)),a(null),o(null),l(!1),e(w),t()}else e&&(e(parseFloat(r)),t())};return f.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-lg w-64 mx-auto",children:[f.jsx(Sr,{type:"text",value:r,readOnly:!0,className:"w-full text-right text-2xl mb-4 p-2 border rounded"}),f.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[f.jsx(ot,{onClick:h,className:"col-span-1 bg-gray-300 hover:bg-gray-400",children:"AC"}),f.jsx(ot,{onClick:d,className:"col-span-1 bg-gray-300 hover:bg-gray-400",children:"+/-"}),f.jsx(ot,{onClick:g,className:"col-span-1 bg-gray-300 hover:bg-gray-400",children:"%"}),f.jsx(ot,{onClick:()=>y("/"),className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"/"}),f.jsx(ot,{onClick:()=>c(7),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"7"}),f.jsx(ot,{onClick:()=>c(8),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"8"}),f.jsx(ot,{onClick:()=>c(9),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"9"}),f.jsx(ot,{onClick:()=>y("*"),className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"x"}),f.jsx(ot,{onClick:()=>c(4),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"4"}),f.jsx(ot,{onClick:()=>c(5),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"5"}),f.jsx(ot,{onClick:()=>c(6),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"6"}),f.jsx(ot,{onClick:()=>y("-"),className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"-"}),f.jsx(ot,{onClick:()=>c(1),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"1"}),f.jsx(ot,{onClick:()=>c(2),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"2"}),f.jsx(ot,{onClick:()=>c(3),className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"3"}),f.jsx(ot,{onClick:()=>y("+"),className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"+"}),f.jsx(ot,{onClick:()=>c(0),className:"col-span-2 bg-gray-200 hover:bg-gray-300",children:"0"}),f.jsx(ot,{onClick:u,className:"col-span-1 bg-gray-200 hover:bg-gray-300",children:"."}),f.jsx(ot,{onClick:v,className:"col-span-1 bg-orange-500 hover:bg-orange-600 text-white",children:"="})]})]})},FW=({onClose:t})=>{const{ticketSettings:e,updateTicketSettings:r}=zt(),[n,i]=X.useState(e);X.useEffect(()=>{i(e)},[e]);const a=o=>{const{name:A,value:l,type:c,checked:u}=o.target;i(h=>({...h,[A]:c==="checkbox"?u:l}))},s=o=>{o.preventDefault(),r(n),t()};return f.jsxs("form",{onSubmit:s,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"headerText",className:"block text-sm font-medium text-gray-700",children:"Texto de Encabezado"}),f.jsx(Sr,{id:"headerText",name:"headerText",type:"text",value:n.headerText,onChange:a})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"footerText",className:"block text-sm font-medium text-gray-700",children:"Texto de Pie de Pgina"}),f.jsx(Sr,{id:"footerText",name:"footerText",type:"text",value:n.footerText,onChange:a})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"logoUrl",className:"block text-sm font-medium text-gray-700",children:"URL del Logo"}),f.jsx(Sr,{id:"logoUrl",name:"logoUrl",type:"text",value:n.logoUrl,onChange:a})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(Sr,{id:"showQrCode",name:"showQrCode",type:"checkbox",checked:n.showQrCode,onChange:a,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),f.jsx("label",{htmlFor:"showQrCode",className:"ml-2 block text-sm text-gray-900",children:"Mostrar Cdigo QR"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fontSize",className:"block text-sm font-medium text-gray-700",children:"Tamao de Fuente"}),f.jsxs("select",{id:"fontSize",name:"fontSize",value:n.fontSize,onChange:a,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[f.jsx("option",{value:"sm",children:"Pequeo"}),f.jsx("option",{value:"base",children:"Normal"}),f.jsx("option",{value:"lg",children:"Grande"})]})]}),f.jsx(ot,{type:"submit",className:"w-full bg-indigo-600 text-white hover:bg-indigo-700",children:"Guardar Diseo"})]})},NW=({onClose:t})=>{const{setDiscount:e}=zt(),[r,n]=X.useState("percentage"),[i,a]=X.useState(0),s=()=>{e({type:r,value:parseFloat(i)}),t()};return f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Aplicar Descuento"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de Descuento"}),f.jsxs("select",{value:r,onChange:o=>n(o.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[f.jsx("option",{value:"percentage",children:"Porcentaje (%)"}),f.jsx("option",{value:"amount",children:"Monto Fijo ($)"})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor del Descuento"}),f.jsx(Sr,{type:"number",value:i,onChange:o=>a(o.target.value),placeholder:"0"})]}),f.jsx(ot,{onClick:s,className:"w-full bg-blue-600 text-white py-2 hover:bg-blue-700",children:"Aplicar Descuento"})]})},TW=({onClose:t})=>{const{note:e,setNote:r}=zt(),[n,i]=X.useState(e),a=()=>{r(n),t()};return f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Aadir Nota a la Venta"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"saleNote",className:"block text-sm font-medium text-gray-700",children:"Nota"}),f.jsx("textarea",{id:"saleNote",rows:"4",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:n,onChange:s=>i(s.target.value)})]}),f.jsx(ot,{onClick:a,className:"w-full bg-blue-600 text-white py-2 hover:bg-blue-700",children:"Guardar Nota"})]})},UW=({onClose:t,onPayment:e,total:r})=>{const[n,i]=X.useState(0),[a,s]=X.useState(0),[o,A]=X.useState(!1),[l,c]=X.useState(0),u=a>0?a*.04:0,h=r+(o?0:u);X.useEffect(()=>{const y=Number(n)+Number(a)-h;c(y)},[n,a,h]);const d=()=>{e({cash:n,card:a,cardCommission:u,commissionInCash:o})};return f.jsxs("div",{className:"p-4","data-testid":"payment-modal",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Procesar Pago"}),f.jsx("div",{className:"mb-4",children:f.jsxs("p",{className:"text-lg font-semibold",children:["Total a Pagar: $",r.toFixed(2)]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Efectivo"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Sr,{type:"number",value:n,onChange:g=>i(g.target.value),placeholder:"0.00",className:"flex-grow","data-testid":"cash-input"}),f.jsx(ot,{onClick:()=>i(r-a),className:"bg-gray-200 hover:bg-gray-300",children:"Exacto"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tarjeta"}),f.jsx(Sr,{type:"number",value:a,onChange:g=>s(g.target.value),placeholder:"0.00","data-testid":"card-input"}),a>0&&f.jsxs("div",{className:"mt-2",children:[f.jsxs("p",{className:"text-sm text-gray-600",children:["Comisin (4%): $",(a*.04).toFixed(2)]}),f.jsxs("div",{className:"flex items-center mt-1",children:[f.jsx("input",{type:"checkbox",id:"commissionInCash",checked:o,onChange:()=>A(!o),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),f.jsx("label",{htmlFor:"commissionInCash",className:"ml-2 block text-sm text-gray-900",children:"Pagar comisin en efectivo"})]})]})]})]}),f.jsx("div",{className:"mb-4",children:f.jsxs("p",{className:`text-lg font-semibold ${l<0?"text-red-500":"text-green-500"}`,"data-testid":"change-amount",children:["Cambio: $",l.toFixed(2)]})}),f.jsxs("div",{className:"flex justify-end gap-4",children:[f.jsx(ot,{onClick:t,className:"bg-gray-300 hover:bg-gray-400",children:"Cancelar"}),f.jsx(ot,{onClick:d,className:"bg-blue-600 text-white hover:bg-blue-700",disabled:l<0,"data-testid":"accept-payment-button",children:"Aceptar"})]})]})},OW=({cashClosingDetails:t})=>{const{date:e=new Date().toISOString(),cashier:r="Desconocido",initialCash:n=0,totalSalesAmount:i=0,totalCashSales:a=0,totalCardSales:s=0,finalCash:o=0,sales:A=[]}=t||{};return f.jsxs("div",{className:"bg-white p-6 font-mono text-sm",children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("h2",{className:"text-lg font-bold",children:"Cierre de Caja"}),f.jsxs("p",{children:["Fecha: ",e?new Date(e).toLocaleString():new Date().toLocaleString()]}),f.jsxs("p",{children:["Cajero: ",r||"Desconocido"]})]}),f.jsxs("div",{className:"border-t border-b border-gray-300 py-2 mb-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Efectivo Inicial:"}),f.jsxs("span",{children:["$",typeof n=="number"?n.toFixed(2):"0.00"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Ventas en Efectivo:"}),f.jsxs("span",{children:["$",typeof a=="number"?a.toFixed(2):"0.00"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Ventas con Tarjeta:"}),f.jsxs("span",{children:["$",typeof s=="number"?s.toFixed(2):"0.00"]})]}),f.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[f.jsx("span",{children:"Total en Caja:"}),f.jsxs("span",{children:["$",typeof o=="number"?o.toFixed(2):"0.00"]})]})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("h3",{className:"font-bold",children:"Detalle de Ventas:"}),A&&Array.isArray(A)?A.length>0?A.map((l,c)=>{const u=l.saleId||l.id||`sale_${c}`,h=typeof u=="string"&&u.length>4?u.substring(u.length-4):u;return f.jsxs("div",{className:"flex justify-between text-xs",children:[f.jsxs("span",{children:["Venta ",h,":"]}),f.jsxs("span",{children:["$",l.total?l.total.toFixed(2):"0.00"]})]},l.saleId||l.id||`sale_${c}`)}):f.jsx("div",{className:"text-xs text-[#a0a0b0] py-1",children:"No hay ventas registradas"}):f.jsx("div",{className:"text-xs text-[#a0a0b0] py-1",children:"Ventas no disponibles"})]}),f.jsx("div",{className:"border-t border-gray-300 pt-2 text-center",children:f.jsx("p",{children:"Gracias por su trabajo!"})})]})},LW=({onClose:t})=>{const{salesHistory:e,currentUser:r,cashClosings:n,addCashClosing:i}=zt(),[a,s]=X.useState(0),[o,A]=X.useState(!1),l=X.useRef(),c=GS.useReactToPrint({content:()=>l.current}),u=e.filter(x=>(x.userId===(r==null?void 0:r.id)||x.userId===(r==null?void 0:r.userId)||x.cashierId===(r==null?void 0:r.id)||x.cashier===(r==null?void 0:r.name)||x.cashier===(r==null?void 0:r.displayName))&&x.status!=="closed"),h=u.reduce((x,_)=>x+(_.total||_.subtotal||_.amount||0),0),d=u.filter(x=>!x.paymentMethod||x.paymentMethod==="cash"||x.paymentMethod==="efectivo"||x.paymentMethod&&x.paymentMethod.toLowerCase().includes("cash")).reduce((x,_)=>x+(_.total||_.subtotal||_.amount||0),0),g=u.filter(x=>x.paymentMethod==="card"||x.paymentMethod==="tarjeta"||x.paymentMethod&&x.paymentMethod.toLowerCase().includes("card")).reduce((x,_)=>x+(_.total||_.subtotal||_.amount||0),0),y=a+d,B=u.map(x=>({...x,saleId:x.id||x.saleId||x._id||x.saleId||Math.random().toString(36).substr(2,9)})),v={date:new Date().toISOString(),cashier:(r==null?void 0:r.name)||(r==null?void 0:r.displayName),initialCash:parseFloat(a)||0,totalSalesAmount:h,totalCashSales:d,totalCardSales:g,finalCash:y,sales:B},w=()=>{i&&typeof i=="function"?(i(v),A(!0)):(console.error("addCashClosing function is not available in store"),t())};return f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F0F0F0]",children:"Cierre de Caja"}),f.jsxs("p",{className:"mb-4 text-[#F0F0F0]",children:["Usuario: ",(r==null?void 0:r.name)||(r==null?void 0:r.displayName)||"Desconocido"]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-2",children:"Efectivo Inicial en Caja"}),f.jsx(Sr,{type:"number",value:a,onChange:x=>s(parseFloat(x.target.value)||0),placeholder:"0.00",step:"0.01",min:"0",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-md py-2 px-3"})]}),f.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-[#a0a0b0]",children:"Ventas en Efectivo:"}),f.jsxs("p",{className:"font-semibold text-[#F0F0F0]",children:["$",d.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-[#a0a0b0]",children:"Ventas con Tarjeta:"}),f.jsxs("p",{className:"font-semibold text-[#F0F0F0]",children:["$",g.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-[#a0a0b0]",children:"Total de ventas:"}),f.jsx("p",{className:"font-semibold text-[#F0F0F0]",children:u.length||0})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-[#a0a0b0]",children:"Monto total ventas:"}),f.jsxs("p",{className:"font-semibold text-[#F0F0F0]",children:["$",h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),f.jsxs("div",{className:"mb-6 p-3 bg-[#1D1D27] rounded-lg border border-[#3a3a4a]",children:[f.jsx("p",{className:"text-sm text-[#a0a0b0]",children:"Total en Caja:"}),f.jsxs("p",{className:"text-xl font-bold text-[#8A2BE2]",children:["$",y.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),f.jsx("p",{className:"text-xs text-[#a0a0b0] mt-1",children:"(Efectivo Inicial + Ventas Efectivo)"})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx(ot,{onClick:t,variant:"outline",className:"flex-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a]",children:"Cancelar"}),f.jsx(ot,{onClick:w,className:"flex-1 bg-[#8A2BE2] hover:bg-purple-700 text-white",children:"Cerrar Caja"})]}),f.jsxs(yn,{isOpen:o,onClose:()=>{A(!1),t()},title:"Ticket de Cierre de Caja",children:[f.jsx("div",{className:"max-h-[70vh] overflow-auto",children:f.jsx(OW,{ref:l,cashClosingDetails:v})}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[f.jsx(ot,{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Imprimir Ticket"}),f.jsx(ot,{onClick:()=>{A(!1),t()},className:"bg-gray-300 hover:bg-gray-400",children:"Cerrar"})]})]})]})},kW=(t,e)=>{const r={};if(!t.name||t.name.trim()===""?r.name="El nombre del producto es obligatorio":t.name.length>200&&(r.name="El nombre del producto debe tener mximo 200 caracteres"),t.price===null||t.price===void 0||isNaN(t.price)||t.price<0?r.price="El precio debe ser un nmero positivo":t.price>999999999&&(r.price="El precio es demasiado alto"),t.cost<0?r.cost="El costo debe ser un nmero positivo":t.cost>999999999&&(r.cost="El costo es demasiado alto"),t.cost>t.price&&(r.cost="El costo no puede ser mayor que el precio de venta"),t.sku&&t.sku.length>100&&(r.sku="El SKU debe tener mximo 100 caracteres"),t.barcode&&t.barcode.length>50&&(r.barcode="El cdigo de barras debe tener mximo 50 caracteres"),t.description&&t.description.length>1e3&&(r.description="La descripcin debe tener mximo 1000 caracteres"),t.brand&&t.brand.length>100&&(r.brand="La marca debe tener mximo 100 caracteres"),t.supplierId&&t.supplierId.length>100&&(r.supplierId="El ID del proveedor debe tener mximo 100 caracteres"),t.weight<0&&(r.weight="El peso debe ser un nmero positivo"),(t.taxRate<0||t.taxRate>100)&&(r.taxRate="La tasa de impuesto debe estar entre 0 y 100"),t.dimensions.length<0&&(r.dimensions="La longitud debe ser un nmero positivo"),t.dimensions.width<0&&(r.dimensions="El ancho debe ser un nmero positivo"),t.dimensions.height<0&&(r.dimensions="La altura debe ser un nmero positivo"),!e||!Array.isArray(e))r.inventory="Datos de inventario invlidos";else{const n=e.map(a=>a.locationId),i=[...new Set(n)];n.length!==i.length&&(r.inventory="No se pueden tener mltiples entradas para el mismo almacn"),e.forEach((a,s)=>{a.quantity<0&&(r[`inventory-${s}`]=`La cantidad en el almacn ${a.locationId} debe ser positiva`),a.cost<0&&(r[`inventory-${s}-cost`]=`El costo en el almacn ${a.locationId} debe ser positivo`),a.minStock<0&&(r[`inventory-${s}-minStock`]=`El stock mnimo en el almacn ${a.locationId} debe ser positivo`),a.expirationDate&&a.expirationDate!==""&&new Date(a.expirationDate)<new Date&&(r[`inventory-${s}-expiration`]=`La fecha de vencimiento en el almacn ${a.locationId} no puede ser en el pasado`)})}return t.tags&&t.tags.length>20&&(r.tags="No se pueden agregar ms de 20 etiquetas"),t.tags&&t.tags.some(n=>n.length>50)&&(r.tags="Cada etiqueta debe tener mximo 50 caracteres"),r},PW=({product:t,onClose:e,onSuccess:r,mode:n="modal",onSave:i})=>{const{categories:a,stores:s,addProduct:o,updateProduct:A,isOnline:l,offlineMode:c}=zt(),[u,h]=X.useState({name:"",price:0,cost:0,barcode:"",unit:"unidad",image:"",description:"",categoryId:"",sku:"",minStockThreshold:{},tags:[],brand:"",supplierId:"",weight:0,dimensions:{length:0,width:0,height:0},taxRate:0,isActive:!0,notes:""}),[d,g]=X.useState([]),[y,B]=X.useState({}),[v,w]=X.useState(!1),[x,_]=X.useState(!1);X.useEffect(()=>{if(t){if(h({name:t.name||"",price:t.price||0,cost:t.cost||0,barcode:t.barcode||"",unit:t.unit||"unidad",image:t.image||"",description:t.description||"",categoryId:t.categoryId||"",sku:t.sku||"",minStockThreshold:t.minStockThreshold||{},tags:t.tags||[],brand:t.brand||"",supplierId:t.supplierId||"",weight:t.weight||0,dimensions:t.dimensions||{length:0,width:0,height:0},taxRate:t.taxRate||0,isActive:t.isActive!==void 0?t.isActive:!0,notes:t.notes||""}),t.id){const{inventoryBatches:O}=zt.getState(),K=O.filter(ie=>ie.productId===t.id),q=s.map(ie=>{var de;const fe=K.find(te=>te.locationId===ie.id);return{locationId:ie.id,quantity:fe?fe.quantity:0,cost:fe?fe.cost:0,expirationDate:fe?fe.expirationDate:"",minStock:((de=t.minStockThreshold)==null?void 0:de[ie.id])||0}});g(q)}}else{h({name:"",price:0,cost:0,barcode:"",unit:"unidad",image:"",description:"",categoryId:"",sku:"",minStockThreshold:{},tags:[],brand:"",supplierId:"",weight:0,dimensions:{length:0,width:0,height:0},taxRate:0,isActive:!0,notes:""});const O=s.map(K=>({locationId:K.id,quantity:0,cost:0,expirationDate:"",minStock:0}));g(O)}},[t,s]);const F=O=>{const{name:K,value:q,type:ie,checked:fe}=O.target;if(K.startsWith("dimensions.")){const de=K.split(".")[1];h(te=>({...te,dimensions:{...te.dimensions,[de]:ie==="number"?parseFloat(q)||0:q}}))}else h(de=>({...de,[K]:ie==="checkbox"?fe:ie==="number"?parseFloat(q)||0:q}));y[K]&&B(de=>{const te={...de};return delete te[K],te})},N=(O,K,q)=>{g(ie=>ie.map(fe=>fe.locationId===O?{...fe,[K]:K==="quantity"||K==="cost"||K==="minStock"?parseFloat(q)||0:q}:fe))},R=O=>{if(O.key==="Enter"||O.key===","){O.preventDefault();const K=O.target.value.trim();K&&!u.tags.includes(K)&&(h(q=>({...q,tags:[...q.tags,K]})),O.target.value="")}},D=O=>{h(K=>({...K,tags:K.tags.filter(q=>q!==O)}))},k=()=>{const O=kW(u,d);return B(O),Object.keys(O).length===0},V=async O=>{if(O.preventDefault(),!!k()){w(!0);try{const K={...u,price:parseFloat(u.price)||0,cost:parseFloat(u.cost)||0,minStockThreshold:d.reduce((q,ie)=>(q[ie.locationId]=ie.minStock,q),{})};if(K.inventoryData=d,i)await i(K);else if(t)await A(t.id,K);else{const q=await o(K);if(!q.success)throw new Error(q.error||"Error creating product")}r&&r(t?t.id:result.id),c&&(_(!0),setTimeout(()=>_(!1),5e3)),e()}catch(K){console.error("Error saving product:",K),B({submit:K.message})}finally{w(!1)}}},T=()=>f.jsxs("div",{className:`${n==="modal"?"p-6":""} bg-[#282837] rounded-xl border border-[#3a3a4a]`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:t?"Editar Producto":"Agregar Producto"}),c&&f.jsxs("div",{className:"flex items-center bg-yellow-500/20 text-yellow-300 px-2 py-1 rounded-full text-xs",children:[f.jsx(bp,{className:"w-3 h-3 mr-1"}),"Modo Offline"]}),!l&&f.jsxs("div",{className:"flex items-center bg-red-500/20 text-red-300 px-2 py-1 rounded-full text-xs",children:[f.jsx(bp,{className:"w-3 h-3 mr-1"}),"Sin conexin"]})]}),n==="modal"&&f.jsx("button",{onClick:e,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:f.jsx(ya,{className:"w-5 h-5"})})]}),x&&f.jsxs("div",{className:"mb-4 p-3 bg-yellow-500/20 border border-yellow-500/30 rounded-lg flex items-center",children:[f.jsx(Dc,{className:"w-5 h-5 text-yellow-500 mr-2"}),f.jsx("span",{className:"text-yellow-300 text-sm",children:"El producto se guard localmente. Se sincronizar cuando haya conexin."})]}),f.jsxs("form",{onSubmit:V,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Nombre del Producto *"}),f.jsx("input",{type:"text",name:"name",value:u.name,onChange:F,required:!0,className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${y.name?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,placeholder:"Nombre del producto","data-testid":"product-name-input"}),y.name&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"SKU"}),f.jsx("input",{type:"text",name:"sku",value:u.sku,onChange:F,className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${y.sku?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,placeholder:"Cdigo SKU","data-testid":"product-sku-input"}),y.sku&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.sku})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Cdigo de Barras"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",name:"barcode",value:u.barcode,onChange:F,className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${y.barcode?"border-red-500":"border-[#3a3a4a]"} rounded-lg pl-10 pr-4 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,placeholder:"Escanear o ingresar cdigo","data-testid":"product-barcode-input"}),f.jsx($U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-4 h-4"})]}),y.barcode&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.barcode})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Precio de Venta *"}),f.jsx("input",{type:"number",name:"price",value:u.price,onChange:F,required:!0,min:"0",step:"0.01",className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${y.price?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,"data-testid":"product-price-input"}),y.price&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.price})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Costo"}),f.jsx("input",{type:"number",name:"cost",value:u.cost,onChange:F,min:"0",step:"0.01",className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${y.cost?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,"data-testid":"product-cost-input"}),y.cost&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.cost})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Categora"}),f.jsxs("select",{name:"categoryId",value:u.categoryId,onChange:F,className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${y.categoryId?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors`,"data-testid":"product-category-select",children:[f.jsx("option",{value:"",children:"Selecciona una categora"}),a.map(O=>f.jsx("option",{value:O.id,children:O.name},O.id))]}),y.categoryId&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.categoryId})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Unidad de Medida"}),f.jsxs("select",{name:"unit",value:u.unit,onChange:F,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":"product-unit-select",children:[f.jsx("option",{value:"unidad",children:"Unidad"}),f.jsx("option",{value:"kg",children:"Kilogramo (kg)"}),f.jsx("option",{value:"gr",children:"Gramo (gr)"}),f.jsx("option",{value:"lb",children:"Libra (lb)"}),f.jsx("option",{value:"oz",children:"Onza (oz)"}),f.jsx("option",{value:"lt",children:"Litro (lt)"}),f.jsx("option",{value:"ml",children:"Mililitro (ml)"}),f.jsx("option",{value:"m",children:"Metro (m)"}),f.jsx("option",{value:"cm",children:"Centmetro (cm)"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Marca"}),f.jsx("input",{type:"text",name:"brand",value:u.brand,onChange:F,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",placeholder:"Marca del producto","data-testid":"product-brand-input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Proveedor"}),f.jsx("input",{type:"text",name:"supplierId",value:u.supplierId,onChange:F,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",placeholder:"ID o nombre del proveedor","data-testid":"product-supplier-input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Etiquetas"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:u.tags.map((O,K)=>f.jsxs("span",{className:"bg-[#8A2BE2]/20 text-[#8A2BE2] px-2 py-1 rounded-full text-xs flex items-center",children:[O,f.jsx("button",{type:"button",onClick:()=>D(O),className:"ml-1 text-white hover:text-red-400","data-testid":`product-tag-remove-${O}`,children:""})]},K))}),f.jsx("input",{type:"text",onKeyDown:R,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",placeholder:"Presiona Enter para agregar etiquetas","data-testid":"product-tags-input"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Imagen URL"}),f.jsx("input",{type:"text",name:"image",value:u.image,onChange:F,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",placeholder:"URL de la imagen del producto","data-testid":"product-image-input"})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Peso (kg)"}),f.jsx("input",{type:"number",name:"weight",value:u.weight,onChange:F,min:"0",step:"0.01",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":"product-weight-input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Largo (cm)"}),f.jsx("input",{type:"number",name:"dimensions.length",value:u.dimensions.length,onChange:F,min:"0",step:"0.1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":"product-length-input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Ancho (cm)"}),f.jsx("input",{type:"number",name:"dimensions.width",value:u.dimensions.width,onChange:F,min:"0",step:"0.1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":"product-width-input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Alto (cm)"}),f.jsx("input",{type:"number",name:"dimensions.height",value:u.dimensions.height,onChange:F,min:"0",step:"0.1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":"product-height-input"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Tasa de Impuesto (%)"}),f.jsx("input",{type:"number",name:"taxRate",value:u.taxRate,onChange:F,min:"0",max:"100",step:"0.1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":"product-taxrate-input"})]}),f.jsxs("div",{className:"flex items-center pt-6",children:[f.jsx("input",{type:"checkbox",name:"isActive",checked:u.isActive,onChange:F,className:"h-4 w-4 text-[#8A2BE2] focus:ring-[#8A2BE2] border-[#3a3a4a] rounded bg-[#1D1D27]","data-testid":"product-isactive-checkbox"}),f.jsx("label",{className:"ml-2 block text-sm text-[#F0F0F0]",children:"Producto Activo"})]})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Descripcin"}),f.jsx("textarea",{name:"description",value:u.description,onChange:F,rows:"3",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none resize-none transition-colors",placeholder:"Descripcin detallada del producto","data-testid":"product-description-textarea"})]}),f.jsxs("div",{className:"border border-[#3a3a4a] rounded-xl p-4",children:[f.jsxs("h4",{className:"text-lg font-semibold text-[#F0F0F0] mb-4 flex items-center",children:[f.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Inventario por Almacn"]}),f.jsx("div",{className:"space-y-4",children:d.map((O,K)=>{const q=s.find(ie=>ie.id===O.locationId);return f.jsxs("div",{className:"border border-[#3a3a4a] rounded-lg p-4","data-testid":`inventory-item-${O.locationId}`,children:[f.jsxs("div",{className:"flex items-center mb-3",children:[f.jsx(CO,{className:"w-4 h-4 text-[#a0a0b0] mr-2"}),f.jsx("h5",{className:"font-medium text-[#F0F0F0]",children:(q==null?void 0:q.name)||"Almacn"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Cantidad"}),f.jsx("input",{type:"number",value:O.quantity,onChange:ie=>N(O.locationId,"quantity",ie.target.value),min:"0",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":`inventory-quantity-input-${O.locationId}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Costo Unitario"}),f.jsx("input",{type:"number",value:O.cost,onChange:ie=>N(O.locationId,"cost",ie.target.value),min:"0",step:"0.01",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":`inventory-cost-input-${O.locationId}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Stock Mnimo"}),f.jsx("input",{type:"number",value:O.minStock,onChange:ie=>N(O.locationId,"minStock",ie.target.value),min:"0",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":`inventory-minstock-input-${O.locationId}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Fecha de Vencimiento"}),f.jsx("input",{type:"date",value:O.expirationDate,onChange:ie=>N(O.locationId,"expirationDate",ie.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors","data-testid":`inventory-expiration-date-input-${O.locationId}`})]})]})]},O.locationId)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Notas Adicionales"}),f.jsx("textarea",{name:"notes",value:u.notes,onChange:F,rows:"2",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none resize-none transition-colors",placeholder:"Notas adicionales sobre el producto","data-testid":"product-notes-textarea"})]}),y.submit&&f.jsxs("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg flex items-center",children:[f.jsx(Dc,{className:"w-5 h-5 text-red-500 mr-2"}),f.jsx("span",{className:"text-red-300",children:y.submit})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"bg-[#3a3a4a] text-[#F0F0F0] hover:bg-[#4a4a5a] py-2 px-4 rounded-lg transition-colors","data-testid":"cancel-product-form-button",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:v,className:"bg-[#8A2BE2] text-white hover:bg-[#7a1bd2] py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center","data-testid":"submit-product-form-button",children:v?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):`${t?"Actualizar":"Agregar"} Producto`})]})]})]});return n==="modal"?f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:T()})}):T()},fx=({product:t,onClose:e,onSuccess:r})=>f.jsx(PW,{product:t,onClose:e,onSuccess:r,mode:"modal"}),DW=({onClose:t})=>{const{salesHistory:e}=zt(),[r,n]=X.useState(null);return f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Ventas Anteriores"}),f.jsx("div",{className:"space-y-2",children:e.map(i=>f.jsxs("div",{className:"flex justify-between items-center p-2 border rounded-md",children:[f.jsxs("div",{children:[f.jsxs("p",{children:["ID de Venta: ",i.saleId]}),f.jsxs("p",{children:["Total: $",i.total.toFixed(2)]})]}),f.jsx(ot,{onClick:()=>n(i),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Ver Ticket"})]},i.saleId))}),r&&f.jsx(yn,{isOpen:!!r,onClose:()=>n(null),title:"Ticket de Venta",children:f.jsx(VS,{saleDetails:r})})]})},RW=({onClose:t})=>{const[e,r]=X.useState(""),[n,i]=X.useState(""),[a,s]=X.useState(""),[o,A]=X.useState(""),[l,c]=X.useState(""),[u,h]=X.useState(""),d=()=>{t()};return f.jsxs("div",{className:"p-6 bg-gray-50 rounded-lg",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Agendar Visita de Proveedor"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Sr,{icon:jU,label:"Nombre del Proveedor",placeholder:"Ej: Coca-Cola",value:e,onChange:g=>r(g.target.value)}),f.jsx(Sr,{icon:yf,label:"Nmero de Orden de Compra",placeholder:"Ej: OC-12345",value:n,onChange:g=>i(g.target.value)}),f.jsx(Sr,{icon:mO,label:"Artculos a Recibir",placeholder:"Ej: 24-pack Coca-Cola, 12-pack Sprite",value:a,onChange:g=>s(g.target.value)}),f.jsx(Sr,{icon:Lw,label:"Monto a Pagar (Estimado)",type:"number",placeholder:"Ej: 1500.00",value:o,onChange:g=>A(g.target.value)}),f.jsx(Sr,{icon:mp,label:"Fecha de Visita",type:"date",value:l,onChange:g=>c(g.target.value)}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas Adicionales"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(xE,{className:"h-5 w-5 text-gray-400"})}),f.jsx("textarea",{value:u,onChange:g=>h(g.target.value),placeholder:"Ej: El proveedor llegar por la tarde.",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[f.jsx(ot,{onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancelar"}),f.jsx(ot,{onClick:d,className:"bg-blue-600 text-white hover:bg-blue-700",children:"Agendar Visita"})]})]})},QW=({onClose:t})=>{const{addExpense:e}=zt(),[r,n]=X.useState(0),a=r*.04,s=r+a,o=()=>{r>0&&(e({concept:"Retiro de Efectivo (Tarjeta)",amount:s,type:"Retiro",details:`Monto retirado: $${r.toFixed(2)}, Comisin (4%): $${a.toFixed(2)}`}),t())};return f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Retiro de Efectivo (Tarjeta)"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monto a Retirar"}),f.jsx(Sr,{type:"number",value:r,onChange:A=>n(parseFloat(A.target.value)||0),placeholder:"0.00",prefix:"$",icon:Lw})]}),f.jsxs("p",{className:"text-gray-700",children:["Comisin (4%): $",a.toFixed(2)]}),f.jsxs("p",{className:"text-lg font-bold mt-2",children:["Total a Deducir: $",s.toFixed(2)]}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(ot,{onClick:t,className:"bg-gray-300 hover:bg-gray-400",children:"Cancelar"}),f.jsx(ot,{onClick:o,className:"bg-blue-600 text-white hover:bg-blue-700",disabled:r<=0,children:"Confirmar Retiro"})]})]})},jW=({onClose:t})=>{const{products:e,inventoryBatches:r,currentUser:n,updateProduct:i,deleteProduct:a}=zt(),[s,o]=X.useState(""),A=X.useMemo(()=>{const h=n==null?void 0:n.storeId;if(!h)return[];const d=r.reduce((g,y)=>(y.locationId===h&&(g[y.productId]=(g[y.productId]||0)+y.quantity),g),{});return e.map(g=>({...g,stockInLocation:d[g.id]||0})).filter(g=>g.stockInLocation>0).filter(g=>g.name.toLowerCase().includes(s.toLowerCase()))},[e,r,n,s]),l=h=>{alert(`Edit product ${h}`)},c=h=>{window.confirm("Ests seguro de que quieres eliminar este producto?")&&a(h)},u=n&&(n.role==="admin"||n.role==="gerente");return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx("div",{className:"p-3 rounded-xl bg-blue-100 text-blue-600 mr-4",children:f.jsx(Rs,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Coleccin de Productos"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Gestiona los productos disponibles en tu tienda"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[f.jsxs("div",{className:"relative flex-1 w-full",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:f.jsx(Nf,{size:20})}),f.jsx("input",{type:"text",placeholder:"Buscar productos...",value:s,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition duration-200"})]}),f.jsx(ot,{onClick:t,variant:"outline",className:"px-4 py-3 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cerrar"})]}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:A.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("div",{className:"p-3 rounded-full bg-gray-100 dark:bg-gray-700",children:f.jsx(Dc,{size:32,className:"text-gray-400"})})}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No se encontraron productos"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay productos en esta tienda o no coinciden con la bsqueda."})]}):f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Producto"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Categora"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Stock"}),f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Precio"}),u&&f.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A.map((h,d)=>f.jsxs("tr",{className:`transition-colors hover:bg-gray-50 dark:hover:bg-gray-750 ${d%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-850"}`,children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 dark:bg-gray-700 rounded-md flex items-center justify-center",children:h.image?f.jsx("img",{src:h.image,alt:h.name,className:"h-8 w-8 object-cover rounded-md"}):f.jsx(Rs,{size:20,className:"text-gray-500"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.name}),f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.barcodes&&h.barcodes.length>0?h.barcodes[0]:"Sin cdigo"})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-200",children:h.categoryId||"Sin categora"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${h.stockInLocation<10?"bg-red-100 text-red-800 dark:bg-red-800/30 dark:text-red-300":h.stockInLocation<20?"bg-yellow-100 text-yellow-800 dark:bg-yellow-800/30 dark:text-yellow-300":"bg-green-100 text-green-800 dark:bg-green-800/30 dark:text-green-300"}`,children:h.stockInLocation})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200 font-semibold",children:["$",h.price.toFixed(2)]}),u&&f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(ot,{onClick:()=>l(h.id),variant:"outline",className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 border border-blue-200 dark:border-blue-800",children:f.jsx(UO,{size:16})}),f.jsx(ot,{onClick:()=>c(h.id),variant:"outline",className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 border border-red-200 dark:border-red-800",children:f.jsx(Tf,{size:16})})]})})]},h.id))})]})}),A.length>0&&f.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 flex justify-between",children:[f.jsxs("span",{children:["Mostrando ",A.length," producto",A.length!==1?"s":""]}),f.jsxs("span",{children:["Total en stock: ",A.reduce((h,d)=>h+d.stockInLocation,0)]})]})]})};var eI=t=>{throw TypeError(t)},tI=(t,e,r)=>e.has(t)||eI("Cannot "+r),MW=(t,e,r)=>(tI(t,e,"read from private field"),r?r.call(t):e.get(t)),HW=(t,e,r)=>e.has(t)?eI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),KW=(t,e,r,n)=>(tI(t,e,"write to private field"),e.set(t,r),r);const Fg=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Ng=Fg.map(([t])=>t),VW=Ng.filter((t,e)=>Fg[e][1]==="L"),$W=Ng.filter((t,e)=>Fg[e][1]==="M");function Cy(t){switch(t){case"Linear-Codes":return VW.reduce((e,r)=>e|Cy(r),0);case"Matrix-Codes":return $W.reduce((e,r)=>e|Cy(r),0);case"Any":return(1<<Fg.length)-1;case"None":return 0;default:return 1<<Ng.indexOf(t)}}function GW(t){if(t===0)return"None";const e=31-Math.clz32(t);return Ng[e]}function zW(t){return t.reduce((e,r)=>e|Cy(r),0)}const WW=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function qW(t){return WW.indexOf(t)}const _4=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function XW(t){return t==="UnicodeBig"?_4.indexOf("UTF16BE"):_4.indexOf(t)}const YW=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function JW(t){return YW[t]}const ZW=["Ignore","Read","Require"];function eq(t){return ZW.indexOf(t)}const tq=["Plain","ECI","HRI","Hex","Escaped"];function rq(t){return tq.indexOf(t)}const Vp={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function E4(t){return{...t,formats:zW(t.formats),binarizer:qW(t.binarizer),eanAddOnSymbol:eq(t.eanAddOnSymbol),textMode:rq(t.textMode),characterSet:XW(t.characterSet)}}function nq(t){return{...t,format:GW(t.format),contentType:JW(t.contentType),eccLevel:t.ecLevel}}const iq={locateFile:(t,e)=>{const r=t.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.2.2/dist/${r[1]}/${t}`:e+t}},w2=new WeakMap;function aq(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>Object.hasOwn(e,r)&&t[r]===e[r])}function rI(t,{overrides:e,equalityFn:r=aq,fireImmediately:n=!1}={}){var i;const[a,s]=(i=w2.get(t))!=null?i:[iq],o=e??a;let A;if(n){if(s&&(A=r(a,o)))return s;const l=t({...o});return w2.set(t,[o,l]),l}(A??r(a,o))||w2.set(t,[o])}async function sq(t,e,r=Vp){const n={...Vp,...r},i=await rI(t,{fireImmediately:!0});let a,s;if("width"in e&&"height"in e&&"data"in e){const{data:A,data:{byteLength:l},width:c,height:u}=e;s=i._malloc(l),i.HEAPU8.set(A,s),a=i.readBarcodesFromPixmap(s,c,u,E4(n))}else{let A,l;if("buffer"in e)[A,l]=[e.byteLength,e];else if("byteLength"in e)[A,l]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[A,l]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");s=i._malloc(A),i.HEAPU8.set(l,s),a=i.readBarcodesFromImage(s,A,E4(n))}i._free(s);const o=[];for(let A=0;A<a.size();++A)o.push(nq(a.get(A)));return o}({...Vp,formats:[...Vp.formats]});var nI=async function(t={}){var e,r,n=t,i,a,s=new Promise((I,S)=>{i=I,a=S}),o=typeof window=="object",A=typeof Bun<"u",l=typeof WorkerGlobalScope<"u";typeof process=="object"&&!((r=process.versions)===null||r===void 0)&&r.node&&process.type!="renderer";var c="./this.program",u,h="";function d(I){return n.locateFile?n.locateFile(I,h):h+I}var g,y;if(o||l||A){try{h=new URL(".",u).href}catch{}l&&(y=I=>{var S=new XMLHttpRequest;return S.open("GET",I,!1),S.responseType="arraybuffer",S.send(null),new Uint8Array(S.response)}),g=async I=>{var S=await fetch(I,{credentials:"same-origin"});if(S.ok)return S.arrayBuffer();throw new Error(S.status+" : "+S.url)}}var B=console.log.bind(console),v=console.error.bind(console),w,x,_=!1,F,N,R,D,k,V,T,O;function K(){var I=x.buffer;F=new Int8Array(I),R=new Int16Array(I),n.HEAPU8=N=new Uint8Array(I),D=new Uint16Array(I),k=new Int32Array(I),V=new Uint32Array(I),T=new Float32Array(I),O=new Float64Array(I)}function q(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Be(n.preRun.shift());Se(Ue)}function ie(){fr.ya()}function fe(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Qe(n.postRun.shift());Se(Pe)}var de=0,te=null;function ce(I){var S;de++,(S=n.monitorRunDependencies)===null||S===void 0||S.call(n,de)}function Ce(I){var S;if(de--,(S=n.monitorRunDependencies)===null||S===void 0||S.call(n,de),de==0&&te){var M=te;te=null,M()}}function be(I){var S;(S=n.onAbort)===null||S===void 0||S.call(n,I),I="Aborted("+I+")",v(I),_=!0,I+=". Build with -sASSERTIONS for more info.";var M=new WebAssembly.RuntimeError(I);throw a(M),M}var P;function H(){return d("zxing_reader.wasm")}function z(I){if(I==P&&w)return new Uint8Array(w);if(y)return y(I);throw"both async and sync fetching of the wasm failed"}async function ne(I){if(!w)try{var S=await g(I);return new Uint8Array(S)}catch{}return z(I)}async function oe(I,S){try{var M=await ne(I),re=await WebAssembly.instantiate(M,S);return re}catch(se){v(`failed to asynchronously prepare wasm: ${se}`),be(se)}}async function he(I,S,M){if(!I&&typeof WebAssembly.instantiateStreaming=="function")try{var re=fetch(S,{credentials:"same-origin"}),se=await WebAssembly.instantiateStreaming(re,M);return se}catch(le){v(`wasm streaming compile failed: ${le}`),v("falling back to ArrayBuffer instantiation")}return oe(S,M)}function Ee(){return{a:Js}}async function _e(){function I(le,ye){return fr=le.exports,x=fr.xa,K(),Pl=fr.Ba,Ce(),fr}ce();function S(le){return I(le.instance)}var M=Ee();if(n.instantiateWasm)return new Promise((le,ye)=>{n.instantiateWasm(M,(ve,ke)=>{le(I(ve))})});P!=null||(P=H());try{var re=await he(w,P,M),se=S(re);return se}catch(le){return a(le),Promise.reject(le)}}var Se=I=>{for(;I.length>0;)I.shift()(n)},Pe=[],Qe=I=>Pe.push(I),Ue=[],Be=I=>Ue.push(I),G=I=>ql(I),He=()=>Jr(),tt=[],Je=0,De=I=>{var S=new Ct(I);return S.get_caught()||(S.set_caught(!0),Je--),S.set_rethrown(!1),tt.push(S),OA(I),jo(I)},ze=0,$e=()=>{Pt(0,0);var I=tt.pop();vs(I.excPtr),ze=0};class Ct{constructor(S){this.excPtr=S,this.ptr=S-24}set_type(S){V[this.ptr+4>>2]=S}get_type(){return V[this.ptr+4>>2]}set_destructor(S){V[this.ptr+8>>2]=S}get_destructor(){return V[this.ptr+8>>2]}set_caught(S){S=S?1:0,F[this.ptr+12]=S}get_caught(){return F[this.ptr+12]!=0}set_rethrown(S){S=S?1:0,F[this.ptr+13]=S}get_rethrown(){return F[this.ptr+13]!=0}init(S,M){this.set_adjusted_ptr(0),this.set_type(S),this.set_destructor(M)}set_adjusted_ptr(S){V[this.ptr+16>>2]=S}get_adjusted_ptr(){return V[this.ptr+16>>2]}}var lt=I=>Wl(I),Vt=I=>{var S=ze;if(!S)return lt(0),0;var M=new Ct(S);M.set_adjusted_ptr(S);var re=M.get_type();if(!re)return lt(0),S;for(var se of I){if(se===0||se===re)break;var le=M.ptr+16;if(iu(se,re,le))return lt(se),S}return lt(re),S},Et=()=>Vt([]),St=I=>Vt([I]),Ar=(I,S)=>Vt([I,S]),It=()=>{var I=tt.pop();I||be("no exception to throw");var S=I.excPtr;throw I.get_rethrown()||(tt.push(I),I.set_rethrown(!0),I.set_caught(!1),Je++),ze=S,ze},Ie=(I,S,M)=>{var re=new Ct(I);throw re.init(S,M),ze=I,Je++,ze},Ze=()=>Je,rt=I=>{throw ze||(ze=I),ze},pr=()=>be(""),it={},qe=I=>{for(;I.length;){var S=I.pop(),M=I.pop();M(S)}};function mt(I){return this.fromWireType(V[I>>2])}var $t={},pt={},Gt={},Lt=class extends Error{constructor(I){super(I),this.name="InternalError"}},Pr=I=>{throw new Lt(I)},Ur=(I,S,M)=>{I.forEach(ve=>Gt[ve]=S);function re(ve){var ke=M(ve);ke.length!==I.length&&Pr("Mismatched type converter count");for(var Ve=0;Ve<I.length;++Ve)Un(I[Ve],ke[Ve])}var se=new Array(S.length),le=[],ye=0;S.forEach((ve,ke)=>{pt.hasOwnProperty(ve)?se[ke]=pt[ve]:(le.push(ve),$t.hasOwnProperty(ve)||($t[ve]=[]),$t[ve].push(()=>{se[ke]=pt[ve],++ye,ye===le.length&&re(se)}))}),le.length===0&&re(se)},yr=I=>{var S=it[I];delete it[I];var M=S.rawConstructor,re=S.rawDestructor,se=S.fields,le=se.map(ye=>ye.getterReturnType).concat(se.map(ye=>ye.setterArgumentType));Ur([I],le,ye=>{var ve={};return se.forEach((ke,Ve)=>{var Xe=ke.fieldName,Tt=ye[Ve],qt=ye[Ve].optional,Yt=ke.getter,xr=ke.getterContext,rr=ye[Ve+se.length],nr=ke.setter,An=ke.setterContext;ve[Xe]={read:oa=>Tt.fromWireType(Yt(xr,oa)),write:(oa,si)=>{var oi=[];nr(An,oa,rr.toWireType(oi,si)),qe(oi)},optional:qt}}),[{name:S.name,fromWireType:ke=>{var Ve={};for(var Xe in ve)Ve[Xe]=ve[Xe].read(ke);return re(ke),Ve},toWireType:(ke,Ve)=>{for(var Xe in ve)if(!(Xe in Ve)&&!ve[Xe].optional)throw new TypeError(`Missing field: "${Xe}"`);var Tt=M();for(Xe in ve)ve[Xe].write(Tt,Ve[Xe]);return ke!==null&&ke.push(re,Tt),Tt},argPackAdvance:Qn,readValueFromPointer:mt,destructorFunction:re}]})},Ft=(I,S,M,re,se)=>{},lr=()=>{for(var I=new Array(256),S=0;S<256;++S)I[S]=String.fromCharCode(S);Ws=I},Ws,cr=I=>{for(var S="",M=I;N[M];)S+=Ws[N[M++]];return S},Di=class extends Error{constructor(I){super(I),this.name="BindingError"}},jt=I=>{throw new Di(I)};function wt(I,S){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var re=S.name;if(I||jt(`type "${re}" must have a positive integer typeid pointer`),pt.hasOwnProperty(I)){if(M.ignoreDuplicateRegistrations)return;jt(`Cannot register type '${re}' twice`)}if(pt[I]=S,delete Gt[I],$t.hasOwnProperty(I)){var se=$t[I];delete $t[I],se.forEach(le=>le())}}function Un(I,S){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return wt(I,S,M)}var Qn=8,ta=(I,S,M,re)=>{S=cr(S),Un(I,{name:S,fromWireType:function(se){return!!se},toWireType:function(se,le){return le?M:re},argPackAdvance:Qn,readValueFromPointer:function(se){return this.fromWireType(N[se])},destructorFunction:null})},ra=I=>({count:I.count,deleteScheduled:I.deleteScheduled,preservePointerOnDelete:I.preservePointerOnDelete,ptr:I.ptr,ptrType:I.ptrType,smartPtr:I.smartPtr,smartPtrType:I.smartPtrType}),Dr=I=>{function S(M){return M.$$.ptrType.registeredClass.name}jt(S(I)+" instance already deleted")},hn=!1,On=I=>{},_o=I=>{I.smartPtr?I.smartPtrType.rawDestructor(I.smartPtr):I.ptrType.registeredClass.rawDestructor(I.ptr)},us=I=>{I.count.value-=1;var S=I.count.value===0;S&&_o(I)},ai=I=>typeof FinalizationRegistry>"u"?(ai=S=>S,I):(hn=new FinalizationRegistry(S=>{us(S.$$)}),ai=S=>{var M=S.$$,re=!!M.smartPtr;if(re){var se={$$:M};hn.register(S,se,S)}return S},On=S=>hn.unregister(S),ai(I)),Va=()=>{let I=Bi.prototype;Object.assign(I,{isAliasOf(M){if(!(this instanceof Bi)||!(M instanceof Bi))return!1;var re=this.$$.ptrType.registeredClass,se=this.$$.ptr;M.$$=M.$$;for(var le=M.$$.ptrType.registeredClass,ye=M.$$.ptr;re.baseClass;)se=re.upcast(se),re=re.baseClass;for(;le.baseClass;)ye=le.upcast(ye),le=le.baseClass;return re===le&&se===ye},clone(){if(this.$$.ptr||Dr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var M=ai(Object.create(Object.getPrototypeOf(this),{$$:{value:ra(this.$$)}}));return M.$$.count.value+=1,M.$$.deleteScheduled=!1,M},delete(){this.$$.ptr||Dr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&jt("Object already scheduled for deletion"),On(this),us(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Dr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&jt("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const S=Symbol.dispose;S&&(I[S]=I.delete)};function Bi(){}var Ri=(I,S)=>Object.defineProperty(S,"name",{value:I}),Qi={},qs=(I,S,M)=>{if(I[S].overloadTable===void 0){var re=I[S];I[S]=function(){for(var se=arguments.length,le=new Array(se),ye=0;ye<se;ye++)le[ye]=arguments[ye];return I[S].overloadTable.hasOwnProperty(le.length)||jt(`Function '${M}' called with an invalid number of arguments (${le.length}) - expects one of (${I[S].overloadTable})!`),I[S].overloadTable[le.length].apply(this,le)},I[S].overloadTable=[],I[S].overloadTable[re.argCount]=re}},Ca=(I,S,M)=>{n.hasOwnProperty(I)?((M===void 0||n[I].overloadTable!==void 0&&n[I].overloadTable[M]!==void 0)&&jt(`Cannot register public name '${I}' twice`),qs(n,I,I),n[I].overloadTable.hasOwnProperty(M)&&jt(`Cannot register multiple overloads of a function with the same number of arguments (${M})!`),n[I].overloadTable[M]=S):(n[I]=S,n[I].argCount=M)},Eo=48,wA=57,xA=I=>{I=I.replace(/[^a-zA-Z0-9_]/g,"$");var S=I.charCodeAt(0);return S>=Eo&&S<=wA?`_${I}`:I};function bA(I,S,M,re,se,le,ye,ve){this.name=I,this.constructor=S,this.instancePrototype=M,this.rawDestructor=re,this.baseClass=se,this.getActualType=le,this.upcast=ye,this.downcast=ve,this.pureVirtualFunctions=[]}var Ol=(I,S,M)=>{for(;S!==M;)S.upcast||jt(`Expected null or instance of ${M.name}, got an instance of ${S.name}`),I=S.upcast(I),S=S.baseClass;return I},So=I=>{if(I===null)return"null";var S=typeof I;return S==="object"||S==="array"||S==="function"?I.toString():""+I};function Gc(I,S){if(S===null)return this.isReference&&jt(`null is not a valid ${this.name}`),0;S.$$||jt(`Cannot pass "${So(S)}" as a ${this.name}`),S.$$.ptr||jt(`Cannot pass deleted object as a pointer of type ${this.name}`);var M=S.$$.ptrType.registeredClass,re=Ol(S.$$.ptr,M,this.registeredClass);return re}function zc(I,S){var M;if(S===null)return this.isReference&&jt(`null is not a valid ${this.name}`),this.isSmartPointer?(M=this.rawConstructor(),I!==null&&I.push(this.rawDestructor,M),M):0;(!S||!S.$$)&&jt(`Cannot pass "${So(S)}" as a ${this.name}`),S.$$.ptr||jt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&S.$$.ptrType.isConst&&jt(`Cannot convert argument of type ${S.$$.smartPtrType?S.$$.smartPtrType.name:S.$$.ptrType.name} to parameter type ${this.name}`);var re=S.$$.ptrType.registeredClass;if(M=Ol(S.$$.ptr,re,this.registeredClass),this.isSmartPointer)switch(S.$$.smartPtr===void 0&&jt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:S.$$.smartPtrType===this?M=S.$$.smartPtr:jt(`Cannot convert argument of type ${S.$$.smartPtrType?S.$$.smartPtrType.name:S.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:M=S.$$.smartPtr;break;case 2:if(S.$$.smartPtrType===this)M=S.$$.smartPtr;else{var se=S.clone();M=this.rawShare(M,ji.toHandle(()=>se.delete())),I!==null&&I.push(this.rawDestructor,M)}break;default:jt("Unsupporting sharing policy")}return M}function na(I,S){if(S===null)return this.isReference&&jt(`null is not a valid ${this.name}`),0;S.$$||jt(`Cannot pass "${So(S)}" as a ${this.name}`),S.$$.ptr||jt(`Cannot pass deleted object as a pointer of type ${this.name}`),S.$$.ptrType.isConst&&jt(`Cannot convert argument of type ${S.$$.ptrType.name} to parameter type ${this.name}`);var M=S.$$.ptrType.registeredClass,re=Ol(S.$$.ptr,M,this.registeredClass);return re}var BA=(I,S,M)=>{if(S===M)return I;if(M.baseClass===void 0)return null;var re=BA(I,S,M.baseClass);return re===null?null:M.downcast(re)},Wc={},Ll=(I,S)=>{for(S===void 0&&jt("ptr should not be undefined");I.baseClass;)S=I.upcast(S),I=I.baseClass;return S},qc=(I,S)=>(S=Ll(I,S),Wc[S]),Io=(I,S)=>{(!S.ptrType||!S.ptr)&&Pr("makeClassHandle requires ptr and ptrType");var M=!!S.smartPtrType,re=!!S.smartPtr;return M!==re&&Pr("Both smartPtrType and smartPtr must be specified"),S.count={value:1},ai(Object.create(I,{$$:{value:S,writable:!0}}))};function Xc(I){var S=this.getPointee(I);if(!S)return this.destructor(I),null;var M=qc(this.registeredClass,S);if(M!==void 0){if(M.$$.count.value===0)return M.$$.ptr=S,M.$$.smartPtr=I,M.clone();var re=M.clone();return this.destructor(I),re}function se(){return this.isSmartPointer?Io(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:S,smartPtrType:this,smartPtr:I}):Io(this.registeredClass.instancePrototype,{ptrType:this,ptr:I})}var le=this.registeredClass.getActualType(S),ye=Qi[le];if(!ye)return se.call(this);var ve;this.isConst?ve=ye.constPointerType:ve=ye.pointerType;var ke=BA(S,this.registeredClass,ve.registeredClass);return ke===null?se.call(this):this.isSmartPointer?Io(ve.registeredClass.instancePrototype,{ptrType:ve,ptr:ke,smartPtrType:this,smartPtr:I}):Io(ve.registeredClass.instancePrototype,{ptrType:ve,ptr:ke})}var CA=()=>{Object.assign(_A.prototype,{getPointee(I){return this.rawGetPointee&&(I=this.rawGetPointee(I)),I},destructor(I){var S;(S=this.rawDestructor)===null||S===void 0||S.call(this,I)},argPackAdvance:Qn,readValueFromPointer:mt,fromWireType:Xc})};function _A(I,S,M,re,se,le,ye,ve,ke,Ve,Xe){this.name=I,this.registeredClass=S,this.isReference=M,this.isConst=re,this.isSmartPointer=se,this.pointeeType=le,this.sharingPolicy=ye,this.rawGetPointee=ve,this.rawConstructor=ke,this.rawShare=Ve,this.rawDestructor=Xe,!se&&S.baseClass===void 0?re?(this.toWireType=Gc,this.destructorFunction=null):(this.toWireType=na,this.destructorFunction=null):this.toWireType=zc}var nn=(I,S,M)=>{n.hasOwnProperty(I)||Pr("Replacing nonexistent public symbol"),n[I].overloadTable!==void 0&&M!==void 0?n[I].overloadTable[M]=S:(n[I]=S,n[I].argCount=M)},kl=[],Pl,kt=I=>{var S=kl[I];return S||(kl[I]=S=Pl.get(I)),S},Fo=function(I,S){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(I.includes("j"))return dynCallLegacy(I,S,M);var re=kt(S),se=re(...M);return se},_a=function(I,S){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var re=arguments.length,se=new Array(re),le=0;le<re;le++)se[le]=arguments[le];return Fo(I,S,se,M)}},jn=function(I,S){I=cr(I);function M(){if(I.includes("j"))return _a(I,S);var se=kt(S);return se}var re=M();return typeof re!="function"&&jt(`unknown function pointer with signature ${I}: ${S}`),re};class an extends Error{}var EA=I=>{var S=Qo(I),M=cr(S);return Mi(S),M},SA=(I,S)=>{var M=[],re={};function se(le){if(!re[le]&&!pt[le]){if(Gt[le]){Gt[le].forEach(se);return}M.push(le),re[le]=!0}}throw S.forEach(se),new an(`${I}: `+M.map(EA).join([", "]))},Qf=(I,S,M,re,se,le,ye,ve,ke,Ve,Xe,Tt,qt)=>{Xe=cr(Xe),le=jn(se,le),ve&&(ve=jn(ye,ve)),Ve&&(Ve=jn(ke,Ve)),qt=jn(Tt,qt);var Yt=xA(Xe);Ca(Yt,function(){SA(`Cannot construct ${Xe} due to unbound types`,[re])}),Ur([I,S,M],re?[re]:[],xr=>{xr=xr[0];var rr,nr;re?(rr=xr.registeredClass,nr=rr.instancePrototype):nr=Bi.prototype;var An=Ri(Xe,function(){if(Object.getPrototypeOf(this)!==oa)throw new Di(`Use 'new' to construct ${Xe}`);if(si.constructor_body===void 0)throw new Di(`${Xe} has no accessible constructor`);for(var lu=arguments.length,Go=new Array(lu),PA=0;PA<lu;PA++)Go[PA]=arguments[PA];var Hh=si.constructor_body[Go.length];if(Hh===void 0)throw new Di(`Tried to invoke ctor of ${Xe} with invalid number of parameters (${Go.length}) - expected (${Object.keys(si.constructor_body).toString()}) parameters instead!`);return Hh.apply(this,Go)}),oa=Object.create(nr,{constructor:{value:An}});An.prototype=oa;var si=new bA(Xe,An,oa,qt,rr,le,ve,Ve);if(si.baseClass){var oi,$o;($o=(oi=si.baseClass).__derivedClasses)!==null&&$o!==void 0||(oi.__derivedClasses=[]),si.baseClass.__derivedClasses.push(si)}var Gf=new _A(Xe,si,!0,!1,!1),zf=new _A(Xe+"*",si,!1,!1,!1),Au=new _A(Xe+" const*",si,!1,!0,!1);return Qi[I]={pointerType:zf,constPointerType:Au},nn(Yt,An),[Gf,zf,Au]})},Dl=(I,S)=>{for(var M=[],re=0;re<I;re++)M.push(V[S+re*4>>2]);return M};function $a(I){for(var S=1;S<I.length;++S)if(I[S]!==null&&I[S].destructorFunction===void 0)return!0;return!1}function IA(I,S,M,re,se,le){var ye=S.length;ye<2&&jt("argTypes array size mismatch! Must at least get return value and 'this' types!");var ve=S[1]!==null&&M!==null,ke=$a(S),Ve=S[0].name!=="void",Xe=ye-2,Tt=new Array(Xe),qt=[],Yt=[],xr=function(){Yt.length=0;var rr;qt.length=ve?2:1,qt[0]=se,ve&&(rr=S[1].toWireType(Yt,this),qt[1]=rr);for(var nr=0;nr<Xe;++nr)Tt[nr]=S[nr+2].toWireType(Yt,nr<0||arguments.length<=nr?void 0:arguments[nr]),qt.push(Tt[nr]);var An=re(...qt);function oa(si){if(ke)qe(Yt);else for(var oi=ve?1:2;oi<S.length;oi++){var $o=oi===1?rr:Tt[oi-2];S[oi].destructorFunction!==null&&S[oi].destructorFunction($o)}if(Ve)return S[0].fromWireType(si)}return oa(An)};return Ri(I,xr)}var Yc=(I,S,M,re,se,le)=>{var ye=Dl(S,M);se=jn(re,se),Ur([],[I],ve=>{ve=ve[0];var ke=`constructor ${ve.name}`;if(ve.registeredClass.constructor_body===void 0&&(ve.registeredClass.constructor_body=[]),ve.registeredClass.constructor_body[S-1]!==void 0)throw new Di(`Cannot register multiple constructors with identical number of parameters (${S-1}) for class '${ve.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ve.registeredClass.constructor_body[S-1]=()=>{SA(`Cannot construct ${ve.name} due to unbound types`,ye)},Ur([],ye,Ve=>(Ve.splice(1,0,null),ve.registeredClass.constructor_body[S-1]=IA(ke,Ve,null,se,le),[])),[]})},fs=I=>{I=I.trim();const S=I.indexOf("(");return S===-1?I:I.slice(0,S)},Rl=(I,S,M,re,se,le,ye,ve,ke,Ve)=>{var Xe=Dl(M,re);S=cr(S),S=fs(S),le=jn(se,le),Ur([],[I],Tt=>{Tt=Tt[0];var qt=`${Tt.name}.${S}`;S.startsWith("@@")&&(S=Symbol[S.substring(2)]),ve&&Tt.registeredClass.pureVirtualFunctions.push(S);function Yt(){SA(`Cannot call ${qt} due to unbound types`,Xe)}var xr=Tt.registeredClass.instancePrototype,rr=xr[S];return rr===void 0||rr.overloadTable===void 0&&rr.className!==Tt.name&&rr.argCount===M-2?(Yt.argCount=M-2,Yt.className=Tt.name,xr[S]=Yt):(qs(xr,S,qt),xr[S].overloadTable[M-2]=Yt),Ur([],Xe,nr=>{var An=IA(qt,nr,Tt,le,ye);return xr[S].overloadTable===void 0?(An.argCount=M-2,xr[S]=An):xr[S].overloadTable[M-2]=An,[]}),[]})},Jc=[],ds=[0,1,,1,null,1,!0,1,!1,1],Ql=I=>{I>9&&--ds[I+1]===0&&(ds[I]=void 0,Jc.push(I))},ji={toValue:I=>(I||jt(`Cannot use deleted val. handle = ${I}`),ds[I]),toHandle:I=>{switch(I){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const S=Jc.pop()||ds.length;return ds[S]=I,ds[S+1]=1,S}}}},Xs={name:"emscripten::val",fromWireType:I=>{var S=ji.toValue(I);return Ql(I),S},toWireType:(I,S)=>ji.toHandle(S),argPackAdvance:Qn,readValueFromPointer:mt,destructorFunction:null},Ys=I=>Un(I,Xs),jf=(I,S)=>{switch(S){case 4:return function(M){return this.fromWireType(T[M>>2])};case 8:return function(M){return this.fromWireType(O[M>>3])};default:throw new TypeError(`invalid float width (${S}): ${I}`)}},No=(I,S,M)=>{S=cr(S),Un(I,{name:S,fromWireType:re=>re,toWireType:(re,se)=>se,argPackAdvance:Qn,readValueFromPointer:jf(S,M),destructorFunction:null})},jl=(I,S,M,re,se,le,ye,ve)=>{var ke=Dl(S,M);I=cr(I),I=fs(I),se=jn(re,se),Ca(I,function(){SA(`Cannot call ${I} due to unbound types`,ke)},S-1),Ur([],ke,Ve=>{var Xe=[Ve[0],null].concat(Ve.slice(1));return nn(I,IA(I,Xe,null,se,le),S-1),[]})},Nt=(I,S,M)=>{switch(S){case 1:return M?re=>F[re]:re=>N[re];case 2:return M?re=>R[re>>1]:re=>D[re>>1];case 4:return M?re=>k[re>>2]:re=>V[re>>2];default:throw new TypeError(`invalid integer width (${S}): ${I}`)}},Mf=(I,S,M,re,se)=>{S=cr(S);const le=re===0;let ye=ke=>ke;if(le){var ve=32-8*M;ye=ke=>ke<<ve>>>ve,se=ye(se)}Un(I,{name:S,fromWireType:ye,toWireType:(ke,Ve)=>Ve,argPackAdvance:Qn,readValueFromPointer:Nt(S,M,re!==0),destructorFunction:null})},Hf=(I,S,M)=>{var re=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],se=re[S];function le(ye){var ve=V[ye>>2],ke=V[ye+4>>2];return new se(F.buffer,ke,ve)}M=cr(M),Un(I,{name:M,fromWireType:le,argPackAdvance:Qn,readValueFromPointer:le},{ignoreDuplicateRegistrations:!0})},Kf=Object.assign({optional:!0},Xs),Vf=(I,S)=>{Un(I,Kf)},hs=(I,S,M,re)=>{if(!(re>0))return 0;for(var se=M,le=M+re-1,ye=0;ye<I.length;++ye){var ve=I.charCodeAt(ye);if(ve>=55296&&ve<=57343){var ke=I.charCodeAt(++ye);ve=65536+((ve&1023)<<10)|ke&1023}if(ve<=127){if(M>=le)break;S[M++]=ve}else if(ve<=2047){if(M+1>=le)break;S[M++]=192|ve>>6,S[M++]=128|ve&63}else if(ve<=65535){if(M+2>=le)break;S[M++]=224|ve>>12,S[M++]=128|ve>>6&63,S[M++]=128|ve&63}else{if(M+3>=le)break;S[M++]=240|ve>>18,S[M++]=128|ve>>12&63,S[M++]=128|ve>>6&63,S[M++]=128|ve&63}}return S[M]=0,M-se},Ci=(I,S,M)=>hs(I,N,S,M),Zc=I=>{for(var S=0,M=0;M<I.length;++M){var re=I.charCodeAt(M);re<=127?S++:re<=2047?S+=2:re>=55296&&re<=57343?(S+=4,++M):S+=3}return S},eu=typeof TextDecoder<"u"?new TextDecoder:void 0,To=function(I){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var re=S+M,se=S;I[se]&&!(se>=re);)++se;if(se-S>16&&I.buffer&&eu)return eu.decode(I.subarray(S,se));for(var le="";S<se;){var ye=I[S++];if(!(ye&128)){le+=String.fromCharCode(ye);continue}var ve=I[S++]&63;if((ye&224)==192){le+=String.fromCharCode((ye&31)<<6|ve);continue}var ke=I[S++]&63;if((ye&240)==224?ye=(ye&15)<<12|ve<<6|ke:ye=(ye&7)<<18|ve<<12|ke<<6|I[S++]&63,ye<65536)le+=String.fromCharCode(ye);else{var Ve=ye-65536;le+=String.fromCharCode(55296|Ve>>10,56320|Ve&1023)}}return le},Ml=(I,S)=>I?To(N,I,S):"",Uo=(I,S)=>{S=cr(S),Un(I,{name:S,fromWireType(M){for(var re=V[M>>2],se=M+4,le,ve,ye=se,ve=0;ve<=re;++ve){var ke=se+ve;if(ve==re||N[ke]==0){var Ve=ke-ye,Xe=Ml(ye,Ve);le===void 0?le=Xe:(le+="\0",le+=Xe),ye=ke+1}}return Mi(M),le},toWireType(M,re){re instanceof ArrayBuffer&&(re=new Uint8Array(re));var se,le=typeof re=="string";le||ArrayBuffer.isView(re)&&re.BYTES_PER_ELEMENT==1||jt("Cannot pass non-string to std::string"),le?se=Zc(re):se=re.length;var ye=Hn(4+se+1),ve=ye+4;return V[ye>>2]=se,le?Ci(re,ve,se+1):N.set(re,ve),M!==null&&M.push(Mi,ye),ye},argPackAdvance:Qn,readValueFromPointer:mt,destructorFunction(M){Mi(M)}})},Oo=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,FA=(I,S)=>{for(var M=I>>1,re=M+S/2,se=M;!(se>=re)&&D[se];)++se;if(se-M>16&&Oo)return Oo.decode(D.subarray(M,se));for(var le="",ye=M;!(ye>=re);++ye){var ve=D[ye];if(ve==0)break;le+=String.fromCharCode(ve)}return le},$f=(I,S,M)=>{if(M!=null||(M=2147483647),M<2)return 0;M-=2;for(var re=S,se=M<I.length*2?M/2:I.length,le=0;le<se;++le){var ye=I.charCodeAt(le);R[S>>1]=ye,S+=2}return R[S>>1]=0,S-re},Hl=I=>I.length*2,Kl=(I,S)=>{for(var M=0,re="";!(M>=S/4);){var se=k[I+M*4>>2];if(se==0)break;if(++M,se>=65536){var le=se-65536;re+=String.fromCharCode(55296|le>>10,56320|le&1023)}else re+=String.fromCharCode(se)}return re},Lo=(I,S,M)=>{if(M!=null||(M=2147483647),M<4)return 0;for(var re=S,se=re+M-4,le=0;le<I.length;++le){var ye=I.charCodeAt(le);if(ye>=55296&&ye<=57343){var ve=I.charCodeAt(++le);ye=65536+((ye&1023)<<10)|ve&1023}if(k[S>>2]=ye,S+=4,S+4>se)break}return k[S>>2]=0,S-re},ko=I=>{for(var S=0,M=0;M<I.length;++M){var re=I.charCodeAt(M);re>=55296&&re<=57343&&++M,S+=4}return S},Vl=(I,S,M)=>{M=cr(M);var re,se,le,ye;S===2?(re=FA,se=$f,ye=Hl,le=ve=>D[ve>>1]):S===4&&(re=Kl,se=Lo,ye=ko,le=ve=>V[ve>>2]),Un(I,{name:M,fromWireType:ve=>{for(var ke=V[ve>>2],Ve,Xe=ve+4,Tt=0;Tt<=ke;++Tt){var qt=ve+4+Tt*S;if(Tt==ke||le(qt)==0){var Yt=qt-Xe,xr=re(Xe,Yt);Ve===void 0?Ve=xr:(Ve+="\0",Ve+=xr),Xe=qt+S}}return Mi(ve),Ve},toWireType:(ve,ke)=>{typeof ke!="string"&&jt(`Cannot pass non-string to C++ string type ${M}`);var Ve=ye(ke),Xe=Hn(4+Ve+S);return V[Xe>>2]=Ve/S,se(ke,Xe+4,Ve+S),ve!==null&&ve.push(Mi,Xe),Xe},argPackAdvance:Qn,readValueFromPointer:mt,destructorFunction(ve){Mi(ve)}})},NA=(I,S,M,re,se,le)=>{it[I]={name:cr(S),rawConstructor:jn(M,re),rawDestructor:jn(se,le),fields:[]}},$l=(I,S,M,re,se,le,ye,ve,ke,Ve)=>{it[I].fields.push({fieldName:cr(S),getterReturnType:M,getter:jn(re,se),getterContext:le,setterArgumentType:ye,setter:jn(ve,ke),setterContext:Ve})},Po=(I,S)=>{S=cr(S),Un(I,{isVoid:!0,name:S,argPackAdvance:0,fromWireType:()=>{},toWireType:(M,re)=>{}})},TA=[],tu=(I,S,M,re)=>(I=TA[I],S=ji.toValue(S),I(null,S,M,re)),ps={},gs=I=>{var S=ps[I];return S===void 0?cr(I):S},Gl=()=>{if(typeof globalThis=="object")return globalThis;function I(S){S.$$$embind_global$$$=S;var M=typeof $$$embind_global$$$=="object"&&S.$$$embind_global$$$==S;return M||delete S.$$$embind_global$$$,M}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&I(global)?$$$embind_global$$$=global:typeof self=="object"&&I(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},ru=I=>I===0?ji.toHandle(Gl()):(I=gs(I),ji.toHandle(Gl()[I])),Do=I=>{var S=TA.length;return TA.push(I),S},zl=(I,S)=>{var M=pt[I];return M===void 0&&jt(`${S} has unknown type ${EA(I)}`),M},b=(I,S)=>{for(var M=new Array(I),re=0;re<I;++re)M[re]=zl(V[S+re*4>>2],`parameter ${re}`);return M},U=(I,S,M)=>{var re=[],se=I.toWireType(re,M);return re.length&&(V[S>>2]=ji.toHandle(re)),se},J=Reflect.construct,ae=(I,S,M)=>{var re=b(I,S),se=re.shift();I--;var le=new Array(I),ye=(ke,Ve,Xe,Tt)=>{for(var qt=0,Yt=0;Yt<I;++Yt)le[Yt]=re[Yt].readValueFromPointer(Tt+qt),qt+=re[Yt].argPackAdvance;var xr=M===1?J(Ve,le):Ve.apply(ke,le);return U(se,Xe,xr)},ve=`methodCaller<(${re.map(ke=>ke.name).join(", ")}) => ${se.name}>`;return Do(Ri(ve,ye))},pe=I=>{I>9&&(ds[I+1]+=1)},Ne=I=>{var S=ji.toValue(I);qe(S),Ql(I)},Re=(I,S)=>{I=zl(I,"_emval_take_value");var M=I.readValueFromPointer(S);return ji.toHandle(M)},at=(I,S,M,re)=>{var se=new Date().getFullYear(),le=new Date(se,0,1),ye=new Date(se,6,1),ve=le.getTimezoneOffset(),ke=ye.getTimezoneOffset(),Ve=Math.max(ve,ke);V[I>>2]=Ve*60,k[S>>2]=+(ve!=ke);var Xe=Yt=>{var xr=Yt>=0?"-":"+",rr=Math.abs(Yt),nr=String(Math.floor(rr/60)).padStart(2,"0"),An=String(rr%60).padStart(2,"0");return`UTC${xr}${nr}${An}`},Tt=Xe(ve),qt=Xe(ke);ke<ve?(Ci(Tt,M,17),Ci(qt,re,17)):(Ci(Tt,re,17),Ci(qt,M,17))},ct=()=>2147483648,_t=(I,S)=>Math.ceil(I/S)*S,Ot=I=>{var S=x.buffer,M=(I-S.byteLength+65535)/65536|0;try{return x.grow(M),K(),1}catch{}},tr=I=>{var S=N.length;I>>>=0;var M=ct();if(I>M)return!1;for(var re=1;re<=4;re*=2){var se=S*(1+.2/re);se=Math.min(se,I+100663296);var le=Math.min(M,_t(Math.max(I,se),65536)),ye=Ot(le);if(ye)return!0}return!1},Or={},pn=()=>c||"./this.program",ur=()=>{if(!ur.strings){var I=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",S={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:I,_:pn()};for(var M in Or)Or[M]===void 0?delete S[M]:S[M]=Or[M];var re=[];for(var M in S)re.push(`${M}=${S[M]}`);ur.strings=re}return ur.strings},bn=(I,S)=>{var M=0,re=0;for(var se of ur()){var le=S+M;V[I+re>>2]=le,M+=Ci(se,le,1/0)+1,re+=4}return 0},gn=(I,S)=>{var M=ur();V[I>>2]=M.length;var re=0;for(var se of M)re+=Zc(se)+1;return V[S>>2]=re,0},Mn=I=>52;function ia(I,S,M,re,se){return 70}var _i=[null,[],[]],nu=(I,S)=>{var M=_i[I];S===0||S===10?((I===1?B:v)(To(M)),M.length=0):M.push(S)},UA=(I,S,M,re)=>{for(var se=0,le=0;le<M;le++){var ye=V[S>>2],ve=V[S+4>>2];S+=8;for(var ke=0;ke<ve;ke++)nu(I,N[ye+ke]);se+=ve}return V[re>>2]=se,0},Ro=I=>I;lr(),Va(),CA(),n.noExitRuntime&&n.noExitRuntime,n.print&&(B=n.print),n.printErr&&(v=n.printErr),n.wasmBinary&&(w=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(c=n.thisProgram);var Js={s:De,w:$e,a:Et,j:St,m:Ar,P:It,p:Ie,ga:Ze,d:rt,ba:pr,ua:yr,aa:Ft,pa:ta,sa:Qf,ra:Yc,H:Rl,na:Ys,V:No,W:jl,x:Mf,t:Hf,ta:Vf,oa:Uo,Q:Vl,I:NA,va:$l,qa:Po,da:tu,wa:Ql,D:ru,ma:ae,X:pe,Y:Ne,U:Re,ca:at,ha:tr,ea:bn,fa:gn,ia:Mn,_:ia,S:UA,K:ao,C:sa,M:Zs,R:ys,q:ro,b:Ki,E:Ko,ka:dr,c:eo,ja:wr,h:Yl,i:LA,r:za,O:io,v:ec,F:rc,L:no,z:Wa,J:nc,$:kA,Z:su,k:ms,f:Xl,e:Hi,g:Ho,N:Bn,l:Jl,la:Vo,o:Zl,B:sn,u:tc,T:Ga,A:on,n:to,G:au,y:Ro},fr=await _e();fr.ya;var Qo=fr.za,Mi=n._free=fr.Aa,Hn=n._malloc=fr.Ca,jo=fr.Da,Pt=fr.Ea,Wl=fr.Fa,ql=fr.Ga,Jr=fr.Ha,vs=fr.Ia,OA=fr.Ja,iu=fr.Ka;n.dynCall_viijii=fr.La;var aa=n.dynCall_iiijj=fr.Ma;n.dynCall_jiji=fr.Na;var Mo=n.dynCall_jiiii=fr.Oa;n.dynCall_iiiiij=fr.Pa,n.dynCall_iiiiijj=fr.Qa,n.dynCall_iiiiiijj=fr.Ra;function Xl(I,S){var M=He();try{kt(I)(S)}catch(re){if(G(M),re!==re+0)throw re;Pt(1,0)}}function Yl(I,S,M,re){var se=He();try{return kt(I)(S,M,re)}catch(le){if(G(se),le!==le+0)throw le;Pt(1,0)}}function Zs(I,S,M,re,se){var le=He();try{return kt(I)(S,M,re,se)}catch(ye){if(G(le),ye!==ye+0)throw ye;Pt(1,0)}}function Ho(I,S,M,re){var se=He();try{kt(I)(S,M,re)}catch(le){if(G(se),le!==le+0)throw le;Pt(1,0)}}function Hi(I,S,M){var re=He();try{kt(I)(S,M)}catch(se){if(G(re),se!==se+0)throw se;Pt(1,0)}}function Ki(I,S){var M=He();try{return kt(I)(S)}catch(re){if(G(M),re!==re+0)throw re;Pt(1,0)}}function eo(I,S,M){var re=He();try{return kt(I)(S,M)}catch(se){if(G(re),se!==se+0)throw se;Pt(1,0)}}function ms(I){var S=He();try{kt(I)()}catch(M){if(G(S),M!==M+0)throw M;Pt(1,0)}}function to(I,S,M,re,se,le,ye,ve,ke,Ve,Xe){var Tt=He();try{kt(I)(S,M,re,se,le,ye,ve,ke,Ve,Xe)}catch(qt){if(G(Tt),qt!==qt+0)throw qt;Pt(1,0)}}function Jl(I,S,M,re,se){var le=He();try{kt(I)(S,M,re,se)}catch(ye){if(G(le),ye!==ye+0)throw ye;Pt(1,0)}}function LA(I,S,M,re,se){var le=He();try{return kt(I)(S,M,re,se)}catch(ye){if(G(le),ye!==ye+0)throw ye;Pt(1,0)}}function sn(I,S,M,re,se,le,ye){var ve=He();try{kt(I)(S,M,re,se,le,ye)}catch(ke){if(G(ve),ke!==ke+0)throw ke;Pt(1,0)}}function au(I,S,M,re,se,le,ye,ve,ke,Ve,Xe,Tt,qt,Yt,xr,rr){var nr=He();try{kt(I)(S,M,re,se,le,ye,ve,ke,Ve,Xe,Tt,qt,Yt,xr,rr)}catch(An){if(G(nr),An!==An+0)throw An;Pt(1,0)}}function Ga(I,S,M,re,se,le,ye,ve,ke){var Ve=He();try{kt(I)(S,M,re,se,le,ye,ve,ke)}catch(Xe){if(G(Ve),Xe!==Xe+0)throw Xe;Pt(1,0)}}function za(I,S,M,re,se,le){var ye=He();try{return kt(I)(S,M,re,se,le)}catch(ve){if(G(ye),ve!==ve+0)throw ve;Pt(1,0)}}function Zl(I,S,M,re,se,le){var ye=He();try{kt(I)(S,M,re,se,le)}catch(ve){if(G(ye),ve!==ve+0)throw ve;Pt(1,0)}}function ec(I,S,M,re,se,le,ye){var ve=He();try{return kt(I)(S,M,re,se,le,ye)}catch(ke){if(G(ve),ke!==ke+0)throw ke;Pt(1,0)}}function tc(I,S,M,re,se,le,ye,ve){var ke=He();try{kt(I)(S,M,re,se,le,ye,ve)}catch(Ve){if(G(ke),Ve!==Ve+0)throw Ve;Pt(1,0)}}function rc(I,S,M,re,se,le,ye,ve){var ke=He();try{return kt(I)(S,M,re,se,le,ye,ve)}catch(Ve){if(G(ke),Ve!==Ve+0)throw Ve;Pt(1,0)}}function ro(I){var S=He();try{return kt(I)()}catch(M){if(G(S),M!==M+0)throw M;Pt(1,0)}}function no(I,S,M,re,se,le,ye,ve,ke){var Ve=He();try{return kt(I)(S,M,re,se,le,ye,ve,ke)}catch(Xe){if(G(Ve),Xe!==Xe+0)throw Xe;Pt(1,0)}}function io(I,S,M,re,se,le,ye){var ve=He();try{return kt(I)(S,M,re,se,le,ye)}catch(ke){if(G(ve),ke!==ke+0)throw ke;Pt(1,0)}}function Ko(I,S,M,re){var se=He();try{return kt(I)(S,M,re)}catch(le){if(G(se),le!==le+0)throw le;Pt(1,0)}}function ao(I,S,M,re){var se=He();try{return kt(I)(S,M,re)}catch(le){if(G(se),le!==le+0)throw le;Pt(1,0)}}function Vo(I,S,M,re,se,le,ye,ve){var ke=He();try{kt(I)(S,M,re,se,le,ye,ve)}catch(Ve){if(G(ke),Ve!==Ve+0)throw Ve;Pt(1,0)}}function sa(I,S,M,re,se,le){var ye=He();try{return kt(I)(S,M,re,se,le)}catch(ve){if(G(ye),ve!==ve+0)throw ve;Pt(1,0)}}function Wa(I,S,M,re,se,le,ye,ve,ke,Ve){var Xe=He();try{return kt(I)(S,M,re,se,le,ye,ve,ke,Ve)}catch(Tt){if(G(Xe),Tt!==Tt+0)throw Tt;Pt(1,0)}}function dr(I,S,M){var re=He();try{return kt(I)(S,M)}catch(se){if(G(re),se!==se+0)throw se;Pt(1,0)}}function wr(I,S,M,re,se){var le=He();try{return kt(I)(S,M,re,se)}catch(ye){if(G(le),ye!==ye+0)throw ye;Pt(1,0)}}function on(I,S,M,re,se,le,ye,ve,ke,Ve){var Xe=He();try{kt(I)(S,M,re,se,le,ye,ve,ke,Ve)}catch(Tt){if(G(Xe),Tt!==Tt+0)throw Tt;Pt(1,0)}}function Bn(I,S,M,re,se,le,ye){var ve=He();try{kt(I)(S,M,re,se,le,ye)}catch(ke){if(G(ve),ke!==ke+0)throw ke;Pt(1,0)}}function ys(I,S,M,re){var se=He();try{return kt(I)(S,M,re)}catch(le){if(G(se),le!==le+0)throw le;Pt(1,0)}}function nc(I,S,M,re,se,le,ye,ve,ke,Ve,Xe,Tt){var qt=He();try{return kt(I)(S,M,re,se,le,ye,ve,ke,Ve,Xe,Tt)}catch(Yt){if(G(qt),Yt!==Yt+0)throw Yt;Pt(1,0)}}function kA(I,S,M,re,se,le,ye){var ve=He();try{return aa(I,S,M,re,se,le,ye)}catch(ke){if(G(ve),ke!==ke+0)throw ke;Pt(1,0)}}function su(I,S,M,re,se){var le=He();try{return Mo(I,S,M,re,se)}catch(ye){if(G(le),ye!==ye+0)throw ye;Pt(1,0)}}function ou(){if(de>0){te=ou;return}if(q(),de>0){te=ou;return}function I(){var S;n.calledRun=!0,!_&&(ie(),i(n),(S=n.onRuntimeInitialized)===null||S===void 0||S.call(n),fe())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),I()},1)):I()}function Mh(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return Mh(),ou(),e=s,e};function oq(t){return rI(nI,t)}async function Aq(t,e){return sq(nI,t,e)}const iI=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],lq=[...iI,["unknown"]].map(t=>t[0]),_y=new Map(iI);function cq(t){for(const[e,r]of _y)if(t===r)return e;return"unknown"}function uq(t){if(aI(t))return{width:t.naturalWidth,height:t.naturalHeight};if(sI(t))return{width:t.width.baseVal.value,height:t.height.baseVal.value};if(oI(t))return{width:t.videoWidth,height:t.videoHeight};if(lI(t))return{width:t.width,height:t.height};if(uI(t))return{width:t.displayWidth,height:t.displayHeight};if(AI(t))return{width:t.width,height:t.height};if(cI(t))return{width:t.width,height:t.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function aI(t){var e,r;try{return t instanceof((r=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:r.HTMLImageElement)}catch{return!1}}function sI(t){var e,r;try{return t instanceof((r=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:r.SVGImageElement)}catch{return!1}}function oI(t){var e,r;try{return t instanceof((r=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:r.HTMLVideoElement)}catch{return!1}}function AI(t){var e,r;try{return t instanceof((r=(e=t==null?void 0:t.ownerDocument)==null?void 0:e.defaultView)==null?void 0:r.HTMLCanvasElement)}catch{return!1}}function lI(t){try{return t instanceof ImageBitmap||Object.prototype.toString.call(t)==="[object ImageBitmap]"}catch{return!1}}function cI(t){try{return t instanceof OffscreenCanvas||Object.prototype.toString.call(t)==="[object OffscreenCanvas]"}catch{return!1}}function uI(t){try{return t instanceof VideoFrame||Object.prototype.toString.call(t)==="[object VideoFrame]"}catch{return!1}}function fq(t){try{return t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"}catch{return!1}}function dq(t){try{return t instanceof ImageData||Object.prototype.toString.call(t)==="[object ImageData]"}catch{return!1}}function hq(t,e){try{const r=new OffscreenCanvas(t,e);if(r.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return r;throw void 0}catch{const r=document.createElement("canvas");return r.width=t,r.height=e,r}}async function fI(t){if(aI(t)&&!await mq(t))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(sI(t)&&!await yq(t))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(uI(t)&&wq(t))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(oI(t)&&(t.readyState===0||t.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(lI(t)&&bq(t))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:r}=uq(t);if(e===0||r===0)return null;const n=hq(e,r).getContext("2d");n.drawImage(t,0,0);try{return n.getImageData(0,0,e,r)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function pq(t){let e;try{e=await createImageBitmap(t)}catch{try{if(globalThis.Image){e=new Image;let r="";try{r=URL.createObjectURL(t),e.src=r,await e.decode()}finally{URL.revokeObjectURL(r)}}else return t}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await fI(e)}function gq(t){const{width:e,height:r}=t;if(e===0||r===0)return null;const n=t.getContext("2d");try{return n.getImageData(0,0,e,r)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function vq(t){if(fq(t))return await pq(t);if(dq(t)){if(xq(t))throw new DOMException("The image data has been detached.","InvalidStateError");return t}return AI(t)||cI(t)?gq(t):await fI(t)}async function mq(t){try{return await t.decode(),!0}catch{return!1}}async function yq(t){var e;try{return await((e=t.decode)==null?void 0:e.call(t)),!0}catch{return!1}}function wq(t){return t.format===null}function xq(t){return t.data.buffer.byteLength===0}function bq(t){return t.width===0&&t.height===0}function S4(t,e){return Bq(t)?new DOMException(`${e}: ${t.message}`,t.name):Cq(t)?new t.constructor(`${e}: ${t.message}`):new Error(`${e}: ${t}`)}function Bq(t){return t instanceof DOMException||Object.prototype.toString.call(t)==="[object DOMException]"}function Cq(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}var j1;class _q{constructor(e={}){HW(this,j1);var r;try{const n=(r=e==null?void 0:e.formats)==null?void 0:r.filter(i=>i!=="unknown");if((n==null?void 0:n.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const i of n??[])if(!_y.has(i))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${i}' is not a valid enum value of type BarcodeFormat.`);KW(this,j1,n??[]),oq({fireImmediately:!0}).catch(()=>{})}catch(n){throw S4(n,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return lq.filter(e=>e!=="unknown")}async detect(e){try{const r=await vq(e);if(r===null)return[];let n;const i={tryCode39ExtendedMode:!1,textMode:"Plain",formats:MW(this,j1).map(a=>_y.get(a))};try{n=await Aq(r,i)}catch(a){throw console.error(a),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return n.map(a=>{const{topLeft:{x:s,y:o},topRight:{x:A,y:l},bottomLeft:{x:c,y:u},bottomRight:{x:h,y:d}}=a.position,g=Math.min(s,A,c,h),y=Math.min(o,l,u,d),B=Math.max(s,A,c,h),v=Math.max(o,l,u,d);return{boundingBox:new DOMRectReadOnly(g,y,B-g,v-y),rawValue:a.text,format:cq(a.format),cornerPoints:[{x:s,y:o},{x:A,y:l},{x:h,y:d},{x:c,y:u}]}})}catch(r){throw S4(r,"Failed to execute 'detect' on 'BarcodeDetector'")}}}j1=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=_q);let dI=!0,hI=!0;function Od(t,e,r){const n=t.match(e);return n&&n.length>=r&&parseFloat(n[r],10)}function $c(t,e,r){if(!t.RTCPeerConnection)return;const n=t.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(s,o){if(s!==e)return i.apply(this,arguments);const A=l=>{const c=r(l);c&&(o.handleEvent?o.handleEvent(c):o(c))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(o,A),i.apply(this,[s,A])};const a=n.removeEventListener;n.removeEventListener=function(s,o){if(s!==e||!this._eventMap||!this._eventMap[e])return a.apply(this,arguments);if(!this._eventMap[e].has(o))return a.apply(this,arguments);const A=this._eventMap[e].get(o);return this._eventMap[e].delete(o),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[s,A])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function Eq(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(dI=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function Sq(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(hI=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function pI(){if(typeof window=="object"){if(dI)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function dx(t,e){hI&&console.warn(t+" is deprecated, please use "+e+" instead.")}function Iq(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:r}=t;if(r.userAgentData&&r.userAgentData.brands){const n=r.userAgentData.brands.find(i=>i.brand==="Chromium");if(n)return{browser:"chrome",version:parseInt(n.version,10)}}if(r.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Od(r.userAgent,/Firefox\/(\d+)\./,1));else if(r.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Od(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Od(r.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Od(r.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function I4(t){return Object.prototype.toString.call(t)==="[object Object]"}function gI(t){return I4(t)?Object.keys(t).reduce(function(e,r){const n=I4(t[r]),i=n?gI(t[r]):t[r],a=n&&!Object.keys(i).length;return i===void 0||a?e:Object.assign(e,{[r]:i})},{}):t}function Ey(t,e,r){!e||r.has(e.id)||(r.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?Ey(t,t.get(e[n]),r):n.endsWith("Ids")&&e[n].forEach(i=>{Ey(t,t.get(i),r)})}))}function F4(t,e,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const a=[];return t.forEach(s=>{s.type==="track"&&s.trackIdentifier===e.id&&a.push(s)}),a.forEach(s=>{t.forEach(o=>{o.type===n&&o.trackId===s.id&&Ey(t,o,i)})}),i}const N4=pI;function vI(t,e){const r=t&&t.navigator;if(!r.mediaDevices)return;const n=function(o){if(typeof o!="object"||o.mandatory||o.optional)return o;const A={};return Object.keys(o).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const c=typeof o[l]=="object"?o[l]:{ideal:o[l]};c.exact!==void 0&&typeof c.exact=="number"&&(c.min=c.max=c.exact);const u=function(h,d){return h?h+d.charAt(0).toUpperCase()+d.slice(1):d==="deviceId"?"sourceId":d};if(c.ideal!==void 0){A.optional=A.optional||[];let h={};typeof c.ideal=="number"?(h[u("min",l)]=c.ideal,A.optional.push(h),h={},h[u("max",l)]=c.ideal,A.optional.push(h)):(h[u("",l)]=c.ideal,A.optional.push(h))}c.exact!==void 0&&typeof c.exact!="number"?(A.mandatory=A.mandatory||{},A.mandatory[u("",l)]=c.exact):["min","max"].forEach(h=>{c[h]!==void 0&&(A.mandatory=A.mandatory||{},A.mandatory[u(h,l)]=c[h])})}),o.advanced&&(A.optional=(A.optional||[]).concat(o.advanced)),A},i=function(o,A){if(e.version>=61)return A(o);if(o=JSON.parse(JSON.stringify(o)),o&&typeof o.audio=="object"){const l=function(c,u,h){u in c&&!(h in c)&&(c[h]=c[u],delete c[u])};o=JSON.parse(JSON.stringify(o)),l(o.audio,"autoGainControl","googAutoGainControl"),l(o.audio,"noiseSuppression","googNoiseSuppression"),o.audio=n(o.audio)}if(o&&typeof o.video=="object"){let l=o.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const c=e.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!c)){delete o.video.facingMode;let u;if(l.exact==="environment"||l.ideal==="environment"?u=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(u=["front"]),u)return r.mediaDevices.enumerateDevices().then(h=>{h=h.filter(g=>g.kind==="videoinput");let d=h.find(g=>u.some(y=>g.label.toLowerCase().includes(y)));return!d&&h.length&&u.includes("back")&&(d=h[h.length-1]),d&&(o.video.deviceId=l.exact?{exact:d.deviceId}:{ideal:d.deviceId}),o.video=n(o.video),N4("chrome: "+JSON.stringify(o)),A(o)})}o.video=n(o.video)}return N4("chrome: "+JSON.stringify(o)),A(o)},a=function(o){return e.version>=64?o:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(o,A,l){i(o,c=>{r.webkitGetUserMedia(c,A,u=>{l&&l(a(u))})})};if(r.getUserMedia=s.bind(r),r.mediaDevices.getUserMedia){const o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(A){return i(A,l=>o(l).then(c=>{if(l.audio&&!c.getAudioTracks().length||l.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return c},c=>Promise.reject(a(c))))}}}function mI(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function yI(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let a;t.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(o=>o.track&&o.track.id===i.track.id):a={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=a,s.transceiver={receiver:a},s.streams=[n.stream],this.dispatchEvent(s)}),n.stream.getTracks().forEach(i=>{let a;t.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(o=>o.track&&o.track.id===i.id):a={track:i};const s=new Event("track");s.track=i,s.receiver=a,s.transceiver={receiver:a},s.streams=[n.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else $c(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function wI(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,A){let l=i.apply(this,arguments);return l||(l=e(this,o),this._senders.push(l)),l};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){a.apply(this,arguments);const A=this._senders.indexOf(o);A!==-1&&this._senders.splice(A,1)}}const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(s=>{this._senders.push(e(this,s))})};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(s=>{const o=this._senders.find(A=>A.track===s);o&&this._senders.splice(this._senders.indexOf(o),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function xI(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=r.apply(this,[]);return a.forEach(s=>s._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(s=>F4(s,a.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(a=>a._pc=this),i}),$c(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>F4(a,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const n=arguments[0];let i,a,s;return this.getSenders().forEach(o=>{o.track===n&&(i?s=!0:i=o)}),this.getReceivers().forEach(o=>(o.track===n&&(a?s=!0:a=o),o.track===n)),s||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function bI(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,o){if(!o)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const A=e.apply(this,arguments);return this._shimmedLocalStreams[o.id]?this._shimmedLocalStreams[o.id].indexOf(A)===-1&&this._shimmedLocalStreams[o.id].push(A):this._shimmedLocalStreams[o.id]=[o,A],A};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(l=>{if(this.getSenders().find(u=>u.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const o=this.getSenders();r.apply(this,arguments);const A=this.getSenders().filter(l=>o.indexOf(l)===-1);this._shimmedLocalStreams[s.id]=[s].concat(A)};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],n.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(o=>{const A=this._shimmedLocalStreams[o].indexOf(s);A!==-1&&this._shimmedLocalStreams[o].splice(A,1),this._shimmedLocalStreams[o].length===1&&delete this._shimmedLocalStreams[o]}),i.apply(this,arguments)}}function BI(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return bI(t);const r=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const c=r.apply(this);return this._reverseStreams=this._reverseStreams||{},c.map(u=>this._reverseStreams[u.id])};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},c.getTracks().forEach(u=>{if(this.getSenders().find(d=>d.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[c.id]){const u=new t.MediaStream(c.getTracks());this._streams[c.id]=u,this._reverseStreams[u.id]=c,c=u}n.apply(this,[c])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[c.id]||c]),delete this._reverseStreams[this._streams[c.id]?this._streams[c.id].id:c.id],delete this._streams[c.id]},t.RTCPeerConnection.prototype.addTrack=function(c,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(y=>y===c))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===c))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[u.id];if(g)g.addTrack(c),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new t.MediaStream([c]);this._streams[u.id]=y,this._reverseStreams[y.id]=u,this.addStream(y)}return this.getSenders().find(y=>y.track===c)};function a(l,c){let u=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(h=>{const d=l._reverseStreams[h],g=l._streams[d.id];u=u.replace(new RegExp(g.id,"g"),d.id)}),new RTCSessionDescription({type:c.type,sdp:u})}function s(l,c){let u=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(h=>{const d=l._reverseStreams[h],g=l._streams[d.id];u=u.replace(new RegExp(d.id,"g"),g.id)}),new RTCSessionDescription({type:c.type,sdp:u})}["createOffer","createAnswer"].forEach(function(l){const c=t.RTCPeerConnection.prototype[l],u={[l](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?c.apply(this,[g=>{const y=a(this,g);h[0].apply(null,[y])},g=>{h[1]&&h[1].apply(null,g)},arguments[2]]):c.apply(this,arguments).then(g=>a(this,g))}};t.RTCPeerConnection.prototype[l]=u[l]});const o=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?o.apply(this,arguments):(arguments[0]=s(this,arguments[0]),o.apply(this,arguments))};const A=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const l=A.get.apply(this);return l.type===""?l:a(this,l)}}),t.RTCPeerConnection.prototype.removeTrack=function(c){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!c._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(c._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(d=>{this._streams[d].getTracks().find(y=>c.track===y)&&(h=this._streams[d])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(c.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Sy(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=t.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=i[r]})}function CI(t,e){$c(t,"negotiationneeded",r=>{const n=r.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const T4=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:CI,shimAddTrackRemoveTrack:BI,shimAddTrackRemoveTrackWithNative:bI,shimGetSendersWithDtmf:wI,shimGetUserMedia:vI,shimMediaStream:mI,shimOnTrack:yI,shimPeerConnection:Sy,shimSenderReceiverGetStats:xI},Symbol.toStringTag,{value:"Module"}));function _I(t,e){const r=t&&t.navigator,n=t&&t.MediaStreamTrack;if(r.getUserMedia=function(i,a,s){dx("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(a,s)},!(e.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(s,o,A){o in s&&!(A in s)&&(s[A]=s[o],delete s[o])},a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),a(s)},n&&n.prototype.getSettings){const s=n.prototype.getSettings;n.prototype.getSettings=function(){const o=s.apply(this,arguments);return i(o,"mozAutoGainControl","autoGainControl"),i(o,"mozNoiseSuppression","noiseSuppression"),o}}if(n&&n.prototype.applyConstraints){const s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(o){return this.kind==="audio"&&typeof o=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o,"autoGainControl","mozAutoGainControl"),i(o,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[o])}}}}function Fq(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})}function EI(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Iy(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=t.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=s[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[a,s,o]=arguments;return n.apply(this,[a||null]).then(A=>{if(e.version<53&&!s)try{A.forEach(l=>{l.type=r[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;A.forEach((c,u)=>{A.set(u,Object.assign({},c,{type:r[c.type]||c.type}))})}return A}).then(s,o)}}function SI(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function II(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),$c(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function FI(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){dx("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function NI(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function TI(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=e.apply(this,arguments);if(i){const{sender:s}=a,o=s.getParameters();(!("encodings"in o)||o.encodings.length===1&&Object.keys(o.encodings[0]).length===0)&&(o.encodings=n,s.sendEncodings=n,this.setParametersPromises.push(s.setParameters(o).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return a})}function UI(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function OI(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function LI(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const U4=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:TI,shimCreateAnswer:LI,shimCreateOffer:OI,shimGetDisplayMedia:Fq,shimGetParameters:UI,shimGetUserMedia:_I,shimOnTrack:EI,shimPeerConnection:Iy,shimRTCDataChannel:NI,shimReceiverGetStats:II,shimRemoveStream:FI,shimSenderGetStats:SI},Symbol.toStringTag,{value:"Module"}));function kI(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>e.call(this,i,n)),n.getVideoTracks().forEach(i=>e.call(this,i,n))},t.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function PI(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(a)>=0)return;n._remoteStreams.push(a);const s=new Event("addstream");s.stream=a,n.dispatchEvent(s)})}),e.apply(n,arguments)}}}function DI(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,r=e.createOffer,n=e.createAnswer,i=e.setLocalDescription,a=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(l,c){const u=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h},e.createAnswer=function(l,c){const u=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h};let o=function(A,l,c){const u=i.apply(this,[A]);return c?(u.then(l,c),Promise.resolve()):u};e.setLocalDescription=o,o=function(A,l,c){const u=a.apply(this,[A]);return c?(u.then(l,c),Promise.resolve()):u},e.setRemoteDescription=o,o=function(A,l,c){const u=s.apply(this,[A]);return c?(u.then(l,c),Promise.resolve()):u},e.addIceCandidate=o}function RI(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const r=e.mediaDevices,n=r.getUserMedia.bind(r);e.mediaDevices.getUserMedia=i=>n(QI(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(n,i,a){e.mediaDevices.getUserMedia(n).then(i,a)}).bind(e))}function QI(t){return t&&t.video!==void 0?Object.assign({},t,{video:gI(t.video)}):t}function jI(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const a=[];for(let s=0;s<n.iceServers.length;s++){let o=n.iceServers[s];o.urls===void 0&&o.url?(dx("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,a.push(o)):a.push(n.iceServers[s])}n.iceServers=a}return new e(n,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function MI(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function HI(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const a=this.getTransceivers().find(s=>s.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function KI(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const O4=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:KI,shimCallbacksAPI:DI,shimConstraints:QI,shimCreateOfferLegacy:HI,shimGetUserMedia:RI,shimLocalStreamsAPI:kI,shimRTCIceServerUrls:jI,shimRemoteStreamsAPI:PI,shimTrackEventTransceiver:MI},Symbol.toStringTag,{value:"Module"}));var VI={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(r){return r.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(r){const n=e.splitSections(r);return n&&n[0]},e.getMediaSections=function(r){const n=e.splitSections(r);return n.shift(),n},e.matchPrefix=function(r,n){return e.splitLines(r).filter(i=>i.indexOf(n)===0)},e.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let a=8;a<n.length;a+=2)switch(n[a]){case"raddr":i.relatedAddress=n[a+1];break;case"rport":i.relatedPort=parseInt(n[a+1],10);break;case"tcptype":i.tcpType=n[a+1];break;case"ufrag":i.ufrag=n[a+1],i.usernameFragment=n[a+1];break;default:i[n[a]]===void 0&&(i[n[a]]=n[a+1]);break}return i},e.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const a=r.type;return n.push("typ"),n.push(a),a!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(r){return r.substring(14).split(" ")},e.parseRtpMap=function(r){let n=r.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(r){const n=r.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},e.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},e.parseFmtp=function(r){const n={};let i;const a=r.substring(r.indexOf(" ")+1).split(";");for(let s=0;s<a.length;s++)i=a[s].trim().split("="),n[i[0].trim()]=i[1];return n},e.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const a=[];Object.keys(r.parameters).forEach(s=>{r.parameters[s]!==void 0?a.push(s+"="+r.parameters[s]):a.push(s)}),n+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return n},e.parseRtcpFb=function(r){const n=r.substring(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(a=>{n+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substring(7,n),10)},a=r.indexOf(":",n);return a>-1?(i.attribute=r.substring(n+1,a),i.value=r.substring(a+1)):i.attribute=r.substring(n+1),i},e.parseSsrcGroup=function(r){const n=r.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},e.getMid=function(r){const n=e.matchPrefix(r,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(r){const n=r.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(r,n){return{role:"auto",fingerprints:e.matchPrefix(r+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},e.parseCryptoLine=function(r){const n=r.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?e.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},e.getCryptoParameters=function(r,n){return e.matchPrefix(r+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(r,n){const i=e.matchPrefix(r+n,"a=ice-ufrag:")[0],a=e.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},e.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=e.splitLines(r)[0].split(" ");n.profile=a[2];for(let o=3;o<a.length;o++){const A=a[o],l=e.matchPrefix(r,"a=rtpmap:"+A+" ")[0];if(l){const c=e.parseRtpMap(l),u=e.matchPrefix(r,"a=fmtp:"+A+" ");switch(c.parameters=u.length?e.parseFmtp(u[0]):{},c.rtcpFeedback=e.matchPrefix(r,"a=rtcp-fb:"+A+" ").map(e.parseRtcpFb),n.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(c.name.toUpperCase());break}}}e.matchPrefix(r,"a=extmap:").forEach(o=>{n.headerExtensions.push(e.parseExtmap(o))});const s=e.matchPrefix(r,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(o=>{s.forEach(A=>{o.rtcpFeedback.find(c=>c.type===A.type&&c.parameter===A.parameter)||o.rtcpFeedback.push(A)})}),n},e.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(s=>{i+=e.writeRtpMap(s),i+=e.writeFmtp(s),i+=e.writeRtcpFb(s)});let a=0;return n.codecs.forEach(s=>{s.maxptime>a&&(a=s.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(s=>{i+=e.writeExtmap(s)}),i},e.parseRtpEncodingParameters=function(r){const n=[],i=e.parseRtpParameters(r),a=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,o=e.matchPrefix(r,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),A=o.length>0&&o[0].ssrc;let l;const c=e.matchPrefix(r,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(g=>parseInt(g,10)));c.length>0&&c[0].length>1&&c[0][0]===A&&(l=c[0][1]),i.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let d={ssrc:A,codecPayloadType:parseInt(h.parameters.apt,10)};A&&l&&(d.rtx={ssrc:l}),n.push(d),a&&(d=JSON.parse(JSON.stringify(d)),d.fec={ssrc:A,mechanism:s?"red+ulpfec":"red"},n.push(d))}}),n.length===0&&A&&n.push({ssrc:A});let u=e.matchPrefix(r,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substring(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substring(5),10)*1e3*.95-50*40*8:u=void 0,n.forEach(h=>{h.maxBitrate=u})),n},e.parseRtcpParameters=function(r){const n={},i=e.matchPrefix(r,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const a=e.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=a.length>0,n.compound=a.length===0;const s=e.matchPrefix(r,"a=rtcp-mux");return n.mux=s.length>0,n},e.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},e.parseMsid=function(r){let n;const i=e.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const a=e.matchPrefix(r,"a=ssrc:").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(a.length>0)return n=a[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(r){const n=e.parseMLine(r),i=e.matchPrefix(r,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const s=e.matchPrefix(r,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:n.fmt,maxMessageSize:a};const o=e.matchPrefix(r,"a=sctpmap:");if(o.length>0){const A=o[0].substring(10).split(" ");return{port:parseInt(A[0],10),protocol:A[1],maxMessageSize:a}}},e.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(r,n,i){let a;const s=n!==void 0?n:2;return r?a=r:a=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(r,n){const i=e.splitLines(r);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(r){return e.splitLines(r)[0].split(" ")[0].substring(2)},e.isRejected=function(r){return r.split(" ",2)[1]==="0"},e.parseMLine=function(r){const i=e.splitLines(r)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(r){const i=e.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=e.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(VI);var $I=VI.exports;const uf=Uy($I),Nq=TF({__proto__:null,default:uf},[$I]);function M1(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new e(n),a=uf.parseCandidate(n.candidate);for(const s in a)s in i||Object.defineProperty(i,s,{value:a[s]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(n)},t.RTCIceCandidate.prototype=e.prototype,$c(t,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new t.RTCIceCandidate(r.candidate),writable:"false"}),r))}function Fy(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||$c(t,"icecandidate",e=>{if(e.candidate){const r=uf.parseCandidate(e.candidate.candidate);r.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return e})}function H1(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(o){if(!o||!o.sdp)return!1;const A=uf.splitSections(o.sdp);return A.shift(),A.some(l=>{const c=uf.parseMLine(l);return c&&c.kind==="application"&&c.protocol.indexOf("SCTP")!==-1})},n=function(o){const A=o.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(A===null||A.length<2)return-1;const l=parseInt(A[1],10);return l!==l?-1:l},i=function(o){let A=65536;return e.browser==="firefox"&&(e.version<57?o===-1?A=16384:A=2147483637:e.version<60?A=e.version===57?65535:65536:A=2147483637),A},a=function(o,A){let l=65536;e.browser==="firefox"&&e.version===57&&(l=65535);const c=uf.matchPrefix(o.sdp,"a=max-message-size:");return c.length>0?l=parseInt(c[0].substring(19),10):e.browser==="firefox"&&A!==-1&&(l=2147483637),l},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:A}=this.getConfiguration();A==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const A=n(arguments[0]),l=i(A),c=a(arguments[0],A);let u;l===0&&c===0?u=Number.POSITIVE_INFINITY:l===0||c===0?u=Math.max(l,c):u=Math.min(l,c);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return u}}),this._sctp=h}return s.apply(this,arguments)}}function K1(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(n,i){const a=n.send;n.send=function(){const o=arguments[0],A=o.length||o.size||o.byteLength;if(n.readyState==="open"&&i.sctp&&A>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(n,arguments)}}const r=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return e(i,this),i},$c(t,"datachannel",n=>(e(n.channel,n.target),n))}function Ny(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=e[r];e[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const s=new Event("connectionstatechange",i);a.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Ty(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return r.apply(this,arguments)}}function V1(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function $1(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return r.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?r.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>r.apply(this,[s]))})}const Tq=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Ty,shimAddIceCandidateNullOrEmpty:V1,shimConnectionState:Ny,shimMaxMessageSize:H1,shimParameterlessSetLocalDescription:$1,shimRTCIceCandidate:M1,shimRTCIceCandidateRelayProtocol:Fy,shimSendThrowTypeError:K1},Symbol.toStringTag,{value:"Module"}));function Uq({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=pI,n=Iq(t),i={browserDetails:n,commonShim:Tq,extractVersion:Od,disableLog:Eq,disableWarnings:Sq,sdp:Nq};switch(n.browser){case"chrome":if(!T4||!Sy||!e.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=T4,V1(t,n),$1(t),vI(t,n),mI(t),Sy(t,n),yI(t),BI(t,n),wI(t),xI(t),CI(t,n),M1(t),Fy(t),Ny(t),H1(t,n),K1(t),Ty(t,n);break;case"firefox":if(!U4||!Iy||!e.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=U4,V1(t,n),$1(t),_I(t,n),Iy(t,n),EI(t),FI(t),SI(t),II(t),NI(t),TI(t),UI(t),OI(t),LI(t),M1(t),Ny(t),H1(t,n),K1(t);break;case"safari":if(!O4||!e.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=O4,V1(t,n),$1(t),jI(t),HI(t),DI(t),kI(t),PI(t),MI(t),RI(t),KI(t),M1(t),Fy(t),H1(t,n),K1(t),Ty(t,n);break;default:r("Unsupported browser!");break}return i}Uq({window:typeof window>"u"?void 0:window});zu.func.isRequired,zu.func;class Oq{constructor(){this.connection=null,this.isConnected=!1,this.weightListeners=[],this.statusListeners=[],this.currentWeight=0,this.currentUnit="kg",this.connectionType=null,this.simulatedMode=!1,this.simulationInterval=null}async connect(e,r={}){try{switch(this.connectionType=e,e){case"serial":return await this.connectSerial(r);case"bluetooth":return await this.connectBluetooth(r);case"tcp":return await this.connectTCP(r);case"simulate":return this.startSimulation(r);default:throw new Error(`Tipo de conexin no soportado: ${e}`)}}catch(n){throw console.error("Error de conexin con la balanza:",n),n}}async connectSerial(e={}){if(!("serial"in navigator))throw new Error("Web Serial API not supported");try{return this.connection=await navigator.serial.requestPort(e),await this.connection.open({baudRate:e.baudRate||9600}),this.isConnected=!0,this.updateStatus("connected","Balanza serial conectada"),this.readSerialData(),{success:!0,message:"Conexin a balanza serial exitosa"}}catch(r){throw this.isConnected=!1,this.updateStatus("error",`Conexin serial fallida: ${r.message}`),r}}async connectBluetooth(e={}){if(!("bluetooth"in navigator))throw new Error("Web Bluetooth API not supported");try{const r=await navigator.bluetooth.requestDevice({filters:[{name:e.name||"scale"},{namePrefix:e.namePrefix||"SCA"},{services:[e.serviceUUID||"serial_port"]}]}),n=await r.gatt.connect();return this.connection={device:r,server:n},this.isConnected=!0,this.updateStatus("connected","Balanza Bluetooth conectada"),this.readBluetoothData(),{success:!0,message:"Conexin a balanza Bluetooth exitosa"}}catch(r){throw this.isConnected=!1,this.updateStatus("error",`Conexin Bluetooth fallida: ${r.message}`),r}}async connectTCP(e={}){try{const{host:r="localhost",port:n=8080}=e,i=`ws://${r}:${n}`;return this.connection=new WebSocket(i),this.connection.onopen=()=>{this.isConnected=!0,this.updateStatus("connected","Balanza TCP conectada")},this.connection.onmessage=a=>{const s=this.parseWeightData(a.data);s&&this.setCurrentWeight(s.weight,s.unit)},this.connection.onerror=a=>{this.isConnected=!1,this.updateStatus("error",`Error de conexin TCP: ${a.message}`)},this.connection.onclose=()=>{this.isConnected=!1,this.updateStatus("disconnected","Balanza TCP desconectada")},{success:!0,message:"TCP scale connection initiated"}}catch(r){throw this.isConnected=!1,this.updateStatus("error",`Conexin TCP fallida: ${r.message}`),r}}startSimulation(e={}){return this.simulatedMode=!0,this.isConnected=!0,this.updateStatus("connected","Modo simulacin de balanza activo"),this.simulationInterval=setInterval(()=>{const r=Math.random()*5;this.setCurrentWeight(parseFloat(r.toFixed(3)),"kg")},e.interval||1e3),{success:!0,message:"Simulacin de balanza iniciada"}}async readSerialData(){if(!this.connection)return;const e=this.connection.readable.getReader();try{for(;this.isConnected;){const{value:r,done:n}=await e.read();if(n){this.isConnected=!1,this.updateStatus("disconnected","Serial connection closed");break}const i=new TextDecoder().decode(r),a=this.parseWeightData(i);a&&this.setCurrentWeight(a.weight,a.unit)}}catch(r){console.error("Error de lectura serial:",r),this.updateStatus("error",`Error de lectura serial: ${r.message}`)}finally{e.releaseLock()}}async readBluetoothData(){if(this.connection)try{const r=await(await this.connection.server.getPrimaryService("serial_port")).getCharacteristic("weight");await r.startNotifications(),r.addEventListener("characteristicvaluechanged",n=>{const i=n.target.value,a=new TextDecoder().decode(i),s=this.parseWeightData(a);s&&this.setCurrentWeight(s.weight,s.unit)})}catch(e){console.error("Error de lectura Bluetooth:",e),this.updateStatus("error",`Error de lectura Bluetooth: ${e.message}`)}}parseWeightData(e){typeof e!="string"&&(e=String.fromCharCode.apply(null,new Uint8Array(e)));const r=[/([+-]?\d+\.?\d*)\s*([a-z]+)/i,/.*\|([+-]?\d+\.?\d*)\s*([a-z]+)\|/];for(const n of r){const i=e.match(n);if(i){const a=parseFloat(i[1]),s=i[2].toLowerCase();return{weight:a,unit:s}}}return null}setCurrentWeight(e,r="kg"){this.currentWeight=e,this.currentUnit=r,this.notifyWeightListeners(e,r)}addWeightListener(e){this.weightListeners.push(e)}removeWeightListener(e){const r=this.weightListeners.indexOf(e);r!==-1&&this.weightListeners.splice(r,1)}addStatusListener(e){this.statusListeners.push(e)}removeStatusListener(e){const r=this.statusListeners.indexOf(e);r!==-1&&this.statusListeners.splice(r,1)}notifyWeightListeners(e,r){this.weightListeners.forEach(n=>{try{n(e,r)}catch(i){console.error("Error in weight listener:",i)}})}notifyStatusListeners(e,r){this.statusListeners.forEach(n=>{try{n(e,r)}catch(i){console.error("Error in status listener:",i)}})}updateStatus(e,r){this.notifyStatusListeners(e,r)}getCurrentWeight(){return{weight:this.currentWeight,unit:this.currentUnit,isConnected:this.isConnected}}async disconnect(){try{return this.simulationInterval&&(clearInterval(this.simulationInterval),this.simulationInterval=null),this.connectionType==="serial"&&this.connection?await this.connection.close():this.connectionType==="bluetooth"&&this.connection?await this.connection.server.disconnect():this.connectionType==="tcp"&&this.connection&&this.connection.close(),this.connection=null,this.isConnected=!1,this.connectionType=null,this.simulatedMode=!1,this.updateStatus("disconnected","Balanza desconectada"),{success:!0,message:"Balanza desconectada exitosamente"}}catch(e){return console.error("Error al desconectar la balanza:",e),{success:!1,message:e.message}}}}const Wr=new Oq,Lq=({isOpen:t,onClose:e,product:r,onAddToCart:n})=>{var V;const{currentUser:i,inventoryBatches:a}=zt(),[s,o]=X.useState(""),[A,l]=X.useState(0),[c,u]=X.useState(""),[h,d]=X.useState("disconnected"),[g,y]=X.useState("Balanza no conectada"),[B,v]=X.useState(!1),[w,x]=X.useState(!1);X.useEffect(()=>{const T="serial"in navigator,O="bluetooth"in navigator;v(T||O)},[]);const _=a.filter(T=>(r==null?void 0:r.id)&&(T==null?void 0:T.productId)===r.id&&(i==null?void 0:i.storeId)&&(T==null?void 0:T.locationId)===i.storeId).reduce((T,O)=>T+((O==null?void 0:O.quantity)||0),0);X.useEffect(()=>{if(r&&s&&!isNaN(s)&&s>0){const T=parseFloat(s);if(r&&T>_)u(`Stock insuficiente. Disponible: ${_.toFixed(3)} ${r.unit||"kg"}`);else if(T<=0)u("El peso debe ser mayor a 0");else if(u(""),r!=null&&r.price){const O=T*r.price;l(O)}}else l(0),u("")},[s,r,_]),X.useEffect(()=>{if(!t)return;const T=(O,K)=>{d(O),y(K)};return Wr.addStatusListener(T),Wr.isConnected||(async()=>{try{await Wr.connect("simulate")}catch(K){console.error("No se pudo conectar a la balanza simulada:",K)}})(),()=>{Wr.removeStatusListener(T)}},[t]),X.useEffect(()=>{if(!t||!w)return;const T=(O,K)=>{(K===(r==null?void 0:r.unit)||!(r!=null&&r.unit)||(r==null?void 0:r.unit)==="kg")&&o(O.toFixed(3))};return Wr.addWeightListener(T),()=>{Wr.removeWeightListener(T)}},[t,w,r==null?void 0:r.unit]);const F=()=>{!c&&s&&parseFloat(s)>0&&(parseFloat(s)>0&&n(parseFloat(s)),e())},N=X.useCallback(async()=>{try{d("connecting"),y("Conectando a la balanza..."),await Wr.connect("simulate"),d("connected"),y("Balanza conectada")}catch(T){d("error"),y(`Conexin fallida: ${T.message}`)}},[]),R=X.useCallback(async()=>{try{await Wr.disconnect(),x(!1),d("disconnected"),y("Balanza desconectada")}catch(T){console.error("Error al desconectar la balanza:",T)}},[]),D=X.useCallback(()=>{x(!w)},[w]),k=X.useCallback(()=>{const{weight:T,unit:O,isConnected:K}=Wr.getCurrentWeight();K&&O===((r==null?void 0:r.unit)||"kg")&&o(T.toFixed(3))},[r==null?void 0:r.unit]);return!t||!r||!i?null:f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-md p-6 shadow-2xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Pesar Producto"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("div",{className:`flex items-center ${h==="connected"?"text-green-500":h==="error"?"text-red-500":"text-yellow-500"}`,children:[B?f.jsx(IE,{className:`w-4 h-4 ${h==="connected"?"text-green-500":h==="error"?"text-red-500":"text-yellow-500"}`}):f.jsx(bp,{className:"w-4 h-4 text-gray-500"}),f.jsx("span",{className:"ml-1 text-xs",children:h})]}),f.jsx("button",{onClick:e,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:f.jsx(ya,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx("div",{className:"w-16 h-16 bg-[#3a3a4a] rounded-lg flex items-center justify-center",children:r!=null&&r.image?f.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain rounded"}):f.jsx("span",{className:"text-[#a0a0b0] text-xs",children:"No imagen"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-[#F0F0F0]",children:(r==null?void 0:r.name)||"Producto"}),f.jsxs("p",{className:"text-[#a0a0b0] text-sm",children:["$",(V=r==null?void 0:r.price)==null?void 0:V.toFixed(2)," / ",(r==null?void 0:r.unit)||"kg"]})]})]}),f.jsxs("div",{className:"mb-4 p-3 bg-[#1D1D27] rounded-lg border border-[#3a3a4a]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h4",{className:"font-semibold text-[#F0F0F0] text-sm",children:"Conexin de Balanza"}),f.jsx("div",{className:"flex space-x-2",children:Wr.isConnected?f.jsx("button",{onClick:R,className:"text-xs bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded",children:"Desconectar"}):f.jsx("button",{onClick:N,className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded",children:"Conectar"})})]}),f.jsx("div",{className:"text-xs text-[#a0a0b0] mb-3",children:g}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{onClick:D,disabled:!Wr.isConnected,className:`text-xs px-2 py-1 rounded ${w?"bg-green-600 text-white":Wr.isConnected?"bg-[#8A2BE2] text-white hover:bg-purple-700":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:w?"Actualizar automtico ON":"Actualizar automtico OFF"}),f.jsxs("button",{onClick:k,disabled:!Wr.isConnected,className:`text-xs px-2 py-1 rounded flex items-center ${Wr.isConnected?"bg-[#8A2BE2] text-white hover:bg-purple-700":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[f.jsx(RO,{className:"w-3 h-3 mr-1"})," Usar lectura"]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("label",{className:"block text-[#a0a0b0] mb-2",children:["Cantidad (",(r==null?void 0:r.unit)||"kg",")"]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",step:"0.001",min:"0",value:s,onChange:T=>{o(T.target.value),w&&x(!1)},className:`w-full bg-[#1D1D27] text-[#F0F0F0] border rounded-lg px-3 py-3 focus:border-[#8A2BE2] outline-none transition-colors ${c?"border-red-500":"border-[#3a3a4a]"}`,placeholder:`Ingrese ${(r==null?void 0:r.unit)||"kg"}`,autoFocus:!0,disabled:w}),Wr.isConnected&&f.jsxs("div",{className:"absolute right-3 top-3 text-xs text-[#8A2BE2]",children:[Wr.getCurrentWeight().weight," ",(r==null?void 0:r.unit)||"kg"]})]}),c&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:c}),f.jsxs("p",{className:"text-[#a0a0b0] text-sm mt-1",children:["Disponible: ",_.toFixed(3)," ",(r==null?void 0:r.unit)||"kg"]})]}),f.jsx("div",{className:"bg-[#1D1D27] rounded-lg p-4 border border-[#3a3a4a]",children:f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-[#a0a0b0]",children:"Precio Total:"}),f.jsxs("span",{className:"text-[#8A2BE2] font-bold text-lg",children:["$",A.toFixed(2)]})]})})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:e,className:"flex-1 bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] py-3 rounded-lg border border-[#3a3a4a] transition-colors",children:"Cancelar"}),f.jsx("button",{onClick:F,disabled:!!c||!s||parseFloat(s)<=0,className:`flex-1 py-3 rounded-lg transition-colors ${c||!s||parseFloat(s)<=0?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-[#8A2BE2] hover:bg-purple-700 text-white"}`,children:"Agregar al Carrito"})]})]})})},fi=[];for(let t=0;t<256;++t)fi.push((t+256).toString(16).slice(1));function kq(t,e=0){return(fi[t[e+0]]+fi[t[e+1]]+fi[t[e+2]]+fi[t[e+3]]+"-"+fi[t[e+4]]+fi[t[e+5]]+"-"+fi[t[e+6]]+fi[t[e+7]]+"-"+fi[t[e+8]]+fi[t[e+9]]+"-"+fi[t[e+10]]+fi[t[e+11]]+fi[t[e+12]]+fi[t[e+13]]+fi[t[e+14]]+fi[t[e+15]]).toLowerCase()}let x2;const Pq=new Uint8Array(16);function Dq(){if(!x2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x2=crypto.getRandomValues.bind(crypto)}return x2(Pq)}const Rq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),L4={randomUUID:Rq};function Qq(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Dq();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,kq(n)}function jq(t,e,r){return L4.randomUUID&&!t?L4.randomUUID():Qq(t)}const $p=FE((t,e)=>({notifications:[],addNotification:(r,n,i=5e3)=>{const a=jq(),s={id:a,type:r,message:n,duration:i};t(o=>({notifications:[...o.notifications,s]})),setTimeout(()=>{e().removeNotification(a)},i)},removeNotification:r=>{t(n=>({notifications:n.notifications.filter(i=>i.id!==r)}))},clearAllNotifications:()=>{t({notifications:[]})}})),Rf=()=>{const t=$p(r=>r.addNotification),e=$p(r=>r.removeNotification);return{showSuccess:(r,n)=>t("success",r,n),showError:(r,n)=>t("error",r,n),showWarning:(r,n)=>t("warning",r,n),showInfo:(r,n)=>t("info",r,n),removeNotification:e}};function k4(){const{currentUser:t,cart:e,searchTerm:r="",setSearchTerm:n,categories:i,products:a,inventoryBatches:s,addToCart:o,removeFromCart:A,updateCartItemQuantity:l,handleCheckout:c,lastSale:u,darkMode:h,isOnline:d,offlineMode:g,isWeightModalOpen:y,weighingProduct:B,openWeightModal:v,closeWeightModal:w,addToCartWithWeight:x}=zt(),[_,F]=X.useState(!1),[N,R]=X.useState(!1),[D,k]=X.useState(!1),[V,T]=X.useState(!1),[O,K]=X.useState(!1),[q,ie]=X.useState(!1),[fe,de]=X.useState(!1),[te,ce]=X.useState(!1),[Ce,be]=X.useState(!1),[P,H]=X.useState(!1),[z,ne]=X.useState(!1),[oe,he]=X.useState(!1),[Ee,_e]=X.useState(!1),[Se,Pe]=X.useState(!1),[Qe,Ue]=X.useState(!1),[Be,G]=X.useState("disconnected"),[He,tt]=X.useState("Scale not connected");X.useEffect(()=>{const Ie=(Ze,rt)=>{G(Ze),tt(rt)};return Wr.addStatusListener(Ie),Wr.isConnected?(G("connected"),tt("Balanza conectada")):(G("disconnected"),tt("Balanza no conectada")),()=>{Wr.removeStatusListener(Ie)}},[]);const Je=X.useRef(),De=GS.useReactToPrint({content:()=>Je.current,documentTitle:`Ticket_Venta_${u==null?void 0:u.saleId}`}),ze=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},$e=X.useMemo(()=>{const Ie=(t==null?void 0:t.storeId)||"1";console.log("storeId:",Ie),console.log("inventoryBatches:",s),console.log("productCatalog length:",a.length);const Ze=s.reduce((it,qe)=>{const mt=qe.locationId||qe.location_id;if(String(mt)===String(Ie)){const $t=qe.productId||qe.product_id;console.log("Batch location match:",{batchLocationId:mt,storeId:Ie,productId:$t,quantity:qe.quantity}),it[String($t)]=(it[String($t)]||0)+qe.quantity}return it},{});console.log("stockByProduct:",Ze),console.log("Products in catalog:",a.map(it=>({id:it.id,name:it.name})));let rt=a.map(it=>{var mt;const qe=Ze[String(it.id)]||0;return{...it,categoryId:it.categoryId||it.category_id,stockInLocation:qe>0?qe:0,name:it.name||it.nombre||it.productName||"Producto sin nombre",categoryName:((mt=i.find($t=>$t.id===(it.categoryId||it.category_id)))==null?void 0:mt.name)||"Sin categora"}});console.log("allCatalogProducts count:",rt.length),rt.length===0&&(console.log("No products in catalog, showing all available products"),rt=a.map(it=>{var qe;return{...it,stockInLocation:0,name:it.name||it.nombre||it.productName||"Producto sin nombre",categoryName:((qe=i.find(mt=>mt.id===(it.categoryId||it.category_id)))==null?void 0:qe.name)||"Sin categora"}}));const pr=rt.filter(it=>String(it.name).toLowerCase().includes(String(r).toLowerCase())||String(it.nombre||"").toLowerCase().includes(String(r).toLowerCase())||String(it.productName||"").toLowerCase().includes(String(r).toLowerCase())||String(it.description||"").toLowerCase().includes(String(r).toLowerCase()));return console.log("productsToShow count:",pr.length),pr},[a,s,t,r,i]);Lu.useEffect(()=>{const Ie=()=>{alert("Conexin restaurada. Los datos se sincronizarn automticamente.")},Ze=()=>{alert("Sin conexin a Internet. La aplicacin est trabajando en modo sin conexin.")};return window.addEventListener("online",Ie),window.addEventListener("offline",Ze),()=>{window.removeEventListener("online",Ie),window.removeEventListener("offline",Ze)}},[]);const Ct=()=>F(Ie=>!Ie),lt=Ie=>{if(!Ie||Ie.trim()==="")return;const Ze=$e.find(rt=>rt.barcode===Ie);Ze?(o(Ze),showSuccess(`${Ze.name} agregado al carrito.`)):showError(`Producto con cdigo ${Ie} no encontrado.`),F(!1)},Vt=e.reduce((Ie,Ze)=>Ie+Ze.price*Ze.quantity,0),Et=(Ie,Ze)=>{const rt=parseInt(Ze.target.value,10);l(Ie,rt)},St=()=>{ce(!0)},Ar=async Ie=>{(await c(Ie)).offline&&alert("Venta procesada en modo sin conexin. Se sincronizar cuando haya conexin a Internet."),ce(!1),_e(!0)},It=t&&(t.role==="admin"||t.role==="gerente");return f.jsxs("main",{className:"flex-1 flex flex-col md:flex-row gap-4 p-4 bg-[#1D1D27] overflow-hidden h-full",children:[f.jsxs("div",{className:"w-full md:w-2/3 flex flex-col gap-3 min-h-0 flex-1",children:[f.jsxs("header",{className:"flex justify-between items-center text-[#f5f5f5] flex-shrink-0 pb-1",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg font-bold text-[#F0F0F0]",children:"Punto de Venta"}),f.jsxs("p",{className:"text-xs text-[#a0a0b0]",children:["Tienda: ",(t==null?void 0:t.storeName)||"Principal"]}),g&&f.jsxs("div",{className:"flex items-center mt-0.5",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-[#ff5252] rounded-full mr-1.5"}),f.jsx("span",{className:"text-[0.5rem] text-[#ff5252] font-medium",children:"Modo Sin Conexin"})]})]}),f.jsxs("div",{className:"flex items-center space-x-1.5",children:[!d&&f.jsxs("div",{className:"flex items-center bg-[#ffab00]/20 text-[#ffab00] px-1.5 py-0.5 rounded text-[0.5rem] font-medium border border-[#ffab00]/30",children:[f.jsx(hL,{size:10,className:"mr-1"}),f.jsx("span",{children:"Sin conexin"})]}),f.jsxs("div",{className:`flex items-center px-1.5 py-0.5 rounded text-[0.5rem] font-medium border ${Be==="connected"?"bg-green-500/20 text-green-500 border-green-500/30":Be==="error"?"bg-red-500/20 text-red-500 border-red-500/30":"bg-yellow-500/20 text-yellow-500 border-yellow-500/30"}`,children:[Be==="connected"?f.jsx(IE,{size:10,className:"mr-1"}):f.jsx(bp,{size:10,className:"mr-1"}),f.jsxs("span",{children:["Balance: ",Be]})]}),f.jsx(ot,{onClick:ze,variant:"outline",className:"p-1",children:f.jsx(EO,{size:14})})]})]}),f.jsxs("div",{className:"bg-[#282837] rounded-lg border border-[#3a3a4a] flex flex-col flex-1 min-h-0 overflow-hidden",children:[f.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:f.jsxs("table",{className:"w-full h-full",children:[f.jsx("thead",{className:"flex-shrink-0",children:f.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[f.jsx("th",{className:"py-2 px-3 text-left text-[#a0a0b0] text-[0.7rem] font-semibold uppercase tracking-wider",children:"Cantidad"}),f.jsx("th",{className:"py-2 px-3 text-left text-[#a0a0b0] text-[0.7rem] font-semibold uppercase tracking-wider",children:"Producto"}),f.jsx("th",{className:"py-2 px-3 text-right text-[#a0a0b0] text-[0.7rem] font-semibold uppercase tracking-wider",children:"Precio"}),f.jsx("th",{className:"py-2 px-3 text-right text-[#a0a0b0] text-[0.7rem] font-semibold uppercase tracking-wider",children:"Acciones"})]})}),f.jsx("tbody",{className:"overflow-y-auto flex-1 min-h-0 max-h-60",children:e.map(Ie=>f.jsxs("tr",{className:"border-b border-[#3a3a4a] last:border-none",children:[f.jsx("td",{className:"py-2 px-3",children:f.jsx("input",{type:"number",value:Ie.quantity,onChange:Ze=>Et(Ie.id,Ze),min:"1",className:"w-12 border rounded text-center bg-[#1D1D27] text-[#F0F0F0] border-[#3a3a4a] focus:ring-2 focus:ring-[#8A2BE2] focus:border-[#8A2BE2] text-sm"})}),f.jsx("td",{className:"py-2 px-3 font-medium text-[#F0F0F0] text-sm truncate max-w-[80px]",children:Ie.name}),f.jsxs("td",{className:"py-2 px-3 text-right font-semibold text-[#F0F0F0] text-sm",children:["$",(Ie.price*Ie.quantity).toLocaleString()]}),f.jsx("td",{className:"py-2 px-3 text-right",children:f.jsx(ot,{onClick:()=>A(Ie.id),variant:"ghost",size:"sm",className:"text-[#a0a0b0] hover:text-[#ff5252]",children:f.jsx(ya,{size:14})})})]},Ie.id))})]})}),f.jsxs("div",{className:"mt-2 flex flex-col xs:flex-row justify-between items-center gap-3 pt-3 border-t border-[#3a3a4a] flex-shrink-0",children:[f.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[f.jsxs(ot,{onClick:()=>he(!0),variant:"outline",className:"font-medium flex items-center space-x-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] text-sm",children:[f.jsx(mp,{size:14}),f.jsx("span",{children:"Agendar"})]}),f.jsxs(ot,{onClick:()=>ie(!0),variant:"outline",className:"font-medium flex items-center space-x-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] text-sm",children:[f.jsx(LO,{size:14}),f.jsx("span",{children:"Descuento"})]}),f.jsxs(ot,{onClick:()=>de(!0),variant:"outline",className:"font-medium flex items-center space-x-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] text-sm",children:[f.jsx(Yb,{size:14}),f.jsx("span",{children:"Nota"})]}),It&&f.jsxs(ot,{onClick:()=>k(!0),variant:"outline",className:"font-medium flex items-center space-x-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] text-sm",children:[f.jsx(aO,{size:14}),f.jsx("span",{children:"Consumo"})]})]}),f.jsxs("div",{className:"text-right text-[#F0F0F0]",children:[f.jsxs("p",{className:"text-[#a0a0b0] text-xs",children:["Subtotal: $",Vt.toLocaleString()]}),f.jsxs("p",{className:"text-lg font-bold text-[#F0F0F0]",children:["Total: $",Vt.toLocaleString()]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-2 flex-shrink-0",children:[f.jsxs(ot,{onClick:()=>ne(!0),variant:"outline",className:"font-medium flex-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] text-sm transition-all duration-200 hover:scale-[1.02]",children:[f.jsx(bE,{size:14,className:"mr-1.5"}),"Ventas Anteriores"]}),f.jsxs(ot,{onClick:()=>be(!0),variant:"outline",className:"font-medium flex-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] text-sm transition-all duration-200 hover:scale-[1.02]",children:[f.jsx(Yb,{size:14,className:"mr-1.5"}),"Cierre de Caja"]}),f.jsxs(ot,{onClick:()=>Pe(!0),variant:"outline",className:"font-medium flex-1 text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] text-sm transition-all duration-200 hover:scale-[1.02]",children:[f.jsx(lO,{size:14,className:"mr-1.5"}),"Retiro"]})]}),f.jsx(ot,{onClick:St,className:"w-full mt-2 py-2 text-base bg-[#8A2BE2] hover:bg-purple-700 flex-shrink-0 transition-all duration-200 hover:scale-[1.02] shadow-md hover:shadow-lg",size:"lg",variant:"primary",disabled:g&&e.length===0,children:g?"Modo Sin Conexin - Procesar Pago Local":`Procesar Pago - ${Vt.toLocaleString()}`})]})]}),f.jsxs("div",{className:"w-full md:w-1/3 flex flex-col bg-[#282837] rounded-lg border border-[#3a3a4a] p-3 min-h-0 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3 flex-shrink-0",children:[f.jsxs("div",{className:"flex space-x-1.5",children:[f.jsx(ot,{onClick:()=>K(!0),size:"sm",className:"bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] border border-[#3a3a4a] transition-all duration-200 hover:scale-105",children:f.jsx(HU,{size:16})}),f.jsx(ot,{onClick:()=>Ue(!0),size:"sm",className:"bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] border border-[#3a3a4a] transition-all duration-200 hover:scale-105",children:f.jsx(Rs,{size:16})}),f.jsx(ot,{onClick:Ct,size:"sm",className:"bg-[#1D1D27] hover:bg-[#3a3a4a] text-[#F0F0F0] border border-[#3a3a4a] transition-all duration-200 hover:scale-105",children:f.jsx(BE,{size:16})})]}),f.jsx(Sr,{icon:Nf,type:"text",placeholder:"Buscar producto...",className:"flex-1 ml-2 max-w-xs bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] placeholder-[#a0a0b0] text-sm",onChange:Ie=>n(Ie.target.value)})]}),f.jsxs("div",{className:`p-2 rounded-md border text-xs flex items-center justify-between mb-3 flex-shrink-0 ${Be==="connected"?"bg-green-500/10 border-green-500/30 text-green-300":Be==="error"?"bg-red-500/10 border-red-500/30 text-red-300":"bg-yellow-500/10 border-yellow-500/30 text-yellow-300"}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(jO,{size:14,className:"mr-1.5"}),f.jsxs("span",{className:"font-medium",children:["Balanza: ",He]})]}),f.jsx("div",{className:"flex space-x-1.5",children:f.jsx(ot,{size:"sm",variant:Wr.isConnected?"outline":"default",onClick:()=>{Wr.isConnected?Wr.disconnect():Wr.connect("simulate")},className:Wr.isConnected?"border border-[#3a3a4a] text-[#F0F0F0] hover:bg-[#3a3a4a] text-xs":"bg-[#8A2BE2] text-white hover:bg-purple-700 text-xs",children:Wr.isConnected?"Desconectar":"Conectar"})})]}),_&&f.jsx(ScannerComponent,{onScan:lt,onClose:()=>F(!1)}),f.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3 flex-shrink-0",children:[i.slice(0,6).map(Ie=>f.jsx(ot,{variant:"outline",size:"sm",className:"py-0.5 font-medium text-xs whitespace-nowrap text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] transition-all duration-200 hover:scale-105",children:Ie.name},Ie.id)),i.length>6&&f.jsxs(ot,{variant:"outline",size:"sm",className:"py-0.5 font-medium text-xs text-[#F0F0F0] border-[#3a3a4a] hover:bg-[#3a3a4a] transition-all duration-200 hover:scale-105",onClick:()=>Ue(!0),children:["+",i.length-6]})]}),f.jsx("div",{className:"flex-1 overflow-hidden min-h-0",style:{minHeight:0,height:"calc(100% - 150px)"},children:f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-1.5 overflow-y-auto",style:{height:"100%",padding:"6px",maxHeight:"100%"},children:$e.map(Ie=>f.jsxs("div",{className:`relative rounded-lg p-3 text-center cursor-pointer transition-all duration-200 hover:scale-[1.03] hover:-translate-y-1 shadow-md border ${Ie.stockInLocation===0?"bg-[#3a3a4a] border-[#5c5c6c] cursor-not-allowed opacity-60":"bg-[#282837] border-[#3a3a4a] hover:bg-[#3a3a4a] hover:border-blue-400"} ${Ie.unit==="kg"||Ie.unit==="gr"||Ie.unit==="lb"||Ie.unit==="oz"?"ring-2 ring-[#8A2BE2] ring-opacity-50":""}`,onClick:()=>{Ie.stockInLocation>0?Ie.unit==="kg"||Ie.unit==="gr"||Ie.unit==="lb"||Ie.unit==="oz"?v(Ie):o(Ie):alert(`No hay existencias disponibles para ${Ie.name}`)},children:[f.jsxs("div",{className:`absolute top-1 right-1 text-[0.7rem] font-bold px-2 py-1 rounded-full ${Ie.stockInLocation===0?"bg-[#666666] text-white":Ie.stockInLocation<10?"bg-[#ff5252] text-white":Ie.stockInLocation<20?"bg-[#ffab00] text-[#1f1f1f]":"bg-[#00c853] text-white"}`,children:[Ie.stockInLocation," ",Ie.unit==="unidad"?"":Ie.unit||""]}),f.jsx("div",{className:"bg-[#3a3a4a] rounded-lg w-14 h-14 mx-auto mb-2 flex items-center justify-center",children:Ie.image?f.jsx("img",{src:Ie.image,alt:Ie.name,className:"w-10 h-10 object-contain rounded"}):f.jsx(Rs,{className:"w-8 h-8 text-[#a0a0b0]"})}),f.jsx("p",{className:"text-[0.85rem] font-semibold text-[#F0F0F0] truncate",children:Ie.name}),f.jsxs("p",{className:"text-[0.9rem] font-bold text-[#8A2BE2]",children:["$",Ie.price,Ie.unit==="kg"||Ie.unit==="gr"||Ie.unit==="lb"||Ie.unit==="oz"?`/${Ie.unit}`:""]}),Ie.unit!=="unidad"&&(Ie.unit==="kg"||Ie.unit==="gr"||Ie.unit==="lb"||Ie.unit==="oz")&&f.jsxs("p",{className:"text-[0.7rem] text-[#a0a0b0] mt-1",children:["Por ",Ie.unit]})]},Ie.id))})}),f.jsxs(ot,{className:"w-full mt-3 py-2 font-semibold flex items-center justify-center space-x-1.5 bg-[#8A2BE2] hover:bg-purple-700 text-sm flex-shrink-0 shadow-md hover:shadow-lg transition-all duration-200",onClick:()=>H(!0),children:[f.jsx(Ms,{size:14}),f.jsx("span",{children:"Agregar Producto"})]})]}),u&&f.jsx(yn,{isOpen:Ee,onClose:()=>_e(!1),title:"Opciones de Ticket",children:f.jsxs("div",{className:"p-4",children:[f.jsx(VS,{saleDetails:u}),f.jsxs("div",{className:"flex justify-end space-x-4 mt-4",children:[f.jsx(ot,{onClick:De,className:"bg-blue-600 text-white hover:bg-blue-700",children:"Imprimir Ticket"}),f.jsx(ot,{onClick:()=>{alert("Funcionalidad de guardar ticket no implementada an."),_e(!1)},className:"bg-green-600 text-white hover:bg-green-700",children:"Guardar Ticket"}),f.jsx(ot,{onClick:()=>_e(!1),className:"bg-gray-300 hover:bg-gray-400",children:"Cerrar"})]})]})}),It&&f.jsx(yn,{isOpen:D,onClose:()=>k(!1),title:"Registrar Consumo de Empleados",children:f.jsx(SW,{onClose:()=>k(!1)})}),f.jsx(yn,{isOpen:V,onClose:()=>T(!1),title:"Editar Diseo de Ticket",children:f.jsx(FW,{onClose:()=>T(!1)})}),f.jsx(yn,{isOpen:O,onClose:()=>K(!1),title:"Calculadora",children:f.jsx(IW,{onClose:()=>K(!1)})}),f.jsx(yn,{isOpen:q,onClose:()=>ie(!1),title:"Aplicar Descuento",children:f.jsx(NW,{onClose:()=>ie(!1)})}),f.jsx(yn,{isOpen:fe,onClose:()=>de(!1),title:"Aadir Nota a la Venta",children:f.jsx(TW,{onClose:()=>de(!1)})}),f.jsx(yn,{isOpen:te,onClose:()=>ce(!1),title:"Procesar Pago",children:f.jsx(UW,{onClose:()=>ce(!1),onPayment:Ar,total:Vt})}),f.jsx(yn,{isOpen:Ce,onClose:()=>be(!1),title:"Cierre de Caja",children:f.jsx(LW,{onClose:()=>be(!1)})}),f.jsx(yn,{isOpen:P,onClose:()=>H(!1),title:"Aadir Producto",children:f.jsx(fx,{onClose:()=>H(!1)})}),f.jsx(yn,{isOpen:z,onClose:()=>ne(!1),title:"Ventas Anteriores",children:f.jsx(DW,{onClose:()=>ne(!1)})}),f.jsx(yn,{isOpen:oe,onClose:()=>he(!1),title:"Agendar Visita de Proveedor",children:f.jsx(RW,{onClose:()=>he(!1)})}),f.jsx(yn,{isOpen:Se,onClose:()=>Pe(!1),title:"Retiro de Efectivo",children:f.jsx(QW,{onClose:()=>Pe(!1)})}),f.jsx(yn,{isOpen:Qe,onClose:()=>Ue(!1),title:"Coleccin de Productos",children:f.jsx(jW,{onClose:()=>Ue(!1)})}),f.jsx(Lq,{isOpen:y,onClose:w,product:B,onAddToCart:Ie=>{x(B,Ie),w()}})]})}const Mq=({batch:t,onClose:e,onSave:r})=>{const{products:n,stores:i,addInventoryBatch:a,updateInventoryBatch:s}=zt(),[o,A]=X.useState({productId:"",locationId:"",quantity:0,cost:0,expirationDate:""}),[l,c]=X.useState(""),[u,h]=X.useState("");X.useEffect(()=>{if(t){A({productId:t.productId||"",locationId:t.locationId||"",quantity:t.quantity||0,cost:t.cost||0,expirationDate:t.expirationDate||""});const B=n.find(v=>v.id===t.productId);c(B?B.name:t.productName==="Producto Desconocido"?"":t.productName||"")}else A({productId:"",locationId:"",quantity:0,cost:0,expirationDate:""}),c("")},[t,n]);const d=B=>{const{name:v,value:w}=B.target;A(x=>({...x,[v]:v==="quantity"||v==="cost"?parseFloat(w)||0:w}))},g=B=>{const v=B.target.value;c(v);const w=n.find(x=>x.name===v);w?(A(x=>({...x,productId:w.id})),h("")):(A(x=>({...x,productId:""})),h("Por favor, selecciona un producto vlido de la lista."))},y=async B=>{if(B.preventDefault(),!o.productId){h("Debes seleccionar un producto.");return}try{r?await r(o):t?await s(t.id,o):await a(o),e()}catch(v){console.error("Error saving inventory batch:",v)}};return f.jsxs("form",{onSubmit:y,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"productSearch",className:"block text-sm font-medium text-gray-700",children:"Producto"}),f.jsx(Sr,{id:"productSearch",name:"productSearch",type:"text",value:l,onChange:g,placeholder:"Busca o selecciona un producto",list:"product-options",required:!0,className:"mt-1 block w-full"}),f.jsx("datalist",{id:"product-options",children:n.map(B=>f.jsx("option",{value:B.name,"data-product-id":B.id},B.id))}),f.jsx("input",{type:"hidden",name:"productId",value:o.productId}),u&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"locationId",className:"block text-sm font-medium text-gray-700",children:"Ubicacin"}),f.jsxs("select",{id:"locationId",name:"locationId",value:o.locationId,onChange:d,required:!0,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md bg-white text-black",children:[f.jsx("option",{value:"",children:"Selecciona una ubicacin"}),i.map(B=>f.jsx("option",{value:B.id,children:B.name},B.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Cantidad"}),f.jsx(Sr,{id:"quantity",name:"quantity",type:"number",value:o.quantity,onChange:d,required:!0,min:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-700",children:"Costo por unidad"}),f.jsx(Sr,{id:"cost",name:"cost",type:"number",value:o.cost,onChange:d,required:!0,min:"0",step:"0.01"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"expirationDate",className:"block text-sm font-medium text-gray-700",children:"Fecha de Vencimiento (Opcional)"}),f.jsx(Sr,{id:"expirationDate",name:"expirationDate",type:"date",value:o.expirationDate,onChange:d})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(ot,{type:"button",onClick:e,className:"bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar"}),f.jsx(ot,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:t?"Actualizar Lote":"Agregar Lote"})]})]})},hx=({isOpen:t,onClose:e,onConfirm:r,title:n="Confirmar accin",message:i="Ests seguro de que deseas continuar?",confirmText:a="Confirmar",cancelText:s="Cancelar"})=>{const o=()=>{r(),e()},A=()=>{e()},l=c=>{c.target===c.currentTarget&&e()};return t?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:l,children:f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-md relative",onClick:c=>c.stopPropagation(),children:[f.jsxs("div",{className:"p-6 pb-4",children:[f.jsx("div",{className:"flex justify-between items-start mb-4",children:f.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:n})}),f.jsx("div",{className:"mb-6",children:f.jsx("p",{className:"text-[#a0a0b0] leading-relaxed",children:i})})]}),f.jsxs("div",{className:"px-6 pt-4 pb-6 border-t border-[#3a3a4a] flex justify-end space-x-3",children:[f.jsx("button",{onClick:A,className:"bg-[#3a3a4a] text-[#F0F0F0] hover:bg-[#4a4a5a] py-2 px-4 rounded-lg transition-colors",children:s}),f.jsx("button",{onClick:o,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",children:a})]})]})}):null},Hq=({onClose:t})=>{const[e,r]=X.useState(null),[n,i]=X.useState(1),[a,s]=X.useState({}),{products:o,recordEmployeeConsumption:A}=zt(),{showSuccess:l,showError:c}=Rf(),u=d=>{const g=o.find(y=>y.id===d);r(g)},h=()=>{if(!e){s({product:"Debes seleccionar un producto."}),c("Debes seleccionar un producto.");return}if(n<=0){s({quantity:"La cantidad debe ser mayor a cero."}),c("La cantidad debe ser mayor a cero.");return}if(n>e.stock){s({quantity:`La cantidad no puede ser mayor al stock disponible (${e.stock}).`}),c(`La cantidad no puede ser mayor al stock disponible (${e.stock}).`);return}A(e.id,n),l(`Se registr el consumo de ${n} ${e.name}.`),t()};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-md p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Consumo de Empleados"}),f.jsx("button",{onClick:t,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:f.jsx(ya,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Producto"}),f.jsxs("select",{onChange:d=>u(d.target.value),className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${a.product?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none`,children:[f.jsx("option",{value:"",children:"Selecciona un producto"}),o.map(d=>f.jsx("option",{value:d.id,children:d.name},d.id))]}),a.product&&f.jsxs("div",{className:"flex items-center mt-1 text-red-500 text-sm",children:[f.jsx(Dc,{className:"w-4 h-4 mr-1"}),a.product]})]}),e&&f.jsxs("div",{children:[f.jsxs("p",{className:"text-sm text-[#a0a0b0]",children:["Costo Promedio Ponderado (CPP): $",e.cpp.toFixed(2)]}),f.jsxs("p",{className:"text-sm text-[#a0a0b0]",children:["Stock disponible: ",e.stock]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Cantidad"}),f.jsx("input",{type:"number",value:n,onChange:d=>i(parseInt(d.target.value,10)),min:"1",className:`w-full bg-[#1D1D27] text-[#F0F0F0] border ${a.quantity?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none`}),a.quantity&&f.jsxs("div",{className:"flex items-center mt-1 text-red-500 text-sm",children:[f.jsx(Dc,{className:"w-4 h-4 mr-1"}),a.quantity]})]})]}),f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx("button",{onClick:t,className:"flex-1 bg-[#3a3a4a] hover:bg-[#4a4a5a] text-[#F0F0F0] py-2 px-4 rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:h,className:"flex-1 bg-[#8A2BE2] hover:bg-purple-700 text-white py-2 px-4 rounded-lg",children:"Registrar Consumo"})]})]})})},Kq=({onScan:t,onClose:e})=>{const{ref:r}=EW({onResult(n){t(n.getText())},onError(n){console.error(n)}});return f.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50",children:[f.jsxs("div",{className:"relative w-full max-w-md p-4",children:[f.jsx("video",{ref:r,className:"w-full rounded-lg"}),f.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-white bg-black bg-opacity-50 rounded-full p-2",children:f.jsx(ya,{className:"w-6 h-6"})})]}),f.jsx("p",{className:"text-white mt-4",children:"Apunte la cmara al cdigo de barras"})]})},P4=()=>{const{products:t,categories:e,inventoryBatches:r,stores:n,currentUser:i,addToShoppingList:a,addInventoryBatch:s,deleteInventoryBatch:o,loadStores:A,loadProducts:l}=zt(H=>({products:H.products,categories:H.categories,inventoryBatches:H.inventoryBatches,stores:H.stores,currentUser:H.currentUser,addToShoppingList:H.addToShoppingList,addInventoryBatch:H.addInventoryBatch,deleteInventoryBatch:H.deleteInventoryBatch,loadStores:H.loadStores,loadProducts:H.loadProducts})),[c,u]=X.useState(!1),[h,d]=X.useState(null),[g,y]=X.useState(!1),[B,v]=X.useState(!1),{showSuccess:w,showError:x}=Rf();mA();const[_,F]=X.useState(""),[N,R]=X.useState("all"),[D,k]=X.useState(!1),[V,T]=X.useState(null),[O,K]=X.useState(!1),[q,ie]=X.useState(null);X.useEffect(()=>{n.length===0&&A(),t.length===0&&l()},[n.length,A,t.length,l]);const fe=r.map(H=>{var he;const z=t.find(Ee=>Ee.id===H.productId)||{},ne=e.find(Ee=>Ee.id===z.categoryId)||{},oe=n.find(Ee=>Ee.id===H.locationId)||{name:H.locationId};return{...H,productName:z.name||"Producto Desconocido",productCategory:ne.name||"Sin Categora",productPrice:z.price||0,minStockThreshold:((he=z.minStockThreshold)==null?void 0:he[H.locationId])||0,locationName:oe.name||H.locationId,productSku:z.sku||"",barcode:z.barcode||"",expirationDate:H.expirationDate||null}}),de=fe.filter(H=>{const z=!_||H.productName.toLowerCase().includes(_.toLowerCase())||H.productSku.toLowerCase().includes(_.toLowerCase()),ne=N==="all"||H.productCategory===N;return z&&ne}),te={};de.forEach(H=>{const z=`${H.productId}-${H.locationId}`;te[z]||(te[z]={...H,totalQuantity:0,batches:[]}),te[z].totalQuantity+=H.quantity,te[z].batches.push(H)});const ce=Object.values(te),Ce=[...new Set(t.map(H=>{var z;return(z=e.find(ne=>ne.id===H.categoryId))==null?void 0:z.name}).filter(Boolean))],be=(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="gerente",P=H=>{const z=fe.find(ne=>ne.barcode===H);z?(F(z.productName),w(`Producto encontrado: ${z.productName}`)):x(`Producto con cdigo ${H} no encontrado.`),v(!1)};return f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Inventario por Lotes"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[be&&f.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>y(!0),children:[f.jsx(sL,{className:"w-4 h-4"}),f.jsx("span",{children:"Consumo Empleado"})]}),f.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{ie(null),K(!0)},children:[f.jsx(Ms,{className:"w-4 h-4"}),f.jsx("span",{children:"Agregar Lote"})]})]})]}),f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-4",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-4",children:[f.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx("input",{type:"text",placeholder:"Buscar productos o SKU...",value:_,onChange:H=>F(H.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg pl-10 pr-4 py-2 focus:border-[#8A2BE2] outline-none transition-colors"}),f.jsx(Nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-4 h-4"})]}),f.jsx("button",{onClick:()=>v(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",children:f.jsx(BE,{className:"w-4 h-4"})})]}),f.jsxs("select",{value:N,onChange:H=>R(H.target.value),className:"bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",children:[f.jsx("option",{value:"all",className:"bg-[#282837] text-[#F0F0F0]",children:"Todas las categoras"}),Ce.map(H=>f.jsx("option",{value:H,className:"bg-[#282837] text-[#F0F0F0]",children:H},H))]})]}),f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Producto"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Categora"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Stock"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Mnimo"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Ubicacin"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Vencimiento"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Costo Total"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Acciones"})]})}),f.jsx("tbody",{children:ce.map(H=>f.jsxs("tr",{className:`border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors ${H.totalQuantity<=H.minStockThreshold?"bg-red-500 bg-opacity-10":""}`,children:[f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0] font-medium",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{children:H.productName}),f.jsx("span",{className:"text-xs text-[#a0a0b0]",children:H.productSku})]})}),f.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:H.productCategory}),f.jsx("td",{className:"py-4 px-6",children:f.jsx("span",{className:`font-bold ${H.totalQuantity<=H.minStockThreshold?"text-red-500":H.totalQuantity<=H.minStockThreshold*1.5?"text-yellow-500":"text-green-500"}`,children:H.totalQuantity})}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:H.minStockThreshold}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:H.locationName}),f.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:H.expirationDate?new Date(H.expirationDate).toLocaleDateString():"N/A"}),f.jsxs("td",{className:"py-4 px-6 text-[#8A2BE2] font-bold",children:["$",(H.totalQuantity*H.cost).toFixed(2)]}),f.jsx("td",{className:"py-4 px-6",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{className:`p-2 rounded-lg transition-colors ${H.productName==="Producto Desconocido"?"text-yellow-500 hover:text-yellow-400 bg-yellow-500/10 hover:bg-yellow-500/20":"text-[#a0a0b0] hover:text-[#8A2BE2] hover:bg-[#3a3a4a]"}`,onClick:()=>{ie(H.batches[0]),K(!0)},children:f.jsx(Lh,{className:"w-4 h-4"})}),f.jsx("button",{className:"p-2 text-[#a0a0b0] hover:text-red-500 hover:bg-[#3a3a4a] rounded-lg transition-colors",onClick:()=>{d(H.batches[0]),u(!0)},children:f.jsx(Tf,{className:"w-4 h-4"})})]})})]},`${H.productId}-${H.locationId}`))})]})})})]}),f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-6",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Gestin de Productos"}),f.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{T(null),k(!0)},children:[f.jsx(Ms,{className:"w-4 h-4"}),f.jsx("span",{children:"Agregar Producto al Catlogo"})]}),f.jsx("p",{className:"text-[#a0a0b0] text-sm mt-2",children:"Para gestionar el catlogo de productos (qu vendes), use el mdulo de Productos."})]}),f.jsx(yn,{isOpen:D,title:V?"Editar Producto":"Agregar Producto",onClose:()=>{k(!1),T(null)},children:f.jsx(fx,{product:V,onClose:()=>{k(!1),T(null)}})}),f.jsx(yn,{isOpen:O,title:q&&q.productName==="Producto Desconocido"?"Vincular Producto a Lote":q?"Editar Lote de Inventario":"Agregar Lote de Inventario",onClose:()=>{K(!1),ie(null)},children:f.jsx(Mq,{batch:q,onClose:()=>{K(!1),ie(null)}})}),g&&f.jsx(Hq,{onClose:()=>y(!1)}),B&&f.jsx(Kq,{onScan:P,onClose:()=>v(!1)}),f.jsx(hx,{isOpen:c,onClose:()=>{u(!1),d(null)},onConfirm:()=>{h&&(o(h.id),u(!1),d(null))},title:"Eliminar Lote de Inventario",message:"Ests seguro de que deseas eliminar este lote de inventario? Esta accin no se puede deshacer.",confirmText:"Eliminar",cancelText:"Cancelar"})]})};function Vq(t,e){const[r,n]=X.useState(t);return X.useEffect(()=>{const i=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(i)}},[t,e]),r}const D4=50,R4=()=>{const t=zt(ie=>ie.categories),e=zt(ie=>ie.loadCategories),r=mA(),[n,i]=X.useState([]),[a,s]=X.useState(!1),[o,A]=X.useState(null),[l,c]=X.useState(1),[u,h]=X.useState(!0),[d,g]=X.useState(""),y=Vq(d,300),[B,v]=X.useState("all"),[w,x]=X.useState(!1),[_,F]=X.useState(null),[N,R]=X.useState(!1),[D,k]=X.useState(null),V=X.useCallback(async(ie=!1)=>{if(a)return;s(!0),A(null);const fe=ie?1:l;try{const{data:de,count:te,error:ce}=await IS({page:fe,pageSize:D4,searchTerm:y});if(ce)throw ce;i(Ce=>ie?de:[...Ce,...de]),h(fe*D4<te),c(ie?2:Ce=>Ce+1)}catch(de){A("Error al cargar los productos."),console.error(de)}finally{s(!1)}},[l,y,a]);X.useEffect(()=>{t.length===0&&e()},[t.length,e]),X.useEffect(()=>{V(!0)},[y]);const T=ie=>{k(ie),R(!0)},O=async()=>{if(D)try{await FS(D),i(ie=>ie.filter(fe=>fe.id!==D)),R(!1),k(null)}catch(ie){console.error("Error deleting product:",ie),alert("Error al eliminar el producto.")}},K=n.filter(ie=>{if(B==="all")return!0;const fe=t.find(de=>de.id===ie.categoryId);return(fe==null?void 0:fe.name)===B}),q=[...new Set(t.map(ie=>ie.name).filter(Boolean))];return f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Catlogo de Productos"}),f.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{F(null),x(!0)},children:[f.jsx(Ms,{className:"w-4 h-4"}),f.jsx("span",{children:"Agregar Producto"})]})]}),f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-4",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"Buscar productos, SKU o cdigo de barras...",value:d,onChange:ie=>g(ie.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg pl-10 pr-4 py-2 focus:border-[#8A2BE2] outline-none transition-colors"}),f.jsx(Nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#a0a0b0] w-4 h-4"})]})}),f.jsxs("select",{value:B,onChange:ie=>v(ie.target.value),className:"bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors",children:[f.jsx("option",{value:"all",className:"bg-[#282837] text-[#F0F0F0]",children:"Todas las categoras"}),q.map(ie=>f.jsx("option",{value:ie,className:"bg-[#282837] text-[#F0F0F0]",children:ie},ie))]})]}),f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Producto"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Categora"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Precio"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Costo"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"SKU"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Cdigo de Barras"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Unidad"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Acciones"})]})}),f.jsx("tbody",{children:K.map(ie=>{var de,te;const fe=t.find(ce=>ce.id===ie.categoryId)||{};return f.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0] font-medium",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{children:ie.name}),f.jsx("span",{className:"text-xs text-[#a0a0b0]",children:ie.description||"Sin descripcin"})]})}),f.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:fe.name||"Sin categora"}),f.jsxs("td",{className:"py-4 px-6 text-[#8A2BE2] font-bold",children:["$",((de=ie.price)==null?void 0:de.toFixed(2))||"0.00"]}),f.jsxs("td",{className:"py-4 px-6 text-[#F0F0F0]",children:["$",((te=ie.cost)==null?void 0:te.toFixed(2))||"0.00"]}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:ie.sku||"N/A"}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:ie.barcode||"N/A"}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:ie.unit||"unidad"}),f.jsx("td",{className:"py-4 px-6",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{className:"p-2 text-[#a0a0b0] hover:text-[#8A2BE2] hover:bg-[#3a3a4a] rounded-lg transition-colors",onClick:()=>{F(ie),x(!0)},children:f.jsx(Lh,{className:"w-4 h-4"})}),f.jsx("button",{className:"p-2 text-[#a0a0b0] hover:text-red-500 hover:bg-[#3a3a4a] rounded-lg transition-colors",onClick:()=>T(ie.id),children:f.jsx(Tf,{className:"w-4 h-4"})})]})})]},ie.id)})})]}),a&&f.jsxs("div",{className:"flex justify-center items-center p-4",children:[f.jsx(wO,{className:"animate-spin text-[#8A2BE2]"}),f.jsx("span",{className:"ml-2 text-[#a0a0b0]",children:"Cargando..."})]}),o&&f.jsx("p",{className:"text-center text-red-500 p-4",children:o}),!a&&u&&f.jsx("div",{className:"p-4 flex justify-center",children:f.jsx("button",{onClick:()=>V(),className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Cargar Ms"})})]})})]}),f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-6",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Gestin de Inventario"}),f.jsx("p",{className:"text-[#a0a0b0] mb-2",children:"Para gestionar el stock real (cunto tienes y dnde est), use el mdulo de Inventario por Lotes."}),f.jsx("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",onClick:()=>{r("/inventory")},children:"Ir a Inventario por Lotes"})]}),f.jsx(yn,{isOpen:w,title:_?"Editar Producto":"Agregar Producto",onClose:()=>{x(!1),F(null)},children:f.jsx(fx,{product:_,onClose:()=>{x(!1),F(null),V(!0)}})}),f.jsx(hx,{isOpen:N,onClose:()=>{R(!1),k(null)},onConfirm:O,title:"Eliminar Producto",message:"Ests seguro de que deseas eliminar este producto? Esta accin no se puede deshacer.",confirmText:"Eliminar",cancelText:"Cancelar"})]})},$q=({className:t})=>{var g,y,B;const{salesReport:e,fetchSalesReport:r,currentUser:n}=zt(),[i,a]=X.useState({startDate:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[s,o]=X.useState("all"),[A,l]=X.useState("daily");X.useEffect(()=>{c()},[i,s,A]);const c=async()=>{try{await r({startDate:i.startDate,endDate:i.endDate,storeId:s==="all"?void 0:s,reportType:A})}catch(v){console.error("Error fetching sales report:",v)}},u=(v,w)=>{a(x=>({...x,[v]:w}))},h=()=>{c()},d=()=>{alert("Download functionality would be implemented here")};return f.jsxs("div",{className:`space-y-6 ${t}`,children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Reporte de Ventas"}),f.jsx("p",{className:"text-gray-500",children:"Anlisis detallado de las ventas por perodo"})]}),f.jsxs(ot,{onClick:d,children:[f.jsx(fO,{className:"mr-2 h-4 w-4"}),"Descargar Reporte"]})]}),f.jsx(vu,{children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filtros de Reporte"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Fecha Inicio"}),f.jsxs("div",{className:"relative",children:[f.jsx(Sr,{id:"startDate",type:"date",value:i.startDate,onChange:v=>u("startDate",v.target.value),className:"pl-8 w-full"}),f.jsx(mp,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Fecha Fin"}),f.jsxs("div",{className:"relative",children:[f.jsx(Sr,{id:"endDate",type:"date",value:i.endDate,onChange:v=>u("endDate",v.target.value),className:"pl-8 w-full"}),f.jsx(mp,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"storeFilter",className:"block text-sm font-medium text-gray-700",children:"Sucursal"}),f.jsxs("select",{id:"storeFilter",value:s,onChange:v=>o(v.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[f.jsx("option",{value:"all",children:"Todas las sucursales"}),(g=n==null?void 0:n.assigned_stores)==null?void 0:g.map(v=>f.jsx("option",{value:v.id,children:v.name},v.id))]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reportType",className:"block text-sm font-medium text-gray-700",children:"Agrupamiento"}),f.jsxs("select",{id:"reportType",value:A,onChange:v=>l(v.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[f.jsx("option",{value:"daily",children:"Diario"}),f.jsx("option",{value:"weekly",children:"Semanal"}),f.jsx("option",{value:"monthly",children:"Mensual"})]})]})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsx(vu,{children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Ventas Totales"}),f.jsx(wp,{className:"h-4 w-4 text-gray-400"})]}),f.jsxs("div",{className:"text-2xl font-bold",children:["$",((y=e==null?void 0:e.totalSales)==null?void 0:y.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"]}),f.jsx("p",{className:"text-xs text-gray-500",children:e!=null&&e.dateRange?`Del ${e.dateRange.startDate} al ${e.dateRange.endDate}`:"No hay datos"})]})}),f.jsx(vu,{children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Transacciones"}),f.jsx(yf,{className:"h-4 w-4 text-gray-400"})]}),f.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalTransactions)||0}),f.jsx("p",{className:"text-xs text-gray-500",children:"Ventas totales"})]})}),f.jsx(vu,{children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Ticket Promedio"}),f.jsx(Lw,{className:"h-4 w-4 text-gray-400"})]}),f.jsxs("div",{className:"text-2xl font-bold",children:["$",((B=e==null?void 0:e.avgTicket)==null?void 0:B.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"]}),f.jsx("p",{className:"text-xs text-gray-500",children:"Promedio por venta"})]})}),f.jsx(vu,{children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Margen de Ganancia"}),f.jsx(zU,{className:"h-4 w-4 text-gray-400"})]}),f.jsx("div",{className:"text-2xl font-bold",children:e!=null&&e.profitMargin?`${e.profitMargin.toFixed(2)}%`:"0.00%"}),f.jsx("p",{className:"text-xs text-gray-500",children:"Promedio"})]})})]}),f.jsx(vu,{children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Detalles de Ventas"}),e!=null&&e.sales?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sucursal"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transacciones"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ventas"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Costo"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beneficio"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margen"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.sales.map((v,w)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.date}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.store}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.transactions}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",v.salesAmount.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",v.costAmount.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",v.profitAmount.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[v.profitMargin,"%"]})]},w))})]})}):f.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[f.jsx(wp,{className:"h-12 w-12 text-gray-400 mb-4"}),f.jsx("h3",{className:"text-lg font-semibold",children:"No hay datos"}),f.jsx("p",{className:"text-gray-500 mb-4",children:"No se encontraron datos de ventas para el rango de fechas seleccionado"}),f.jsx(ot,{onClick:h,children:"Actualizar datos"})]})]})})]})},Gq=({onClose:t})=>{const[e,r]=X.useState([{id:1,text:"Hola! Soy tu asistente de reportes. En qu puedo ayudarte hoy? Puedo generar informes de ventas, inventario, productos ms vendidos, etc.",sender:"bot"}]),[n,i]=X.useState(""),a=()=>{if(n.trim()){const s={id:e.length+1,text:n,sender:"user"},o=[...e,s];r(o),setTimeout(()=>{let A="";const l=n.toLowerCase();l.includes("ventas")||l.includes("venta")?A="Generando informe de ventas... Puedo mostrarte el resumen de ventas del da, semana o mes, productos ms vendidos, etc.":l.includes("inventario")||l.includes("producto")?A="Generando informe de inventario... Puedo mostrarte productos con bajo stock, productos ms vendidos, niveles de inventario actuales, etc.":l.includes("cliente")||l.includes("clientes")?A="Generando informe de clientes... Puedo mostrarte los clientes ms frecuentes, compras recientes, clientes con cuentas pendientes, etc.":A='Puedo ayudarte a generar reportes sobre ventas, inventario, clientes, proveedores y ms. Por ejemplo, puedes preguntarme por "ventas de hoy", "productos con bajo stock" o "mejores clientes".';const c={id:o.length+1,text:A,sender:"bot"};r(u=>[...u,c])},1e3),i("")}};return f.jsxs("div",{className:"flex flex-col h-[600px] bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:[f.jsxs("div",{className:"p-4 bg-[#1D1D27] border-b border-[#3a3a4a] flex items-center space-x-3",children:[f.jsx("div",{className:"bg-[#8A2BE2] p-2 rounded-lg",children:f.jsx(RU,{className:"w-5 h-5 text-white"})}),f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Asistente de Reportes"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:e.map(s=>f.jsx("div",{className:`flex ${s.sender==="user"?"justify-end":"justify-start"}`,children:f.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${s.sender==="user"?"bg-[#8A2BE2] text-white rounded-br-none":"bg-[#3a3a4a] text-[#F0F0F0] rounded-bl-none"}`,children:f.jsx("p",{children:s.text})})},s.id))}),f.jsxs("div",{className:"p-4 border-t border-[#3a3a4a]",children:[f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),onKeyDown:s=>s.key==="Enter"&&a(),placeholder:"Escribe tu solicitud de reporte...",className:"flex-1 bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"}),f.jsx("button",{onClick:a,className:"bg-[#8A2BE2] text-white p-2 rounded-lg hover:bg-[#7a1bd2] flex items-center justify-center",children:f.jsx(CE,{className:"w-4 h-4"})})]}),f.jsx("p",{className:"text-xs text-[#a0a0b0] mt-2",children:'Ejemplos: "Ver ventas de hoy", "Productos con bajo stock", "Mejores clientes del mes"'})]})]})},Q4=()=>{const t=[{title:"Ventas Hoy",value:"$12,450",change:"+12.5%",icon:yp,iconColor:"text-green-500",bgColor:"bg-green-500 bg-opacity-20"},{title:"Pedidos",value:"142",change:"+8.2%",icon:yf,iconColor:"text-blue-500",bgColor:"bg-blue-500 bg-opacity-20"},{title:"Clientes",value:"1,248",change:"+3.1%",icon:xp,iconColor:"text-purple-500",bgColor:"bg-purple-500 bg-opacity-20"},{title:"Inventario",value:"89%",change:"-2.3%",icon:Rs,iconColor:"text-orange-500",bgColor:"bg-orange-500 bg-opacity-20"}],e=[{name:"Electrnicos",percentage:80},{name:"Ropa",percentage:65},{name:"Alimentos",percentage:50},{name:"Hogar",percentage:35}],r=[40,65,45,80,55,70,90,60,75,85,65,95],[n,i]=X.useState(!1),[a,s]=X.useState("analytics");return f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Reportes y Anlisis"}),f.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>i(!0),children:[f.jsx(xE,{className:"w-4 h-4"}),f.jsx("span",{children:"Asistente de Reportes"})]})]}),f.jsxs("div",{className:"flex space-x-4 border-b border-[#3a3a4a]",children:[f.jsx("button",{className:`pb-2 px-1 ${a==="sales"?"text-[#8A2BE2] border-b-2 border-[#8A2BE2]":"text-[#a0a0b0]"}`,onClick:()=>s("sales"),children:"Reporte de Ventas"}),f.jsx("button",{className:`pb-2 px-1 ${a==="analytics"?"text-[#8A2BE2] border-b-2 border-[#8A2BE2]":"text-[#a0a0b0]"}`,onClick:()=>s("analytics"),children:"Anlisis"})]}),a==="sales"&&f.jsx($q,{}),a==="analytics"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((o,A)=>{const l=o.icon;return f.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-[#a0a0b0] font-medium",children:o.title}),f.jsx("div",{className:`w-10 h-10 ${o.bgColor} rounded-lg flex items-center justify-center`,children:f.jsx(l,{className:`w-5 h-5 ${o.iconColor}`})})]}),f.jsx("p",{className:"text-2xl font-bold text-[#F0F0F0]",children:o.value}),f.jsxs("p",{className:`text-sm flex items-center ${o.change.startsWith("+")?"text-green-500":"text-red-500"}`,children:[o.change.startsWith("+")?f.jsx(wp,{className:"w-3 h-3 mr-1"}):f.jsx(_E,{className:"w-3 h-3 mr-1"}),o.change," vs ayer"]})]},A)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Ventas por Categora"}),f.jsx("div",{className:"space-y-4",children:e.map((o,A)=>f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-[#F0F0F0]",children:o.name}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-24 h-2 bg-[#3a3a4a] rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-[#8A2BE2] rounded-full",style:{width:`${o.percentage}%`}})}),f.jsxs("span",{className:"text-[#8A2BE2] font-bold w-12 text-right",children:[o.percentage,"%"]})]})]},A))})]}),f.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Tendencia de Ventas"}),f.jsx("div",{className:"h-64 flex items-end space-x-2 justify-center",children:r.map((o,A)=>f.jsx("div",{className:"bg-gradient-to-t from-[#8A2BE2] to-purple-500 rounded-t w-6 transition-all hover:opacity-80",style:{height:`${o}%`}},A))})]})]}),f.jsxs("div",{className:"bg-[#282837] rounded-xl p-6 border border-[#3a3a4a]",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Resumen de Ventas Recientes"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[f.jsx("th",{className:"py-3 px-4 text-left text-[#a0a0b0] text-sm font-semibold",children:"Fecha"}),f.jsx("th",{className:"py-3 px-4 text-left text-[#a0a0b0] text-sm font-semibold",children:"Cliente"}),f.jsx("th",{className:"py-3 px-4 text-left text-[#a0a0b0] text-sm font-semibold",children:"Productos"}),f.jsx("th",{className:"py-3 px-4 text-right text-[#a0a0b0] text-sm font-semibold",children:"Total"}),f.jsx("th",{className:"py-3 px-4 text-right text-[#a0a0b0] text-sm font-semibold",children:"Mtodo"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[f.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"2024-01-15"}),f.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"Mara Gonzlez"}),f.jsx("td",{className:"py-3 px-4 text-[#a0a0b0]",children:"3 artculos"}),f.jsx("td",{className:"py-3 px-4 text-right text-[#8A2BE2] font-bold",children:"$245.50"}),f.jsx("td",{className:"py-3 px-4 text-right text-[#F0F0F0]",children:"Efectivo"})]}),f.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[f.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"2024-01-14"}),f.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"Juan Prez"}),f.jsx("td",{className:"py-3 px-4 text-[#a0a0b0]",children:"5 artculos"}),f.jsx("td",{className:"py-3 px-4 text-right text-[#8A2BE2] font-bold",children:"$890.00"}),f.jsx("td",{className:"py-3 px-4 text-right text-[#F0F0F0]",children:"Tarjeta"})]}),f.jsxs("tr",{className:"border-b border-[#3a3a4a]",children:[f.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"2024-01-13"}),f.jsx("td",{className:"py-3 px-4 text-[#F0F0F0]",children:"Ana Rodrguez"}),f.jsx("td",{className:"py-3 px-4 text-[#a0a0b0]",children:"2 artculos"}),f.jsx("td",{className:"py-3 px-4 text-right text-[#8A2BE2] font-bold",children:"$156.75"}),f.jsx("td",{className:"py-3 px-4 text-right text-[#F0F0F0]",children:"Efectivo"})]})]})]})})]})]}),f.jsx(yn,{isOpen:n,onClose:()=>i(!1),title:"",children:f.jsx(Gq,{onClose:()=>i(!1)})})]})},zq=({user:t,onClose:e,onSuccess:r})=>{const{addUser:n,updateUser:i,stores:a}=zt(),[s,o]=X.useState({name:"",email:"",password:"",role:"cajera",storeId:""});X.useEffect(()=>{o(t?{name:t.name||"",email:t.email||"",password:"",role:t.role||"cajera",storeId:t.storeId||""}:{name:"",email:"",password:"",role:"cajera",storeId:""})},[t]);const A=c=>{const{name:u,value:h}=c.target;o(d=>({...d,[u]:h}))},l=async c=>{c.preventDefault();const u={...s};(!t&&s.password||t&&s.password)&&(u.password=s.password);const h=t?await i(t.id,u):await n(u);h.success?(r&&r(),e()):console.error("Error al guardar el usuario:",h.error)};return f.jsxs("div",{className:"p-6 bg-[#282837] rounded-xl border border-[#3a3a4a]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:t?"Editar Usuario":"Agregar Usuario"}),f.jsx("button",{onClick:e,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:f.jsx(ya,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:l,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Nombre *"}),f.jsx("input",{type:"text",name:"name",value:s.name,onChange:A,required:!0,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Email *"}),f.jsx("input",{type:"email",name:"email",value:s.email,onChange:A,required:!0,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:t?"Nueva Contrasea (opcional)":"Contrasea *"}),f.jsx("input",{type:"password",name:"password",value:s.password,onChange:A,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",placeholder:t?"Dejar vaco para mantener contrasea actual":"Contrasea del usuario"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Rol *"}),f.jsxs("select",{name:"role",value:s.role,onChange:A,required:!0,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[f.jsx("option",{value:"cajera",children:"Cajera"}),f.jsx("option",{value:"gerente",children:"Gerente"}),f.jsx("option",{value:"admin",children:"Administrador"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Tienda"}),f.jsxs("select",{name:"storeId",value:s.storeId,onChange:A,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[f.jsx("option",{value:"",children:"Selecciona una tienda"}),a.map(c=>f.jsx("option",{value:c.id,children:c.name},c.id))]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"bg-[#3a3a4a] text-[#F0F0F0] hover:bg-[#4a4a5a] py-2 px-4 rounded-lg",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"bg-[#8A2BE2] text-white hover:bg-[#7a1bd2] py-2 px-4 rounded-lg",children:t?"Actualizar Usuario":"Agregar Usuario"})]})]})]})},j4=()=>{const{users:t,addUser:e,updateUser:r,deleteUser:n,stores:i,loadUsers:a,loadStores:s}=zt(),[o,A]=X.useState(!1),[l,c]=X.useState(null),[u,h]=X.useState(!1),[d,g]=X.useState(null);return X.useEffect(()=>{a(),s()},[a,s]),f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Gestin de Usuarios"}),f.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{c(null),A(!0)},children:[f.jsx(Ms,{className:"w-4 h-4"}),f.jsx("span",{children:"Nuevo Usuario"})]})]}),f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Nombre"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Email"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Rol"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Tienda"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Acciones"})]})}),f.jsx("tbody",{children:t.map(y=>{var B;return f.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[f.jsx("td",{className:"py-4 px-6",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-8 h-8 bg-[#8A2BE2] rounded-full flex items-center justify-center",children:f.jsx(mh,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:"text-[#F0F0F0] font-medium",children:y.name})]})}),f.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:y.email}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:y.role}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:((B=i.find(v=>v.id===y.storeId))==null?void 0:B.name)||y.storeId}),f.jsx("td",{className:"py-4 px-6",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>{c(y),A(!0)},className:"p-2 text-[#a0a0b0] hover:text-[#8A2BE2] hover:bg-[#3a3a4a] rounded-lg transition-colors",children:f.jsx(Lh,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{g(y),h(!0)},className:"p-2 text-[#a0a0b0] hover:text-red-500 hover:bg-[#3a3a4a] rounded-lg transition-colors",children:f.jsx(Tf,{className:"w-4 h-4"})})]})})]},y.id)})})]})})}),f.jsx(yn,{isOpen:o,title:l?"Editar Usuario":"Nuevo Usuario",onClose:()=>{A(!1),c(null)},children:f.jsx(zq,{user:l,stores:i,onClose:()=>{A(!1),c(null)}})}),f.jsx(hx,{isOpen:u,onClose:()=>{h(!1),g(null)},onConfirm:()=>{d&&(n(d.id),h(!1),g(null))},title:"Eliminar Usuario",message:`Ests seguro de que deseas eliminar al usuario ${d==null?void 0:d.name}? Esta accin no se puede deshacer.`,confirmText:"Eliminar",cancelText:"Cancelar"})]})},Wq=({onClose:t})=>{const{stores:e,products:r,createTransfer:n}=zt(),{showSuccess:i,showError:a}=Rf(),[s,o]=X.useState(""),[A,l]=X.useState(""),[c,u]=X.useState([]),[h,d]=X.useState(""),[g,y]=X.useState(1),B=()=>{if(!h||g<=0){a("Por favor, selecciona un producto y una cantidad vlida.");return}const x=r.find(_=>_.id===h);if(!x){a("Producto no encontrado.");return}u([...c,{productId:x.id,productName:x.name,requestedQuantity:g}]),d(""),y(1)},v=x=>{u(c.filter(_=>_.productId!==x))},w=()=>{if(!s||!A||c.length===0){a("Por favor, completa todos los campos y agrega al menos un producto.");return}if(s===A){a("El origen y el destino no pueden ser iguales.");return}n({originLocationId:s,destinationLocationId:A,items:c}),i("Orden de traslado creada exitosamente."),t()};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-2xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Crear Orden de Traslado"}),f.jsx("button",{onClick:t,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:f.jsx(ya,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Origen"}),f.jsxs("select",{value:s,onChange:x=>o(x.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[f.jsx("option",{value:"",children:"Selecciona un origen"}),e.map(x=>f.jsx("option",{value:x.id,children:x.name},x.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Destino"}),f.jsxs("select",{value:A,onChange:x=>l(x.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[f.jsx("option",{value:"",children:"Selecciona un destino"}),e.map(x=>f.jsx("option",{value:x.id,children:x.name},x.id))]})]})]}),f.jsxs("div",{className:"border-t border-[#3a3a4a] pt-4",children:[f.jsx("h4",{className:"text-lg font-medium text-[#F0F0F0] mb-2",children:"Artculos"}),f.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Producto"}),f.jsxs("select",{value:h,onChange:x=>d(x.target.value),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[f.jsx("option",{value:"",children:"Selecciona un producto"}),r.map(x=>f.jsx("option",{value:x.id,children:x.name},x.id))]})]}),f.jsxs("div",{className:"w-24",children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Cantidad"}),f.jsx("input",{type:"number",value:g,onChange:x=>y(parseInt(x.target.value,10)),min:"1",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),f.jsx("button",{onClick:B,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg",children:f.jsx(Ms,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"space-y-2",children:c.map(x=>f.jsxs("div",{className:"flex items-center justify-between bg-[#1D1D27] p-2 rounded-lg",children:[f.jsxs("span",{className:"text-[#F0F0F0]",children:[x.productName," (x",x.requestedQuantity,")"]}),f.jsx("button",{onClick:()=>v(x.productId),className:"text-red-500 hover:text-red-400",children:f.jsx(Tf,{className:"w-4 h-4"})})]},x.productId))})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[f.jsx("button",{onClick:t,className:"bg-[#3a3a4a] hover:bg-[#4a4a5a] text-[#F0F0F0] py-2 px-4 rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:w,className:"bg-[#8A2BE2] hover:bg-purple-700 text-white py-2 px-4 rounded-lg",children:"Crear Traslado"})]})]})})},M4=()=>{const t=mA(),{transfers:e,loadTransfers:r}=zt(),[n,i]=X.useState(!1);return X.useEffect(()=>{r()},[r]),f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"rdenes de Traslado"}),f.jsxs("button",{onClick:()=>i(!0),className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",children:[f.jsx(Ms,{className:"w-4 h-4"}),f.jsx("span",{children:"Crear Traslado"})]})]}),f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"ID"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Origen"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Destino"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Estado"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Fecha"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Acciones"})]})}),f.jsx("tbody",{children:e.map(a=>f.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:a.id}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:a.originLocationId}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:a.destinationLocationId}),f.jsx("td",{className:"py-4 px-6",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.status==="recibido"?"bg-green-500 bg-opacity-20 text-green-500":a.status==="enviado"?"bg-blue-500 bg-opacity-20 text-blue-500":"bg-yellow-500 bg-opacity-20 text-yellow-500"}`,children:a.status})}),f.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:new Date(a.createdAt).toLocaleDateString()}),f.jsx("td",{className:"py-4 px-6",children:f.jsx("button",{onClick:()=>t(`/transfers/${a.id}`),className:"text-[#a0a0b0] hover:text-[#8A2BE2]",children:f.jsx(hO,{className:"w-5 h-5"})})})]},a.id))})]})})}),n&&f.jsx(Wq,{onClose:()=>i(!1)})]})},qq=()=>{const{id:t}=L7(),e=mA(),{transfers:r,currentUser:n,confirmTransferShipment:i,confirmTransferReception:a}=zt(),{showSuccess:s,showError:o}=Rf(),A=r.find(v=>v.id===t),[l,c]=X.useState({}),[u,h]=X.useState({});if(!A)return f.jsx("div",{className:"p-6 text-white",children:"Transfer not found."});const d=()=>{if(Object.keys(l).length!==A.items.length){o("Debes especificar la cantidad enviada para todos los productos.");return}i(t,Object.entries(l).map(([v,w])=>({productId:v,quantity:w}))),s("Envo confirmado exitosamente."),e("/transfers")},g=()=>{if(Object.keys(u).length!==A.items.length){o("Debes especificar la cantidad recibida para todos los productos.");return}a(t,Object.entries(u).map(([v,w])=>({productId:v,quantity:w}))),s("Recepcin confirmada exitosamente."),e("/transfers")},y=A.status==="solicitado"&&(n.role==="admin"||n.storeId===A.originLocationId),B=A.status==="enviado"&&(n.role==="admin"||n.storeId===A.destinationLocationId);return f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27] text-white",children:[f.jsxs("h2",{className:"text-2xl font-bold",children:["Detalles del Traslado #",A.id]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"bg-[#282837] p-4 rounded-lg",children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Origen"}),f.jsx("p",{children:A.originLocationId})]}),f.jsxs("div",{className:"bg-[#282837] p-4 rounded-lg",children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Destino"}),f.jsx("p",{children:A.destinationLocationId})]}),f.jsxs("div",{className:"bg-[#282837] p-4 rounded-lg",children:[f.jsx("h3",{className:"font-semibold mb-2",children:"Estado"}),f.jsx("p",{className:"capitalize",children:A.status})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Artculos"}),f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#1D1D27]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 text-left",children:"Producto"}),f.jsx("th",{className:"p-4 text-left",children:"Solicitado"}),A.status!=="solicitado"&&f.jsx("th",{className:"p-4 text-left",children:"Enviado"}),A.status==="recibido"&&f.jsx("th",{className:"p-4 text-left",children:"Recibido"})]})}),f.jsx("tbody",{children:A.items.map(v=>f.jsxs("tr",{className:"border-t border-[#3a3a4a]",children:[f.jsx("td",{className:"p-4",children:v.productName}),f.jsx("td",{className:"p-4",children:v.requestedQuantity}),A.status!=="solicitado"&&f.jsx("td",{className:"p-4",children:v.sentQuantity||0}),A.status==="recibido"&&f.jsx("td",{className:"p-4",children:v.receivedQuantity||0})]},v.productId))})]})})]}),y&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Confirmar Envo"}),A.items.map(v=>f.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f.jsx("span",{className:"flex-1",children:v.productName}),f.jsx("input",{type:"number",max:v.requestedQuantity,placeholder:"Cantidad enviada",onChange:w=>c({...l,[v.productId]:parseInt(w.target.value,10)}),className:"w-32 bg-[#1D1D27] text-white border border-[#3a3a4a] rounded-lg p-2"})]},v.productId)),f.jsxs("button",{onClick:d,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[f.jsx(CE,{className:"w-4 h-4"})," Confirmar Envo"]})]}),B&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Confirmar Recepcin"}),A.items.map(v=>f.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f.jsx("span",{className:"flex-1",children:v.productName}),f.jsx("input",{type:"number",max:v.sentQuantity,placeholder:"Cantidad recibida",onChange:w=>h({...u,[v.productId]:parseInt(w.target.value,10)}),className:"w-32 bg-[#1D1D27] text-white border border-[#3a3a4a] rounded-lg p-2"})]},v.productId)),f.jsxs("button",{onClick:g,className:"mt-4 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg flex items-center gap-2",children:[f.jsx(XU,{className:"w-4 h-4"})," Confirmar Recepcin"]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Historial"}),f.jsx("div",{className:"space-y-2",children:A.history.map((v,w)=>f.jsxs("div",{className:"bg-[#282837] p-3 rounded-lg",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Estado:"})," ",v.status]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Fecha:"})," ",new Date(v.date).toLocaleString()]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Usuario:"})," ",v.userId]})]},w))})]})]})},Xq=({onClose:t})=>{const{categories:e,addCategory:r,updateCategory:n,deleteCategory:i}=zt(),[a,s]=X.useState({name:"",parentId:""}),[o,A]=X.useState(null),[l,c]=X.useState(new Set),u=e.reduce((v,w)=>(w.parentId||(v[w.id]={...w,subcategories:[]}),v),{});e.forEach(v=>{v.parentId&&u[v.parentId]&&u[v.parentId].subcategories.push(v)});const h=async v=>{v.preventDefault(),a.name.trim()&&(await r({name:a.name,parentId:a.parentId||null}),s({name:"",parentId:""}))},d=async v=>{v.preventDefault(),o&&o.name.trim()&&(await n(o.id,{name:o.name}),A(null))},g=async v=>{window.confirm("Ests seguro de que quieres eliminar esta categora? Esto tambin eliminar sus subcategoras.")&&await i(v)},y=v=>{c(w=>{const x=new Set(w);return x.has(v)?x.delete(v):x.add(v),x})},B=(v,w=0)=>{const x=v.subcategories&&v.subcategories.length>0,_=l.has(v.id);return f.jsxs("div",{className:"ml-4",children:[f.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-[#3a3a4a]",children:[f.jsxs("div",{className:"flex-1 flex items-center",children:[x&&f.jsx("button",{onClick:()=>y(v.id),className:"mr-2 text-[#a0a0b0] hover:text-[#F0F0F0]",children:_?f.jsx(JU,{size:16}):f.jsx(eO,{size:16})}),!x&&f.jsx("div",{className:"w-6 mr-2"})," ",(o==null?void 0:o.id)===v.id?f.jsxs("form",{onSubmit:d,className:"flex-1 flex space-x-2",children:[f.jsx("input",{type:"text",value:o.name,onChange:F=>A({...o,name:F.target.value}),className:"flex-1 bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded px-2 py-1 focus:border-[#8A2BE2] outline-none",autoFocus:!0}),f.jsx("button",{type:"submit",className:"bg-[#8A2BE2] text-white px-2 py-1 rounded hover:bg-[#7a1bd2]",children:"Guardar"}),f.jsx("button",{type:"button",onClick:()=>A(null),className:"bg-[#3a3a4a] text-[#F0F0F0] px-2 py-1 rounded hover:bg-[#4a4a5a]",children:"Cancelar"})]}):f.jsx("span",{className:"text-[#F0F0F0]",children:v.name})]}),(o==null?void 0:o.id)!==v.id&&f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>A(v),className:"text-[#a0a0b0] hover:text-[#8A2BE2]",children:f.jsx(Lh,{size:16})}),f.jsx("button",{onClick:()=>g(v.id),className:"text-[#a0a0b0] hover:text-red-500",children:f.jsx(Tf,{size:16})})]})]}),x&&_&&f.jsx("div",{className:"ml-6",children:v.subcategories.map(F=>B(F,w+1))})]},v.id)};return f.jsxs("div",{className:"p-6 bg-[#282837] rounded-xl border border-[#3a3a4a] max-h-[80vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Gestin de Categoras"}),f.jsx("button",{onClick:t,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:f.jsx(ya,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"mb-6",children:f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Nombre de la Categora"}),f.jsx("input",{type:"text",value:a.name,onChange:v=>s({...a,name:v.target.value}),placeholder:"Nombre de la categora",required:!0,className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Categora Padre (Opcional)"}),f.jsxs("select",{value:a.parentId,onChange:v=>s({...a,parentId:v.target.value||""}),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none",children:[f.jsx("option",{value:"",children:"Categora Principal"}),e.filter(v=>!v.parentId).map(v=>f.jsx("option",{value:v.id,children:v.name},v.id))]})]}),f.jsxs("button",{type:"submit",className:"w-full bg-[#8A2BE2] text-white py-2 px-4 rounded-lg hover:bg-[#7a1bd2] flex items-center justify-center space-x-2",children:[f.jsx(Ms,{size:18}),f.jsx("span",{children:"Agregar Categora"})]})]})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Categoras Existentes"}),Object.values(u).map(v=>B(v))]})]})},H4=()=>{mA();const[t,e]=X.useState("store"),[r,n]=X.useState(!1),[i,a]=X.useState([{id:1,name:"Impresora Principal",model:"EPSON TM-T20",enabled:!0},{id:2,name:"Impresora de Etiquetas",model:"ZEBRA GK420D",enabled:!1}]),[s,o]=X.useState([{id:1,name:"Acceso a Reportes",enabled:!0},{id:2,name:"Gestin de Inventario",enabled:!0},{id:3,name:"Configuracin del Sistema",enabled:!1},{id:4,name:"Gestin de Usuarios",enabled:!1}]),A=c=>{a(i.map(u=>u.id===c?{...u,enabled:!u.enabled}:u))},l=c=>{o(s.map(u=>u.id===c?{...u,enabled:!u.enabled}:u))};return f.jsxs("div",{className:"flex-1 p-6 bg-[#1D1D27]",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0] mb-6",children:"Configuracin"}),f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("div",{className:"lg:w-64",children:f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-4",children:f.jsx("nav",{className:"space-y-2",children:[{id:"store",name:"Configuracin de Tienda",icon:e5},{id:"printer",name:"Impresoras",icon:bE},{id:"categories",name:"Categoras",icon:e5},{id:"permissions",name:"Permisos",icon:zO}].map(c=>{const u=c.icon;return f.jsxs("button",{onClick:()=>e(c.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${t===c.id?"text-[#8A2BE2] bg-[#3a3a4a]":"text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a]"}`,children:[f.jsx(u,{className:"w-4 h-4"}),f.jsx("span",{className:"font-medium",children:c.name})]},c.id)})})})}),f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] p-6",children:[t==="store"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Configuracin de Tienda"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Nombre de la Tienda"}),f.jsx("input",{type:"text",defaultValue:"RACOM POS Central",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Direccin"}),f.jsx("input",{type:"text",defaultValue:"Av. Principal 123",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[#a0a0b0] mb-2",children:"Telfono"}),f.jsx("input",{type:"text",defaultValue:"+1 234 567 890",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none transition-colors"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-[#F0F0F0]",children:"Modo Activo"}),f.jsx("button",{className:"text-[#8A2BE2]",children:f.jsx(gv,{className:"w-6 h-6"})})]})]})]}),t==="printer"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Configuracin de Impresoras"}),f.jsx("div",{className:"space-y-4",children:i.map(c=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1D1D27] rounded-lg border border-[#3a3a4a]",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-[#F0F0F0] font-medium",children:c.name}),f.jsx("p",{className:"text-[#a0a0b0] text-sm",children:c.model})]}),f.jsx("button",{onClick:()=>A(c.id),className:c.enabled?"text-[#8A2BE2]":"text-[#a0a0b0]",children:c.enabled?f.jsx(gv,{className:"w-6 h-6"}):f.jsx(t5,{className:"w-6 h-6"})})]},c.id))})]}),t==="categories"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Gestin de Categoras"}),f.jsxs("div",{className:"bg-[#1D1D27] rounded-lg p-4 border border-[#3a3a4a]",children:[f.jsx("p",{className:"text-[#a0a0b0] mb-4",children:"Aqu puedes gestionar las categoras y subcategoras de productos para organizar tu inventario."}),f.jsx("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",onClick:()=>n(!0),children:"Gestin de Categoras"})]})]}),t==="permissions"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-lg font-bold text-[#F0F0F0]",children:"Permisos de Usuarios"}),f.jsx("div",{className:"space-y-4",children:s.map(c=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1D1D27] rounded-lg border border-[#3a3a4a]",children:[f.jsx("span",{className:"text-[#F0F0F0]",children:c.name}),f.jsx("button",{onClick:()=>l(c.id),className:c.enabled?"text-[#8A2BE2]":"text-[#a0a0b0]",children:c.enabled?f.jsx(gv,{className:"w-6 h-6"}):f.jsx(t5,{className:"w-6 h-6"})})]},c.id))})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-[#3a3a4a]",children:f.jsx("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Guardar Cambios"})})]})})]}),f.jsx(yn,{isOpen:r,title:"Gestin de Categoras",onClose:()=>n(!1),children:f.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:f.jsx(Xq,{onClose:()=>n(!1)})})})]})},Yq=()=>{const t=mA();return f.jsx("div",{className:"min-h-screen bg-[#1D1D27] flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"w-16 h-16 bg-red-500 bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(wE,{className:"w-8 h-8 text-red-500"})}),f.jsx("h1",{className:"text-2xl font-bold text-[#F0F0F0] mb-2",children:"Acceso Denegado"}),f.jsx("p",{className:"text-[#a0a0b0] mb-6",children:"No tienes permiso para ver esta pgina. Contacta al administrador si crees que esto es un error."}),f.jsxs("button",{onClick:()=>t(-1),className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center space-x-2 mx-auto",children:[f.jsx(LU,{className:"w-4 h-4"}),f.jsx("span",{children:"Volver"})]})]})})},Ln=({children:t,roles:e})=>{const{currentUser:r}=zt();return r?e&&!e.includes(r.role)?f.jsx(vp,{to:"/unauthorized"}):t:f.jsx(vp,{to:"/login"})},kn=({children:t})=>{const[e,r]=X.useState(!1),[n,i]=X.useState(!1),a=xo(),{currentUser:s,logout:o}=zt(),l=(()=>{const d=a.pathname.split("/").filter(Boolean);return d[0]==="admin"&&d[1]?d[1]:d[0]||"pos"})(),c=[{id:"pos",name:"Punto de Venta",icon:yf,path:"/pos/1"},{id:"products",name:"Productos",icon:Rs,path:"/products"},{id:"inventory",name:"Inventario",icon:Rs,path:"/inventory"},{id:"reports",name:"Reportes",icon:yp,path:"/reports"},{id:"expenses",name:"Gastos",icon:SE,path:"/expenses"},{id:"transfers",name:"Traslados",icon:EE,path:"/transfers"},{id:"clients",name:"Clientes",icon:xp,path:"/clients"},{id:"users",name:"Usuarios",icon:mh,path:"/users"},{id:"settings",name:"Configuracin",icon:$O,path:"/settings"}],u=[{id:1,message:"Nuevo pedido recibido",time:"Hace 5 min",unread:!0},{id:2,message:"Inventario bajo en producto X",time:"Hace 1 hora",unread:!0},{id:3,message:"Traslado completado",time:"Hace 2 horas",unread:!1},{id:4,message:"Nuevo cliente registrado",time:"Hace 1 da",unread:!1}],h=()=>f.jsxs("header",{className:"bg-[#282837] border-b border-[#3a3a4a] sticky top-0 z-50",children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[f.jsxs("div",{className:"flex items-center space-x-8",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:"/src/utils/logopos.png",alt:"Logo RACOM POS",className:"w-8 h-8 object-contain"}),f.jsx("span",{className:"text-xl font-bold text-[#F0F0F0]",children:"RACOM POS"})]}),f.jsx("nav",{className:"hidden md:flex space-x-6",children:c.map(d=>{const g=d.icon;return f.jsxs(vh,{to:d.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${l===d.id?"text-[#8A2BE2] bg-[#3a3a4a]":"text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a]"}`,children:[f.jsx(g,{className:"w-4 h-4"}),f.jsx("span",{className:"font-medium",children:d.name})]},d.id)})})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"hidden md:flex items-center bg-[#1D1D27] rounded-lg px-3 py-2",children:[f.jsx(Nf,{className:"w-4 h-4 text-[#a0a0b0] mr-2"}),f.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent text-[#F0F0F0] placeholder-[#a0a0b0] outline-none w-32"})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{className:"relative p-2 text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a] rounded-lg transition-colors",onClick:()=>i(!n),children:[f.jsx(PU,{className:"w-5 h-5"}),f.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#8A2BE2] rounded-full"})]}),n&&f.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-[#282837] rounded-xl border border-[#3a3a4a] shadow-xl z-50",children:[f.jsx("div",{className:"p-4 border-b border-[#3a3a4a]",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-[#F0F0F0] font-bold",children:"Notificaciones"}),f.jsx("button",{className:"text-[#a0a0b0] hover:text-[#8A2BE2] text-sm",children:"Marcar todo como ledo"})]})}),f.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.map(d=>f.jsx("div",{className:`p-4 border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors ${d.unread?"bg-[#1D1D27]":""}`,children:f.jsxs("div",{className:"flex items-start space-x-3",children:[d.unread&&f.jsx("div",{className:"w-2 h-2 bg-[#8A2BE2] rounded-full mt-2"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-[#F0F0F0] text-sm",children:d.message}),f.jsx("p",{className:"text-[#a0a0b0] text-xs mt-1",children:d.time})]})]})},d.id))})]})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{className:"flex items-center space-x-3",onClick:()=>i(d=>!d),"data-testid":"user-menu-button",children:[f.jsx("div",{className:"w-8 h-8 bg-[#8A2BE2] rounded-full flex items-center justify-center",children:f.jsx(mh,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:"hidden md:block text-[#F0F0F0] font-medium",children:(s==null?void 0:s.name)||"Usuario"})]}),n&&f.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-[#282837] rounded-xl border border-[#3a3a4a] shadow-xl z-50",children:f.jsxs("button",{onClick:o,className:"flex items-center space-x-3 w-full px-4 py-3 text-left text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a] rounded-lg","data-testid":"logout-button",children:[f.jsx(Zb,{className:"w-4 h-4"}),f.jsx("span",{children:"Cerrar Sesin"})]})})]}),f.jsx("button",{className:"md:hidden p-2 text-[#a0a0b0] hover:text-[#F0F0F0]",children:e?f.jsx(ya,{className:"w-5 h-5",onClick:()=>r(!1)}):f.jsx(IO,{className:"w-5 h-5",onClick:()=>r(!0)})})]})]}),e&&f.jsx("div",{className:"md:hidden bg-[#282837] border-t border-[#3a3a4a]",children:f.jsxs("div",{className:"px-4 py-2 space-y-1",children:[c.map(d=>{const g=d.icon;return f.jsxs(vh,{to:d.path,onClick:()=>r(!1),className:`flex items-center space-x-3 w-full px-3 py-3 rounded-lg transition-all duration-200 ${l===d.id?"text-[#8A2BE2] bg-[#3a3a4a]":"text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a]"}`,children:[f.jsx(g,{className:"w-4 h-4"}),f.jsx("span",{className:"font-medium",children:d.name})]},d.id)}),f.jsxs("button",{onClick:o,className:"flex items-center space-x-3 w-full px-3 py-3 rounded-lg transition-all duration-200 text-[#a0a0b0] hover:text-[#F0F0F0] hover:bg-[#3a3a4a]",children:[f.jsx(Zb,{className:"w-4 h-4"}),f.jsx("span",{children:"Cerrar Sesin"})]})]})})]});return f.jsxs("div",{className:"min-h-screen bg-[#1D1D27] text-[#F0F0F0]",children:[f.jsx(h,{}),f.jsx("div",{className:"flex",children:f.jsx("main",{className:"flex-1",children:t})})]})},Jq=()=>{const t=xo(),r=new URLSearchParams(t.search).get("data");let n=null;try{r&&(n=JSON.parse(decodeURIComponent(r)))}catch(i){console.error("Error parsing sale data:",i)}return n?f.jsx("div",{className:"flex justify-center items-start min-h-screen bg-gray-100 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-8 my-8",children:[f.jsxs("div",{className:"text-center border-b pb-6 mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Detalle de la Compra"}),f.jsx("p",{className:"text-gray-600 mt-2",children:new Date(n.date).toLocaleString()})]}),f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold border-b pb-2",children:"Artculos"}),n.cart.map(i=>f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:i.name}),f.jsxs("p",{className:"text-sm text-gray-500",children:["Cantidad: ",i.quantity]})]}),f.jsxs("p",{className:"font-semibold",children:["$",(i.price*i.quantity).toFixed(2)]})]},i.id))]}),f.jsxs("div",{className:"border-t pt-6 space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-lg",children:[f.jsx("span",{className:"font-medium",children:"Subtotal"}),f.jsxs("span",{className:"font-semibold",children:["$",n.subtotal.toFixed(2)]})]}),n.discount.value>0&&f.jsxs("div",{className:"flex justify-between text-gray-600",children:[f.jsx("span",{children:"Descuento"}),f.jsxs("span",{children:["-$",n.discount.type==="percentage"?`${n.discount.value}%`:`$${n.discount.value.toFixed(2)}`]})]}),f.jsxs("div",{className:"flex justify-between font-bold text-2xl text-gray-800",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["$",n.total.toFixed(2)]})]})]}),f.jsx("div",{className:"text-center mt-8 text-gray-500",children:f.jsx("p",{children:"Gracias por su preferencia."})})]})}):f.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Error"}),f.jsx("p",{className:"text-gray-700",children:"No se pudo cargar el recibo. El enlace puede ser invlido."})]})})},Zq=({client:t,onClose:e})=>{const{addClient:r,updateClient:n}=zt(),[i,a]=X.useState({name:"",email:"",phone:"",address:"",creditLimit:0});X.useEffect(()=>{a(t?{name:t.name||"",email:t.email||"",phone:t.phone||"",address:t.address||"",creditLimit:t.creditLimit||0}:{name:"",email:"",phone:"",address:"",creditLimit:0})},[t]);const s=A=>{const{name:l,value:c}=A.target;a(u=>({...u,[l]:c}))},o=async A=>{A.preventDefault();try{t?await n(t.id,i):await r(i),e()}catch(l){console.error("Error saving client:",l)}};return f.jsxs("form",{onSubmit:o,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),f.jsx(Sr,{id:"name",name:"name",type:"text",value:i.name,onChange:s,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),f.jsx(Sr,{id:"email",name:"email",type:"email",value:i.email,onChange:s})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telfono"}),f.jsx(Sr,{id:"phone",name:"phone",type:"tel",value:i.phone,onChange:s})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Direccin"}),f.jsx(Sr,{id:"address",name:"address",type:"text",value:i.address,onChange:s})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"creditLimit",className:"block text-sm font-medium text-gray-700",children:"Lmite de Crdito"}),f.jsx(Sr,{id:"creditLimit",name:"creditLimit",type:"number",value:i.creditLimit,onChange:s,min:"0"})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(ot,{type:"button",onClick:e,className:"bg-gray-500 hover:bg-gray-600 text-white",children:"Cancelar"}),f.jsx(ot,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:t?"Actualizar Cliente":"Agregar Cliente"})]})]})},K4=()=>{const{addClient:t}=zt(),[e,r]=X.useState(!1),[n,i]=X.useState(null),a=[{id:1,name:"Mara Gonzlez",email:"maria@email.com",phone:"+1 234 567 890",lastPurchase:"2024-01-15",total:"$2,450"},{id:2,name:"Juan Prez",email:"juan@email.com",phone:"+1 234 567 891",lastPurchase:"2024-01-14",total:"$1,890"},{id:3,name:"Ana Rodrguez",email:"ana@email.com",phone:"+1 234 567 892",lastPurchase:"2024-01-13",total:"$3,200"},{id:4,name:"Carlos Lpez",email:"carlos@email.com",phone:"+1 234 567 893",lastPurchase:"2024-01-12",total:"$950"},{id:5,name:"Laura Martnez",email:"laura@email.com",phone:"+1 234 567 894",lastPurchase:"2024-01-11",total:"$4,100"}];return f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Gestin de Clientes"}),f.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:()=>{i(null),r(!0)},children:[f.jsx(Ms,{className:"w-4 h-4"}),f.jsx("span",{children:"Nuevo Cliente"})]})]}),f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Cliente"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Email"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Telfono"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"ltima Compra"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Total Gastado"})]})}),f.jsx("tbody",{children:a.map(s=>f.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[f.jsx("td",{className:"py-4 px-6",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-8 h-8 bg-[#8A2BE2] rounded-full flex items-center justify-center",children:f.jsx(mh,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:"text-[#F0F0F0] font-medium",children:s.name})]})}),f.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:s.email}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:s.phone}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:s.lastPurchase}),f.jsx("td",{className:"py-4 px-6 text-[#8A2BE2] font-bold",children:s.total})]},s.id))})]})})}),f.jsx(yn,{isOpen:e,title:n?"Editar Cliente":"Nuevo Cliente",onClose:()=>{r(!1),i(null)},children:f.jsx(Zq,{client:n,onClose:()=>{r(!1),i(null)}})})]})},V4=t=>{const e={};return!t.name||t.name.trim().length===0?e.name="El nombre del artculo es obligatorio":t.name.trim().length<2&&(e.name="El nombre debe tener al menos 2 caracteres"),t.cost===void 0||t.cost===null||t.cost===""?e.cost="El costo es obligatorio":isNaN(parseFloat(t.cost))||parseFloat(t.cost)<0?e.cost="El costo debe ser un nmero positivo":parseFloat(t.cost)>999999999e-2&&(e.cost="El costo es demasiado alto"),{isValid:Object.keys(e).length===0,errors:e}},eX=({onClose:t})=>{const{shoppingList:e,addToShoppingList:r,updateShoppingListItem:n,removeShoppingListItem:i,addExpense:a,currentUser:s}=zt(),[o,A]=X.useState({name:"",cost:0}),[l,c]=X.useState(null),[u,h]=X.useState({}),{showSuccess:d,showError:g,showInfo:y}=Rf(),B=e.filter(N=>N.isPurchased).reduce((N,R)=>{const D=R.actualCost?parseFloat(R.actualCost):R.expectedCost||0;return N+D},0),v=()=>{const N=V4(o);if(!N.isValid){h(N.errors),g("Por favor, corrige los errores en el formulario.");return}h({}),r(o.name,o.cost),A({name:"",cost:0}),d("Artculo agregado a la lista de compras.")},w=()=>{if(l){const N={name:l.description||l.name||"",cost:l.actualCost||l.expectedCost||l.cost||0},R=V4(N);if(!R.isValid){h(R.errors),g("Por favor, corrige los errores en el formulario.");return}n(l.id,{description:l.description||l.name,expectedCost:l.expectedCost||l.cost,actualCost:l.actualCost||l.cost}),c(null),h({}),d("Artculo actualizado correctamente.")}},x=N=>{const R=e.find(D=>D.id===N);R&&(n(N,{isPurchased:!R.isPurchased}),y(`'${R.description||R.id}' marcado como ${R.isPurchased?"pendiente":"comprado"}.`))},_=N=>{i(N),d("Artculo eliminado de la lista.")},F=async()=>{const N=e.filter(T=>T.isPurchased);if(N.length===0){g("No hay tems seleccionados para generar un gasto.");return}const R=N.reduce((T,O)=>{const K=O.actualCost?parseFloat(O.actualCost):O.expectedCost||0;return T+K},0),D=s==null?void 0:s.role,k=D==="admin"||D==="gerente",V={date:new Date().toISOString(),concept:"Compra de Inventario",amount:R,type:"Compra de Inventario",details:N.map(T=>`${T.description||T.id}`).join(", "),status:k?"approved":"pending"};try{await a(V),V.status==="pending"?(window.notifyPendingExpense&&window.notifyPendingExpense(V),y("Gasto generado y pendiente de aprobacin.")):d("Gasto generado exitosamente."),N.forEach(T=>i(T.id)),t()}catch(T){console.error("Error generating expense:",T),g("Error al generar el gasto: "+T.message)}};return f.jsxs("div",{className:"p-6 bg-[#282837] rounded-xl border border-[#3a3a4a] max-w-2xl w-full max-h-[80vh] flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-[#F0F0F0]",children:"Lista de Compras"}),f.jsx("button",{onClick:t,className:"text-[#a0a0b0] hover:text-[#F0F0F0]",children:f.jsx(ya,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto mb-4",children:[f.jsxs("div",{className:"mb-6 p-4 bg-[#1D1D27] rounded-lg border border-[#3a3a4a]",children:[f.jsx("h4",{className:"font-bold text-[#F0F0F0] mb-3",children:"Agregar Artculo"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Nombre del Artculo"}),f.jsx("input",{type:"text",value:o.name,onChange:N=>{A({...o,name:N.target.value}),u.name&&h(R=>({...R,name:null}))},placeholder:"Nombre del producto",className:`w-full bg-[#282837] text-[#F0F0F0] border ${u.name?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none`}),u.name&&f.jsxs("div",{className:"flex items-center mt-1 text-red-500 text-sm",children:[f.jsx(Dc,{className:"w-4 h-4 mr-1"}),u.name]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Costo Estimado"}),f.jsx("input",{type:"number",value:o.cost,onChange:N=>{A({...o,cost:parseFloat(N.target.value)||0}),u.cost&&h(R=>({...R,cost:null}))},min:"0",step:"0.01",placeholder:"Costo",className:`w-full bg-[#282837] text-[#F0F0F0] border ${u.cost?"border-red-500":"border-[#3a3a4a]"} rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none`}),u.cost&&f.jsxs("div",{className:"flex items-center mt-1 text-red-500 text-sm",children:[f.jsx(Dc,{className:"w-4 h-4 mr-1"}),u.cost]})]})]}),f.jsxs("button",{onClick:v,className:"mt-3 w-full bg-[#8A2BE2] hover:bg-purple-700 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2",children:[f.jsx(Ms,{className:"w-4 h-4"}),f.jsx("span",{children:"Agregar a Lista"})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"font-bold text-[#F0F0F0] mb-3",children:"Artculos en Lista"}),e.length===0?f.jsx("p",{className:"text-[#a0a0b0] text-center py-4",children:"No hay artculos en la lista de compras"}):f.jsx("div",{className:"space-y-2",children:e.map(N=>{var R,D;return f.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${N.isPurchased?"bg-green-500 bg-opacity-10 border-green-500":"bg-[#1D1D27] border-[#3a3a4a]"}`,children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("input",{type:"checkbox",checked:N.isPurchased||!1,onChange:()=>x(N.id),className:"w-4 h-4 text-[#8A2BE2] rounded focus:ring-[#8A2BE2] border-[#3a3a4a] bg-[#282837]"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-[#F0F0F0]",children:N.description||N.id}),f.jsxs("p",{className:"text-sm text-[#a0a0b0]",children:["Costo estimado: $",((R=N.expectedCost)==null?void 0:R.toFixed(2))||"0.00"," | Costo real: $",((D=N.actualCost)==null?void 0:D.toFixed(2))||"0.00"]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>c(N),className:"text-[#a0a0b0] hover:text-[#8A2BE2]",children:f.jsx(Lh,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>_(N.id),className:"text-[#a0a0b0] hover:text-red-500",children:f.jsx(ya,{className:"w-4 h-4"})})]})]},N.id)})})]})]}),f.jsxs("div",{className:"border-t border-[#3a3a4a] pt-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("p",{className:"text-[#a0a0b0]",children:"Total de artculos marcados:"}),f.jsxs("p",{className:"font-bold text-[#F0F0F0]",children:["$",B.toFixed(2)]})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:t,className:"flex-1 bg-[#3a3a4a] hover:bg-[#4a4a5a] text-[#F0F0F0] py-2 px-4 rounded-lg",children:"Cerrar"}),f.jsx("button",{onClick:F,className:"flex-1 bg-[#8A2BE2] hover:bg-purple-700 text-white py-2 px-4 rounded-lg",children:"Generar Gasto"})]})]}),l&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-md p-6",children:[f.jsx("h4",{className:"text-lg font-bold text-[#F0F0F0] mb-4",children:"Editar Artculo"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Nombre"}),f.jsx("input",{type:"text",value:l.description||l.name||"",onChange:N=>c({...l,description:N.target.value}),className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Costo Estimado"}),f.jsx("input",{type:"number",value:l.expectedCost||0,onChange:N=>c({...l,expectedCost:parseFloat(N.target.value)||0}),min:"0",step:"0.01",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#a0a0b0] mb-1",children:"Costo Real"}),f.jsx("input",{type:"number",value:l.actualCost||0,onChange:N=>c({...l,actualCost:parseFloat(N.target.value)||0}),min:"0",step:"0.01",className:"w-full bg-[#1D1D27] text-[#F0F0F0] border border-[#3a3a4a] rounded-lg px-3 py-2 focus:border-[#8A2BE2] outline-none"})]})]}),f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx("button",{onClick:()=>c(null),className:"flex-1 bg-[#3a3a4a] hover:bg-[#4a4a5a] text-[#F0F0F0] py-2 px-4 rounded-lg",children:"Cancelar"}),f.jsx("button",{onClick:w,className:"flex-1 bg-[#8A2BE2] hover:bg-purple-700 text-white py-2 px-4 rounded-lg",children:"Guardar"})]})]})})]})},$4=()=>{const[t,e]=X.useState(!1),{expenses:r,loadExpenses:n}=zt(),{showInfo:i}=Rf();X.useEffect(()=>{n()},[n]);const a=()=>{e(!0),i("Abriendo lista de compras...")};return f.jsxs("div",{className:"flex-1 p-6 space-y-6 bg-[#1D1D27]",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-[#F0F0F0]",children:"Gastos Miscelneos"}),f.jsxs("button",{className:"bg-[#8A2BE2] hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center space-x-2",onClick:a,children:[f.jsx(Ms,{className:"w-4 h-4"}),f.jsx("span",{children:"Lista de Compras"})]})]}),f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#1D1D27] border-b border-[#3a3a4a]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Fecha"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Descripcin"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Categora"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Monto"}),f.jsx("th",{className:"text-left py-4 px-6 text-[#a0a0b0] font-medium",children:"Estado"})]})}),f.jsx("tbody",{children:r.map(s=>f.jsxs("tr",{className:"border-b border-[#3a3a4a] hover:bg-[#1D1D27] transition-colors",children:[f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:s.date||s.created_at||s.createdAt}),f.jsx("td",{className:"py-4 px-6 text-[#F0F0F0]",children:s.description||s.desc}),f.jsx("td",{className:"py-4 px-6 text-[#a0a0b0]",children:s.type||s.category}),f.jsxs("td",{className:"py-4 px-6 text-[#F0F0F0] font-bold",children:["$",s.amount?parseFloat(s.amount).toFixed(2):"0.00"]}),f.jsx("td",{className:"py-4 px-6",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="Aprobado"||s.status==="approved"?"bg-green-500 bg-opacity-20 text-green-500":s.status==="Pendiente"||s.status==="pending"?"bg-yellow-500 bg-opacity-20 text-yellow-500":"bg-red-500 bg-opacity-20 text-red-500"}`,children:s.status||"Pendiente"})})]},s.id||s.expenseId))})]})})}),t&&f.jsx("div",{className:"fixed inset-0 bg-[#222230] bg-opacity-80 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-[#282837] rounded-xl border border-[#3a3a4a] w-full max-w-2xl max-h-[90vh] overflow-hidden",children:f.jsx(eX,{onClose:()=>e(!1)})})})]})},tX=()=>f.jsx(mU,{children:f.jsxs(q7,{children:[f.jsx(Qr,{path:"/",element:f.jsx(vp,{to:"/login"})}),f.jsx(Qr,{path:"/login",element:f.jsx(wD,{})}),f.jsx(Qr,{path:"/unauthorized",element:f.jsx(Yq,{})}),f.jsx(Qr,{path:"/receipt",element:f.jsx(Jq,{})}),f.jsx(Qr,{path:"/pos/:storeId",element:f.jsx(Ln,{roles:["cajera","gerente","admin"],children:f.jsx(kn,{activeModule:"pos",children:f.jsx(k4,{})})})}),f.jsx(Qr,{path:"/reports",element:f.jsx(Ln,{roles:["gerente","admin"],children:f.jsx(kn,{activeModule:"reports",children:f.jsx(Q4,{})})})}),f.jsx(Qr,{path:"/transfers",element:f.jsx(Ln,{roles:["gerente","admin"],children:f.jsx(kn,{activeModule:"transfers",children:f.jsx(M4,{})})})}),f.jsx(Qr,{path:"/transfers/:id",element:f.jsx(Ln,{roles:["gerente","admin"],children:f.jsx(kn,{activeModule:"transfers",children:f.jsx(qq,{})})})}),f.jsx(Qr,{path:"/expenses",element:f.jsx(Ln,{roles:["gerente","admin"],children:f.jsx(kn,{activeModule:"expenses",children:f.jsx($4,{})})})}),f.jsx(Qr,{path:"/users",element:f.jsx(Ln,{roles:["admin"],children:f.jsx(kn,{activeModule:"users",children:f.jsx(j4,{})})})}),f.jsx(Qr,{path:"/clients",element:f.jsx(Ln,{roles:["gerente","admin"],children:f.jsx(kn,{activeModule:"clients",children:f.jsx(K4,{})})})}),f.jsx(Qr,{path:"/settings",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"settings",children:f.jsx(H4,{})})})}),f.jsx(Qr,{path:"/inventory",element:f.jsx(Ln,{roles:["gerente","admin"],children:f.jsx(kn,{activeModule:"inventory",children:f.jsx(P4,{})})})}),f.jsx(Qr,{path:"/products",element:f.jsx(Ln,{roles:["gerente","admin"],children:f.jsx(kn,{activeModule:"products",children:f.jsx(R4,{})})})}),f.jsxs(Qr,{path:"/admin",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{children:f.jsx(xD,{})})}),children:[f.jsx(Qr,{index:!0,element:f.jsx(vp,{to:"pos"})}),f.jsx(Qr,{path:"pos",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"pos",children:f.jsx(k4,{})})})}),f.jsx(Qr,{path:"products",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"products",children:f.jsx(R4,{})})})}),f.jsx(Qr,{path:"inventory",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"inventory",children:f.jsx(P4,{})})})}),f.jsx(Qr,{path:"reports",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"reports",children:f.jsx(Q4,{})})})}),f.jsx(Qr,{path:"users",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"users",children:f.jsx(j4,{})})})}),f.jsx(Qr,{path:"transfers",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"transfers",children:f.jsx(M4,{})})})}),f.jsx(Qr,{path:"expenses",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"expenses",children:f.jsx($4,{})})})}),f.jsx(Qr,{path:"settings",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"settings",children:f.jsx(H4,{})})})}),f.jsx(Qr,{path:"clients",element:f.jsx(Ln,{roles:["admin","gerente"],children:f.jsx(kn,{activeModule:"clients",children:f.jsx(K4,{})})})})]})]})}),GI=({id:t,type:e,message:r,onDismiss:n})=>{let i,a,s,o;switch(e){case"success":i="bg-green-500",a="text-white",s="border-green-600",o=nO;break;case"error":i="bg-red-500",a="text-white",s="border-red-600",o=oO;break;case"warning":i="bg-yellow-400",a="text-gray-800",s="border-yellow-500",o=nL;break;case"info":i="bg-blue-500",a="text-white",s="border-blue-600",o=Jb;break;default:i="bg-gray-700",a="text-white",s="border-gray-800",o=Jb}return f.jsxs("div",{className:`${i} ${s} border p-4 rounded-lg shadow-lg flex items-center space-x-3 transition-all duration-300 ease-out animate-in slide-in-from-right`,role:"alert",children:[o&&f.jsx(o,{className:`h-5 w-5 ${a}`}),f.jsx("p",{className:`text-sm font-medium flex-grow ${a}`,children:r}),f.jsx("button",{onClick:()=>n(t),className:`ml-auto p-1 rounded-full ${a} hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-opacity-50`,"aria-label":"Dismiss notification",children:f.jsx(ya,{className:"h-4 w-4"})})]})};GI.propTypes={id:zu.string.isRequired,type:zu.oneOf(["success","error","warning","info"]).isRequired,message:zu.string.isRequired,onDismiss:zu.func.isRequired};const rX=()=>{const t=$p(n=>n.notifications),e=$p(n=>n.removeNotification),r=n=>{e(n)};return f.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2 pointer-events-none",children:t.map(n=>f.jsx("div",{className:"pointer-events-auto",children:f.jsx(GI,{...n,onDismiss:()=>r(n.id)})},n.id))})},nX=({children:t})=>f.jsxs(f.Fragment,{children:[t,f.jsx(rX,{})]}),iX=()=>{const t=zt(n=>n.darkMode),e=zt.getState().initNetworkListeners,r=zt.getState().syncPendingOperations;return X.useEffect(()=>{vD(),e()},[]),X.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),X.useEffect(()=>{const n=()=>{console.log("App is now online, syncing pending operations..."),r()};return window.addEventListener("online",n),()=>{window.removeEventListener("online",n)}},[r]),f.jsx(nX,{children:f.jsx("div",{className:"min-h-screen w-full bg-[#1D1D27]",children:f.jsx("div",{className:"flex flex-col h-screen",children:f.jsx(tX,{})})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("Service Worker registered with scope:",t.scope)}).catch(t=>{console.log("Service Worker registration failed:",t)})});b2.createRoot(document.getElementById("root")).render(f.jsx(Lu.StrictMode,{children:f.jsx(iX,{})}));export{Er as _,UF as c,Uy as g};
